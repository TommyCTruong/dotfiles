(()=>{var e,t,n,o,r={32992:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>Ms,DB:()=>ns,HH:()=>or,Ly:()=>qo,QZ:()=>Xo,U8:()=>Oi,a9:()=>ss});var o,r=n(2262),i=n(66252),s=n(3577);const a="undefined"!=typeof window,l=e=>"function"==typeof e,c=()=>{};a&&(null==(o=null==window?void 0:window.navigator)?void 0:o.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const u=e=>e();function d(e,t=!1,n="Timeout"){return new Promise(((o,r)=>{t?setTimeout((()=>r(n)),e):setTimeout(o,e)}))}function h(e,t){let n,o,s;const a=(0,r.iH)(!0),c=()=>{a.value=!0,s()};(0,i.YP)(e,c,{flush:"sync"});const u=l(t)?t:t.get,d=l(t)?void 0:t.set,h=(0,r.ZM)(((e,t)=>(o=e,s=t,{get:()=>(a.value&&(n=u(),a.value=!1),o(),n),set(e){null==d||d(e)}})));return Object.isExtensible(h)&&(h.trigger=c),h}function p(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach((e=>e(t)))}}}function f(e){return!!(0,r.nZ)()&&((0,r.EB)(e),!0)}function m(e,t=!0){(0,i.FN)()?(0,i.bv)(e):t?e():(0,i.Y3)(e)}function g(e){let t=!1;function n(n,{flush:o="sync",deep:s=!1,timeout:a,throwOnTimeout:l}={}){let c=null;const u=[new Promise((r=>{c=(0,i.YP)(e,(e=>{n(e)!==t&&(null==c||c(),r(e))}),{flush:o,deep:s,immediate:!0})}))];return null!=a&&u.push(d(a,l).then((()=>(0,r.SU)(e))).finally((()=>null==c?void 0:c()))),Promise.race(u)}function o(o,s){if(!(0,r.dq)(o))return n((e=>e===o),s);const{flush:a="sync",deep:l=!1,timeout:c,throwOnTimeout:u}=null!=s?s:{};let h=null;const p=[new Promise((n=>{h=(0,i.YP)([e,o],(([e,o])=>{t!==(e===o)&&(null==h||h(),n(e))}),{flush:a,deep:l,immediate:!0})}))];return null!=c&&p.push(d(c,u).then((()=>(0,r.SU)(e))).finally((()=>(null==h||h(),(0,r.SU)(e))))),Promise.race(p)}function s(e){return a(1,e)}function a(e=1,t){let o=-1;return n((()=>(o+=1,o>=e)),t)}if(Array.isArray((0,r.SU)(e))){return{toMatch:n,toContains:function(e,t){return n((t=>{const n=Array.from(t);return n.includes(e)||n.includes((0,r.SU)(e))}),t)},changed:s,changedTimes:a,get not(){return t=!t,this}}}return{toMatch:n,toBe:o,toBeTruthy:function(e){return n((e=>Boolean(e)),e)},toBeNull:function(e){return o(null,e)},toBeNaN:function(e){return n(Number.isNaN,e)},toBeUndefined:function(e){return o(void 0,e)},changed:s,changedTimes:a,get not(){return t=!t,this}}}var v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;function b(e,t,n={}){const o=n,{eventFilter:r=u}=o,s=((e,t)=>{var n={};for(var o in e)y.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&v)for(var o of v(e))t.indexOf(o)<0&&w.call(e,o)&&(n[o]=e[o]);return n})(o,["eventFilter"]);return(0,i.YP)(e,(a=r,l=t,function(...e){a((()=>l.apply(this,e)),{fn:l,thisArg:this,args:e})}),s);var a,l}var k=Object.defineProperty,x=Object.defineProperties,S=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function A(e,t,n={}){const o=n,{eventFilter:i}=o,s=((e,t)=>{var n={};for(var o in e)C.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&_)for(var o of _(e))t.indexOf(o)<0&&D.call(e,o)&&(n[o]=e[o]);return n})(o,["eventFilter"]),{eventFilter:a,pause:l,resume:c,isActive:d}=function(e=u){const t=(0,r.iH)(!0);return{isActive:t,pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(i),h=b(e,t,(p=((e,t)=>{for(var n in t||(t={}))C.call(t,n)&&E(e,n,t[n]);if(_)for(var n of _(t))D.call(t,n)&&E(e,n,t[n]);return e})({},s),x(p,S({eventFilter:a}))));var p;return{stop:h,pause:l,resume:c,isActive:d}}function O(e){var t;const n=(0,r.SU)(e);return null!=(t=null==n?void 0:n.$el)?t:n}const T=a?window:void 0;function M(...e){let t,n,o,r;if("string"==typeof e[0]?([n,o,r]=e,t=T):[t,n,o,r]=e,!t)return c;let s=c;const a=(0,i.YP)((()=>O(t)),(e=>{s(),e&&(e.addEventListener(n,o,r),s=()=>{e.removeEventListener(n,o,r),s=c})}),{immediate:!0,flush:"post"}),l=()=>{a(),s()};return f(l),l}var L=Object.defineProperty,I=Object.defineProperties,N=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))U.call(t,n)&&j(e,n,t[n]);if(P)for(var n of P(t))B.call(t,n)&&j(e,n,t[n]);return e},V=(e,t)=>I(e,N(t));function F(e,t,n={}){const{target:o=T,eventName:r="keydown",passive:i=!1}=n,s="function"==typeof(a=e)?a:"string"==typeof a?e=>e.key===a:Array.isArray(a)?e=>a.includes(e.key):a?()=>!0:()=>!1;var a;return M(o,r,(e=>{s(e)&&t(e)}),i)}function W(e,t=null){const n=(0,i.FN)();let o=()=>{};const s=(0,r.ZM)(((r,i)=>(o=i,{get(){var o,i;return r(),null!=(i=null==(o=null==n?void 0:n.proxy)?void 0:o.$refs[e])?i:t},set(){}})));return m(o),(0,i.ic)(o),s}const H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},z="__vueuse_ssr_handlers__";H[z]=H[z]||{},H[z];var $,K,q=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;function X(e,t,n={}){const o=n,{window:r=T}=o,s=((e,t)=>{var n={};for(var o in e)Y.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&q)for(var o of q(e))t.indexOf(o)<0&&G.call(e,o)&&(n[o]=e[o]);return n})(o,["window"]);let a;const l=r&&"ResizeObserver"in r,c=()=>{a&&(a.disconnect(),a=void 0)},u=(0,i.YP)((()=>O(e)),(e=>{c(),l&&r&&e&&(a=new ResizeObserver(t),a.observe(e,s))}),{immediate:!0,flush:"post"}),d=()=>{c(),u()};return f(d),{isSupported:l,stop:d}}function J(e,t,n,o={}){var s,a,l;const{passive:c=!1,eventName:u,deep:d=!1,defaultValue:h}=o,p=(0,i.FN)(),f=n||(null==p?void 0:p.emit)||(null==(s=null==p?void 0:p.$emit)?void 0:s.bind(p))||(null==(l=null==(a=null==p?void 0:p.proxy)?void 0:a.$emit)?void 0:l.bind(null==p?void 0:p.proxy));let m=u;t||(t="modelValue"),m=u||m||`update:${t.toString()}`;const g=()=>void 0!==e[t]?e[t]:h;if(c){const n=(0,r.iH)(g());return(0,i.YP)((()=>e[t]),(e=>n.value=e)),(0,i.YP)(n,(n=>{(n!==e[t]||d)&&f(m,n)}),{deep:d}),n}return(0,i.Fl)({get:()=>g(),set(e){f(m,e)}})}(K=$||($={})).UP="UP",K.RIGHT="RIGHT",K.DOWN="DOWN",K.LEFT="LEFT",K.NONE="NONE";var Z={value:()=>{}};function Q(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new ee(o)}function ee(e){this._=e}function te(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",o=e.indexOf(".");if(o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function ne(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function oe(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Z,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}ee.prototype=Q.prototype={constructor:ee,on:function(e,t){var n,o=this._,r=te(e+"",o),i=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<s;)if(n=(e=r[i]).type)o[n]=oe(o[n],e.name,t);else if(null==t)for(n in o)o[n]=oe(o[n],e.name,null);return this}for(;++i<s;)if((n=(e=r[i]).type)&&(n=ne(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ee(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(o=this._[e]).length;i<n;++i)o[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};var re="http://www.w3.org/1999/xhtml",ie={svg:"http://www.w3.org/2000/svg",xhtml:re,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function se(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ie.hasOwnProperty(t)?{space:ie[t],local:e}:e}function ae(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===re&&t.documentElement.namespaceURI===re?t.createElement(e):t.createElementNS(n,e)}}function le(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ce(e){var t=se(e);return(t.local?le:ae)(t)}function ue(){}function de(e){return null==e?ue:function(){return this.querySelector(e)}}function he(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function pe(){return[]}function fe(e){return null==e?pe:function(){return this.querySelectorAll(e)}}function me(e){return function(){return this.matches(e)}}function ge(e){return function(t){return t.matches(e)}}var ve=Array.prototype.find;function ye(){return this.firstElementChild}var we=Array.prototype.filter;function be(){return Array.from(this.children)}function ke(e){return new Array(e.length)}function xe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Se(e){return function(){return e}}function _e(e,t,n,o,r,i){for(var s,a=0,l=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],o[a]=s):n[a]=new xe(e,i[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function Ce(e,t,n,o,r,i,s){var a,l,c,u=new Map,d=t.length,h=i.length,p=new Array(d);for(a=0;a<d;++a)(l=t[a])&&(p[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<h;++a)c=s.call(e,i[a],a,i)+"",(l=u.get(c))?(o[a]=l,l.__data__=i[a],u.delete(c)):n[a]=new xe(e,i[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(p[a])===l&&(r[a]=l)}function De(e){return e.__data__}function Ee(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ae(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Oe(e){return function(){this.removeAttribute(e)}}function Te(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Me(e,t){return function(){this.setAttribute(e,t)}}function Le(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ie(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ne(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Pe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ue(e){return function(){this.style.removeProperty(e)}}function Be(e,t,n){return function(){this.style.setProperty(e,t,n)}}function je(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Re(e,t){return e.style.getPropertyValue(t)||Pe(e).getComputedStyle(e,null).getPropertyValue(t)}function Ve(e){return function(){delete this[e]}}function Fe(e,t){return function(){this[e]=t}}function We(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function He(e){return e.trim().split(/^|\s+/)}function ze(e){return e.classList||new $e(e)}function $e(e){this._node=e,this._names=He(e.getAttribute("class")||"")}function Ke(e,t){for(var n=ze(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function qe(e,t){for(var n=ze(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Ye(e){return function(){Ke(this,e)}}function Ge(e){return function(){qe(this,e)}}function Xe(e,t){return function(){(t.apply(this,arguments)?Ke:qe)(this,e)}}function Je(){this.textContent=""}function Ze(e){return function(){this.textContent=e}}function Qe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function et(){this.innerHTML=""}function tt(e){return function(){this.innerHTML=e}}function nt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function rt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function it(){return null}function st(){var e=this.parentNode;e&&e.removeChild(this)}function at(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ct(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ut(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,i=t.length;o<i;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function dt(e,t,n){return function(){var o,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),void(o.value=t);this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function ht(e,t,n){var o=Pe(e),r=o.CustomEvent;"function"==typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function pt(e,t){return function(){return ht(this,e,t)}}function ft(e,t){return function(){return ht(this,e,t.apply(this,arguments))}}xe.prototype={constructor:xe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},$e.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var mt=[null];function gt(e,t){this._groups=e,this._parents=t}function vt(){return new gt([[document.documentElement]],mt)}function yt(e){return"string"==typeof e?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],mt)}function wt(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}gt.prototype=vt.prototype={constructor:gt,select:function(e){"function"!=typeof e&&(e=de(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,s,a=t[r],l=a.length,c=o[r]=new Array(l),u=0;u<l;++u)(i=a[u])&&(s=e.call(i,i.__data__,u,a))&&("__data__"in i&&(s.__data__=i.__data__),c[u]=s);return new gt(o,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return he(e.apply(this,arguments))}}(e):fe(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var s,a=t[i],l=a.length,c=0;c<l;++c)(s=a[c])&&(o.push(e.call(s,s.__data__,c,a)),r.push(s));return new gt(o,r)},selectChild:function(e){return this.select(null==e?ye:function(e){return function(){return ve.call(this.children,e)}}("function"==typeof e?e:ge(e)))},selectChildren:function(e){return this.selectAll(null==e?be:function(e){return function(){return we.call(this.children,e)}}("function"==typeof e?e:ge(e)))},filter:function(e){"function"!=typeof e&&(e=me(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,s=t[r],a=s.length,l=o[r]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new gt(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,De);var n=t?Ce:_e,o=this._parents,r=this._groups;"function"!=typeof e&&(e=Se(e));for(var i=r.length,s=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=o[c],d=r[c],h=d.length,p=Ee(e.call(u,u&&u.__data__,c,o)),f=p.length,m=a[c]=new Array(f),g=s[c]=new Array(f),v=l[c]=new Array(h);n(u,d,m,g,v,p,t);for(var y,w,b=0,k=0;b<f;++b)if(y=m[b]){for(b>=k&&(k=b+1);!(w=g[k])&&++k<f;);y._next=w||null}}return(s=new gt(s,o))._enter=a,s._exit=l,s},enter:function(){return new gt(this._enter||this._groups.map(ke),this._parents)},exit:function(){return new gt(this._exit||this._groups.map(ke),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,i=this.exit();return"function"==typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var c,u=n[l],d=o[l],h=u.length,p=a[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<r;++l)a[l]=n[l];return new gt(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,s=r[i];--i>=0;)(o=r[i])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ae);for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var s,a=n[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new gt(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var s=o[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],s=0,a=i.length;s<a;++s)(r=i[s])&&e.call(r,r.__data__,s,i);return this},attr:function(e,t){var n=se(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Te:Oe:"function"==typeof t?n.local?Ne:Ie:n.local?Le:Me)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ue:"function"==typeof t?je:Be)(e,t,null==n?"":n)):Re(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Ve:"function"==typeof t?We:Fe)(e,t)):this.node()[e]},classed:function(e,t){var n=He(e+"");if(arguments.length<2){for(var o=ze(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?Xe:t?Ye:Ge)(n,t))},text:function(e){return arguments.length?this.each(null==e?Je:("function"==typeof e?Qe:Ze)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?et:("function"==typeof e?nt:tt)(e)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(rt)},append:function(e){var t="function"==typeof e?e:ce(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:ce(e),o=null==t?it:"function"==typeof t?t:de(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(st)},clone:function(e){return this.select(e?lt:at)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,i=ct(e+""),s=i.length;if(!(arguments.length<2)){for(a=t?dt:ut,o=0;o<s;++o)this.each(a(i[o],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(o=0,l=a[c];o<s;++o)if((r=i[o]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ft:pt)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],i=0,s=r.length;i<s;++i)(o=r[i])&&(yield o)}};const bt={passive:!1},kt={capture:!0,passive:!1};function xt(e){e.stopImmediatePropagation()}function St(e){e.preventDefault(),e.stopImmediatePropagation()}function _t(e){var t=e.document.documentElement,n=yt(e).on("dragstart.drag",St,kt);"onselectstart"in t?n.on("selectstart.drag",St,kt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ct(e,t){var n=e.document.documentElement,o=yt(e).on("dragstart.drag",null);t&&(o.on("click.drag",St,kt),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Dt=e=>()=>e;function Et(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function At(e){return!e.ctrlKey&&!e.button}function Ot(){return this.parentNode}function Tt(e,t){return null==t?{x:e.x,y:e.y}:t}function Mt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function It(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Nt(){}Et.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Pt=.7,Ut=1/Pt,Bt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vt=/^#([0-9a-f]{3,8})$/,Ft=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),Wt=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),Ht=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${jt}\\)$`),zt=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${jt}\\)$`),$t=new RegExp(`^hsl\\(${jt},${Rt},${Rt}\\)$`),Kt=new RegExp(`^hsla\\(${jt},${Rt},${Rt},${jt}\\)$`),qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function Xt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Jt(t):3===n?new tn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Zt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Zt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ft.exec(e))?new tn(t[1],t[2],t[3],1):(t=Wt.exec(e))?new tn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ht.exec(e))?Zt(t[1],t[2],t[3],t[4]):(t=zt.exec(e))?Zt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$t.exec(e))?ln(t[1],t[2]/100,t[3]/100,1):(t=Kt.exec(e))?ln(t[1],t[2]/100,t[3]/100,t[4]):qt.hasOwnProperty(e)?Jt(qt[e]):"transparent"===e?new tn(NaN,NaN,NaN,0):null}function Jt(e){return new tn(e>>16&255,e>>8&255,255&e,1)}function Zt(e,t,n,o){return o<=0&&(e=t=n=NaN),new tn(e,t,n,o)}function Qt(e){return e instanceof Nt||(e=Xt(e)),e?new tn((e=e.rgb()).r,e.g,e.b,e.opacity):new tn}function en(e,t,n,o){return 1===arguments.length?Qt(e):new tn(e,t,n,null==o?1:o)}function tn(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function nn(){return`#${an(this.r)}${an(this.g)}${an(this.b)}`}function on(){const e=rn(this.opacity);return`${1===e?"rgb(":"rgba("}${sn(this.r)}, ${sn(this.g)}, ${sn(this.b)}${1===e?")":`, ${e})`}`}function rn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function an(e){return((e=sn(e))<16?"0":"")+e.toString(16)}function ln(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,n,o)}function cn(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof Nt||(e=Xt(e)),!e)return new un;if(e instanceof un)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),s=NaN,a=i-r,l=(i+r)/2;return a?(s=t===i?(n-o)/a+6*(n<o):n===i?(o-t)/a+2:(t-n)/a+4,a/=l<.5?i+r:2-i-r,s*=60):a=l>0&&l<1?0:s,new un(s,a,l,e.opacity)}function un(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function dn(e){return(e=(e||0)%360)<0?e+360:e}function hn(e){return Math.max(0,Math.min(1,e||0))}function pn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Lt(Nt,Xt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cn(this).formatHsl()},formatRgb:Gt,toString:Gt}),Lt(tn,en,It(Nt,{brighter(e){return e=null==e?Ut:Math.pow(Ut,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Pt:Math.pow(Pt,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(sn(this.r),sn(this.g),sn(this.b),rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nn,formatHex:nn,formatHex8:function(){return`#${an(this.r)}${an(this.g)}${an(this.b)}${an(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:on,toString:on})),Lt(un,(function(e,t,n,o){return 1===arguments.length?cn(e):new un(e,t,n,null==o?1:o)}),It(Nt,{brighter(e){return e=null==e?Ut:Math.pow(Ut,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Pt:Math.pow(Pt,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new tn(pn(e>=240?e-240:e+120,r,o),pn(e,r,o),pn(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new un(dn(this.h),hn(this.s),hn(this.l),rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rn(this.opacity);return`${1===e?"hsl(":"hsla("}${dn(this.h)}, ${100*hn(this.s)}%, ${100*hn(this.l)}%${1===e?")":`, ${e})`}`}}));var fn=e=>()=>e;function mn(e){return 1==(e=+e)?gn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}(t,n,e):fn(isNaN(t)?n:t)}}function gn(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):fn(isNaN(e)?t:e)}var vn=function e(t){var n=mn(t);function o(e,t){var o=n((e=en(e)).r,(t=en(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),s=gn(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=i(t),e.opacity=s(t),e+""}}return o.gamma=e,o}(1);function yn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(wn.source,"g");function kn(e,t){var n,o,r,i=wn.lastIndex=bn.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=wn.exec(e))&&(o=bn.exec(t));)(r=o.index)>i&&(r=t.slice(i,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:yn(n,o)})),i=bn.lastIndex;return i<t.length&&(r=t.slice(i),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,o=0;o<t;++o)a[(n=l[o]).i]=n.x(e);return a.join("")})}var xn,Sn=180/Math.PI,_n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cn(e,t,n,o,r,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Sn,skewX:Math.atan(l)*Sn,scaleX:s,scaleY:a}}function Dn(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(i,s){var a=[],l=[];return i=e(i),s=e(s),function(e,o,r,i,s,a){if(e!==r||o!==i){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:yn(e,r)},{i:l-2,x:yn(o,i)})}else(r||i)&&s.push("translate("+r+t+i+n)}(i.translateX,i.translateY,s.translateX,s.translateY,a,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,o)-2,x:yn(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(i.rotate,s.rotate,a,l),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,o)-2,x:yn(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(i.skewX,s.skewX,a,l),function(e,t,n,o,i,s){if(e!==n||t!==o){var a=i.push(r(i)+"scale(",null,",",null,")");s.push({i:a-4,x:yn(e,n)},{i:a-2,x:yn(t,o)})}else 1===n&&1===o||i.push(r(i)+"scale("+n+","+o+")")}(i.scaleX,i.scaleY,s.scaleX,s.scaleY,a,l),i=s=null,function(e){for(var t,n=-1,o=l.length;++n<o;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var En=Dn((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_n:Cn(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),An=Dn((function(e){return null==e?_n:(xn||(xn=document.createElementNS("http://www.w3.org/2000/svg","g")),xn.setAttribute("transform",e),(e=xn.transform.baseVal.consolidate())?Cn((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):_n)}),", ",")",")");function On(e){return((e=Math.exp(e))+1/e)/2}var Tn,Mn,Ln=function e(t,n,o){function r(e,r){var i,s,a=e[0],l=e[1],c=e[2],u=r[0],d=r[1],h=r[2],p=u-a,f=d-l,m=p*p+f*f;if(m<1e-12)s=Math.log(h/c)/t,i=function(e){return[a+e*p,l+e*f,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),v=(h*h-c*c+o*m)/(2*c*n*g),y=(h*h-c*c-o*m)/(2*h*n*g),w=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-w)/t,i=function(e){var o,r=e*s,i=On(w),u=c/(n*g)*(i*(o=t*r+w,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[a+u*p,l+u*f,c*i/On(t*r+w)]}}return i.duration=1e3*s*t/Math.SQRT2,i}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4),In=0,Nn=0,Pn=0,Un=0,Bn=0,jn=0,Rn="object"==typeof performance&&performance.now?performance:Date,Vn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Fn(){return Bn||(Vn(Wn),Bn=Rn.now()+jn)}function Wn(){Bn=0}function Hn(){this._call=this._time=this._next=null}function zn(e,t,n){var o=new Hn;return o.restart(e,t,n),o}function $n(){Bn=(Un=Rn.now())+jn,In=Nn=0;try{!function(){Fn(),++In;for(var e,t=Tn;t;)(e=Bn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--In}()}finally{In=0,function(){var e,t,n=Tn,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Tn=t);Mn=e,qn(o)}(),Bn=0}}function Kn(){var e=Rn.now(),t=e-Un;t>1e3&&(jn-=t,Un=e)}function qn(e){In||(Nn&&(Nn=clearTimeout(Nn)),e-Bn>24?(e<1/0&&(Nn=setTimeout($n,e-Rn.now()-jn)),Pn&&(Pn=clearInterval(Pn))):(Pn||(Un=Rn.now(),Pn=setInterval(Kn,1e3)),In=1,Vn($n)))}function Yn(e,t,n){var o=new Hn;return t=null==t?0:+t,o.restart((n=>{o.stop(),e(n+t)}),t,n),o}Hn.prototype=zn.prototype={constructor:Hn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Fn():+n)+(null==t?0:+t),this._next||Mn===this||(Mn?Mn._next=this:Tn=this,Mn=this),this._call=e,this._time=n,qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,qn())}};var Gn=Q("start","end","cancel","interrupt"),Xn=[];function Jn(e,t,n,o,r,i){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function i(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(i){var c,u,d,h;if(1!==n.state)return l();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return Yn(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Yn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=h);o.length=u+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,s=o.length;++i<s;)o[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=zn(i,0,n.time)}(e,n,{name:t,index:o,group:r,on:Gn,tween:Xn,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function Zn(e,t){var n=eo(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Qn(e,t){var n=eo(e,t);if(n.state>3)throw new Error("too late; already running");return n}function eo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function to(e,t){var n,o,r,i=e.__transition,s=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):s=!1;s&&delete e.__transition}}function no(e,t){var n,o;return function(){var r=Qn(this,e),i=r.tween;if(i!==n)for(var s=0,a=(o=n=i).length;s<a;++s)if(o[s].name===t){(o=o.slice()).splice(s,1);break}r.tween=o}}function oo(e,t,n){var o,r;if("function"!=typeof n)throw new Error;return function(){var i=Qn(this,e),s=i.tween;if(s!==o){r=(o=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}i.tween=r}}function ro(e,t,n){var o=e._id;return e.each((function(){var e=Qn(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return eo(e,o).value[t]}}function io(e,t){var n;return("number"==typeof t?yn:t instanceof Xt?vn:(n=Xt(t))?(t=n,vn):kn)(e,t)}function so(e){return function(){this.removeAttribute(e)}}function ao(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lo(e,t,n){var o,r,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===o?r:r=t(o=s,n)}}function co(e,t,n){var o,r,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===o?r:r=t(o=s,n)}}function uo(e,t,n){var o,r,i;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===o&&a===r?i:(r=a,i=t(o=s,l));this.removeAttribute(e)}}function ho(e,t,n){var o,r,i;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===o&&a===r?i:(r=a,i=t(o=s,l));this.removeAttributeNS(e.space,e.local)}}function po(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function fo(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function mo(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&fo(e,r)),n}return r._value=t,r}function go(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&po(e,r)),n}return r._value=t,r}function vo(e,t){return function(){Zn(this,e).delay=+t.apply(this,arguments)}}function yo(e,t){return t=+t,function(){Zn(this,e).delay=t}}function wo(e,t){return function(){Qn(this,e).duration=+t.apply(this,arguments)}}function bo(e,t){return t=+t,function(){Qn(this,e).duration=t}}function ko(e,t){if("function"!=typeof t)throw new Error;return function(){Qn(this,e).ease=t}}function xo(e,t,n){var o,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Zn:Qn;return function(){var s=i(this,e),a=s.on;a!==o&&(r=(o=a).copy()).on(t,n),s.on=r}}var So=vt.prototype.constructor;function _o(e){return function(){this.style.removeProperty(e)}}function Co(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Do(e,t,n){var o,r;function i(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&Co(e,i,n)),o}return i._value=t,i}function Eo(e){return function(t){this.textContent=e.call(this,t)}}function Ao(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Eo(o)),t}return o._value=e,o}var Oo=0;function To(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Mo(){return++Oo}var Lo=vt.prototype;To.prototype={constructor:To,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=de(e));for(var o=this._groups,r=o.length,i=new Array(r),s=0;s<r;++s)for(var a,l,c=o[s],u=c.length,d=i[s]=new Array(u),h=0;h<u;++h)(a=c[h])&&(l=e.call(a,a.__data__,h,c))&&("__data__"in a&&(l.__data__=a.__data__),d[h]=l,Jn(d[h],t,n,h,d,eo(a,n)));return new To(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=fe(e));for(var o=this._groups,r=o.length,i=[],s=[],a=0;a<r;++a)for(var l,c=o[a],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=eo(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&Jn(h,t,n,m,p,f);i.push(p),s.push(l)}return new To(i,s,t,n)},selectChild:Lo.selectChild,selectChildren:Lo.selectChildren,filter:function(e){"function"!=typeof e&&(e=me(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,s=t[r],a=s.length,l=o[r]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new To(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),s=new Array(o),a=0;a<i;++a)for(var l,c=t[a],u=n[a],d=c.length,h=s[a]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;a<o;++a)s[a]=t[a];return new To(s,this._parents,this._name,this._id)},selection:function(){return new So(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Mo(),o=this._groups,r=o.length,i=0;i<r;++i)for(var s,a=o[i],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=eo(s,t);Jn(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new To(o,this._parents,e,n)},call:Lo.call,nodes:Lo.nodes,node:Lo.node,size:Lo.size,empty:Lo.empty,each:Lo.each,on:function(e,t){var n=this._id;return arguments.length<2?eo(this.node(),n).on.on(e):this.each(xo(n,e,t))},attr:function(e,t){var n=se(e),o="transform"===n?An:io;return this.attrTween(e,"function"==typeof t?(n.local?ho:uo)(n,o,ro(this,"attr."+e,t)):null==t?(n.local?ao:so)(n):(n.local?co:lo)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var o=se(e);return this.tween(n,(o.local?mo:go)(o,t))},style:function(e,t,n){var o="transform"==(e+="")?En:io;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var i=Re(this,e),s=(this.style.removeProperty(e),Re(this,e));return i===s?null:i===n&&s===o?r:r=t(n=i,o=s)}}(e,o)).on("end.style."+e,_o(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var o,r,i;return function(){var s=Re(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Re(this,e)),s===l?null:s===o&&l===r?i:(r=l,i=t(o=s,a))}}(e,o,ro(this,"style."+e,t))).each(function(e,t){var n,o,r,i,s="style."+t,a="end."+s;return function(){var l=Qn(this,e),c=l.on,u=null==l.value[s]?i||(i=_o(t)):void 0;c===n&&r===u||(o=(n=c).copy()).on(a,r=u),l.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,i=n+"";return function(){var s=Re(this,e);return s===i?null:s===o?r:r=t(o=s,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw new Error;return this.tween(o,Do(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ro(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Ao(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=eo(this.node(),n).tween,i=0,s=r.length;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?no:oo)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vo:yo)(t,e)):eo(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?wo:bo)(t,e)):eo(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(ko(t,e)):eo(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Qn(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(i,s){var a={value:s},l={value:function(){0==--r&&i()}};n.each((function(){var n=Qn(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===r&&i()}))},[Symbol.iterator]:Lo[Symbol.iterator]};var Io={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function No(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}vt.prototype.interrupt=function(e){return this.each((function(){to(this,e)}))},vt.prototype.transition=function(e){var t,n;e instanceof To?(t=e._id,e=e._name):(t=Mo(),(n=Io).time=Fn(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var s,a=o[i],l=a.length,c=0;c<l;++c)(s=a[c])&&Jn(s,e,t,c,a,n||No(s,t));return new To(o,this._parents,e,t)};var Po=e=>()=>e;function Uo(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Bo(e,t,n){this.k=e,this.x=t,this.y=n}Bo.prototype={constructor:Bo,scale:function(e){return 1===e?this:new Bo(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Bo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jo=new Bo(1,0,0);function Ro(e){e.stopImmediatePropagation()}function Vo(e){e.preventDefault(),e.stopImmediatePropagation()}function Fo(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Wo(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ho(){return this.__zoom||jo}function zo(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $o(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ko(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}Bo.prototype;var qo=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(qo||{}),Yo=(e=>(e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Yo||{}),Go=(e=>(e.Strict="strict",e.Loose="loose",e))(Go||{}),Xo=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Xo||{}),Jo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Jo||{});const Zo=Symbol("vueFlow"),Qo=Symbol("nodeId"),er=Symbol("slots");var tr=(e,t)=>((e,t)=>{for(const[n,o]of Object.entries(t)){const t=t=>{e(n,t)};o.on(t),f((()=>{o.off(t)}))}})(e,t);const nr=["data-handleid","data-nodeid","data-handlepos"],or=(0,i.aZ)({name:"Handle",props:{id:null,type:{default:"source"},position:{default:()=>"top"},isValidConnection:{type:Function,default:()=>function(){return!0}},connectable:{type:Boolean,default:!0}},setup(e){const t=Oi(),n=(0,r.Vh)(t,"connectionStartHandle"),o=(0,r.Vh)(t,"connectionMode"),a=(0,i.f3)(Qo,""),l=(0,i.Fl)((()=>{var t;return null!=(t=e.id)?t:o.value===Go.Strict?null:`${a}__handle-${e.position}`})),{onMouseDown:c,onClick:u}=Li(),d=t=>{c(t,l.value,a,"target"===e.type,e.isValidConnection,void 0)},h=t=>{var n;u(t,null!=(n=l.value)?n:null,a,e.type,e.isValidConnection)},p=(0,i.Fl)((()=>["vue-flow__handle",`vue-flow__handle-${e.position}`,`vue-flow__handle-${l.value}`,"nodrag",{source:"target"!==e.type,target:"target"===e.type,connectable:e.connectable,connecting:n.value&&n.value.nodeId===a&&n.value.handleId===l.value&&n.value.type===e.type}]));return(t,n)=>((0,i.wg)(),(0,i.iD)("div",{"data-handleid":l.value,"data-nodeid":(0,r.SU)(a),"data-handlepos":e.position,class:(0,s.normalizeClass)((0,r.SU)(p)),onMousedown:d,onClick:h},[(0,i.WI)(t.$slots,"default",{id:e.id})],42,nr))}}),rr=function({sourcePosition:e=qo.Bottom,targetPosition:t=qo.Top,label:n,connectable:o=!1,isValidTargetPos:r,isValidSourcePos:s}){return[(0,i.h)(or,{type:"target",position:t,isConnectable:o,isValidConnection:r}),"string"!=typeof n&&n?(0,i.h)(n):(0,i.h)("div",{innerHTML:n}),(0,i.h)(or,{type:"source",position:e,isConnectable:o,isValidConnection:s})]};rr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"],rr.inheritAttrs=!1;const ir=function({sourcePosition:e=qo.Bottom,label:t,connectable:n=!1,isValidSourcePos:o}){return["string"!=typeof t&&t?(0,i.h)(t):(0,i.h)("div",{innerHTML:t}),(0,i.h)(or,{type:"source",position:e,isConnectable:n,isValidConnection:o})]};ir.props=["sourcePosition","label","isValidSourcePos","connectable"],ir.inheritAttrs=!1;const sr=function({targetPosition:e=qo.Top,label:t,connectable:n=!1,isValidTargetPos:o}){return[(0,i.h)(or,{type:"target",position:e,isConnectable:n,isValidConnection:o}),"string"!=typeof t&&t?(0,i.h)(t):(0,i.h)("div",{innerHTML:t})]};sr.props=["targetPosition","label","isValidTargetPos","connectable"],sr.inheritAttrs=!1;const ar=e=>{const t=e.target;return!(!t||(n=t,!("nodeName"in n)))&&(["INPUT","SELECT","TEXTAREA","BUTTON"].includes(t.nodeName)||t.hasAttribute("contentEditable"));var n},lr=e=>({width:e.offsetWidth,height:e.offsetHeight}),cr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ur=(e,t)=>({x:cr(e.x,t[0][0],t[1][0]),y:cr(e.y,t[0][1],t[1][1])}),dr=e=>{const t=e.getRootNode(),n=Ii();return"getElementFromPoint"in t?t:n.document},hr=e=>"id"in e&&"source"in e&&"target"in e,pr=e=>hr(e)&&"sourceNode"in e&&"targetNode"in e,fr=e=>"id"in e&&!hr(e),mr=e=>fr(e)&&"computedPosition"in e,gr=(e,t)=>(t=pr(e)?t:{sourceHandle:e.sourceHandle?e.sourceHandle.toString():void 0,targetHandle:e.targetHandle?e.targetHandle.toString():void 0,type:e.type,source:e.source.toString(),target:e.target.toString(),z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,updatable:e.updatable,selectable:e.selectable,data:e.data,...t},Object.assign({id:e.id.toString()},e,t)),vr=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`vueflow__edge-${e}${null!=t?t:""}-${n}${null!=o?o:""}`,yr=(e,t)=>t.some((t=>hr(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))),wr=({x:e,y:t},{x:n,y:o,zoom:r},i,[s,a])=>{const l={x:(e-n)/r,y:(t-o)/r};return i?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},br=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),kr=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),xr=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Sr=e=>{const t=e.reduce(((e,{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0}}={})=>br(e,kr({...t,...n}))),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return xr(t)},_r=(e,t,{x:n,y:o,zoom:r}={x:0,y:0,zoom:1},i=!1)=>{const s=kr({x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r});return e.filter((e=>{if(!e||!1===e.selectable)return!1;const{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0}}=e,o=kr({...t,...n}),r=Math.max(0,Math.min(s.x2,o.x2)-Math.max(s.x,o.x)),a=Math.max(0,Math.min(s.y2,o.y2)-Math.max(s.y,o.y)),l=Math.ceil(r*a),c=void 0===n.width||void 0===n.height||0===n.width||0===n.height,u=i&&l>0,d=n.width*n.height;return c||u||l>=d}))},Cr=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Dr=(e,t,n,o,r,i=.1,s={x:0,y:0})=>{var a,l;const c=t/(e.width*(1+i)),u=n/(e.height*(1+i)),d=Math.min(c,u),h=cr(d,o,r),p=e.x+e.width/2,f=e.y+e.height/2;return{x:t/2-p*h+(null!=(a=s.x)?a:0),y:n/2-f*h+(null!=(l=s.y)?l:0),zoom:h}},Er=(e,t)=>{if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||Er(n,t))},Ar=e=>void 0===e?"":"string"==typeof e?e:Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&"),Or=(e,t,n)=>{var o,r,i,s;const a=(null!=(o=null==n?void 0:n.x)?o:0)+t.x,l=(null!=(r=null==n?void 0:n.y)?r:0)+t.y,c=null!=(i=null==n?void 0:n.width)?i:t.width,u=null!=(s=null==n?void 0:n.height)?s:t.height;switch(e){case qo.Top:return{x:a+c/2,y:l};case qo.Right:return{x:a+c,y:l+u/2};case qo.Bottom:return{x:a+c/2,y:l+u};case qo.Left:return{x:a,y:l+u/2}}},Tr=(e=[],t)=>{if(!e.length)return;let n;return t||1!==e.length?t&&(n=e.find((e=>e.id===t))):n=e[0],n||e[0]};const Mr=(e,t,n)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return;const r=Array.from(o),i=t.getBoundingClientRect();return r.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left)/n,y:(t.top-i.top)/n,...lr(e)}}))},Lr=(e,t,n,o,r)=>{r.value=!1,e.selected?e.selected&&t&&o({nodes:[e]}):n([e])};function Ir(e,t){var n,o;if(t){const r=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(r>0||i>0||e.position.x<0||e.position.y<0){if(t.style={...t.style},t.style.width=null!=(n=t.style.width)?n:t.dimensions.width,t.style.height=null!=(o=t.style.height)?o:t.dimensions.height,r>0)if("string"==typeof t.style.width){const e=parseInt(t.style.width,10);t.style.width=`${e+r}px`}else t.style.width+=r;if(i>0)if("string"==typeof t.style.height){const e=parseInt(t.style.height,10);t.style.height=`${e+i}px`}else t.style.height+=i;if(e.position.x<0){const n=Math.abs(e.position.x);if(t.position.x=t.position.x-n,"string"==typeof t.style.width){const e=parseInt(t.style.width,10);t.style.width=`${e+n}px`}else t.style.width+=n;e.position.x=0}if(e.position.y<0){const n=Math.abs(e.position.y);if(t.position.y=t.position.y-n,"string"==typeof t.style.height){const e=parseInt(t.style.height,10);t.style.height=`${e+n}px`}else t.style.height+=n;e.position.y=0}}}}const Nr=(e,t)=>{let n=t.map((e=>e.id));return e.forEach((e=>{if("add"===e.type){const n=e.item;return t.push(n)}const o=n.indexOf(e.id),r=t[o];switch(e.type){case"select":(mr(r)||pr(r))&&(r.selected=e.selected);break;case"position":if(mr(r)&&(void 0!==e.position&&(r.position=e.position),void 0!==e.computedPosition&&(r.computedPosition={...r.computedPosition,...e.computedPosition}),r.expandParent&&r.parentNode)){const e=t[n.indexOf(r.parentNode)];e&&mr(e)&&Ir(r,e)}break;case"dimensions":if(mr(r)&&(void 0!==e.dimensions&&(r.dimensions=e.dimensions),r.expandParent&&r.parentNode)){const e=t[n.indexOf(r.parentNode)];e&&mr(e)&&Ir(r,e)}break;case"remove":n.includes(e.id)&&(t.splice(o,1),n=t.map((e=>e.id)))}})),t},Pr=(e,t)=>({id:e,type:"select",selected:t}),Ur=e=>({item:e,type:"add"}),Br=e=>({id:e,type:"remove"}),jr=(e,t)=>e.reduce(((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(Pr(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(Pr(n.id,!1))),e}),[]),Rr=(e,t,n,o)=>{const i={},s=e.map((e=>{const n=(0,r.Um)(((e,t,n)=>{var o;let i=n;return mr(e)||(i={type:null!=(o=e.type)?o:"default",dimensions:(0,r.Xl)({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:(0,r.Xl)({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,...n}),{...i,...e,id:e.id.toString()}})(e,0,{...t(e.id),parentNode:e.parentNode}));return e.parentNode&&(i[e.parentNode]=!0),n}));return s.forEach((e=>{const o=[...s,...n];if(e.parentNode&&!o.find((t=>t.id===e.parentNode))&&console.warn(`[vueflow]: Parent node ${e.parentNode} not found`),e.parentNode||i[e.id]){i[e.id]&&(e.isParent=!0);const n=e.parentNode?t(e.parentNode):void 0;n&&(n.isParent=!0)}})),s},Vr=["data-id"],Fr=(0,i.aZ)({name:"Node",inheritAttrs:!1,props:{id:null,draggable:{type:Boolean},selectable:{type:Boolean},connectable:{type:Boolean},snapGrid:null,type:{type:[null,Function,Object,Boolean]},name:null},setup(e){(0,i.p1)(e,["id","type","name","draggable","selectable","connectable","snapGrid"]),(0,i.JJ)(Qo,e.id);const t=Oi(),n=(0,r.Vh)(t,"edges"),o=(0,r.Vh)(t,"viewport"),a=(0,r.Vh)(t,"noPanClassName"),l=(0,r.Vh)(t,"selectNodesOnDrag"),c=(0,r.Vh)(t,"nodesSelectionActive"),u=(0,r.Vh)(t,"multiSelectionActive"),d=(0,r.Vh)(t,"emits"),h=(0,r.Vh)(t,"getNode"),f=(0,r.Vh)(t,"removeSelectedElements"),m=(0,r.Vh)(t,"addSelectedNodes"),g=(0,r.Vh)(t,"updateNodeDimensions"),v=(0,r.Vh)(t,"onUpdateNodeInternals"),y=(0,i.Fl)((()=>h.value(e.id))),w=(0,i.Fl)((()=>y.value.parentNode?h.value(y.value.parentNode):void 0)),b=(0,r.iH)(),{emit:k,on:x}=function(e,t){const n={doubleClick:p(),click:p(),mouseEnter:p(),mouseMove:p(),mouseLeave:p(),contextMenu:p(),dragStart:p(),drag:p(),dragStop:p()};return n.doubleClick.on((n=>{var o,r;t.nodeDoubleClick(n),null==(r=null==(o=e.events)?void 0:o.doubleClick)||r.call(o,n)})),n.click.on((n=>{var o,r;t.nodeClick(n),null==(r=null==(o=e.events)?void 0:o.click)||r.call(o,n)})),n.mouseEnter.on((n=>{var o,r;t.nodeMouseEnter(n),null==(r=null==(o=e.events)?void 0:o.mouseEnter)||r.call(o,n)})),n.mouseMove.on((n=>{var o,r;t.nodeMouseMove(n),null==(r=null==(o=e.events)?void 0:o.mouseMove)||r.call(o,n)})),n.mouseLeave.on((n=>{var o,r;t.nodeMouseLeave(n),null==(r=null==(o=e.events)?void 0:o.mouseLeave)||r.call(o,n)})),n.contextMenu.on((n=>{var o,r;t.nodeContextMenu(n),null==(r=null==(o=e.events)?void 0:o.contextMenu)||r.call(o,n)})),n.dragStart.on((n=>{var o,r;t.nodeDragStart(n),null==(r=null==(o=e.events)?void 0:o.dragStart)||r.call(o,n)})),n.drag.on((n=>{var o,r;t.nodeDrag(n),null==(r=null==(o=e.events)?void 0:o.drag)||r.call(o,n)})),n.dragStop.on((n=>{var o,r;t.nodeDragStop(n),null==(r=null==(o=e.events)?void 0:o.dragStop)||r.call(o,n)})),Object.entries(n).reduce(((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e)),{emit:{},on:{}})}(y.value,d.value),S=(0,r.B)(),_=Vi({id:e.id,el:b,disabled:(0,i.Fl)((()=>!e.draggable)),onStart(e,t,n){k.dragStart({event:e,node:t,nodes:n})},onDrag(e,t,n){k.drag({event:e,node:t,nodes:n})},onStop(e,t,n){k.dragStop({event:e,node:t,nodes:n})}}),C=X(b,(()=>{g.value([{id:e.id,nodeElement:b.value,forceUpdate:!0}])}),{box:"content-box"}),D=(e,t)=>{y.value.computedPosition=t?((e,t)=>({x:t.x+e.x,y:t.y+e.y,z:e.z>t.z?e.z:t.z}))({x:t.x,y:t.y,z:t.z},e):e},E=()=>{b.value&&g.value([{id:e.id,nodeElement:b.value,forceUpdate:!0}]),D({x:y.value.position.x,y:y.value.position.y,z:y.value.computedPosition.z?y.value.computedPosition.z:y.value.selected?1e3:0},w.value?{...w.value.computedPosition}:void 0)};v.value((t=>{t.includes(e.id)&&E()})),(0,i.bv)((()=>{S.run((()=>{(0,i.YP)([()=>y.value.width,()=>y.value.height,()=>y.value.type,()=>y.value.sourcePosition,()=>y.value.targetPosition],(()=>{g.value([{id:e.id,nodeElement:b.value}])}),{immediate:!0,flush:"post"}),(0,i.YP)([()=>y.value.position.x,()=>y.value.position.y,()=>{var e;return null==(e=w.value)?void 0:e.computedPosition.x},()=>{var e;return null==(e=w.value)?void 0:e.computedPosition.y},()=>{var e;return null==(e=w.value)?void 0:e.computedPosition.z},()=>y.value.selected,()=>y.value.dimensions,()=>{var e;return null==(e=w.value)?void 0:e.dimensions}],(([e,t,n,r,i])=>{const s={x:e,y:t,z:y.value.selected?1e3:0};D(s,n&&r?{x:n,y:r,z:i}:void 0),y.value.handleBounds={source:Mr(".source",b.value,o.value.zoom),target:Mr(".target",b.value,o.value.zoom)}}),{immediate:!0,flush:"post"})}))})),(0,i.Jd)((()=>{C.stop(),S.stop()}));const A=e=>{_||k.mouseEnter({event:e,node:y.value,connectedEdges:Cr([y.value],n.value)})},O=e=>{_||k.mouseMove({event:e,node:y.value,connectedEdges:Cr([y.value],n.value)})},T=e=>{_||k.mouseLeave({event:e,node:y.value,connectedEdges:Cr([y.value],n.value)})},M=e=>{k.contextMenu({event:e,node:y.value,connectedEdges:Cr([y.value],n.value)})},L=e=>{k.doubleClick({event:e,node:y.value,connectedEdges:Cr([y.value],n.value)})},I=t=>{!e.selectable||l.value&&e.draggable||Lr(y.value,u.value,m.value,f.value,c),k.click({event:t,node:y.value,connectedEdges:Cr([y.value],n.value)})},N=(0,i.Fl)((()=>y.value.class instanceof Function?y.value.class(y.value):y.value.class)),P=(0,i.Fl)((()=>{const e=(y.value.style instanceof Function?y.value.style(y.value):y.value.style)||{},t=y.value.width instanceof Function?y.value.width(y.value):y.value.width,n=y.value.height instanceof Function?y.value.height(y.value):y.value.height;return t&&(e.width="string"==typeof t?t:`${t}px`),n&&(e.height="string"==typeof n?n:`${n}px`),e}));return(t,n)=>{var o;return(0,i.wg)(),(0,i.iD)("div",{ref_key:"nodeElement",ref:b,class:(0,s.normalizeClass)(["vue-flow__node",[`vue-flow__node-${e.name}`,a.value,{dragging:(0,r.SU)(_),selected:y.value.selected,selectable:e.selectable},(0,r.SU)(N)]]),style:(0,s.normalizeStyle)({zIndex:null!=(o=y.value.computedPosition.z)?o:0,transform:`translate(${y.value.computedPosition.x}px,${y.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",...(0,r.SU)(P)}),"data-id":y.value.id,onMouseenter:A,onMousemove:O,onMouseleave:T,onContextmenu:M,onClick:I,onDblclick:L},[((0,i.wg)(),(0,i.j4)((0,i.LL)(e.type),{id:y.value.id,type:y.value.type,data:y.value.data,events:{...y.value.events,...(0,r.SU)(x)},selected:!!y.value.selected,connectable:e.connectable,position:y.value.position,dimensions:y.value.dimensions,"is-valid-target-pos":y.value.isValidTargetPos,"is-valid-source-pos":y.value.isValidSourcePos,"parent-node":y.value.parentNode,dragging:(0,r.SU)(_),"z-index":y.value.computedPosition.z,"target-position":y.value.targetPosition,"source-position":y.value.sourcePosition,label:y.value.label,"drag-handle":y.value.dragHandle,onUpdateNodeInternals:E},null,40,["id","type","data","events","selected","connectable","position","dimensions","is-valid-target-pos","is-valid-source-pos","parent-node","dragging","z-index","target-position","source-position","label","drag-handle"]))],46,Vr)}}}),Wr=["transform"],Hr=["width","height","x","y","rx","ry"],zr=["y"],$r=(0,i.aZ)({name:"EdgeText",props:{x:null,y:null,label:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=W("el",null);let n=(0,r.iH)({x:0,y:0,width:0,height:0});(0,i.bv)((()=>{n.value=t.value.getBBox()}));const o=(0,i.Fl)((()=>`translate(${e.x-n.value.width/2} ${e.y-n.value.height/2})`));return(t,a)=>((0,i.wg)(),(0,i.iD)("g",{transform:(0,r.SU)(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?((0,i.wg)(),(0,i.iD)("rect",{key:0,class:"vue-flow__edge-textbg",width:`${n.value.width+2*e.labelBgPadding[0]}px`,height:`${n.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:(0,s.normalizeStyle)(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,Hr)):(0,i.kq)("",!0),(0,i._)("text",(0,i.dG)(t.$attrs,{ref:"el",class:"vue-flow__edge-text",y:n.value.height/2,dy:"0.3em",style:e.labelStyle}),[(0,i.WI)(t.$slots,"default",{},(()=>["string"!=typeof e.label&&(e.label,1)?((0,i.wg)(),(0,i.j4)((0,i.LL)(e.label),{key:0})):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,s.toDisplayString)(e.label),1)],64))]))],16,zr)],8,Wr))}}),Kr=function({path:e,centerX:t,centerY:n,label:o,labelBgBorderRadius:r,labelBgPadding:s,labelBgStyle:a,labelShowBg:l,labelStyle:c,markerStart:u,markerEnd:d,style:h}){return[(0,i.h)("path",{style:{...h},d:e,class:"vue-flow__edge-path","marker-end":d,"marker-start":u}),o?(0,i.h)($r,{x:t,y:n,label:o,labelStyle:c,labelShowBg:l,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:r}):null]};function qr(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Yr({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let s,a;switch(e){case qo.Left:s=t-qr(t-o,i),a=n;break;case qo.Right:s=t+qr(o-t,i),a=n;break;case qo.Top:s=t,a=n-qr(n-r,i);break;case qo.Bottom:s=t,a=n+qr(r-n,i)}return[s,a]}function Gr({sourceX:e,sourceY:t,sourcePosition:n=qo.Bottom,targetX:o,targetY:r,targetPosition:i=qo.Top,curvature:s=.25}){const[a,l]=Yr({pos:n,x1:e,y1:t,x2:o,y2:r,c:s}),[c,u]=Yr({pos:i,x1:o,y1:r,x2:e,y2:t,c:s});return`M${e},${t} C${a},${l} ${c},${u} ${o},${r}`}function Xr({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,s;switch(e){case qo.Left:case qo.Right:i=.5*(t+o),s=n;break;case qo.Top:case qo.Bottom:i=t,s=.5*(n+r)}return[i,s]}Kr.props=["path","centerX","centerY","label","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelShowBg","labelStyle","markerStart","markerEnd","style"],Kr.inheritAttrs=!1;const Jr=[qo.Left,qo.Right],Zr=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r=qo.Bottom,targetPosition:i=qo.Top})=>{const s=Jr.includes(r),a=Jr.includes(i);if(s&&!a||a&&!s){const r=s?Math.abs(n-e):0,i=e>n?e-r:e+r,a=s?0:Math.abs(o-t);return[i,t<o?t+a:t-a,r,a]}const l=Math.abs(n-e)/2,c=n<e?n+l:n-l,u=Math.abs(o-t)/2;return[c,o<t?o+u:o-u,l,u]},Qr=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e+n},${t}`,ei=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t-n}`,ti=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e-n},${t}`,ni=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t-n}`,oi=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t+n}`,ri=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e+n},${t}`,ii=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e-n},${t}`,si=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t+n}`;function ai({sourceX:e,sourceY:t,sourcePosition:n=qo.Bottom,targetX:o,targetY:r,targetPosition:i=qo.Top,borderRadius:s=5,centerX:a,centerY:l}){const[c,u,d,h]=Zr({sourceX:e,sourceY:t,targetX:o,targetY:r}),p=Math.min(s,Math.abs(o-e)),f=Math.min(s,Math.abs(r-t)),m=Math.min(p,f,d,h),g=[qo.Left,qo.Right],v=void 0!==a?a:c,y=void 0!==l?l:u;let w,b;return e<=o?(w=t<=r?Qr(e,y,m):ri(e,y,m),b=t<=r?si(o,y,m):ni(o,y,m)):(w=t<r?ti(e,y,m):ii(e,y,m),b=t<r?oi(o,y,m):ei(o,y,m)),g.includes(n)&&g.includes(i)?e<=o?(w=t<=r?si(v,t,m):ni(v,t,m),b=t<=r?Qr(v,r,m):ri(v,r,m)):(n===qo.Right&&i===qo.Left||n===qo.Left&&i===qo.Right||n===qo.Left&&i===qo.Left)&&(w=t<=r?oi(v,t,m):ei(v,t,m),b=t<=r?ti(v,r,m):ii(v,r,m)):g.includes(n)&&!g.includes(i)?(w=e<=o?t<=r?si(o,t,m):ni(o,t,m):t<=r?oi(o,t,m):ei(o,t,m),b=""):!g.includes(n)&&g.includes(i)&&(w=e<=o?t<=r?Qr(e,r,m):ri(e,r,m):t<=r?ti(e,r,m):ii(e,r,m),b=""),`M ${e},${t}${w}${b}L ${o},${r}`}const li=function({sourcePosition:e=qo.Bottom,targetPosition:t=qo.Top,label:n,labelStyle:o={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:a,labelBgBorderRadius:l,sourceY:c,sourceX:u,targetX:d,targetY:h,curvature:p,markerEnd:f,markerStart:m,style:g}){const[v,y]=function({sourceX:e,sourceY:t,sourcePosition:n=qo.Bottom,targetX:o,targetY:r,targetPosition:i=qo.Top,curvature:s=.25}){const[a,l]=Yr({pos:n,x1:e,y1:t,x2:o,y2:r,c:s}),[c,u]=Yr({pos:i,x1:o,y1:r,x2:e,y2:t,c:s}),d=.125*e+.375*a+.375*c+.125*o,h=.125*t+.375*l+.375*u+.125*r;return[d,h,Math.abs(d-e),Math.abs(h-t)]}({sourceX:u,sourceY:c,targetX:d,targetY:h,sourcePosition:e,targetPosition:t,curvature:p}),w=Gr({sourceX:u,sourceY:c,targetX:d,targetY:h,sourcePosition:e,targetPosition:t,curvature:p});return(0,i.h)(Kr,{path:w,centerX:v,centerY:y,label:n,labelStyle:o,labelShowBg:r,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,style:g,markerEnd:f,markerStart:m})};li.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","style"],li.inheritAttrs=!1;const ci=function({sourcePosition:e=qo.Bottom,targetPosition:t=qo.Top,label:n,labelStyle:o={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:a,labelBgBorderRadius:l,sourceY:c,sourceX:u,targetX:d,targetY:h,markerEnd:p,markerStart:f,style:m}){const[g,v]=function({sourceX:e,sourceY:t,sourcePosition:n=qo.Bottom,targetX:o,targetY:r,targetPosition:i=qo.Top}){const[s,a]=Xr({pos:n,x1:e,y1:t,x2:o,y2:r}),[l,c]=Xr({pos:i,x1:o,y1:r,x2:e,y2:t}),u=.125*e+.375*s+.375*l+.125*o,d=.125*t+.375*a+.375*c+.125*r;return[u,d,Math.abs(u-e),Math.abs(d-t)]}({sourceX:u,sourceY:c,targetX:d,targetY:h,sourcePosition:e,targetPosition:t}),y=function({sourceX:e,sourceY:t,sourcePosition:n=qo.Bottom,targetX:o,targetY:r,targetPosition:i=qo.Top}){const[s,a]=Xr({pos:n,x1:e,y1:t,x2:o,y2:r}),[l,c]=Xr({pos:i,x1:o,y1:r,x2:e,y2:t});return`M${e},${t} C${s},${a} ${l},${c} ${o},${r}`}({sourceX:u,sourceY:c,targetX:d,targetY:h,sourcePosition:e,targetPosition:t});return(0,i.h)(Kr,{path:y,centerX:g,centerY:v,label:n,labelStyle:o,labelShowBg:r,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,style:m,markerEnd:p,markerStart:f})};ci.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],ci.inheritAttrs=!1;const ui=function({sourcePosition:e=qo.Bottom,targetPosition:t=qo.Top,label:n,labelStyle:o={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:a,labelBgBorderRadius:l,sourceY:c,sourceX:u,targetX:d,targetY:h,markerEnd:p,markerStart:f,borderRadius:m,style:g}){const[v,y]=Zr({sourceX:u,sourceY:c,targetX:d,targetY:h,sourcePosition:e,targetPosition:t}),w=ai({sourceX:u,sourceY:c,targetX:d,targetY:h,sourcePosition:e,targetPosition:t,borderRadius:m});return(0,i.h)(Kr,{path:w,centerX:v,centerY:y,label:n,labelStyle:o,labelShowBg:r,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,style:g,markerEnd:p,markerStart:f})};ui.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","style"],ui.inheritAttrs=!1;const di=function(e){return(0,i.h)(ui,{...e,borderRadius:0})};di.props=["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],di.inheritAttrs=!1;const hi=function({label:e,labelStyle:t={},labelShowBg:n=!0,labelBgStyle:o={},labelBgPadding:r,labelBgBorderRadius:s,sourceY:a,sourceX:l,targetX:c,targetY:u,markerEnd:d,markerStart:h,style:p}){const f=(0,i.Fl)((()=>{const e=Math.abs(u-a)/2;return u<a?u+e:u-e})),m=(0,i.Fl)((()=>{const e=Math.abs(c-l)/2;return c<l?c+e:c-e}));return(0,i.h)(Kr,{path:`M ${l},${a}L ${c},${u}`,centerX:m.value,centerY:f.value,label:e,labelStyle:t,labelShowBg:n,labelBgStyle:o,labelBgPadding:r,labelBgBorderRadius:s,style:p,markerEnd:d,markerStart:h})};hi.props=["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","style"],hi.inheritAttrs=!1;const pi=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=qo.Top}){const r=(0,i.Fl)((()=>{const n=((e,t,n)=>n===qo.Left?e-t:n===qo.Right?e+t:e)(t,e,o);return isNaN(n)?0:n})),s=(0,i.Fl)((()=>{const t=((e,t,n)=>n===qo.Top?e-t:n===qo.Bottom?e+t:e)(n,e,o);return isNaN(t)?0:t}));return(0,i.h)("circle",{class:"vue-flow__edgeupdater",cx:r.value,cy:s.value,r:e,stroke:"transparent",fill:"transparent"})};pi.props=["radius","centerX","centerY","position"];const fi=function({name:e,type:t,id:n,data:o,events:s,labelBgBorderRadius:a,labelBgPadding:l,labelBgStyle:c,labelStyle:u,labelShowBg:d,style:h,animated:p,label:f,updatable:m,selectable:g,target:v,source:y,sourceNode:w,targetNode:b,sourceHandleId:k,targetHandleId:x,selected:S,markerEnd:_,markerStart:C,connectionMode:D,edgeUpdaterRadius:E},{emit:A}){var O,T;if(!w||!b)return null;let M=(0,r.iH)(!1);const L=()=>M.value=!0,I=()=>M.value=!1;let N;N=D===Go.Strict?w.handleBounds.source:null!=(O=w.handleBounds.source)?O:w.handleBounds.target;const P=Tr(N,k);let U;U=D===Go.Strict?b.handleBounds.target:null!=(T=b.handleBounds.target)?T:b.handleBounds.source;const B=Tr(U,x),j=P?P.position:qo.Bottom,R=B?B.position:qo.Top,{sourceX:V,sourceY:F,targetY:W,targetX:H}=((e,t,n,o,r,i)=>{const s=Or(n,{...e.dimensions,...e.computedPosition},t),a=Or(i,{...o.dimensions,...o.computedPosition},r);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}})(w,P,j,b,B,R);return(0,i.h)("g",{class:["vue-flow__edge",`vue-flow__edge-${e}`,{updating:M.value,selected:S,animated:p,inactive:!g}]},[(0,i.h)(t,{id:n,sourceNode:w,targetNode:b,source:y,target:v,updatable:m,selected:S,animated:p,label:f,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:a,data:o,events:s,style:h,markerStart:`url(#${Ar(C)})`,markerEnd:`url(#${Ar(_)})`,sourcePosition:j,targetPosition:R,sourceX:V,sourceY:F,targetX:H,targetY:W,sourceHandleId:k,targetHandleId:x}),m?[(0,i.h)("g",{onMousedown:e=>{A("source-mousedown",e)},onMouseenter:L,onMouseout:I},(0,i.h)(pi,{position:j,centerX:V,centerY:F,radius:E})),(0,i.h)("g",{onMousedown:e=>{A("target-mousedown",e)},onMouseenter:L,onMouseout:I},(0,i.h)(pi,{position:R,centerX:H,centerY:W,radius:E}))]:null])};fi.props=["name","type","id","data","events","labelBgBorderRadius","labelBgPadding","labelBgStyle","labelStyle","labelShowBg","style","animated","label","updatable","selectable","target","source","sourceNode","targetNode","sourceHandleId","targetHandleId","selected","markerEnd","markerStart","connectionMode","edgeUpdaterRadius"],fi.emits=["source-mousedown","target-mousedown"];const mi={class:"vue-flow__connection"},gi=["d","marker-end","marker-start"],vi=(0,i.aZ)({name:"ConnectionLine",props:{sourceNode:null},setup(e){var t,n,o,a;const l=Oi(),c=(0,r.Vh)(l,"getNodes"),u=(0,r.Vh)(l,"connectionHandleId"),d=(0,r.Vh)(l,"connectionHandleType"),h=(0,r.Vh)(l,"connectionPosition"),p=(0,r.Vh)(l,"connectionLineType"),f=(0,r.Vh)(l,"connectionLineStyle");(0,r.Vh)(l,"connectionNodeId");const m=(0,r.Vh)(l,"connectionLineOptions"),g=(0,r.Vh)(l,"viewport"),v=null==(t=(0,i.f3)(er))?void 0:t["connection-line"],y=null==v?void 0:v({}),w=u.value&&d.value?null==(n=e.sourceNode.handleBounds[d.value])?void 0:n.find((e=>e.id===u.value)):d.value&&(null==(a=e.sourceNode.handleBounds[null!=(o=d.value)?o:"source"])?void 0:a[0]),b=w?w.x+w.width/2:e.sourceNode.dimensions.width/2,k=w?w.y+w.height/2:e.sourceNode.dimensions.height,x=e.sourceNode.computedPosition.x+b,S=e.sourceNode.computedPosition.y+k,_=(null==w?void 0:w.position)===qo.Left||(null==w?void 0:w.position)===qo.Right?qo.Left:qo.Top,C=(0,i.Fl)((()=>(h.value.x-g.value.x)/g.value.zoom)),D=(0,i.Fl)((()=>(h.value.y-g.value.y)/g.value.zoom)),E=(0,i.Fl)((()=>{let e=`M${x},${S} ${C.value},${D.value}`;switch(p.value||m.value.type){case Yo.Bezier:e=Gr({sourceX:x,sourceY:S,sourcePosition:null==w?void 0:w.position,targetX:C.value,targetY:D.value,targetPosition:_});break;case Yo.Step:e=ai({sourceX:x,sourceY:S,sourcePosition:null==w?void 0:w.position,targetX:C.value,targetY:D.value,targetPosition:_,borderRadius:0});break;case Yo.SmoothStep:e=ai({sourceX:x,sourceY:S,sourcePosition:null==w?void 0:w.position,targetX:C.value,targetY:D.value,targetPosition:_})}return e}));return(t,n)=>{var o;return(0,i.wg)(),(0,i.iD)("g",mi,[(0,r.SU)(y)?((0,i.wg)(),(0,i.j4)((0,i.LL)((0,r.SU)(v)),(0,s.normalizeProps)((0,i.dG)({key:0},{sourceX:x,sourceY:S,sourcePosition:null==(o=(0,r.SU)(w))?void 0:o.position,targetX:C.value,targetY:D.value,targetPosition:(0,r.SU)(_),nodes:c.value,sourceNode:e.sourceNode,sourceHandle:(0,r.SU)(w),markerEnd:`url(#${(0,r.SU)(Ar)(m.value.markerEnd)})`,markerStart:`url(#${(0,r.SU)(Ar)(m.value.markerStart)})`})),null,16)):((0,i.wg)(),(0,i.iD)("path",{key:1,d:(0,r.SU)(E),class:(0,s.normalizeClass)(["vue-flow__connection-path",m.value.class]),style:(0,s.normalizeStyle)(f.value||m.value.style||{}),"marker-end":`url(#${(0,r.SU)(Ar)(m.value.markerEnd)})`,"marker-start":`url(#${(0,r.SU)(Ar)(m.value.markerStart)})`},null,14,gi))])}}}),yi=(0,i.aZ)({name:"NodesSelection",setup(e){const t=Oi(),n=(0,r.Vh)(t,"emits");(0,r.Vh)(t,"setState");const o=(0,r.Vh)(t,"viewport"),a=(0,r.Vh)(t,"getSelectedNodes");(0,r.Vh)(t,"snapToGrid"),(0,r.Vh)(t,"snapGrid");const l=(0,r.Vh)(t,"noPanClassName"),c=(0,r.iH)();Vi({el:c,onStart(e,t,o){n.value.selectionDragStart({event:e,node:t,nodes:o})},onDrag(e,t,o){n.value.selectionDrag({event:e,node:t,nodes:o})},onStop(e,t,o){n.value.selectionDragStop({event:e,node:t,nodes:o})}});const u=(0,i.Fl)((()=>Sr(a.value))),d=(0,i.Fl)((()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}))),h=e=>n.value.selectionContextMenu({event:e,nodes:a.value});return(e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,s.normalizeClass)(["vue-flow__nodesselection vue-flow__container",l.value]),style:(0,s.normalizeStyle)({transform:`translate(${o.value.x}px,${o.value.y}px) scale(${o.value.zoom})`})},[(0,i._)("div",{ref_key:"el",ref:c,class:"vue-flow__nodesselection-rect",style:(0,s.normalizeStyle)((0,r.SU)(d)),onContextmenu:h},null,36)],6))}}),wi=(0,i.aZ)({name:"SelectionRect",props:{width:null,height:null,x:null,y:null},setup:e=>(t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"vue-flow__selection",style:(0,s.normalizeStyle)({width:`${e.width}px`,height:`${e.height}px`,transform:`translate(${e.x}px, ${e.y}px)`})},null,4))});function bi(e){const t=e.target.closest(".vue-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const ki={ref:"user-selection",class:"vue-flow__selectionpane vue-flow__container"},xi=(0,i.aZ)({name:"UserSelection",setup(e){const t=Oi(),n=(0,r.Vh)(t,"userSelectionActive"),o=(0,r.Vh)(t,"setState"),s=(0,r.Vh)(t,"getNodes"),a=(0,r.Vh)(t,"getEdges"),l=(0,r.Vh)(t,"viewport"),c=(0,r.Vh)(t,"addSelectedEdges"),u=(0,r.Vh)(t,"addSelectedNodes"),d=W("user-selection",null);let h=(0,r.iH)(0),p=(0,r.iH)(0);let f=(0,r.iH)({width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1});const m=()=>{f.value={width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1},h.value=0,p.value=0,o.value({userSelectionActive:!1})},g=e=>{const t=bi(e);t&&(f.value={width:0,height:0,startX:t.x,startY:t.y,x:t.x,y:t.y,draw:!0},o.value({userSelectionActive:!0,nodesSelectionActive:!1}))},v=e=>{if(!n.value||!f.value.draw)return;const t=bi(e);if(!t)return;const o=f.value.startX,r=f.value.startY,i={...f.value,x:t.x<o?t.x:f.value.x,y:t.y<r?t.y:f.value.y,width:Math.abs(t.x-o),height:Math.abs(t.y-r)},d=_r(s.value,f.value,l.value),m=Cr(d,a.value);f.value=i,u.value(d),c.value(m),h.value=d.length,p.value=m.length},y=()=>{f.value={width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1},o.value({nodesSelectionActive:h.value>0,userSelectionActive:!1})},w=()=>{o.value({nodesSelectionActive:h.value>0}),m()};return(0,i.bv)((()=>{M(d,"mousedown",g),M(d,"mousemove",v),M(d,"click",y),M(d,"mouseup",y),M(d,"mouseleave",w)})),(0,i.Jd)((()=>{m()})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",ki,[f.value.draw?((0,i.wg)(),(0,i.j4)(wi,{key:0,width:f.value.width,height:f.value.height,x:f.value.x,y:f.value.y},null,8,["width","height","x","y"])):(0,i.kq)("",!0)],512))}}),Si={input:ir,default:rr,output:sr},_i={default:li,straight:hi,step:di,smoothstep:ui,simplebezier:ci};var Ci=e=>{const t={nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Jo.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultZoom:1,defaultPosition:[0,0],nodesSelectionActive:!1,userSelectionActive:!1,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:Yo.Bezier,connectionLineOptions:{type:Yo.Bezier,style:{}},connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN},connectionMode:Go.Loose,connectionStartHandle:null,connectOnClick:!0,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",hooks:{edgesChange:p(),nodesChange:p(),nodeDoubleClick:p(),nodeClick:p(),nodeMouseEnter:p(),nodeMouseMove:p(),nodeMouseLeave:p(),nodeContextMenu:p(),nodeDragStart:p(),nodeDrag:p(),nodeDragStop:p(),miniMapNodeClick:p(),miniMapNodeDoubleClick:p(),miniMapNodeMouseEnter:p(),miniMapNodeMouseMove:p(),miniMapNodeMouseLeave:p(),connect:p(),connectStart:p(),connectStop:p(),connectEnd:p(),paneReady:p(),move:p(),moveStart:p(),moveEnd:p(),selectionDragStart:p(),selectionDrag:p(),selectionDragStop:p(),selectionContextMenu:p(),paneScroll:p(),paneClick:p(),paneContextMenu:p(),edgeContextMenu:p(),edgeMouseEnter:p(),edgeMouseMove:p(),edgeMouseLeave:p(),edgeDoubleClick:p(),edgeClick:p(),edgeUpdateStart:p(),edgeUpdate:p(),edgeUpdateEnd:p(),updateNodeInternals:p()},applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,vueFlowVersion:"0.4.29"};return e&&Object.keys(e).forEach((n=>{const o=e[n];void 0!==o&&(t[n]=o)})),t},Di=(e,t)=>{const n=(t,n)=>{const o=t.map((e=>e.id));let r;r=e.multiSelectionActive?o.map((e=>Pr(e,n))):jr(e.nodes,o),r.length&&e.hooks.nodesChange.trigger(r)},o=(t,n)=>{const o=t.map((e=>e.id));let r;r=e.multiSelectionActive?o.map((e=>Pr(e,n))):jr(e.edges,o),r.length&&e.hooks.edgesChange.trigger(r)},i=e=>{n(e,!0)},s=e=>{o(e,!0)},a=e=>{n(e,!1)},l=e=>{o(e,!1)},c=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([t,e.maxZoom]),e.minZoom=t},u=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([e.minZoom,t]),e.maxZoom=t},d=t=>{var n;null==(n=e.d3Zoom)||n.translateExtent(t),e.translateExtent=t},h=(n,o)=>{if(!e.initialized&&!n.length)return;e.nodes||(e.nodes=[]);const r=n instanceof Function?n(e.nodes):n;e.nodes=Rr(r,t.getNode.value,e.nodes,null!=o||e.nodeExtent)},p=n=>{if(!e.initialized&&!n.length)return;const o=n instanceof Function?n(e.edges):n;e.edges=o.reduce(((n,o)=>{const i=t.getNode.value(o.source),s=t.getNode.value(o.target),a=!i||void 0===i,l=!s||void 0===s;if(a&&console.warn(`[vue-flow]: Couldn't create edge for source id: ${o.source}; edge id: ${o.id}`),l&&console.warn(`[vue-flow]: Couldn't create edge for target id: ${o.target}; edge id: ${o.id}`),a||l)return n;const c=t.getEdge.value(o.id);return n.push((0,r.Um)({...gr(o,Object.assign({},c,e.defaultEdgeOptions)),sourceNode:i,targetNode:s})),n}),[])},f=(t,n)=>{if(!e.initialized&&!t.length||!t)return;const o=t instanceof Function?t([...e.nodes,...e.edges]):t;h(o.filter(fr),n),p(o.filter(hr))},m=n=>{const o=(n instanceof Function?n(e.edges):n).reduce(((n,o)=>{const i=((e,t)=>{if(!e.source||!e.target)return console.warn("[vueflow]: Can't create edge. An edge needs a source and a target."),!1;let n;return n=hr(e)?{...e}:{...e,id:vr(e)},n=gr(n),!yr(n,t)&&n})({...o,...e.defaultEdgeOptions},e.edges);if(i){const e=t.getNode.value(i.source),o=t.getNode.value(i.target),s=!e||void 0===e,a=!o||void 0===o;if(s&&console.warn(`[vueflow]: Couldn't create edge for source id: ${i.source}; edge id: ${i.id}`),a&&console.warn(`[vueflow]: Couldn't create edge for target id: ${i.target}; edge id: ${i.id}`),a||s)return n;n.push(Ur((0,r.Um)({...i,sourceNode:e,targetNode:o})))}return n}),[]);o.length&&e.hooks.edgesChange.trigger(o)},v=t=>{var n,o;const r=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent"],i=t instanceof Function?t(e):t;void 0!==i.modelValue&&f(i.modelValue,null!=(n=i.nodeExtent)?n:e.nodeExtent),void 0!==i.nodes&&h(i.nodes,null!=(o=i.nodeExtent)?o:e.nodeExtent),void 0!==i.edges&&p(i.edges),Object.keys(i).forEach((t=>{const n=i[t];r.includes(t)||void 0===n||(e[t]=n)})),e.d3Zoom?(void 0!==i.maxZoom&&u(i.maxZoom),void 0!==i.minZoom&&c(i.minZoom),void 0!==i.translateExtent&&d(i.translateExtent)):g((()=>e.d3Zoom)).not.toBeUndefined().then((()=>{void 0!==i.maxZoom&&u(i.maxZoom),void 0!==i.minZoom&&c(i.minZoom),void 0!==i.translateExtent&&d(i.translateExtent)})),e.initialized||(e.initialized=!0)};let y;e.hooks.paneReady.on((({id:e})=>{y=Bi(e)}));const w=async()=>new Promise((e=>{y?e(y):g((()=>y)).toBeTruthy().then((()=>e(y)))}));return{updateNodePositions:(n,o,r)=>{const i=[];n.forEach((e=>{var n,s,a,l;const c={id:e.id,type:"position",dragging:r};if(o&&(c.computedPosition=e.position,c.position=e.position,e.parentNode)){const o=t.getNode.value(e.parentNode);c.position={x:c.position.x-(null!=(s=null==(n=null==o?void 0:o.computedPosition)?void 0:n.x)?s:0),y:c.position.y-(null!=(l=null==(a=null==o?void 0:o.computedPosition)?void 0:a.y)?l:0)}}i.push(c)})),(null==i?void 0:i.length)&&e.hooks.nodesChange.trigger(i)},updateNodeDimensions:n=>{const o=n.reduce(((n,o)=>{const r=t.getNode.value(o.id);if(r){const t=lr(o.nodeElement),i=!(!t.width||!t.height||r.dimensions.width===t.width&&r.dimensions.height===t.height&&!o.forceUpdate);r.handleBounds={source:Mr(".source",o.nodeElement,e.viewport.zoom),target:Mr(".target",o.nodeElement,e.viewport.zoom)},i&&(r.dimensions=t,n.push({id:r.id,type:"dimensions",dimensions:t}))}return n}),[]);o.length&&e.hooks.nodesChange.trigger(o)},setElements:f,setNodes:h,setEdges:p,addNodes:(n,o)=>{const r=n instanceof Function?n(e.nodes):n,i=Rr(r,t.getNode.value,e.nodes,null!=o||e.nodeExtent).map(Ur);i.length&&e.hooks.nodesChange.trigger(i)},addEdges:m,removeNodes:(t,n=!0)=>{const o=t instanceof Function?t(e.nodes):t,r=[],i=[];o.forEach((t=>{if(r.push(Br("string"==typeof t?t:t.id)),n){const n=Cr(["string"==typeof t?{id:t}:t],e.edges);i.push(...n.map((e=>Br(e.id))))}})),r.length&&e.hooks.nodesChange.trigger(r),i.length&&e.hooks.edgesChange.trigger(i)},removeEdges:t=>{const n=t instanceof Function?t(e.edges):t,o=[];n.forEach((e=>{o.push(Br("string"==typeof e?e:e.id))})),e.hooks.edgesChange.trigger(o)},updateEdge:(t,n)=>((e,t,n,o)=>{if(!t.source||!t.target)return console.warn("[vueflow]: Can't create new edge. An edge needs a source and a target."),!1;if(!n.find((t=>pr(t)&&t.id===e.id)))return console.warn(`[vueflow]: The old edge with id=${e.id} does not exist.`),!1;n.splice(n.indexOf(e),1);const r={...e,id:vr(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return o([r]),r})(t,n,e.edges,m),applyEdgeChanges:t=>Nr(t,e.edges),applyNodeChanges:t=>Nr(t,e.nodes),addSelectedElements:e=>{i(e.filter(mr)),s(e.filter(pr))},addSelectedNodes:i,addSelectedEdges:s,setMinZoom:c,setMaxZoom:u,setTranslateExtent:d,removeSelectedElements:e=>{e?(e.nodes&&a(e.nodes.filter(mr)),e.edges&&l(e.edges.filter(pr))):(a([]),l([]))},removeSelectedNodes:a,removeSelectedEdges:l,setInteractive:t=>{e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t},setState:v,fitView:async(e={padding:.1})=>{const{fitView:t}=await w();t(e)},zoomIn:async e=>{const{zoomIn:t}=await w();t(e)},zoomOut:async e=>{const{zoomOut:t}=await w();t(e)},zoomTo:async(e,t)=>{const{zoomTo:n}=await w();n(e,t)},setTransform:async(e,t)=>{const{setTransform:n}=await w();n(e,t)},getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),setCenter:async(e,t,n)=>{const{setCenter:o}=await w();o(e,t,n)},fitBounds:async(e,t)=>{const{fitBounds:n}=await w();n(e,t)},project:t=>wr(t,e.viewport,e.snapToGrid,e.snapGrid),toObject:()=>JSON.parse(JSON.stringify({nodes:e.nodes,edges:e.edges,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom})),updateNodeInternals:t=>{e.hooks.updateNodeInternals.trigger(t)},$reset:()=>{v(Ci())}}},Ei=e=>{const t=(0,i.Fl)((()=>e.nodes.map((e=>e.id)))),n=(0,i.Fl)((()=>e.edges.map((e=>e.id)))),o=(0,i.Fl)((()=>n=>e.nodes&&!t.value.length?e.nodes.find((e=>e.id===n)):e.nodes[t.value.indexOf(n)])),r=(0,i.Fl)((()=>t=>e.edges&&!n.value.length?e.edges.find((e=>e.id===t)):e.edges[n.value.indexOf(t)])),s=(0,i.Fl)((()=>{var t;const n={..._i,...e.edgeTypes},o=Object.keys(n);return null==(t=e.edges)||t.forEach((e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type))),n})),a=(0,i.Fl)((()=>{var t;const n={...Si,...e.nodeTypes},o=Object.keys(n);return null==(t=e.nodes)||t.forEach((e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type))),n})),l=(0,i.Fl)((()=>{const t=e.nodes.filter((e=>!e.hidden));return e.onlyRenderVisibleElements?t&&_r(t,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):null!=t?t:[]})),c=(t,n,r)=>(n=null!=n?n:o.value(t.source),r=null!=r?r:o.value(t.target),n&&r?!t.hidden&&r&&!r.hidden&&n&&!n.hidden&&n.dimensions.width&&n.dimensions.height&&r.dimensions.width&&r.dimensions.height:(console.warn(`[vue-flow]: Orphaned edge ${t.id} will be removed.`),e.edges.splice(e.edges.indexOf(t),1),!0)),u=(0,i.Fl)((()=>e.onlyRenderVisibleElements?e.edges.filter((t=>{const n=o.value(t.source),r=o.value(t.target);return c(t,n,r)&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:s,height:a,viewport:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=kr({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:s/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),h=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*h)>0}({sourcePos:n.computedPosition||{x:0,y:0},targetPos:r.computedPosition||{x:0,y:0},sourceWidth:n.dimensions.width,sourceHeight:n.dimensions.height,targetWidth:r.dimensions.width,targetHeight:r.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})})):e.edges.filter((e=>c(e))))),d=(0,i.Fl)((()=>[...l.value,...u.value])),h=(0,i.Fl)((()=>e.nodes.filter((e=>e.selected)))),p=(0,i.Fl)((()=>e.edges.filter((e=>e.selected)))),f=(0,i.Fl)((()=>{var e,t;return[...null!=(e=h.value)?e:[],...null!=(t=p.value)?t:[]]}));return{getNode:o,getEdge:r,getElements:d,getEdgeTypes:s,getNodeTypes:a,getEdges:u,getNodes:l,getSelectedElements:f,getSelectedNodes:h,getSelectedEdges:p}};class Ai{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return Ai.instance||(Ai.instance=new Ai),Ai.instance}set(e,t){return this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,t){const n=Ci(t),o=(0,r.qj)(n),i=Ei(o),s=Di(o,i),a={};Object.entries(o.hooks).forEach((([e,t])=>{const n=`on${e.charAt(0).toUpperCase()+e.slice(1)}`;a[n]=t.on}));const l={};Object.entries(o.hooks).forEach((([e,t])=>{l[e]=t.trigger})),s.setState(o),t&&(t.modelValue&&s.setElements(t.modelValue),t.nodes&&s.setNodes(t.nodes),t.edges&&s.setEdges(t.edges));const c={...a,...i,...s,...(0,r.BK)(o),emits:l,id:e};return this.set(e,c),c}getId(){return"vue-flow-"+this.currentId++}}var Oi=e=>{const t=Ai.getInstance(),n=(0,r.nZ)(),o=null==e?void 0:e.id,s=(null==n?void 0:n.vueFlowId)||o;let a;if(n){const e=(0,i.f3)(Zo,null);null!=e&&(a=e)}if(a||s&&(a=t.get(s)),!a||a&&o&&o!==a.id){const r=null!=o?o:t.getId();a=t.create(r,e),n&&(n.vueFlowId=r)}else e&&a.setState(e);if(!a)throw new Error("[vueflow]: store instance not found.");return n&&((0,i.JJ)(Zo,a),f((()=>{t.get(a.id)&&t.remove(a.id),a=null}))),a};const Ti=(e,t,n,o,r,i,s,a,l)=>{var c,u;const d=s.elementFromPoint(e.clientX,e.clientY),h=(null==d?void 0:d.classList.contains("target"))||!1,p=(null==d?void 0:d.classList.contains("source"))||!1,f={elementBelow:d,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(d&&(h||p)){f.isHoveringHandle=!0;if(t!==Go.Strict||(n&&p||!n&&h)){const e=null!=(c=d.getAttribute("data-nodeid"))?c:"",t=null!=(u=d.getAttribute("data-handleid"))?u:"",s=n?e:o,h=n?o:e,p={source:s,sourceHandle:n?t:r,target:h,targetHandle:n?r:t};f.connection=p,f.isValid=i(p,{edges:a,sourceNode:l(s),targetNode:l(h)})||!f.connection.target||!f.connection.source}}return f},Mi=e=>{null==e||e.classList.remove("vue-flow__handle-valid"),null==e||e.classList.remove("vue-flow__handle-connecting")};var Li=()=>{const e=Oi(),t=(0,r.Vh)(e,"edges"),n=(0,r.Vh)(e,"connectOnClick"),o=(0,r.Vh)(e,"nodesConnectable"),i=(0,r.Vh)(e,"connectionStartHandle"),s=(0,r.Vh)(e,"connectionPosition"),a=(0,r.Vh)(e,"connectionMode"),l=(0,r.Vh)(e,"emits"),c=(0,r.Vh)(e,"setState"),u=(0,r.Vh)(e,"getNode");let d;return{onMouseDown:(e,n,r,i,h,p,f,m)=>{var g;const v=e.target.closest(".vue-flow"),y=dr(e.target);if(!y)return;let w=null!=h?h:()=>!0;const b=u.value(r);if(b&&!1===(void 0===b.connectable?o.value:b.connectable))return;h||b&&(w=null!=(g=i?b.isValidSourcePos:b.isValidTargetPos)?g:()=>!0);const k=y.elementFromPoint(e.clientX,e.clientY),x=null==k?void 0:k.classList.contains("target"),S=null==k?void 0:k.classList.contains("source");if(!v||!x&&!S&&!p)return;const _=null!=p?p:x?"target":"source",C=v.getBoundingClientRect();function D(e){s.value.x=e.clientX-C.left,s.value.y=e.clientY-C.top;const{connection:o,elementBelow:l,isValid:c,isHoveringHandle:h}=Ti(e,a.value,i,r,n,w,y,t.value,u.value);if(!h)return Mi(d);!(o.source===o.target)&&l&&(d=l,l.classList.add("vue-flow__handle-connecting"),l.classList.toggle("vue-flow__handle-valid",c))}c.value({connectionPosition:{x:e.clientX-C.left,y:e.clientY-C.top},connectionNodeId:r,connectionHandleId:n,connectionHandleType:_}),l.value.connectStart({event:e,nodeId:r,handleId:n,handleType:_}),y.addEventListener("mousemove",D),y.addEventListener("mouseup",(function e(o){const{connection:s,isValid:h}=Ti(o,a.value,i,r,n,w,y,t.value,u.value);l.value.connectStop(o);const g=s.source===s.target;h&&!g&&(f?f(s):l.value.connect(s)),l.value.connectEnd(o),p&&(null==m||m()),Mi(d),c.value({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN}}),y.removeEventListener("mousemove",D),y.removeEventListener("mouseup",e)}))},onClick:(e,r,s,d,h)=>{var p;if(n.value)if(i.value){let n=null!=h?h:()=>!0;const r=u.value(s);if(r&&!1===(void 0===r.connectable?o.value:r.connectable))return;h||r&&(n=null!=(p="target"!==d?r.isValidTargetPos:r.isValidSourcePos)?p:()=>!0);const f=dr(e.target),{connection:m,isValid:g}=Ti(e,a.value,"target"===i.value.type,i.value.nodeId,i.value.handleId||null,n,f,t.value,u.value),v=m.source===m.target;l.value.connectStop(e),g&&!v&&l.value.connect(m),l.value.connectEnd(e),c.value({connectionStartHandle:null})}else l.value.connectStart({event:e,nodeId:s,handleId:r,handleType:d}),c.value({connectionStartHandle:{nodeId:s,type:d,handleId:r}})}}},Ii=()=>"undefined"!=typeof window?window:{chrome:!1},Ni=(e,t)=>{const n=Ii();let o=(0,r.iH)(!1);return(0,i.m0)((()=>{t&&"function"==typeof t&&t(o.value)}),{flush:"post"}),function(e,t,n={}){F(e,t,V(R({},n),{eventName:"keypress"}))}((t=>!ar(t)&&(t.key===e.value||t.keyCode===e.value)),(e=>{e.preventDefault(),o.value=!0})),function(e,t,n={}){F(e,t,V(R({},n),{eventName:"keydown"}))}((t=>!ar(t)&&(t.key===e.value||t.keyCode===e.value)),(e=>{e.preventDefault(),o.value=!0})),function(e,t,n={}){F(e,t,V(R({},n),{eventName:"keyup"}))}((t=>!ar(t)&&(t.key===e.value||t.keyCode===e.value)),(e=>{e.preventDefault(),o.value=!1})),void 0!==n.addEventListener&&M(n,"blur",(()=>{o.value=!1})),t&&"function"==typeof t&&t(o.value),o};const Pi=(e,t=0)=>e.transition().duration(t),Ui=async(e,t)=>("screen"in Ii()&&(await g(e).toMatch((({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0)),t.length>0&&await g(t).toMatch((e=>!!e.filter((({dimensions:{width:e,height:t}})=>!isNaN(e)&&e>0&&!isNaN(t)&&t>0)).length))),!0);var Bi=e=>{const t=Oi({id:e}),n=(0,r.Vh)(t,"onPaneReady"),o=(0,r.Vh)(t,"nodes"),i=(0,r.Vh)(t,"d3Zoom"),s=(0,r.Vh)(t,"d3Selection"),a=(0,r.Vh)(t,"dimensions"),l=(0,r.Vh)(t,"translateExtent"),c=(0,r.Vh)(t,"minZoom"),u=(0,r.Vh)(t,"maxZoom"),d=(0,r.Vh)(t,"viewport"),h=(0,r.Vh)(t,"snapToGrid"),p=(0,r.Vh)(t,"snapGrid"),f=(0,r.Vh)(t,"getNodes");let m=(0,r.iH)(!1);n.value((()=>m.value=!0));const g=async(e,t)=>{m.value||await Ui(a.value,f.value),s.value&&i.value&&i.value.scaleBy(Pi(s.value,t),e)},v=(e,t,n,o)=>{const{x:r,y:a}=ur({x:-e,y:-t},l.value),c=jo.translate(-r,-a).scale(n);s.value&&i.value&&i.value.transform(Pi(s.value,o),c)};return{zoomIn:async e=>{await g(1.2,null==e?void 0:e.duration)},zoomOut:async e=>{await g(1/1.2,null==e?void 0:e.duration)},zoomTo:async(e,t)=>{m.value||await Ui(a.value,f.value),s.value&&i.value&&i.value.scaleTo(Pi(s.value,null==t?void 0:t.duration),e)},setTransform:async(e,t)=>{m.value||await Ui(a.value,f.value),v(e.x,e.y,e.zoom,null==t?void 0:t.duration)},getTransform:()=>({x:d.value.x,y:d.value.y,zoom:d.value.zoom}),fitView:async(e={padding:.1,includeHiddenNodes:!1,duration:0})=>{var t,n,r;if(m.value||await Ui(a.value,f.value),!f.value.length)return;let i=[];e.nodes&&(i=o.value.filter((t=>{var n;return null==(n=e.nodes)?void 0:n.includes(t.id)}))),i&&i.length||(i=e.includeHiddenNodes?i:f.value);const s=Sr(i),{x:l,y:d,zoom:h}=Dr(s,a.value.width,a.value.height,null!=(t=e.minZoom)?t:c.value,null!=(n=e.maxZoom)?n:u.value,null!=(r=e.padding)?r:.1,e.offset);v(l,d,h,null==e?void 0:e.duration)},setCenter:async(e,t,n)=>{m.value||await Ui(a.value,f.value);const o=void 0!==(null==n?void 0:n.zoom)?n.zoom:u.value,r=a.value.width/2-e*o,i=a.value.height/2-t*o;v(r,i,o,null==n?void 0:n.duration)},fitBounds:async(e,t={padding:.1})=>{m.value||await Ui(a.value,f.value);const{x:n,y:o,zoom:r}=Dr(e,a.value.width,a.value.height,c.value,u.value,t.padding);v(n,o,r,null==t?void 0:t.duration)},project:e=>wr(e,d.value,h.value,p.value)}};function ji(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n.value)return!1;o=o.parentElement}while(o);return!1}function Ri({id:e,dragItems:t,getNode:n}){const o=t.map((e=>({...n.value(e.id)})));return[e?o.find((t=>t.id===e)):o[0],o]}function Vi(e){const t=(0,r.B)(),n=t.run((()=>{const t=Oi(),n=(0,r.Vh)(t,"viewport"),o=(0,r.Vh)(t,"snapToGrid"),s=(0,r.Vh)(t,"snapGrid"),a=(0,r.Vh)(t,"noDragClassName"),l=(0,r.Vh)(t,"nodes"),c=(0,r.Vh)(t,"nodeExtent"),u=(0,r.Vh)(t,"getNode"),d=(0,r.Vh)(t,"multiSelectionActive"),h=(0,r.Vh)(t,"nodesSelectionActive"),p=(0,r.Vh)(t,"selectNodesOnDrag"),f=(0,r.Vh)(t,"removeSelectedElements"),m=(0,r.Vh)(t,"addSelectedNodes"),g=(0,r.Vh)(t,"updateNodePositions"),v=e,y=(0,r.Vh)(v,"onStart"),w=(0,r.Vh)(v,"onDrag"),b=(0,r.Vh)(v,"onStop"),k=(0,r.Vh)(v,"el"),x=(0,r.Vh)(v,"disabled",!1),S=(0,r.Vh)(v,"id"),_=(0,r.iH)(!1);let C=(0,r.iH)(),D=(0,r.iH)({x:void 0,y:void 0}),E=(0,r.iH)();const A=e=>(null!=e?e:o.value)?s.value:void 0,O=(e,t)=>{const o=e.sourceEvent.touches?e.sourceEvent.touches[0].clientX:e.sourceEvent.clientX,r=e.sourceEvent.touches?e.sourceEvent.touches[0].clientY:e.sourceEvent.clientY;return wr({x:o,y:r},n.value,!!t,null!=t?t:s.value)};return(0,i.YP)([()=>x.value,()=>k.value],(()=>{if(k.value){const e=yt(k.value),t=S.value?u.value(S.value):void 0;x.value?e.on(".drag",null):(E.value=function(){var e,t,n,o,r=At,i=Ot,s=Tt,a=Mt,l={},c=Q("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",v,bt).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,a){if(!o&&r.call(this,s,a)){var l=w(this,i.call(this,s,a),s,a,"mouse");l&&(yt(s.view).on("mousemove.drag",f,kt).on("mouseup.drag",m,kt),_t(s.view),xt(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function f(o){if(St(o),!n){var r=o.clientX-e,i=o.clientY-t;n=r*r+i*i>d}l.mouse("drag",o)}function m(e){yt(e.view).on("mousemove.drag mouseup.drag",null),Ct(e.view,n),St(e),l.mouse("end",e)}function g(e,t){if(r.call(this,e,t)){var n,o,s=e.changedTouches,a=i.call(this,e,t),l=s.length;for(n=0;n<l;++n)(o=w(this,a,e,t,s[n].identifier,s[n]))&&(xt(e),o("start",e,s[n]))}}function v(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=l[o[t].identifier])&&(St(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,i=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<i;++t)(n=l[r[t].identifier])&&(xt(e),n("end",e,r[t]))}function w(e,t,n,o,r,i){var a,d,p,f=c.copy(),m=wt(i||n,t);if(null!=(p=s.call(e,new Et("beforestart",{sourceEvent:n,target:h,identifier:r,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),o)))return a=p.x-m[0]||0,d=p.y-m[1]||0,function n(i,s,c){var g,v=m;switch(i){case"start":l[r]=n,g=u++;break;case"end":delete l[r],--u;case"drag":m=wt(c||s,t),g=u}f.call(i,e,new Et(i,{sourceEvent:s,subject:p,target:h,identifier:r,active:g,x:m[0]+a,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:f}),o)}}return h.filter=function(e){return arguments.length?(r="function"==typeof e?e:Dt(!!e),h):r},h.container=function(e){return arguments.length?(i="function"==typeof e?e:Dt(e),h):i},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:Dt(e),h):s},h.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Dt(!!e),h):a},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}().on("start",(e=>{p.value||d.value||!S.value||(null==t?void 0:t.selected)||f.value(),t&&!x.value&&p.value&&Lr(t,d.value,m.value,f.value,h);const n=O(e,A(null==t?void 0:t.snapGrid));if(C.value=function(e,t,n,o){return e.filter((e=>(e.selected||e.id===o)&&(!e.parentNode||!Er(e,n)))).map((e=>{var n,o;return{id:e.id,position:e.computedPosition||{x:0,y:0,z:0},distance:{x:t.x-(null==(n=e.computedPosition)?void 0:n.x)||0,y:t.y-(null==(o=e.computedPosition)?void 0:o.y)||0},extent:e.extent,parentNode:e.parentNode,dimensions:e.dimensions}}))}(l.value,n,u.value,S.value),y.value&&C.value){const[t,n]=Ri({id:S.value,dragItems:C.value,getNode:u});y.value(e.sourceEvent,t,n)}})).on("drag",(e=>{const n=O(e,A(null==t?void 0:t.snapGrid));if((D.value.x!==n.x||D.value.y!==n.y)&&C.value&&(D.value=n,C.value=C.value.map((e=>function(e,t,n,o){var r,i,s,a;let l=e.extent||o;const c={x:t.x-e.distance.x,y:t.y-e.distance.y};if("parent"===e.extent&&n)e.parentNode&&e.dimensions.width&&e.dimensions.height&&(l=n.computedPosition&&n.dimensions.width&&n.dimensions.height?[[n.computedPosition.x,n.computedPosition.y],[n.computedPosition.x+n.dimensions.width-e.dimensions.width,n.computedPosition.y+n.dimensions.height-e.dimensions.height]]:l);else if(e.extent&&e.parentNode){const t=e.extent,o=null!=(i=null==(r=null==n?void 0:n.computedPosition)?void 0:r.x)?i:0,c=null!=(a=null==(s=null==n?void 0:n.computedPosition)?void 0:s.y)?a:0;l=[[t[0][0]+o,t[0][1]+c],[t[1][0]+o,t[1][1]+c]]}return e.position=l?ur(c,l):c,e}(e,n,e.parentNode?u.value(e.parentNode):void 0,c.value))),g.value(C.value,!0,!0),_.value=!0,w.value)){const[t,n]=Ri({id:S.value,dragItems:C.value,getNode:u});w.value(e.sourceEvent,t,n)}e.on("end",(e=>{if(_.value=!1,b.value&&C.value){g.value(C.value,!1,!1);const[t,n]=Ri({id:S.value,dragItems:C.value,getNode:u});b.value(e.sourceEvent,t,n)}}))})).filter((e=>{const n=e.target;return!e.button&&(!a.value||!ji(n,`.${a.value}`,k)&&(!(null==t?void 0:t.dragHandle)||ji(n,t.dragHandle,k)))})),e.call(E.value))}}),{flush:"post"}),_}));return f((()=>t.stop())),n}function Fi(e,t){const n={doubleClick:p(),click:p(),mouseEnter:p(),mouseMove:p(),mouseLeave:p(),contextMenu:p(),updateStart:p(),update:p(),updateEnd:p()};return n.doubleClick.on((n=>{var o,r;t.edgeDoubleClick(n),null==(r=null==(o=e.events)?void 0:o.doubleClick)||r.call(o,n)})),n.click.on((n=>{var o,r;t.edgeClick(n),null==(r=null==(o=e.events)?void 0:o.click)||r.call(o,n)})),n.mouseEnter.on((n=>{var o,r;t.edgeMouseEnter(n),null==(r=null==(o=e.events)?void 0:o.mouseEnter)||r.call(o,n)})),n.mouseMove.on((n=>{var o,r;t.edgeMouseMove(n),null==(r=null==(o=e.events)?void 0:o.mouseMove)||r.call(o,n)})),n.mouseLeave.on((n=>{var o,r;t.edgeMouseLeave(n),null==(r=null==(o=e.events)?void 0:o.mouseLeave)||r.call(o,n)})),n.contextMenu.on((n=>{var o,r;t.edgeContextMenu(n),null==(r=null==(o=e.events)?void 0:o.contextMenu)||r.call(o,n)})),n.updateStart.on((n=>{var o,r;t.edgeUpdateStart(n),null==(r=null==(o=e.events)?void 0:o.updateStart)||r.call(o,n)})),n.update.on((n=>{var o,r;t.edgeUpdate(n),null==(r=null==(o=e.events)?void 0:o.update)||r.call(o,n)})),n.updateEnd.on((n=>{var o,r;t.edgeUpdateEnd(n),null==(r=null==(o=e.events)?void 0:o.updateEnd)||r.call(o,n)})),Object.entries(n).reduce(((e,[t,n])=>(e.emit[t]=n.trigger,e.on[t]=n.on,e)),{emit:{},on:{}})}const Wi=(0,i.aZ)({name:"SelectionPane",inheritAttrs:!1,setup(e){const t=Oi(),n=(0,r.Vh)(t,"id"),o=(0,r.Vh)(t,"edges"),s=(0,r.Vh)(t,"deleteKeyCode"),a=(0,r.Vh)(t,"selectionKeyCode"),l=(0,r.Vh)(t,"multiSelectionKeyCode"),c=(0,r.Vh)(t,"emits"),u=(0,r.Vh)(t,"nodesSelectionActive"),d=(0,r.Vh)(t,"userSelectionActive"),h=(0,r.Vh)(t,"elementsSelectable"),p=(0,r.Vh)(t,"removeSelectedElements"),f=(0,r.Vh)(t,"setState");(0,r.Vh)(t,"getSelectedEdges"),(0,r.Vh)(t,"getSelectedNodes");const m=(0,r.Vh)(t,"getNodes"),g=(0,r.Vh)(t,"removeNodes"),v=(0,r.Vh)(t,"removeEdges"),y=e=>{c.value.paneClick(e),f.value({nodesSelectionActive:!1}),p.value()},w=e=>c.value.paneContextMenu(e),b=e=>c.value.paneScroll(e);Ni(s,(e=>{const t=m.value.reduce(((e,t)=>((!t.selected&&t.parentNode&&e.find((e=>e.id===t.parentNode))||t.selected)&&e.push(t),e)),[]),n=o.value.filter((e=>e.selected));e&&(t||n)&&(n.length>0&&v.value(n),t.length>0&&g.value(t),f.value({nodesSelectionActive:!1}),p.value())})),Ni(l,(e=>{f.value({multiSelectionActive:e})}));const k=Ni(a,(e=>{d.value&&e||f.value({userSelectionActive:e&&h.value})}));return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,r.SU)(k)?((0,i.wg)(),(0,i.j4)((0,r.SU)(xi),{key:`user-selection-${n.value}`})):(0,i.kq)("",!0),u.value?((0,i.wg)(),(0,i.j4)((0,r.SU)(yi),{key:`nodes-selection-${n.value}`})):(0,i.kq)("",!0),((0,i.wg)(),(0,i.iD)("div",{key:`pane-${n.value}`,class:"vue-flow__pane vue-flow__container",onClick:y,onContextmenu:w,onWheel:b},null,32))],64))}}),Hi={class:"vue-flow__nodes vue-flow__container"},zi=(0,i.aZ)({name:"Nodes",setup(e){const t=(0,i.f3)(er),n=Oi(),o=(0,r.Vh)(n,"nodesDraggable"),s=(0,r.Vh)(n,"elementsSelectable"),a=(0,r.Vh)(n,"nodesConnectable");(0,r.Vh)(n,"noPanClassName"),(0,r.Vh)(n,"snapToGrid"),(0,r.Vh)(n,"snapGrid"),(0,r.Vh)(n,"getNode");const l=(0,r.Vh)(n,"getNodes"),c=(0,r.Vh)(n,"getNodeTypes"),u=(e,n)=>{const o=e||"default";let r=null!=n?n:c.value[o];const s=(0,i.FN)();if("string"==typeof r&&s){const e=Object.keys(s.appContext.components);e&&e.includes(o)&&(r=(0,i.up)(o,!1))}if("string"!=typeof r)return r;const a=null==t?void 0:t[`node-${o}`];return(null==a?void 0:a({}))?a:(console.warn(`[vueflow]: Node type "${e}" not found and no node-slot detected. Using fallback type "default".`),!1)};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",Hi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.value,(e=>{return(0,i.wg)(),(0,i.j4)((0,r.SU)(Fr),{id:e.id,key:e.id,type:u(e.type,e.template),name:e.type||"default",draggable:(l=e.draggable,void 0===l?o.value:l),selectable:(n=e.selectable,void 0===n?s.value:n),connectable:(t=e.connectable,void 0===t?a.value:t)},null,8,["id","type","name","draggable","selectable","connectable"]);var t,n,l})),128))]))}}),$i=["id","markerWidth","markerHeight","markerUnits","orient"],Ki=["stroke","stroke-width","fill"],qi=["stroke","stroke-width"],Yi=(0,i.aZ)({name:"MarkerType",props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto"},strokeWidth:{default:1}},setup:e=>(t,n)=>((0,i.wg)(),(0,i.iD)("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},["arrowclosed"===e.type?((0,i.wg)(),(0,i.iD)("polyline",{key:0,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:e.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,Ki)):(0,i.kq)("",!0),"arrow"===e.type?((0,i.wg)(),(0,i.iD)("polyline",{key:1,stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":e.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,qi)):(0,i.kq)("",!0)],8,$i))}),Gi=(0,i.aZ)({name:"MarkerDefinitions",setup(e){const t=Oi(),n=(0,r.Vh)(t,"edges"),o=(0,r.Vh)(t,"connectionLineOptions"),s=(0,r.Vh)(t,"defaultMarkerColor"),a=(0,i.Fl)((()=>{const e=[],t=[],r=n=>{if(n){const o=Ar(n);e.includes(o)||("object"==typeof n?t.push({...n,id:o,color:n.color||s.value}):t.push({id:o,color:s.value,type:n}),e.push(o))}};return[o.value.markerEnd,o.value.markerStart].forEach(r),n.value.reduce(((e,t)=>([t.markerStart,t.markerEnd].forEach(r),e.sort(((e,t)=>e.id.localeCompare(t.id))))),t),t}));return(e,t)=>((0,i.wg)(),(0,i.iD)("defs",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(a),(e=>((0,i.wg)(),(0,i.j4)(Yi,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,"stroke-width":e.strokeWidth,orient:e.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"])))),128))]))}}),Xi={key:0,class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ji=(0,i.aZ)({name:"Edges",setup(e){const t=(0,i.f3)(er),n=Oi(),o=(0,r.Vh)(n,"emits"),a=(0,r.Vh)(n,"connectionMode"),l=(0,r.Vh)(n,"edgeUpdaterRadius"),c=(0,r.Vh)(n,"onPaneReady"),u=(0,r.Vh)(n,"connectionNodeId"),d=(0,r.Vh)(n,"nodesConnectable"),p=(0,r.Vh)(n,"connectionHandleType"),f=(0,r.Vh)(n,"edgesUpdatable"),m=(0,r.Vh)(n,"elementsSelectable"),g=(0,r.Vh)(n,"getSelectedNodes"),v=(0,r.Vh)(n,"nodesSelectionActive"),y=(0,r.Vh)(n,"getNode");(0,r.Vh)(n,"getNodes");const w=(0,r.Vh)(n,"getEdges"),b=(0,r.Vh)(n,"getEdgeTypes"),k=(0,r.Vh)(n,"addSelectedEdges"),x=(0,r.Vh)(n,"noPanClassName"),S=(0,r.Vh)(n,"elevateEdgesOnSelect"),_=e=>void 0===e?m.value:e,C=h(u,(()=>!!u.value&&y.value(u.value))),D=h(u,(()=>!!(C.value&&(void 0===C.value.connectable?d.value:C.value.connectable)&&u.value&&p.value))),E=(0,r.iH)({});let A=(0,r.iH)([]);const O=(0,r.B)();c.value((()=>{O.run((()=>{const e=(0,i.Fl)((()=>w.value.length));(0,i.YP)([g,e],(()=>{w.value.forEach((e=>{E.value[e.id]||(E.value[e.id]=Fi(e,o.value))})),S.value?(0,i.Y3)((()=>A.value=((e,t)=>{let n=-1;const o=e.reduce(((e,o)=>{const r=t(o.source),i=t(o.target);if(!r||!i)return e;const s=o.z?o.z:Math.max(r.computedPosition.z||0,i.computedPosition.z||0);return e[s]?e[s].push(o):e[s]=[o],n=s>n?s:n,e}),{});return Object.entries(Object.keys(o).length?o:{0:[]}).map((([e,t])=>{const o=+e;return{edges:t,level:o,isMaxLevel:o===n}}))})(w.value,y.value))):A.value=[{isMaxLevel:!0,edges:w.value,level:0}]}),{flush:"post",immediate:!0})}))})),(0,i.Jd)((()=>O.stop()));const T=(e,n)=>{const o=e||"default";let r=null!=n?n:b.value[o];const s=(0,i.FN)();if("string"==typeof r&&s){const e=Object.keys(s.appContext.components);e&&e.includes(o)&&(r=(0,i.up)(o,!1))}if(r&&"string"!=typeof r)return r;const a=null==t?void 0:t[`edge-${o}`];return(null==a?void 0:a({}))?a:(console.warn(`[vueflow]: Edge type "${e}" not found and no edge-slot detected. Using fallback type "default".`),!1)},{onMouseDown:M}=Li(),L=(e,t,n)=>{var o;const r=n?t.target:t.source,i=null!=(o=n?t.targetHandle:t.sourceHandle)?o:"";E.value[t.id].emit.updateStart({event:e,edge:t}),M(e,i,r,n,void 0,n?"target":"source",(e=>{yr(e,w.value)||E.value[t.id].emit.update({edge:t,connection:e})}),(()=>E.value[t.id].emit.updateEnd({event:e,edge:t})))},I=e=>{const t=e.class instanceof Function?e.class(e):e.class;return[x.value,t]},N=e=>e.style instanceof Function?e.style(e):e.style;return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(A.value,(e=>((0,i.wg)(),(0,i.iD)("svg",{key:e.level,class:"vue-flow__edges vue-flow__container",style:(0,s.normalizeStyle)(`z-index: ${e.level}`)},[e.isMaxLevel?((0,i.wg)(),(0,i.j4)(Gi,{key:0})):(0,i.kq)("",!0),(0,i._)("g",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.edges,(e=>{return(0,i.wg)(),(0,i.j4)((0,r.SU)(fi),{id:e.id,key:e.id,type:T(e.type,e.template),name:e.type||"default",source:e.source,target:e.target,"target-handle-id":e.targetHandle,"source-handle-id":e.sourceHandle,"source-node":y.value(e.source),"target-node":y.value(e.target),label:e.label,data:e.data,events:{...e.events,...E.value[e.id].on},animated:e.animated,selectable:_(e.selectable),selected:e.selected,updatable:(t=e.updatable,void 0===t?f.value:t),"label-style":e.labelStyle,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"connection-mode":a.value,"edge-updater-radius":l.value,"marker-end":e.markerEnd,"marker-start":e.markerStart,style:(0,s.normalizeStyle)(N(e)),class:(0,s.normalizeClass)(I(e)),onClick:t=>((e,t)=>{const n={event:e,edge:t};_(t.selectable)&&(v.value=!1,k.value([t])),E.value[t.id].emit.click(n)})(t,e),onDblclick:t=>((e,t)=>E.value[t.id].emit.doubleClick({event:e,edge:t}))(t,e),onContextmenu:t=>((e,t)=>E.value[t.id].emit.contextMenu({event:e,edge:t}))(t,e),onMouseenter:t=>((e,t)=>E.value[t.id].emit.mouseEnter({event:e,edge:t}))(t,e),onMousemove:t=>((e,t)=>E.value[t.id].emit.mouseMove({event:e,edge:t}))(t,e),onMouseleave:t=>((e,t)=>E.value[t.id].emit.mouseLeave({event:e,edge:t}))(t,e),onSourceMousedown:t=>((e,t)=>L(e,t,!0))(t,e),onTargetMousedown:t=>((e,t)=>L(e,t,!1))(t,e)},null,8,["id","type","name","source","target","target-handle-id","source-handle-id","source-node","target-node","label","data","events","animated","selectable","selected","updatable","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","connection-mode","edge-updater-radius","marker-end","marker-start","style","class","onClick","onDblclick","onContextmenu","onMouseenter","onMousemove","onMouseleave","onSourceMousedown","onTargetMousedown"]);var t})),128))])],4)))),128)),D.value&&C.value?((0,i.wg)(),(0,i.iD)("svg",Xi,[(0,i.Wm)(vi,{"source-node":C.value},null,8,["source-node"])])):(0,i.kq)("",!0)],64))}}),Zi=(0,i.aZ)({name:"Transform",setup(e){const{id:t,nodes:n,edges:o,viewport:a,snapToGrid:l,snapGrid:c,dimensions:u,setState:d,fitViewOnInit:h,emits:p,fitView:f,...m}=Oi();let v=(0,r.iH)(!1);return(0,i.bv)((async()=>{await(async e=>("screen"in Ii()&&await g(e).toMatch((({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0)),!0))(u.value),v.value=!0,p.paneReady({id:t,nodes:n,edges:o,viewport:a,snapToGrid:l,snapGrid:c,dimensions:u,setState:d,fitViewOnInit:h,fitView:f,emits:p,...m}),(null==h?void 0:h.value)&&f()})),(e,n)=>((0,i.wg)(),(0,i.iD)("div",{key:`transform-${(0,r.SU)(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:(0,s.normalizeStyle)({transform:`translate(${(0,r.SU)(a).x}px,${(0,r.SU)(a).y}px) scale(${(0,r.SU)(a).zoom})`,opacity:v.value?void 0:0})},[(0,i.Wm)(Ji),(0,i.Wm)(zi),(0,i.WI)(e.$slots,"default")],4))}}),Qi=(0,i.aZ)({name:"Viewport",setup(e){const t=Oi(),n=(0,r.Vh)(t,"id"),o=(0,r.Vh)(t,"minZoom"),s=(0,r.Vh)(t,"maxZoom"),a=(0,r.Vh)(t,"defaultZoom"),l=(0,r.Vh)(t,"defaultPosition"),c=(0,r.Vh)(t,"translateExtent"),u=(0,r.Vh)(t,"dimensions"),d=(0,r.Vh)(t,"zoomActivationKeyCode"),h=(0,r.Vh)(t,"selectionKeyCode"),p=(0,r.Vh)(t,"panOnScroll"),f=(0,r.Vh)(t,"panOnScrollMode"),g=(0,r.Vh)(t,"panOnScrollSpeed"),v=(0,r.Vh)(t,"panOnDrag"),y=(0,r.Vh)(t,"zoomOnDoubleClick"),w=(0,r.Vh)(t,"zoomOnPinch"),b=(0,r.Vh)(t,"zoomOnScroll"),k=(0,r.Vh)(t,"preventScrolling"),x=(0,r.Vh)(t,"noWheelClassName"),S=(0,r.Vh)(t,"noPanClassName"),_=(0,r.Vh)(t,"setState"),C=(0,r.Vh)(t,"emits"),D=W("viewport",null);let E=(0,r.iH)(!1);const A=e=>({x:e.x,y:e.y,zoom:e.k}),T=(e,t)=>e.target.closest(`.${t}`),L=cr(a.value,o.value,s.value);let I=(0,r.iH)({...ur({x:l.value[0],y:l.value[1]},c.value),zoom:L});const{width:N,height:P}=function(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:s=!0,immediate:a=!0}=t,l=(0,r.iH)(0),c=(0,r.iH)(0),u=(0,r.iH)(0),d=(0,r.iH)(0),h=(0,r.iH)(0),p=(0,r.iH)(0),f=(0,r.iH)(0),g=(0,r.iH)(0);function v(){const t=O(e);if(!t)return void(n&&(l.value=0,c.value=0,u.value=0,d.value=0,h.value=0,p.value=0,f.value=0,g.value=0));const o=t.getBoundingClientRect();l.value=o.height,c.value=o.bottom,u.value=o.left,d.value=o.right,h.value=o.top,p.value=o.width,f.value=o.x,g.value=o.y}return X(e,v),(0,i.YP)((()=>O(e)),(e=>!e&&v())),s&&M("scroll",v,{passive:!0}),o&&M("resize",v,{passive:!0}),m((()=>{a&&v()})),{height:l,bottom:c,left:u,right:d,top:h,width:p,x:f,y:g,update:v}}(D),U=(0,i.YP)([N,P],(([e,t])=>{u.value.width=e,u.value.height=t}),{immediate:!0});return(0,i.Jd)((()=>U())),(0,i.bv)((()=>{const e=Ii();"screen"in e&&M(e,"onresize",(()=>{if(!D.value)return;const{width:e,height:t}=lr(D.value);u.value.width=e,u.value.height=t}));const t=function(){var e,t,n,o=Fo,r=Wo,i=Ko,s=zo,a=$o,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Ln,h=Q("start","zoom","end"),p=500,f=0,m=10;function g(e){e.property("__zoom",Ho).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",D).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Bo(t,e.x,e.y)}function y(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new Bo(e.k,o,r)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,o){e.on("start.zoom",(function(){k(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){k(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,i=arguments,s=k(e,i).event(o),a=r.apply(e,i),l=null==n?w(a):"function"==typeof n?n.apply(e,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,i):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new Bo(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function k(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function S(e,...t){if(o.apply(this,arguments)){var n=k(this,t).event(e),r=this.__zoom,a=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,s.apply(this,arguments)))),u=wt(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=r.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[u,r.invert(u)],to(this),n.start()}Vo(e),n.wheel=setTimeout(d,150),n.zoom("mouse",i(y(v(r,a),n.mouse[0],n.mouse[1]),n.extent,c))}function d(){n.wheel=null,n.end()}}function _(e,...t){if(!n&&o.apply(this,arguments)){var r=e.currentTarget,s=k(this,t,!0).event(e),a=yt(e.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),l=wt(e,r),u=e.clientX,d=e.clientY;_t(e.view),Ro(e),s.mouse=[l,this.__zoom.invert(l)],to(this),s.start()}function h(e){if(Vo(e),!s.moved){var t=e.clientX-u,n=e.clientY-d;s.moved=t*t+n*n>f}s.event(e).zoom("mouse",i(y(s.that.__zoom,s.mouse[0]=wt(e,r),s.mouse[1]),s.extent,c))}function p(e){a.on("mousemove.zoom mouseup.zoom",null),Ct(e.view,s.moved),Vo(e),s.event(e).end()}}function C(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,s=wt(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),l=n.k*(e.shiftKey?.5:2),d=i(y(v(n,l),s,a),r.apply(this,t),c);Vo(e),u>0?yt(this).transition().duration(u).call(b,d,s,e):yt(this).call(g.transform,d,s,e)}}function D(n,...r){if(o.apply(this,arguments)){var i,s,a,l,c=n.touches,u=c.length,d=k(this,r,n.changedTouches.length===u).event(n);for(Ro(n),s=0;s<u;++s)l=[l=wt(a=c[s],this),this.__zoom.invert(l),a.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),p)),to(this),d.start())}}function E(e,...t){if(this.__zooming){var n,o,r,s,a=k(this,t).event(e),l=e.changedTouches,u=l.length;for(Vo(e),n=0;n<u;++n)r=wt(o=l[n],this),a.touch0&&a.touch0[2]===o.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===o.identifier&&(a.touch1[0]=r);if(o=a.that.__zoom,a.touch1){var d=a.touch0[0],h=a.touch0[1],p=a.touch1[0],f=a.touch1[1],m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m,g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g;o=v(o,Math.sqrt(m/g)),r=[(d[0]+p[0])/2,(d[1]+p[1])/2],s=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],s=a.touch0[1]}a.zoom("touch",i(y(o,r,s),a.extent,c))}}function A(e,...o){if(this.__zooming){var r,i,s=k(this,o).event(e),a=e.changedTouches,l=a.length;for(Ro(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),r=0;r<l;++r)i=a[r],s.touch0&&s.touch0[2]===i.identifier?delete s.touch0:s.touch1&&s.touch1[2]===i.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(i=wt(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<m)){var c=yt(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",Ho),e!==r?b(e,t,n,o):r.interrupt().each((function(){k(this,arguments).event(o).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t,n,o){g.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,o)},g.scaleTo=function(e,t,n,o){g.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,s=null==n?w(e):"function"==typeof n?n.apply(this,arguments):n,a=o.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return i(y(v(o,l),s,a),e,c)}),n,o)},g.translateBy=function(e,t,n,o){g.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,o)},g.translateTo=function(e,t,n,o,s){g.transform(e,(function(){var e=r.apply(this,arguments),s=this.__zoom,a=null==o?w(e):"function"==typeof o?o.apply(this,arguments):o;return i(jo.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),o,s)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=yt(this.that).datum();h.call(e,this.that,new Uo(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:h}),t)}},g.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:Po(+e),g):s},g.filter=function(e){return arguments.length?(o="function"==typeof e?e:Po(!!e),g):o},g.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Po(!!e),g):a},g.extent=function(e){return arguments.length?(r="function"==typeof e?e:Po([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):r},g.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],g):[l[0],l[1]]},g.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(e){return arguments.length?(i=e,g):i},g.duration=function(e){return arguments.length?(u=+e,g):u},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=h.on.apply(h,arguments);return e===h?g:e},g.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,g):Math.sqrt(f)},g.tapDistance=function(e){return arguments.length?(m=+e,g):m},g}().scaleExtent([o.value,s.value]).translateExtent(c.value),n=yt(D.value).call(t),r=n.on("wheel.zoom"),i=jo.translate(I.value.x,I.value.y).scale(I.value.zoom);t.transform(n,i),_.value({d3Zoom:t,d3Selection:n,d3ZoomHandler:r,viewport:{x:i.x,y:i.y,zoom:i.k}});const a=Ni(h,(e=>{e&&!E.value?t.on("zoom",null):e||t.on("zoom",(e=>{_.value({viewport:{x:e.transform.x,y:e.transform.y,zoom:e.transform.k}});const t=A(e.transform);C.value.move({event:e,flowTransform:t})}))})),l=Ni(d);t.on("start",(e=>{E.value=!0;const t=A(e.transform);I.value=t,C.value.moveStart({event:e,flowTransform:t})})),t.on("end",(e=>{if(E.value=!1,t=I.value,n=e.transform,t.x!==n.x&&!isNaN(n.x)||t.y!==n.y&&!isNaN(n.y)||t.zoom!==n.k&&!isNaN(n.k)){const t=A(e.transform);I.value=t,C.value.moveEnd({event:e,flowTransform:t})}var t,n})),n.on("wheel",(e=>{var o;if(p.value&&!l.value){if(T(e,x.value))return;e.preventDefault(),e.stopImmediatePropagation();const o=(null==n?void 0:n.property("__zoom").k)||1;if(e.ctrlKey&&w.value){const r=wt(e),i=o*2**(-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10);return void(n&&t.scaleTo(n,i,r))}const r=1===e.deltaMode?20:1,i=f.value===Jo.Vertical?0:e.deltaX*r,s=f.value===Jo.Horizontal?0:e.deltaY*r;n&&g.value&&t.translateBy(n,-i/o*g.value,-s/o*g.value)}else{if(!b.value&&k.value||!k.value||T(e,null==(o=x.value)?void 0:o.value))return null;e.preventDefault()}})).on("wheel.zoom",p.value||void 0===r?null:r),t.filter((e=>{const t=l.value||b.value,n=w.value&&e.ctrlKey;return!!(v.value||t||p.value||y.value||w.value)&&(!a.value&&(!(!y.value&&"dblclick"===e.type)&&((!T(e,x.value)||"wheel"!==e.type)&&((!T(e,S.value)||"wheel"===e.type)&&(!(!w.value&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||p.value||n||"wheel"!==e.type)&&(!!(v.value||"mousedown"!==e.type&&"touchstart"!==e.type)&&!(e.ctrlKey&&"wheel"!==e.type||e.button))))))))}))})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{ref:"viewport",key:`viewport-${n.value}`,class:"vue-flow__viewport vue-flow__container"},[(0,i.Wm)(Zi,null,{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3}),(0,i.Wm)(Wi)]))}}),es=e=>void 0!==e;const ts={class:"vue-flow"},ns=(0,i.aZ)({name:"VueFlow",props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:null,deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:Boolean,default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultZoom:null,defaultPosition:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0}},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectStop","connectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","paneReady","paneScroll","paneClick","paneContextMenu","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","update:modelValue","update:nodes","update:edges"],setup(e,{emit:t}){const n=e,o=J(n,"modelValue",t),s=J(n,"nodes",t),a=J(n,"edges",t),{id:c,hooks:u,getNodeTypes:d,getEdgeTypes:h,$reset:p,...f}=Oi({id:n.id}),m=((e,t,n)=>{const o=(0,r.B)();return o.run((()=>{[()=>{o.run((()=>{let t,o;t=A([e.modelValue,()=>{var t,n;return null==(n=null==(t=e.modelValue)?void 0:t.value)?void 0:n.length}],(([r])=>{r&&Array.isArray(r)&&(o&&o.pause(),t&&t.pause(),n.setElements(r),o=A([n.edges,n.nodes,()=>n.edges.value.length,()=>n.nodes.value.length],(([n,o])=>{t&&t.pause();const r=[...o,...n];r.length&&(e.modelValue.value=r),(0,i.Y3)((()=>{t&&t.resume()}))}),{immediate:!0,flush:"post"}),(0,i.Y3)((()=>{o&&o.resume(),t&&t.resume()})))}),{immediate:!(!e.modelValue||!e.modelValue.value),flush:"post"})}))},()=>{o.run((()=>{let t,o;t=A([e.nodes,()=>{var t,n;return null==(n=null==(t=e.nodes)?void 0:t.value)?void 0:n.length}],(async([r])=>{r&&Array.isArray(r)&&(o&&o.pause(),t&&t.pause(),n.setNodes(r),o=A((()=>n.nodes.value.length),(()=>{n.nodes.value.length&&(e.nodes.value=[...n.nodes.value])}),{immediate:!0}),(0,i.Y3)((()=>{o&&o.resume(),t&&t.resume()})))}),{immediate:!(!e.nodes||!e.nodes.value),flush:"post"})}))},()=>{o.run((()=>{let t,o;t=A([e.edges,()=>{var t,n;return null==(n=null==(t=e.edges)?void 0:t.value)?void 0:n.length}],(async([r])=>{r&&Array.isArray(r)&&(o&&o.pause(),t&&t.pause(),n.setEdges(r),o=A((()=>n.edges.value.length),(()=>{n.edges.value.length&&(e.edges.value=[...n.edges.value])}),{immediate:!0}),(0,i.Y3)((()=>{o&&o.resume(),t&&t.resume()})))}),{immediate:!(!e.edges||!e.edges.value),flush:"post"})}))},()=>{o.run((()=>{(0,i.YP)((()=>t.minZoom),(()=>{t.minZoom&&es(t.minZoom)&&n.setMinZoom(t.minZoom)}),{immediate:es(t.minZoom)})}))},()=>{o.run((()=>{(0,i.YP)((()=>t.maxZoom),(()=>{t.maxZoom&&es(t.maxZoom)&&n.setMaxZoom(t.maxZoom)}),{immediate:es(t.maxZoom)})}))},()=>{o.run((()=>{(0,i.YP)((()=>t.applyDefault),(()=>{es(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)}),{immediate:es(t.applyDefault)}),(0,i.YP)(n.applyDefault,(()=>{n.applyDefault.value?(n.onNodesChange(n.applyNodeChanges),n.onEdgesChange(n.applyEdgeChanges)):(n.hooks.value.nodesChange.off(n.applyNodeChanges),n.hooks.value.edgesChange.off(n.applyEdgeChanges))}),{immediate:!0})}))},()=>{o.run((()=>{const e=async e=>{let o=e;l(t.autoConnect)&&(o=await t.autoConnect(e)),!1!==o&&n.addEdges([o])};(0,i.YP)((()=>t.autoConnect),(()=>{es(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),{immediate:es(t.autoConnect)}),(0,i.YP)(n.autoConnect,(t=>{t?n.onConnect(e):n.hooks.value.connect.off(e)}),{immediate:!0})}))},()=>{const e=["id","modelValue","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach((r=>{if(!e.includes(r)){const e=t[r],s=n[r];o.run((()=>{(0,i.YP)((()=>e),(()=>{e&&es(e)&&(s.value=e)}),{immediate:es(e)})}))}}))}].forEach((e=>e()))})),()=>o.stop()})({modelValue:o,nodes:s,edges:a},n,{id:c,hooks:u,getNodeTypes:d,getEdgeTypes:h,$reset:p,...f});return(0,i.Ah)((()=>{m(),p()})),tr(t,u.value),(0,i.JJ)(er,(0,i.Rr)()),(e,t)=>((0,i.wg)(),(0,i.iD)("div",ts,[(0,i.Wm)(Qi,null,{nodes:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Object.keys((0,r.SU)(d)),(t=>(0,i.WI)(e.$slots,`node-${t}`))),256))])),edges:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Object.keys((0,r.SU)(h)),(t=>(0,i.WI)(e.$slots,`edge-${t}`))),256))])),"connection-name":(0,i.w5)((()=>[(0,i.WI)(e.$slots,"connection-line")])),default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"zoom-pane")])),_:3}),(0,i.WI)(e.$slots,"default")]))}}),os=function({position:{x:e,y:t},dimensions:{height:n,width:o},strokeWidth:r,strokeColor:s,borderRadius:a,color:l,shapeRendering:c="geometricPrecision"},{attrs:u,emit:d,slots:h}){var p,f;const m=null!=(p=u.style)?p:{};return[(0,i.h)("rect",{class:["vue-flow__minimap-node",u.class].join(" "),style:m,x:e,y:t,rx:a,ry:a,width:o,height:n,fill:l||m.background||m.backgroundColor,stroke:s,strokeWidth:r,shapeRendering:c,onClick:e=>d("click",e),onDblClick:e=>d("dblclick",e),onMouseenter:e=>d("mouseenter",e),onMousemove:e=>d("mousemove",e),onMouseleave:e=>d("mouseleave",e)}),null==(f=null==h?void 0:h.default)?void 0:f.call(h)]};os.props=["position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering"],os.emits=["click","dblclick","mouseenter","mousemove","mouseleave"];const rs=["width","height","viewBox"],is=["d","fill"],ss=(0,i.aZ)({name:"MiniMap",props:{nodeColor:{type:[String,Function],default:"#fff"},nodeStrokeColor:{type:[String,Function],default:"#555"},nodeClassName:null,nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 242, 243, 0.7)"},width:null,height:null},emits:["nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=(0,i.l1)(),o=Ii(),a=Oi(),l=(0,r.Vh)(a,"edges"),c=(0,r.Vh)(a,"viewport"),u=(0,r.Vh)(a,"dimensions"),d=(0,r.Vh)(a,"emits"),p=(0,r.Vh)(a,"getNodes"),f=(0,i.Fl)((()=>{var t,o,r;return null!=(r=null!=(o=e.width)?o:null==(t=n.style)?void 0:t.width)?r:200})),m=(0,i.Fl)((()=>{var t,o,r;return null!=(r=null!=(o=e.height)?o:null==(t=n.style)?void 0:t.height)?r:150})),g=e.nodeColor instanceof Function?e.nodeColor:()=>e.nodeColor,v=e.nodeStrokeColor instanceof Function?e.nodeStrokeColor:()=>e.nodeStrokeColor,y=e.nodeClassName instanceof Function?e.nodeClassName:()=>e.nodeClassName,w=void 0===o||o.chrome?"crispEdges":"geometricPrecision",b=(0,i.Fl)((()=>Sr(p.value))),k=(0,i.Fl)((()=>({x:-c.value.x/c.value.zoom,y:-c.value.y/c.value.zoom,width:u.value.width/c.value.zoom,height:u.value.height/c.value.zoom}))),x=h(k,(()=>{const e=p.value&&p.value.length?(t=b.value,n=k.value,xr(br(kr(t),kr(n)))):k.value;var t,n;const o=e.width/f.value,r=e.height/m.value,i=Math.max(o,r),s=i*f.value,a=i*m.value,l=5*i;return{offset:l,x:e.x-(s-e.width)/2-l,y:e.y-(a-e.height)/2-l,width:s+2*l,height:a+2*l}})),S=h(x,(()=>x.value.x&&x.value.y?`\n    M${x.value.x-x.value.offset},${x.value.y-x.value.offset}\n    h${x.value.width+2*x.value.offset}\n    v${x.value.height+2*x.value.offset}\n    h${-x.value.width-2*x.value.offset}z\n    M${k.value.x},${k.value.y}\n    h${k.value.width}\n    v${k.value.height}\n    h${-k.value.width}z`:""));return(n,o)=>((0,i.wg)(),(0,i.iD)("svg",{width:f.value,height:m.value,viewBox:[x.value.x,x.value.y,x.value.width,x.value.height].join(" "),class:"vue-flow__minimap"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.value,(o=>((0,i.wg)(),(0,i.j4)((0,r.SU)(os),{id:o.id,key:o.id,position:o.computedPosition,dimensions:o.dimensions,style:(0,s.normalizeStyle)(o.style),class:(0,s.normalizeClass)((0,r.SU)(y)(o)),color:(0,r.SU)(g)(o),"border-radius":e.nodeBorderRadius,"stroke-color":(0,r.SU)(v)(o),"stroke-width":e.nodeStrokeWidth,"shape-rendering":(0,r.SU)(w),onClick:e=>((e,n)=>{const o={event:e,node:n,connectedEdges:Cr([n],l.value)};d.value.miniMapNodeClick(o),t("nodeClick",o)})(e,o),onDblclick:e=>((e,n)=>{const o={event:e,node:n,connectedEdges:Cr([n],l.value)};d.value.miniMapNodeDoubleClick(o),t("nodeDblclick",o)})(e,o),onMouseenter:e=>((e,n)=>{const o={event:e,node:n,connectedEdges:Cr([n],l.value)};d.value.miniMapNodeMouseEnter(o),t("nodeMouseenter",o)})(e,o),onMousemove:e=>((e,n)=>{const o={event:e,node:n,connectedEdges:Cr([n],l.value)};d.value.miniMapNodeMouseMove(o),t("nodeMousemove",o)})(e,o),onMouseleave:e=>((e,n)=>{const o={event:e,node:n,connectedEdges:Cr([n],l.value)};d.value.miniMapNodeMouseLeave(o),t("nodeMouseleave",o)})(e,o)},{default:(0,i.w5)((()=>[(0,i.WI)(n.$slots,`node-${o.type}`,{id:o.id,parentNode:o.parentNode,selected:o.selected,position:o.computedPosition,dimensions:o.dimensions,style:(0,s.normalizeStyle)(o.style),class:(0,s.normalizeClass)((0,r.SU)(y)(o)),color:(0,r.SU)(g)(o),borderRadius:e.nodeBorderRadius,strokeColor:(0,r.SU)(v)(o),strokeWidth:e.nodeStrokeWidth,shapeRendering:(0,r.SU)(w)})])),_:2},1032,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"])))),128)),(0,i._)("path",{class:"vue-flow__minimap-mask",d:(0,r.SU)(S),fill:e.maskColor,"fill-rule":"evenodd"},null,8,is)],8,rs))}});const as={class:"vue-flow__controls-button"};var ls=((e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n})({name:"ControlButton"},[["render",function(e,t,n,o,r,s){return(0,i.wg)(),(0,i.iD)("button",as,[(0,i.WI)(e.$slots,"default")])}]]);const cs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},us=[(0,i._)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1)];var ds={render:function(e,t){return(0,i.wg)(),(0,i.iD)("svg",cs,us)}};const hs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ps=[(0,i._)("path",{d:"M0 0h32v4.2H0z"},null,-1)];var fs={render:function(e,t){return(0,i.wg)(),(0,i.iD)("svg",hs,ps)}};const ms={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},gs=[(0,i._)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1)];var vs={render:function(e,t){return(0,i.wg)(),(0,i.iD)("svg",ms,gs)}};const ys={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ws=[(0,i._)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1)];var bs={render:function(e,t){return(0,i.wg)(),(0,i.iD)("svg",ys,ws)}};const ks={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},xs=[(0,i._)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1)];var Ss={render:function(e,t){return(0,i.wg)(),(0,i.iD)("svg",ks,xs)}};const _s={class:"vue-flow__controls"},Cs=(Boolean,Boolean,Boolean,["x","y","width","height"]),Ds=["stroke","stroke-width","d"],Es=["cx","cy","r","fill"],As={key:2,height:"100",width:"100"},Os=["fill"],Ts=["x","y","fill"],Ms=(0,i.aZ)({name:"Background",props:{variant:{default:()=>"dots"},gap:{default:10},size:{default:.4},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0}},setup(e){const t={dots:"#81818a",lines:"#eee"},n=Oi(),o=(0,r.Vh)(n,"viewport"),a=(0,i.Fl)((()=>{const t=e.gap&&e.gap*o.value.zoom;return{scaledGap:t,xOffset:t&&o.value.x%t,yOffset:t&&o.value.y%t,size:e.size*o.value.zoom}})),l=`pattern-${Math.floor(1e5*Math.random())}`,c=(0,i.Fl)((()=>e.patternColor||t[e.variant||"dots"])),u=(0,i.Fl)((()=>`M${a.value.scaledGap/2} 0 V${a.value.scaledGap} M0 ${a.value.scaledGap/2} H${a.value.scaledGap}`));return(t,n)=>((0,i.wg)(),(0,i.iD)("svg",{class:"vue-flow__background",style:(0,s.normalizeStyle)({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[(0,i.WI)(t.$slots,"pattern-container",{id:l},(()=>[(0,i._)("pattern",{id:l,x:a.value.xOffset,y:a.value.yOffset,width:a.value.scaledGap,height:a.value.scaledGap,patternUnits:"userSpaceOnUse"},[(0,i.WI)(t.$slots,"pattern",{},(()=>["lines"===e.variant?((0,i.wg)(),(0,i.iD)("path",{key:0,stroke:(0,r.SU)(c),"stroke-width":e.size,d:(0,r.SU)(u)},null,8,Ds)):"dots"===e.variant?((0,i.wg)(),(0,i.iD)("circle",{key:1,cx:a.value.size,cy:a.value.size,r:a.value.size,fill:(0,r.SU)(c)},null,8,Es)):(0,i.kq)("",!0),e.bgColor?((0,i.wg)(),(0,i.iD)("svg",As,[(0,i._)("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,Os)])):(0,i.kq)("",!0)]))],8,Cs)])),(0,i._)("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${l})`},null,8,Ts),(0,i.WI)(t.$slots,"default",{id:l})],4))}})},53403:(e,t,n)=>{"use strict";n.d(t,{FZ:()=>pe,GK:()=>h,In:()=>M,Iu:()=>oe,Ls:()=>ue,M1:()=>X,Oz:()=>W,Pw:()=>U,R7:()=>de,Rx:()=>he,VB:()=>V,Ve:()=>b,Vw:()=>H,ZW:()=>T,bB:()=>me,cr:()=>se,gA:()=>C,kA:()=>$,kU:()=>S,n0:()=>ce,sb:()=>fe,t2:()=>le,tl:()=>j,zL:()=>B,zS:()=>O,zn:()=>q});var o=n(87175),r=n(12005),i=n(54691);
/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const s=[];s[0]={w:[0],i:[3,0],"[":[4],o:[7]},s[1]={w:[1],".":[2],"[":[4],o:[7]},s[2]={w:[2],i:[3,0],0:[3,0]},s[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},s[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},s[5]={"'":[4,0],o:8,l:[5,0]},s[6]={'"':[4,0],o:8,l:[6,0]};const a=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function l(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function c(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,a.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const u=new Map;function d(e,t){return(0,o.Kn)(e)?e[t]:null}function h(e,t){if(!(0,o.Kn)(e))return null;let n=u.get(t);if(n||(n=function(e){const t=[];let n,o,r,i,a,u,d,h=-1,p=0,f=0;const m=[];function g(){const t=e[h+1];if(5===p&&"'"===t||6===p&&'"'===t)return h++,r="\\"+t,m[0](),!0}for(m[0]=()=>{void 0===o?o=r:o+=r},m[1]=()=>{void 0!==o&&(t.push(o),o=void 0)},m[2]=()=>{m[0](),f++},m[3]=()=>{if(f>0)f--,p=4,m[0]();else{if(f=0,void 0===o)return!1;if(o=c(o),!1===o)return!1;m[1]()}};null!==p;)if(h++,n=e[h],"\\"!==n||!g()){if(i=l(n),d=s[p],a=d[i]||d.l||8,8===a)return;if(p=a[0],void 0!==a[1]&&(u=m[a[1]],u&&(r=n,!1===u())))return;if(7===p)return t}}(t),n&&u.set(t,n)),!n)return null;const r=n.length;let i=e,a=0;for(;a<r;){const e=i[n[a]];if(void 0===e)return null;i=e,a++}return i}const p=e=>e,f=e=>"",m=e=>0===e.length?"":e.join(""),g=o.zw;function v(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function y(e={}){const t=e.locale,n=function(e){const t=(0,o.hj)(e.pluralIndex)?e.pluralIndex:-1;return e.named&&((0,o.hj)(e.named.count)||(0,o.hj)(e.named.n))?(0,o.hj)(e.named.count)?e.named.count:(0,o.hj)(e.named.n)?e.named.n:t:t}(e),r=(0,o.Kn)(e.pluralRules)&&(0,o.HD)(t)&&(0,o.mf)(e.pluralRules[t])?e.pluralRules[t]:v,i=(0,o.Kn)(e.pluralRules)&&(0,o.HD)(t)&&(0,o.mf)(e.pluralRules[t])?v:void 0,s=e.list||[],a=e.named||{};(0,o.hj)(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,a);function l(t){const n=(0,o.mf)(e.messages)?e.messages(t):!!(0,o.Kn)(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):f)}const c=(0,o.PO)(e.processor)&&(0,o.mf)(e.processor.normalize)?e.processor.normalize:m,u=(0,o.PO)(e.processor)&&(0,o.mf)(e.processor.interpolate)?e.processor.interpolate:g,d={list:e=>s[e],named:e=>a[e],plural:e=>e[r(n,e.length,i)],linked:(t,...n)=>{const[r,i]=n;let s="text",a="";1===n.length?(0,o.Kn)(r)?(a=r.modifier||a,s=r.type||s):(0,o.HD)(r)&&(a=r||a):2===n.length&&((0,o.HD)(r)&&(a=r||a),(0,o.HD)(i)&&(s=i||s));let c=l(t)(d);return"vnode"===s&&(0,o.kJ)(c)&&a&&(c=c[0]),a?(u=a,e.modifiers?e.modifiers[u]:p)(c,s):c;var u},message:l,type:(0,o.PO)(e.processor)&&(0,o.HD)(e.processor.type)?e.processor.type:"text",interpolate:u,normalize:c};return d}let w=null;function b(e){w=e}const k=x(i.w.FunctionTranslate);function x(e){return t=>w&&w.emit(e,t)}const S={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};S.NOT_FOUND_KEY,S.FALLBACK_TO_TRANSLATE,S.CANNOT_FORMAT_NUMBER,S.FALLBACK_TO_NUMBER_FORMAT,S.CANNOT_FORMAT_DATE,S.FALLBACK_TO_DATE_FORMAT;function _(e,t,n){return[...new Set([n,...(0,o.kJ)(t)?t:(0,o.Kn)(t)?Object.keys(t):(0,o.HD)(t)?[t]:[n]])]}function C(e,t,n){const r=(0,o.HD)(n)?n:T,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let e=[n];for(;(0,o.kJ)(e);)e=D(s,e,t);const a=(0,o.kJ)(t)||!(0,o.PO)(t)?t:t.default?t.default:null;e=(0,o.HD)(a)?[a]:a,(0,o.kJ)(e)&&D(s,e,!1),i.__localeChainCache.set(r,s)}return s}function D(e,t,n){let r=!0;for(let i=0;i<t.length&&(0,o.jn)(r);i++){const s=t[i];(0,o.HD)(s)&&(r=E(e,t[i],n))}return r}function E(e,t,n){let o;const r=t.split("-");do{o=A(e,r.join("-"),n),r.splice(-1,1)}while(r.length&&!0===o);return o}function A(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),((0,o.kJ)(n)||(0,o.PO)(n))&&n[i]&&(r=n[i])}return r}const O=-1,T="en-US",M="",L=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let I,N,P;function U(e){I=e}function B(e){N=e}function j(e){P=e}let R=null;const V=e=>{R=e};let F=null;const W=e=>{F=e},H=()=>F;let z=0;function $(e={}){const t=(0,o.HD)(e.version)?e.version:"9.2.2",n=(0,o.HD)(e.locale)?e.locale:T,r=(0,o.kJ)(e.fallbackLocale)||(0,o.PO)(e.fallbackLocale)||(0,o.HD)(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,s=(0,o.PO)(e.messages)?e.messages:{[n]:{}},a=(0,o.PO)(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},l=(0,o.PO)(e.numberFormats)?e.numberFormats:{[n]:{}},c=(0,o.f0)({},e.modifiers||{},{upper:(e,t)=>"text"===t&&(0,o.HD)(e)?e.toUpperCase():"vnode"===t&&(0,o.Kn)(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&(0,o.HD)(e)?e.toLowerCase():"vnode"===t&&(0,o.Kn)(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&(0,o.HD)(e)?L(e):"vnode"===t&&(0,o.Kn)(e)&&"__v_isVNode"in e?L(e.children):e}),u=e.pluralRules||{},h=(0,o.mf)(e.missing)?e.missing:null,p=!(0,o.jn)(e.missingWarn)&&!(0,o.Kj)(e.missingWarn)||e.missingWarn,f=!(0,o.jn)(e.fallbackWarn)&&!(0,o.Kj)(e.fallbackWarn)||e.fallbackWarn,m=!!e.fallbackFormat,g=!!e.unresolving,v=(0,o.mf)(e.postTranslation)?e.postTranslation:null,y=(0,o.PO)(e.processor)?e.processor:null,b=!(0,o.jn)(e.warnHtmlMessage)||e.warnHtmlMessage,k=!!e.escapeParameter,x=(0,o.mf)(e.messageCompiler)?e.messageCompiler:I,S=(0,o.mf)(e.messageResolver)?e.messageResolver:N||d,C=(0,o.mf)(e.localeFallbacker)?e.localeFallbacker:P||_,D=(0,o.Kn)(e.fallbackContext)?e.fallbackContext:void 0,E=(0,o.mf)(e.onWarn)?e.onWarn:o.ZK,A=e,O=(0,o.Kn)(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,M=(0,o.Kn)(A.__numberFormatters)?A.__numberFormatters:new Map,U=(0,o.Kn)(A.__meta)?A.__meta:{};z++;const B={version:t,cid:z,locale:n,fallbackLocale:r,messages:s,modifiers:c,pluralRules:u,missing:h,missingWarn:p,fallbackWarn:f,fallbackFormat:m,unresolving:g,postTranslation:v,processor:y,warnHtmlMessage:b,escapeParameter:k,messageCompiler:x,messageResolver:S,localeFallbacker:C,fallbackContext:D,onWarn:E,__meta:U};return B.datetimeFormats=a,B.numberFormats=l,B.__datetimeFormatters=O,B.__numberFormatters=M,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){w&&w.emit(i.w.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}(B,t,U),B}function K(e,t,n,r,i){const{missing:s,onWarn:a}=e;if(null!==s){const r=s(e,n,t,i);return(0,o.HD)(r)?r:t}return t}function q(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const Y=e=>e;let G=Object.create(null);function X(e,t={}){{const n=(t.onCacheKey||Y)(e),o=G[n];if(o)return o;let i=!1;const s=t.onError||r.ho;t.onError=e=>{i=!0,s(e)};const{code:a}=(0,r.ps)(e,t),l=new Function(`return ${a}`)();return i?l:G[n]=l}}let J=r.Uz.__EXTEND_POINT__;const Z=()=>++J,Q={INVALID_ARGUMENT:J,INVALID_DATE_ARGUMENT:Z(),INVALID_ISO_DATE_ARGUMENT:Z(),__EXTEND_POINT__:Z()};function ee(e){return(0,r.t)(e,null,void 0)}const te=()=>"",ne=e=>(0,o.mf)(e);function oe(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:l}=e,[c,u]=se(...t),d=(0,o.jn)(u.missingWarn)?u.missingWarn:e.missingWarn,h=(0,o.jn)(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,p=(0,o.jn)(u.escapeParameter)?u.escapeParameter:e.escapeParameter,f=!!u.resolvedMessage,m=(0,o.HD)(u.default)||(0,o.jn)(u.default)?(0,o.jn)(u.default)?s?c:()=>c:u.default:n?s?c:()=>c:"",g=n||""!==m,v=(0,o.HD)(u.locale)?u.locale:e.locale;p&&function(e){(0,o.kJ)(e.list)?e.list=e.list.map((e=>(0,o.HD)(e)?(0,o.Xv)(e):e)):(0,o.Kn)(e.named)&&Object.keys(e.named).forEach((t=>{(0,o.HD)(e.named[t])&&(e.named[t]=(0,o.Xv)(e.named[t]))}))}(u);let[w,b,x]=f?[c,v,l[v]||{}]:re(e,c,v,a,h,d),S=w,_=c;if(f||(0,o.HD)(S)||ne(S)||g&&(S=m,_=S),!(f||((0,o.HD)(S)||ne(S))&&(0,o.HD)(b)))return i?O:c;let C=!1;const D=ne(S)?S:ie(e,c,b,S,_,(()=>{C=!0}));if(C)return S;const E=function(e,t,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:l,fallbackWarn:c,missingWarn:u,fallbackContext:d}=e,h=r=>{let i=a(n,r);if(null==i&&d){const[,,e]=re(d,r,t,l,c,u);i=a(e,r)}if((0,o.HD)(i)){let n=!1;const o=ie(e,r,t,i,r,(()=>{n=!0}));return n?te:o}return ne(i)?i:te},p={locale:t,modifiers:i,pluralRules:s,messages:h};e.processor&&(p.processor=e.processor);r.list&&(p.list=r.list);r.named&&(p.named=r.named);(0,o.hj)(r.plural)&&(p.pluralIndex=r.plural);return p}(e,b,x,u),A=function(e,t,n){0;0;return t(n)}(0,D,y(E)),T=r?r(A,c):A;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:(0,o.HD)(c)?c:ne(S)?S.key:"",locale:b||(ne(S)?S.locale:""),format:(0,o.HD)(S)?S:ne(S)?S.source:"",message:T};t.meta=(0,o.f0)({},e.__meta,R||{}),k(t)}return T}function re(e,t,n,r,i,s){const{messages:a,onWarn:l,messageResolver:c,localeFallbacker:u}=e,d=u(e,r,n);let h,p={},f=null,m=n,g=null;for(let n=0;n<d.length;n++){h=g=d[n],p=a[h]||{};if(null===(f=c(p,t))&&(f=p[t]),(0,o.HD)(f)||(0,o.mf)(f))break;const r=K(e,t,h,0,"translate");r!==t&&(f=r),m=g}return[f,h,p]}function ie(e,t,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:l}=e;if(ne(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==a){const e=()=>r;return e.locale=n,e.key=t,e}const c=a(r,function(e,t,n,r,i,s){return{warnHtmlMessage:i,onError:e=>{throw s&&s(e),e},onCacheKey:e=>(0,o.$d)(t,n,e)}}(0,n,i,0,l,s));return c.locale=n,c.key=t,c.source=r,c}function se(...e){const[t,n,r]=e,i={};if(!(0,o.HD)(t)&&!(0,o.hj)(t)&&!ne(t))throw ee(Q.INVALID_ARGUMENT);const s=(0,o.hj)(t)?String(t):(ne(t),t);return(0,o.hj)(n)?i.plural=n:(0,o.HD)(n)?i.default=n:(0,o.PO)(n)&&!(0,o.Qr)(n)?i.named=n:(0,o.kJ)(n)&&(i.list=n),(0,o.hj)(r)?i.plural=r:(0,o.HD)(r)?i.default=r:(0,o.PO)(r)&&(0,o.f0)(i,r),[s,i]}const ae="undefined"!=typeof Intl;ae&&Intl.DateTimeFormat,ae&&Intl.NumberFormat;function le(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__datetimeFormatters:l}=e;const[c,u,d,h]=ue(...t),p=((0,o.jn)(d.missingWarn)?d.missingWarn:e.missingWarn,(0,o.jn)(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,!!d.part),f=(0,o.HD)(d.locale)?d.locale:e.locale,m=a(e,i,f);if(!(0,o.HD)(c)||""===c)return new Intl.DateTimeFormat(f,h).format(u);let g,v={},y=null,w=f,b=null;for(let t=0;t<m.length&&(g=b=m[t],v=n[g]||{},y=v[c],!(0,o.PO)(y));t++)K(e,c,g,0,"datetime format"),w=b;if(!(0,o.PO)(y)||!(0,o.HD)(g))return r?O:c;let k=`${g}__${c}`;(0,o.Qr)(h)||(k=`${k}__${JSON.stringify(h)}`);let x=l.get(k);return x||(x=new Intl.DateTimeFormat(g,(0,o.f0)({},y,h)),l.set(k,x)),p?x.formatToParts(u):x.format(u)}const ce=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ue(...e){const[t,n,r,i]=e,s={};let a,l={};if((0,o.HD)(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw ee(Q.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();a=new Date(n);try{a.toISOString()}catch(e){throw ee(Q.INVALID_ISO_DATE_ARGUMENT)}}else if((0,o.J_)(t)){if(isNaN(t.getTime()))throw ee(Q.INVALID_DATE_ARGUMENT);a=t}else{if(!(0,o.hj)(t))throw ee(Q.INVALID_ARGUMENT);a=t}return(0,o.HD)(n)?s.key=n:(0,o.PO)(n)&&Object.keys(n).forEach((e=>{ce.includes(e)?l[e]=n[e]:s[e]=n[e]})),(0,o.HD)(r)?s.locale=r:(0,o.PO)(r)&&(l=r),(0,o.PO)(i)&&(l=i),[s.key||"",a,s,l]}function de(e,t,n){const o=e;for(const e in n){const n=`${t}__${e}`;o.__datetimeFormatters.has(n)&&o.__datetimeFormatters.delete(n)}}function he(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__numberFormatters:l}=e;const[c,u,d,h]=fe(...t),p=((0,o.jn)(d.missingWarn)?d.missingWarn:e.missingWarn,(0,o.jn)(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,!!d.part),f=(0,o.HD)(d.locale)?d.locale:e.locale,m=a(e,i,f);if(!(0,o.HD)(c)||""===c)return new Intl.NumberFormat(f,h).format(u);let g,v={},y=null,w=f,b=null;for(let t=0;t<m.length&&(g=b=m[t],v=n[g]||{},y=v[c],!(0,o.PO)(y));t++)K(e,c,g,0,"number format"),w=b;if(!(0,o.PO)(y)||!(0,o.HD)(g))return r?O:c;let k=`${g}__${c}`;(0,o.Qr)(h)||(k=`${k}__${JSON.stringify(h)}`);let x=l.get(k);return x||(x=new Intl.NumberFormat(g,(0,o.f0)({},y,h)),l.set(k,x)),p?x.formatToParts(u):x.format(u)}const pe=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function fe(...e){const[t,n,r,i]=e,s={};let a={};if(!(0,o.hj)(t))throw ee(Q.INVALID_ARGUMENT);const l=t;return(0,o.HD)(n)?s.key=n:(0,o.PO)(n)&&Object.keys(n).forEach((e=>{pe.includes(e)?a[e]=n[e]:s[e]=n[e]})),(0,o.HD)(r)?s.locale=r:(0,o.PO)(r)&&(a=r),(0,o.PO)(i)&&(a=i),[s.key||"",l,s,a]}function me(e,t,n){const o=e;for(const e in n){const n=`${t}__${e}`;o.__numberFormatters.has(n)&&o.__numberFormatters.delete(n)}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&((0,o.E9)().__INTLIFY_PROD_DEVTOOLS__=!1)},54691:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});
/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const o={I18nInit:"i18n:init",FunctionTranslate:"function:translate"}},12005:(e,t,n)=>{"use strict";n.d(t,{Uz:()=>r,ho:()=>s,ps:()=>S,t:()=>i});var o=n(87175);
/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const r={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};r.EXPECTED_TOKEN,r.INVALID_TOKEN_IN_PLACEHOLDER,r.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r.UNKNOWN_ESCAPE_SEQUENCE,r.INVALID_UNICODE_ESCAPE_SEQUENCE,r.UNBALANCED_CLOSING_BRACE,r.UNTERMINATED_CLOSING_BRACE,r.EMPTY_PLACEHOLDER,r.NOT_ALLOW_NEST_PLACEHOLDER,r.INVALID_LINKED_FORMAT,r.MUST_HAVE_MESSAGES_IN_PLURAL,r.UNEXPECTED_EMPTY_LINKED_MODIFIER,r.UNEXPECTED_EMPTY_LINKED_KEY,r.UNEXPECTED_LEXICAL_ANALYSIS;function i(e,t,n={}){const{domain:o,messages:r,args:i}=n,s=new SyntaxError(String(e));return s.code=e,t&&(s.location=t),s.domain=o,s}function s(e){throw e}function a(e,t,n){const o={start:e,end:t};return null!=n&&(o.source=n),o}const l=" ",c="\n",u=String.fromCharCode(8232),d=String.fromCharCode(8233);function h(e){const t=e;let n=0,o=1,r=1,i=0;const s=e=>"\r"===t[e]&&t[e+1]===c,a=e=>t[e]===d,l=e=>t[e]===u,h=e=>s(e)||(e=>t[e]===c)(e)||a(e)||l(e),p=e=>s(e)||a(e)||l(e)?c:t[e];function f(){return i=0,h(n)&&(o++,r=0),s(n)&&n++,n++,r++,t[n]}return{index:()=>n,line:()=>o,column:()=>r,peekOffset:()=>i,charAt:p,currentChar:()=>p(n),currentPeek:()=>p(n+i),next:f,peek:function(){return s(n+i)&&i++,i++,t[n+i]},reset:function(){n=0,o=1,r=1,i=0},resetPeek:function(e=0){i=e},skipToPeek:function(){const e=n+i;for(;e!==n;)f();i=0}}}const p=void 0;function f(e,t={}){const n=!1!==t.location,o=h(e),s=()=>o.index(),u=()=>{return e=o.line(),t=o.column(),n=o.index(),{line:e,column:t,offset:n};var e,t,n},d=u(),f=s(),m={currentType:14,offset:f,startLoc:d,endLoc:d,lastType:14,lastOffset:f,lastStartLoc:d,lastEndLoc:d,braceNest:0,inLinked:!1,text:""},g=()=>m,{onError:v}=t;function y(e,t,n,...o){const r=g();if(t.column+=n,t.offset+=n,v){const n=i(e,a(r.startLoc,t),{domain:"tokenizer",args:o});v(n)}}function w(e,t,o){e.endLoc=u(),e.currentType=t;const r={type:t};return n&&(r.loc=a(e.startLoc,e.endLoc)),null!=o&&(r.value=o),r}const b=e=>w(e,14);function k(e,t){return e.currentChar()===t?(e.next(),t):(y(r.EXPECTED_TOKEN,u(),0,t),"")}function x(e){let t="";for(;e.currentPeek()===l||e.currentPeek()===c;)t+=e.currentPeek(),e.peek();return t}function S(e){const t=x(e);return e.skipToPeek(),t}function _(e){if(e===p)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function C(e,t){const{currentType:n}=t;if(2!==n)return!1;x(e);const o=function(e){if(e===p)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),o}function D(e){x(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function E(e,t=!0){const n=(t=!1,o="",r=!1)=>{const i=e.currentPeek();return"{"===i?"%"!==o&&t:"@"!==i&&i?"%"===i?(e.peek(),n(t,"%",!0)):"|"===i?!("%"!==o&&!r)||!(o===l||o===c):i===l?(e.peek(),n(!0,l,r)):i!==c||(e.peek(),n(!0,c,r)):"%"===o||t},o=n();return t&&e.resetPeek(),o}function A(e,t){const n=e.currentChar();return n===p?p:t(n)?(e.next(),n):null}function O(e){return A(e,(e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}))}function T(e){return A(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}))}function M(e){return A(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}))}function L(e){let t="",n="";for(;t=T(e);)n+=t;return n}function I(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!E(e))break;t+=n,e.next()}else if(n===l||n===c)if(E(e))t+=n,e.next();else{if(D(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function N(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return P(e,t,4);case"U":return P(e,t,6);default:return y(r.UNKNOWN_ESCAPE_SEQUENCE,u(),0,t),""}}function P(e,t,n){k(e,t);let o="";for(let i=0;i<n;i++){const n=M(e);if(!n){y(r.INVALID_UNICODE_ESCAPE_SEQUENCE,u(),0,`\\${t}${o}${e.currentChar()}`);break}o+=n}return`\\${t}${o}`}function U(e){S(e);const t=k(e,"|");return S(e),t}function B(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&y(r.NOT_ALLOW_NEST_PLACEHOLDER,u(),0),e.next(),n=w(t,2,"{"),S(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&y(r.EMPTY_PLACEHOLDER,u(),0),e.next(),n=w(t,3,"}"),t.braceNest--,t.braceNest>0&&S(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&y(r.UNTERMINATED_CLOSING_BRACE,u(),0),n=j(e,t)||b(t),t.braceNest=0,n;default:let o=!0,i=!0,s=!0;if(D(e))return t.braceNest>0&&y(r.UNTERMINATED_CLOSING_BRACE,u(),0),n=w(t,1,U(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return y(r.UNTERMINATED_CLOSING_BRACE,u(),0),t.braceNest=0,R(e,t);if(o=function(e,t){const{currentType:n}=t;if(2!==n)return!1;x(e);const o=_(e.currentPeek());return e.resetPeek(),o}(e,t))return n=w(t,5,function(e){S(e);let t="",n="";for(;t=O(e);)n+=t;return e.currentChar()===p&&y(r.UNTERMINATED_CLOSING_BRACE,u(),0),n}(e)),S(e),n;if(i=C(e,t))return n=w(t,6,function(e){S(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${L(e)}`):t+=L(e),e.currentChar()===p&&y(r.UNTERMINATED_CLOSING_BRACE,u(),0),t}(e)),S(e),n;if(s=function(e,t){const{currentType:n}=t;if(2!==n)return!1;x(e);const o="'"===e.currentPeek();return e.resetPeek(),o}(e,t))return n=w(t,7,function(e){S(e),k(e,"'");let t="",n="";const o=e=>"'"!==e&&e!==c;for(;t=A(e,o);)n+="\\"===t?N(e):t;const i=e.currentChar();return i===c||i===p?(y(r.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,u(),0),i===c&&(e.next(),k(e,"'")),n):(k(e,"'"),n)}(e)),S(e),n;if(!o&&!i&&!s)return n=w(t,13,function(e){S(e);let t="",n="";const o=e=>"{"!==e&&"}"!==e&&e!==l&&e!==c;for(;t=A(e,o);)n+=t;return n}(e)),y(r.INVALID_TOKEN_IN_PLACEHOLDER,u(),0,n.value),S(e),n}return n}function j(e,t){const{currentType:n}=t;let o=null;const i=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||i!==c&&i!==l||y(r.INVALID_LINKED_FORMAT,u(),0),i){case"@":return e.next(),o=w(t,8,"@"),t.inLinked=!0,o;case".":return S(e),e.next(),w(t,9,".");case":":return S(e),e.next(),w(t,10,":");default:return D(e)?(o=w(t,1,U(e)),t.braceNest=0,t.inLinked=!1,o):function(e,t){const{currentType:n}=t;if(8!==n)return!1;x(e);const o="."===e.currentPeek();return e.resetPeek(),o}(e,t)||function(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;x(e);const o=":"===e.currentPeek();return e.resetPeek(),o}(e,t)?(S(e),j(e,t)):function(e,t){const{currentType:n}=t;if(9!==n)return!1;x(e);const o=_(e.currentPeek());return e.resetPeek(),o}(e,t)?(S(e),w(t,12,function(e){let t="",n="";for(;t=O(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(10!==n)return!1;const o=()=>{const t=e.currentPeek();return"{"===t?_(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===l||!t)&&(t===c?(e.peek(),o()):_(t))},r=o();return e.resetPeek(),r}(e,t)?(S(e),"{"===i?B(e,t)||o:w(t,11,function(e){const t=(n=!1,o)=>{const r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&"|"!==r&&r?r===l?o:r===c?(o+=r,e.next(),t(n,o)):(o+=r,e.next(),t(!0,o)):o};return t(!1,"")}(e))):(8===n&&y(r.INVALID_LINKED_FORMAT,u(),0),t.braceNest=0,t.inLinked=!1,R(e,t))}}function R(e,t){let n={type:14};if(t.braceNest>0)return B(e,t)||b(t);if(t.inLinked)return j(e,t)||b(t);switch(e.currentChar()){case"{":return B(e,t)||b(t);case"}":return y(r.UNBALANCED_CLOSING_BRACE,u(),0),e.next(),w(t,3,"}");case"@":return j(e,t)||b(t);default:if(D(e))return n=w(t,1,U(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:o,hasSpace:i}=function(e){const t=x(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}(e);if(o)return i?w(t,0,I(e)):w(t,4,function(e){S(e);const t=e.currentChar();return"%"!==t&&y(r.EXPECTED_TOKEN,u(),0,t),e.next(),"%"}(e));if(E(e))return w(t,0,I(e))}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:r}=m;return m.lastType=e,m.lastOffset=t,m.lastStartLoc=n,m.lastEndLoc=r,m.offset=s(),m.startLoc=u(),o.currentChar()===p?w(m,14):R(o,m)},currentOffset:s,currentPosition:u,context:g}}const m=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function g(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function v(e={}){const t=!1!==e.location,{onError:n}=e;function s(e,t,o,r,...s){const l=e.currentPosition();if(l.offset+=r,l.column+=r,n){const e=i(t,a(o,l),{domain:"parser",args:s});n(e)}}function l(e,n,o){const r={type:e,start:n,end:n};return t&&(r.loc={start:o,end:o}),r}function c(e,n,o,r){e.end=n,r&&(e.type=r),t&&e.loc&&(e.loc.end=o)}function u(e,t){const n=e.context(),o=l(3,n.offset,n.startLoc);return o.value=t,c(o,e.currentOffset(),e.currentPosition()),o}function d(e,t){const n=e.context(),{lastOffset:o,lastStartLoc:r}=n,i=l(5,o,r);return i.index=parseInt(t,10),e.nextToken(),c(i,e.currentOffset(),e.currentPosition()),i}function h(e,t){const n=e.context(),{lastOffset:o,lastStartLoc:r}=n,i=l(4,o,r);return i.key=t,e.nextToken(),c(i,e.currentOffset(),e.currentPosition()),i}function p(e,t){const n=e.context(),{lastOffset:o,lastStartLoc:r}=n,i=l(9,o,r);return i.value=t.replace(m,g),e.nextToken(),c(i,e.currentOffset(),e.currentPosition()),i}function v(e){const t=e.context(),n=l(6,t.offset,t.startLoc);let o=e.nextToken();if(9===o.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:o,lastStartLoc:i}=n,a=l(8,o,i);return 12!==t.type?(s(e,r.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),a.value="",c(a,o,i),{nextConsumeToken:t,node:a}):(null==t.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,y(t)),a.value=t.value||"",c(a,e.currentOffset(),e.currentPosition()),{node:a})}(e);n.modifier=t.node,o=t.nextConsumeToken||e.nextToken()}switch(10!==o.type&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(o)),o=e.nextToken(),2===o.type&&(o=e.nextToken()),o.type){case 11:null==o.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(o)),n.key=function(e,t){const n=e.context(),o=l(7,n.offset,n.startLoc);return o.value=t,c(o,e.currentOffset(),e.currentPosition()),o}(e,o.value||"");break;case 5:null==o.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(o)),n.key=h(e,o.value||"");break;case 6:null==o.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(o)),n.key=d(e,o.value||"");break;case 7:null==o.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(o)),n.key=p(e,o.value||"");break;default:s(e,r.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const i=e.context(),a=l(7,i.offset,i.startLoc);return a.value="",c(a,i.offset,i.startLoc),n.key=a,c(n,i.offset,i.startLoc),{nextConsumeToken:o,node:n}}return c(n,e.currentOffset(),e.currentPosition()),{node:n}}function w(e){const t=e.context(),n=l(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let o=null;do{const i=o||e.nextToken();switch(o=null,i.type){case 0:null==i.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(i)),n.items.push(u(e,i.value||""));break;case 6:null==i.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(i)),n.items.push(d(e,i.value||""));break;case 5:null==i.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(i)),n.items.push(h(e,i.value||""));break;case 7:null==i.value&&s(e,r.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,y(i)),n.items.push(p(e,i.value||""));break;case 8:const a=v(e);n.items.push(a.node),o=a.nextConsumeToken||null}}while(14!==t.currentType&&1!==t.currentType);return c(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function b(e){const t=e.context(),{offset:n,startLoc:o}=t,i=w(e);return 14===t.currentType?i:function(e,t,n,o){const i=e.context();let a=0===o.items.length;const u=l(1,t,n);u.cases=[],u.cases.push(o);do{const t=w(e);a||(a=0===t.items.length),u.cases.push(t)}while(14!==i.currentType);return a&&s(e,r.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),c(u,e.currentOffset(),e.currentPosition()),u}(e,n,o,i)}return{parse:function(n){const i=f(n,(0,o.f0)({},e)),a=i.context(),u=l(0,a.offset,a.startLoc);return t&&u.loc&&(u.loc.source=n),u.body=b(i),14!==a.currentType&&s(i,r.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,n[a.offset]||""),c(u,i.currentOffset(),i.currentPosition()),u}}}function y(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function w(e,t){for(let n=0;n<e.length;n++)b(e[n],t)}function b(e,t){switch(e.type){case 1:w(e.cases,t),t.helper("plural");break;case 2:w(e.items,t);break;case 6:b(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function k(e,t={}){const n=function(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&b(e.body,n);const o=n.context();e.helpers=Array.from(o.helpers)}function x(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?x(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:o}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(o());const r=t.cases.length;for(let n=0;n<r&&(x(e,t.cases[n]),n!==r-1);n++)e.push(", ");e.deindent(o()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:o}=e;e.push(`${n("normalize")}([`),e.indent(o());const r=t.items.length;for(let n=0;n<r&&(x(e,t.items[n]),n!==r-1);n++)e.push(", ");e.deindent(o()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),x(e,t.key),t.modifier?(e.push(", "),x(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}function S(e,t={}){const n=(0,o.f0)({},t),r=v(n).parse(e);return k(r,n),((e,t={})=>{const n=(0,o.HD)(t.mode)?t.mode:"normal",r=(0,o.HD)(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,s=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",a=t.needIndent?t.needIndent:"arrow"!==n,l=e.helpers||[],c=function(e,t){const{sourceMap:n,filename:o,breakLineCode:r,needIndent:i}=t,s={source:e.loc.source,filename:o,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};function a(e,t){s.code+=e}function l(e,t=!0){const n=t?r:"";a(i?n+"  ".repeat(e):n)}return{context:()=>s,push:a,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});c.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(a),l.length>0&&(c.push(`const { ${l.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),c.newline()),c.push("return "),x(c,e),c.deindent(a),c.push("}");const{code:u,map:d}=c.context();return{ast:e,code:u,map:d?d.toJSON():void 0}})(r,n)}},87175:(e,t,n)=>{"use strict";n.d(t,{$d:()=>s,E9:()=>m,HD:()=>k,J_:()=>c,Kj:()=>u,Kn:()=>S,PO:()=>D,Qr:()=>d,RI:()=>y,Xv:()=>g,ZK:()=>h,_f:()=>o,f0:()=>p,hj:()=>l,je:()=>i,jn:()=>x,kJ:()=>w,mf:()=>b,zw:()=>E});
/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const o="undefined"!=typeof window;const r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=e=>r?Symbol(e):e,s=(e,t,n)=>a({l:e,k:t,s:n}),a=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),l=e=>"number"==typeof e&&isFinite(e),c=e=>"[object Date]"===C(e),u=e=>"[object RegExp]"===C(e),d=e=>D(e)&&0===Object.keys(e).length;function h(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const p=Object.assign;let f;const m=()=>f||(f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function g(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const v=Object.prototype.hasOwnProperty;function y(e,t){return v.call(e,t)}const w=Array.isArray,b=e=>"function"==typeof e,k=e=>"string"==typeof e,x=e=>"boolean"==typeof e,S=e=>null!==e&&"object"==typeof e,_=Object.prototype.toString,C=e=>_.call(e),D=e=>"[object Object]"===C(e),E=e=>null==e?"":w(e)||D(e)&&e.toString===_?JSON.stringify(e,null,2):String(e)},35003:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BASE_TRANSITION:()=>d,CAMELIZE:()=>P,CAPITALIZE:()=>U,CREATE_BLOCK:()=>p,CREATE_COMMENT:()=>v,CREATE_ELEMENT_BLOCK:()=>f,CREATE_ELEMENT_VNODE:()=>g,CREATE_SLOTS:()=>E,CREATE_STATIC:()=>w,CREATE_TEXT:()=>y,CREATE_VNODE:()=>m,DOMDirectiveTransforms:()=>Do,DOMNodeTransforms:()=>Co,FRAGMENT:()=>a,GUARD_REACTIVE_PROPS:()=>I,IS_MEMO_SAME:()=>$,IS_REF:()=>H,KEEP_ALIVE:()=>u,MERGE_PROPS:()=>O,NORMALIZE_CLASS:()=>T,NORMALIZE_PROPS:()=>L,NORMALIZE_STYLE:()=>M,OPEN_BLOCK:()=>h,POP_SCOPE_ID:()=>V,PUSH_SCOPE_ID:()=>R,RENDER_LIST:()=>C,RENDER_SLOT:()=>D,RESOLVE_COMPONENT:()=>b,RESOLVE_DIRECTIVE:()=>x,RESOLVE_DYNAMIC_COMPONENT:()=>k,RESOLVE_FILTER:()=>S,SET_BLOCK_TRACKING:()=>j,SUSPENSE:()=>c,TELEPORT:()=>l,TO_DISPLAY_STRING:()=>A,TO_HANDLERS:()=>N,TO_HANDLER_KEY:()=>B,TRANSITION:()=>uo,TRANSITION_GROUP:()=>ho,UNREF:()=>W,V_MODEL_CHECKBOX:()=>oo,V_MODEL_DYNAMIC:()=>so,V_MODEL_RADIO:()=>no,V_MODEL_SELECT:()=>io,V_MODEL_TEXT:()=>ro,V_ON_WITH_KEYS:()=>lo,V_ON_WITH_MODIFIERS:()=>ao,V_SHOW:()=>co,WITH_CTX:()=>F,WITH_DIRECTIVES:()=>_,WITH_MEMO:()=>z,advancePositionWithClone:()=>Ce,advancePositionWithMutation:()=>De,assert:()=>Ee,baseCompile:()=>eo,baseParse:()=>Qe,buildDirectiveArgs:()=>Mn,buildProps:()=>An,buildSlots:()=>kn,checkCompatEnabled:()=>Ye,compile:()=>Eo,createArrayExpression:()=>J,createAssignmentExpression:()=>ue,createBlockStatement:()=>ae,createCacheExpression:()=>se,createCallExpression:()=>oe,createCompilerError:()=>s,createCompoundExpression:()=>ne,createConditionalExpression:()=>ie,createDOMCompilerError:()=>yo,createForLoopParams:()=>gn,createFunctionExpression:()=>re,createIfStatement:()=>ce,createInterpolation:()=>te,createObjectExpression:()=>Z,createObjectProperty:()=>Q,createReturnStatement:()=>he,createRoot:()=>G,createSequenceExpression:()=>de,createSimpleExpression:()=>ee,createStructuralDirectiveTransform:()=>Pt,createTemplateLiteral:()=>le,createTransformContext:()=>Lt,createVNodeCall:()=>X,extractIdentifiers:()=>Jt,findDir:()=>Ae,findProp:()=>Oe,generate:()=>jt,generateCodeFrame:()=>o.generateCodeFrame,getBaseTransformPreset:()=>Qn,getConstantType:()=>Dt,getInnerRange:()=>_e,getMemoedVNodeCall:()=>He,getVNodeBlockHelper:()=>Be,getVNodeHelper:()=>Ue,hasDynamicKeyVBind:()=>Me,hasScopeRef:()=>We,helperNameMap:()=>K,injectProp:()=>Ve,isBuiltInType:()=>fe,isCoreComponent:()=>me,isFunctionType:()=>Zt,isInDestructureAssignment:()=>Yt,isMemberExpression:()=>Se,isMemberExpressionBrowser:()=>ke,isMemberExpressionNode:()=>xe,isReferencedIdentifier:()=>qt,isSimpleIdentifier:()=>ve,isSlotOutlet:()=>Pe,isStaticArgOf:()=>Te,isStaticExp:()=>pe,isStaticProperty:()=>Qt,isStaticPropertyKey:()=>en,isTemplateNode:()=>Ne,isText:()=>Le,isVSlot:()=>Ie,locStub:()=>Y,makeBlock:()=>ze,noopDirectiveTransform:()=>to,parse:()=>Ao,parserOptions:()=>mo,processExpression:()=>nn,processFor:()=>un,processIf:()=>rn,processSlotOutlet:()=>Un,registerRuntimeHelpers:()=>q,resolveComponentType:()=>En,toValidAssetId:()=>Fe,trackSlotScopes:()=>yn,trackVForSlotScopes:()=>wn,transform:()=>It,transformBind:()=>Rn,transformElement:()=>Dn,transformExpression:()=>tn,transformModel:()=>zn,transformOn:()=>jn,transformStyle:()=>go,traverseNode:()=>Nt,walkBlockDeclarations:()=>Xt,walkFunctionParams:()=>Gt,walkIdentifiers:()=>Kt,warnDeprecation:()=>Ge});var o=n(3577);function r(e){throw e}function i(e){}function s(e,t,n,o){const r=new SyntaxError(String(e));return r.code=e,r.loc=t,r}const a=Symbol(""),l=Symbol(""),c=Symbol(""),u=Symbol(""),d=Symbol(""),h=Symbol(""),p=Symbol(""),f=Symbol(""),m=Symbol(""),g=Symbol(""),v=Symbol(""),y=Symbol(""),w=Symbol(""),b=Symbol(""),k=Symbol(""),x=Symbol(""),S=Symbol(""),_=Symbol(""),C=Symbol(""),D=Symbol(""),E=Symbol(""),A=Symbol(""),O=Symbol(""),T=Symbol(""),M=Symbol(""),L=Symbol(""),I=Symbol(""),N=Symbol(""),P=Symbol(""),U=Symbol(""),B=Symbol(""),j=Symbol(""),R=Symbol(""),V=Symbol(""),F=Symbol(""),W=Symbol(""),H=Symbol(""),z=Symbol(""),$=Symbol(""),K={[a]:"Fragment",[l]:"Teleport",[c]:"Suspense",[u]:"KeepAlive",[d]:"BaseTransition",[h]:"openBlock",[p]:"createBlock",[f]:"createElementBlock",[m]:"createVNode",[g]:"createElementVNode",[v]:"createCommentVNode",[y]:"createTextVNode",[w]:"createStaticVNode",[b]:"resolveComponent",[k]:"resolveDynamicComponent",[x]:"resolveDirective",[S]:"resolveFilter",[_]:"withDirectives",[C]:"renderList",[D]:"renderSlot",[E]:"createSlots",[A]:"toDisplayString",[O]:"mergeProps",[T]:"normalizeClass",[M]:"normalizeStyle",[L]:"normalizeProps",[I]:"guardReactiveProps",[N]:"toHandlers",[P]:"camelize",[U]:"capitalize",[B]:"toHandlerKey",[j]:"setBlockTracking",[R]:"pushScopeId",[V]:"popScopeId",[F]:"withCtx",[W]:"unref",[H]:"isRef",[z]:"withMemo",[$]:"isMemoSame"};function q(e){Object.getOwnPropertySymbols(e).forEach((t=>{K[t]=e[t]}))}const Y={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function G(e,t=Y){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function X(e,t,n,o,r,i,s,a=!1,l=!1,c=!1,u=Y){return e&&(a?(e.helper(h),e.helper(Be(e.inSSR,c))):e.helper(Ue(e.inSSR,c)),s&&e.helper(_)),{type:13,tag:t,props:n,children:o,patchFlag:r,dynamicProps:i,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function J(e,t=Y){return{type:17,loc:t,elements:e}}function Z(e,t=Y){return{type:15,loc:t,properties:e}}function Q(e,t){return{type:16,loc:Y,key:(0,o.isString)(e)?ee(e,!0):e,value:t}}function ee(e,t=!1,n=Y,o=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:o}}function te(e,t){return{type:5,loc:t,content:(0,o.isString)(e)?ee(e,!1,t):e}}function ne(e,t=Y){return{type:8,loc:t,children:e}}function oe(e,t=[],n=Y){return{type:14,loc:n,callee:e,arguments:t}}function re(e,t,n=!1,o=!1,r=Y){return{type:18,params:e,returns:t,newline:n,isSlot:o,loc:r}}function ie(e,t,n,o=!0){return{type:19,test:e,consequent:t,alternate:n,newline:o,loc:Y}}function se(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:Y}}function ae(e){return{type:21,body:e,loc:Y}}function le(e){return{type:22,elements:e,loc:Y}}function ce(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:Y}}function ue(e,t){return{type:24,left:e,right:t,loc:Y}}function de(e){return{type:25,expressions:e,loc:Y}}function he(e){return{type:26,returns:e,loc:Y}}const pe=e=>4===e.type&&e.isStatic,fe=(e,t)=>e===t||e===(0,o.hyphenate)(t);function me(e){return fe(e,"Teleport")?l:fe(e,"Suspense")?c:fe(e,"KeepAlive")?u:fe(e,"BaseTransition")?d:void 0}const ge=/^\d|[^\$\w]/,ve=e=>!ge.test(e),ye=/[A-Za-z_$\xA0-\uFFFF]/,we=/[\.\?\w$\xA0-\uFFFF]/,be=/\s+[.[]\s*|\s*[.[]\s+/g,ke=e=>{e=e.trim().replace(be,(e=>e.trim()));let t=0,n=[],o=0,r=0,i=null;for(let s=0;s<e.length;s++){const a=e.charAt(s);switch(t){case 0:if("["===a)n.push(t),t=1,o++;else if("("===a)n.push(t),t=2,r++;else if(!(0===s?ye:we).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(t),t=3,i=a):"["===a?o++:"]"===a&&(--o||(t=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(t),t=3,i=a;else if("("===a)r++;else if(")"===a){if(s===e.length-1)return!1;--r||(t=n.pop())}break;case 3:a===i&&(t=n.pop(),i=null)}}return!o&&!r},xe=o.NOOP,Se=ke;function _e(e,t,n){const o={source:e.source.slice(t,t+n),start:Ce(e.start,e.source,t),end:e.end};return null!=n&&(o.end=Ce(e.start,e.source,t+n)),o}function Ce(e,t,n=t.length){return De((0,o.extend)({},e),t,n)}function De(e,t,n=t.length){let o=0,r=-1;for(let e=0;e<n;e++)10===t.charCodeAt(e)&&(o++,r=e);return e.offset+=n,e.line+=o,e.column=-1===r?e.column+n:n-r,e}function Ee(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function Ae(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&(n||i.exp)&&((0,o.isString)(t)?i.name===t:t.test(i.name)))return i}}function Oe(e,t,n=!1,o=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(6===i.type){if(n)continue;if(i.name===t&&(i.value||o))return i}else if("bind"===i.name&&(i.exp||o)&&Te(i.arg,t))return i}}function Te(e,t){return!(!e||!pe(e)||e.content!==t)}function Me(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))}function Le(e){return 5===e.type||2===e.type}function Ie(e){return 7===e.type&&"slot"===e.name}function Ne(e){return 1===e.type&&3===e.tagType}function Pe(e){return 1===e.type&&2===e.tagType}function Ue(e,t){return e||t?m:g}function Be(e,t){return e||t?p:f}const je=new Set([L,I]);function Re(e,t=[]){if(e&&!(0,o.isString)(e)&&14===e.type){const n=e.callee;if(!(0,o.isString)(n)&&je.has(n))return Re(e.arguments[0],t.concat(e))}return[e,t]}function Ve(e,t,n){let r,i,s=13===e.type?e.props:e.arguments[2],a=[];if(s&&!(0,o.isString)(s)&&14===s.type){const e=Re(s);s=e[0],a=e[1],i=a[a.length-1]}if(null==s||(0,o.isString)(s))r=Z([t]);else if(14===s.type){const e=s.arguments[0];(0,o.isString)(e)||15!==e.type?s.callee===N?r=oe(n.helper(O),[Z([t]),s]):s.arguments.unshift(Z([t])):e.properties.unshift(t),!r&&(r=s)}else if(15===s.type){let e=!1;if(4===t.key.type){const n=t.key.content;e=s.properties.some((e=>4===e.key.type&&e.key.content===n))}e||s.properties.unshift(t),r=s}else r=oe(n.helper(O),[Z([t]),s]),i&&i.callee===I&&(i=a[a.length-2]);13===e.type?i?i.arguments[0]=r:e.props=r:i?i.arguments[0]=r:e.arguments[2]=r}function Fe(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}`}function We(e,t){if(!e||0===Object.keys(t).length)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const o=e.props[n];if(7===o.type&&(We(o.arg,t)||We(o.exp,t)))return!0}return e.children.some((e=>We(e,t)));case 11:return!!We(e.source,t)||e.children.some((e=>We(e,t)));case 9:return e.branches.some((e=>We(e,t)));case 10:return!!We(e.condition,t)||e.children.some((e=>We(e,t)));case 4:return!e.isStatic&&ve(e.content)&&!!t[e.content];case 8:return e.children.some((e=>(0,o.isObject)(e)&&We(e,t)));case 5:case 12:return We(e.content,t);default:return!1}}function He(e){return 14===e.type&&e.callee===z?e.arguments[1].returns:e}function ze(e,{helper:t,removeHelper:n,inSSR:o}){e.isBlock||(e.isBlock=!0,n(Ue(o,e.isComponent)),t(h),t(Be(o,e.isComponent)))}const $e={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ke(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,o=n&&n[e];return"MODE"===e?o||3:o}function qe(e,t){const n=Ke("MODE",t),o=Ke(e,t);return 3===n?!0===o:!1!==o}function Ye(e,t,n,...o){return qe(e,t)}function Ge(e,t,n,...o){if("suppress-warning"===Ke(e,t))return;const{message:r,link:i}=$e[e],s=`(deprecation ${e}) ${"function"==typeof r?r(...o):r}${i?`\n  Details: ${i}`:""}`,a=new SyntaxError(s);a.code=e,n&&(a.loc=n),t.onWarn(a)}const Xe=/&(gt|lt|amp|apos|quot);/g,Je={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Ze={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:o.NO,isPreTag:o.NO,isCustomElement:o.NO,decodeEntities:e=>e.replace(Xe,((e,t)=>Je[t])),onError:r,onWarn:i,comments:!1};function Qe(e,t={}){const n=function(e,t){const n=(0,o.extend)({},Ze);let r;for(r in t)n[r]=void 0===t[r]?Ze[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(e,t),r=pt(n);return G(et(n,0,[]),ft(n,r))}function et(e,t,n){const r=mt(n),i=r?r.ns:0,s=[];for(;!kt(e,t,n);){const a=e.source;let l;if(0===t||1===t)if(!e.inVPre&&gt(a,e.options.delimiters[0]))l=ut(e,t);else if(0===t&&"<"===a[0])if(1===a.length)bt(e,5,1);else if("!"===a[1])gt(a,"\x3c!--")?l=ot(e):gt(a,"<!DOCTYPE")?l=rt(e):gt(a,"<![CDATA[")?0!==i?l=nt(e,n):(bt(e,1),l=rt(e)):(bt(e,11),l=rt(e));else if("/"===a[1])if(2===a.length)bt(e,5,2);else{if(">"===a[2]){bt(e,14,2),vt(e,3);continue}if(/[a-z]/i.test(a[2])){bt(e,23),at(e,1,r);continue}bt(e,12,2),l=rt(e)}else/[a-z]/i.test(a[1])?(l=it(e,n),qe("COMPILER_NATIVE_TEMPLATE",e)&&l&&"template"===l.tag&&!l.props.some((e=>7===e.type&&st(e.name)))&&(l=l.children)):"?"===a[1]?(bt(e,21,1),l=rt(e)):bt(e,12,1);if(l||(l=dt(e,t)),(0,o.isArray)(l))for(let e=0;e<l.length;e++)tt(s,l[e]);else tt(s,l)}let a=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let n=0;n<s.length;n++){const o=s[n];if(e.inPre||2!==o.type)3!==o.type||e.options.comments||(a=!0,s[n]=null);else if(/[^\t\r\n\f ]/.test(o.content))t&&(o.content=o.content.replace(/[\t\r\n\f ]+/g," "));else{const e=s[n-1],r=s[n+1];!e||!r||t&&(3===e.type||3===r.type||1===e.type&&1===r.type&&/[\r\n]/.test(o.content))?(a=!0,s[n]=null):o.content=" "}}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const e=s[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return a?s.filter(Boolean):s}function tt(e,t){if(2===t.type){const n=mt(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset)return n.content+=t.content,n.loc.end=t.loc.end,void(n.loc.source+=t.loc.source)}e.push(t)}function nt(e,t){vt(e,9);const n=et(e,3,t);return 0===e.source.length?bt(e,6):vt(e,3),n}function ot(e){const t=pt(e);let n;const o=/--(\!)?>/.exec(e.source);if(o){o.index<=3&&bt(e,0),o[1]&&bt(e,10),n=e.source.slice(4,o.index);const t=e.source.slice(0,o.index);let r=1,i=0;for(;-1!==(i=t.indexOf("\x3c!--",r));)vt(e,i-r+1),i+4<t.length&&bt(e,16),r=i+1;vt(e,o.index+o[0].length-r+1)}else n=e.source.slice(4),vt(e,e.source.length),bt(e,7);return{type:3,content:n,loc:ft(e,t)}}function rt(e){const t=pt(e),n="?"===e.source[1]?1:2;let o;const r=e.source.indexOf(">");return-1===r?(o=e.source.slice(n),vt(e,e.source.length)):(o=e.source.slice(n,r),vt(e,r+1)),{type:3,content:o,loc:ft(e,t)}}function it(e,t){const n=e.inPre,o=e.inVPre,r=mt(t),i=at(e,0,r),s=e.inPre&&!n,a=e.inVPre&&!o;if(i.isSelfClosing||e.options.isVoidTag(i.tag))return s&&(e.inPre=!1),a&&(e.inVPre=!1),i;t.push(i);const l=e.options.getTextMode(i,r),c=et(e,l,t);t.pop();{const t=i.props.find((e=>6===e.type&&"inline-template"===e.name));if(t&&Ye("COMPILER_INLINE_TEMPLATE",e,t.loc)){const n=ft(e,i.loc.end);t.value={type:2,content:n.source,loc:n}}}if(i.children=c,xt(e.source,i.tag))at(e,1,r);else if(bt(e,24,0,i.loc.start),0===e.source.length&&"script"===i.tag.toLowerCase()){const t=c[0];t&&gt(t.loc.source,"\x3c!--")&&bt(e,8)}return i.loc=ft(e,i.loc.start),s&&(e.inPre=!1),a&&(e.inVPre=!1),i}const st=(0,o.makeMap)("if,else,else-if,for,slot");function at(e,t,n){const r=pt(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),s=i[1],a=e.options.getNamespace(s,n);vt(e,i[0].length),yt(e);const l=pt(e),c=e.source;e.options.isPreTag(s)&&(e.inPre=!0);let u=lt(e,t);0===t&&!e.inVPre&&u.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,(0,o.extend)(e,l),e.source=c,u=lt(e,t).filter((e=>"v-pre"!==e.name)));let d=!1;if(0===e.source.length?bt(e,9):(d=gt(e.source,"/>"),1===t&&d&&bt(e,4),vt(e,d?2:1)),1===t)return;let h=0;return e.inVPre||("slot"===s?h=2:"template"===s?u.some((e=>7===e.type&&st(e.name)))&&(h=3):function(e,t,n){const o=n.options;if(o.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||me(e)||o.isBuiltInComponent&&o.isBuiltInComponent(e)||o.isNativeTag&&!o.isNativeTag(e))return!0;for(let e=0;e<t.length;e++){const o=t[e];if(6===o.type){if("is"===o.name&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Ye("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}else{if("is"===o.name)return!0;if("bind"===o.name&&Te(o.arg,"is")&&Ye("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}}(s,u,e)&&(h=1)),{type:1,ns:a,tag:s,tagType:h,props:u,isSelfClosing:d,children:[],loc:ft(e,r),codegenNode:void 0}}function lt(e,t){const n=[],o=new Set;for(;e.source.length>0&&!gt(e.source,">")&&!gt(e.source,"/>");){if(gt(e.source,"/")){bt(e,22),vt(e,1),yt(e);continue}1===t&&bt(e,3);const r=ct(e,o);6===r.type&&r.value&&"class"===r.name&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),0===t&&n.push(r),/^[^\t\r\n\f />]/.test(e.source)&&bt(e,15),yt(e)}return n}function ct(e,t){const n=pt(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&bt(e,2),t.add(o),"="===o[0]&&bt(e,19);{const t=/["'<]/g;let n;for(;n=t.exec(o);)bt(e,17,n.index)}let r;vt(e,o.length),/^[\t\r\n\f ]*=/.test(e.source)&&(yt(e),vt(e,1),yt(e),r=function(e){const t=pt(e);let n;const o=e.source[0],r='"'===o||"'"===o;if(r){vt(e,1);const t=e.source.indexOf(o);-1===t?n=ht(e,e.source.length,4):(n=ht(e,t,4),vt(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const o=/["'<=`]/g;let r;for(;r=o.exec(t[0]);)bt(e,18,r.index);n=ht(e,t[0].length,4)}return{content:n,isQuoted:r,loc:ft(e,t)}}(e),r||bt(e,13));const i=ft(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let s,a=gt(o,"."),l=t[1]||(a||gt(o,":")?"bind":gt(o,"@")?"on":"slot");if(t[2]){const r="slot"===l,i=o.lastIndexOf(t[2]),a=ft(e,wt(e,n,i),wt(e,n,i+t[2].length+(r&&t[3]||"").length));let c=t[2],u=!0;c.startsWith("[")?(u=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(bt(e,27),c=c.slice(1))):r&&(c+=t[3]||""),s={type:4,content:c,isStatic:u,constType:u?3:0,loc:a}}if(r&&r.isQuoted){const e=r.loc;e.start.offset++,e.start.column++,e.end=Ce(e.start,r.content),e.source=e.source.slice(1,-1)}const c=t[3]?t[3].slice(1).split("."):[];return a&&c.push("prop"),"bind"===l&&s&&c.includes("sync")&&Ye("COMPILER_V_BIND_SYNC",e,0,s.loc.source)&&(l="model",c.splice(c.indexOf("sync"),1)),{type:7,name:l,exp:r&&{type:4,content:r.content,isStatic:!1,constType:0,loc:r.loc},arg:s,modifiers:c,loc:i}}return!e.inVPre&&gt(o,"v-")&&bt(e,26),{type:6,name:o,value:r&&{type:2,content:r.content,loc:r.loc},loc:i}}function ut(e,t){const[n,o]=e.options.delimiters,r=e.source.indexOf(o,n.length);if(-1===r)return void bt(e,25);const i=pt(e);vt(e,n.length);const s=pt(e),a=pt(e),l=r-n.length,c=e.source.slice(0,l),u=ht(e,l,t),d=u.trim(),h=u.indexOf(d);h>0&&De(s,c,h);return De(a,c,l-(u.length-d.length-h)),vt(e,o.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:d,loc:ft(e,s,a)},loc:ft(e,i)}}function dt(e,t){const n=3===t?["]]>"]:["<",e.options.delimiters[0]];let o=e.source.length;for(let t=0;t<n.length;t++){const r=e.source.indexOf(n[t],1);-1!==r&&o>r&&(o=r)}const r=pt(e);return{type:2,content:ht(e,o,t),loc:ft(e,r)}}function ht(e,t,n){const o=e.source.slice(0,t);return vt(e,t),2!==n&&3!==n&&o.includes("&")?e.options.decodeEntities(o,4===n):o}function pt(e){const{column:t,line:n,offset:o}=e;return{column:t,line:n,offset:o}}function ft(e,t,n){return{start:t,end:n=n||pt(e),source:e.originalSource.slice(t.offset,n.offset)}}function mt(e){return e[e.length-1]}function gt(e,t){return e.startsWith(t)}function vt(e,t){const{source:n}=e;De(e,n,t),e.source=n.slice(t)}function yt(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&vt(e,t[0].length)}function wt(e,t,n){return Ce(t,e.originalSource.slice(t.offset,n),n)}function bt(e,t,n,o=pt(e)){n&&(o.offset+=n,o.column+=n),e.options.onError(s(t,{start:o,end:o,source:""}))}function kt(e,t,n){const o=e.source;switch(t){case 0:if(gt(o,"</"))for(let e=n.length-1;e>=0;--e)if(xt(o,n[e].tag))return!0;break;case 1:case 2:{const e=mt(n);if(e&&xt(o,e.tag))return!0;break}case 3:if(gt(o,"]]>"))return!0}return!o}function xt(e,t){return gt(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function St(e,t){Ct(e,t,_t(e,e.children[0]))}function _t(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!Pe(t)}function Ct(e,t,n=!1){const{children:r}=e,i=r.length;let s=0;for(let e=0;e<r.length;e++){const o=r[e];if(1===o.type&&0===o.tagType){const e=n?0:Dt(o,t);if(e>0){if(e>=2){o.codegenNode.patchFlag="-1",o.codegenNode=t.hoist(o.codegenNode),s++;continue}}else{const e=o.codegenNode;if(13===e.type){const n=Mt(e);if((!n||512===n||1===n)&&Ot(o,t)>=2){const n=Tt(o);n&&(e.props=t.hoist(n))}e.dynamicProps&&(e.dynamicProps=t.hoist(e.dynamicProps))}}}else 12===o.type&&Dt(o.content,t)>=2&&(o.codegenNode=t.hoist(o.codegenNode),s++);if(1===o.type){const e=1===o.tagType;e&&t.scopes.vSlot++,Ct(o,t),e&&t.scopes.vSlot--}else if(11===o.type)Ct(o,t,1===o.children.length);else if(9===o.type)for(let e=0;e<o.branches.length;e++)Ct(o.branches[e],t,1===o.branches[e].children.length)}s&&t.transformHoist&&t.transformHoist(r,t,e),s&&s===i&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&(0,o.isArray)(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(J(e.codegenNode.children)))}function Dt(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const r=n.get(e);if(void 0!==r)return r;const i=e.codegenNode;if(13!==i.type)return 0;if(i.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(Mt(i))return n.set(e,0),0;{let o=3;const r=Ot(e,t);if(0===r)return n.set(e,0),0;r<o&&(o=r);for(let r=0;r<e.children.length;r++){const i=Dt(e.children[r],t);if(0===i)return n.set(e,0),0;i<o&&(o=i)}if(o>1)for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&"bind"===i.name&&i.exp){const r=Dt(i.exp,t);if(0===r)return n.set(e,0),0;r<o&&(o=r)}}if(i.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return n.set(e,0),0}t.removeHelper(h),t.removeHelper(Be(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(Ue(t.inSSR,i.isComponent))}return n.set(e,o),o}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return Dt(e.content,t);case 4:return e.constType;case 8:let s=3;for(let n=0;n<e.children.length;n++){const r=e.children[n];if((0,o.isString)(r)||(0,o.isSymbol)(r))continue;const i=Dt(r,t);if(0===i)return 0;i<s&&(s=i)}return s}}const Et=new Set([T,M,L,I]);function At(e,t){if(14===e.type&&!(0,o.isString)(e.callee)&&Et.has(e.callee)){const n=e.arguments[0];if(4===n.type)return Dt(n,t);if(14===n.type)return At(n,t)}return 0}function Ot(e,t){let n=3;const o=Tt(e);if(o&&15===o.type){const{properties:e}=o;for(let o=0;o<e.length;o++){const{key:r,value:i}=e[o],s=Dt(r,t);if(0===s)return s;let a;if(s<n&&(n=s),a=4===i.type?Dt(i,t):14===i.type?At(i,t):0,0===a)return a;a<n&&(n=a)}}return n}function Tt(e){const t=e.codegenNode;if(13===t.type)return t.props}function Mt(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function Lt(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:s=!1,cacheHandlers:a=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:d=o.NOOP,isCustomElement:h=o.NOOP,expressionPlugins:p=[],scopeId:f=null,slotted:m=!0,ssr:g=!1,inSSR:v=!1,ssrCssVars:y="",bindingMetadata:w=o.EMPTY_OBJ,inline:b=!1,isTS:k=!1,onError:x=r,onWarn:S=i,compatConfig:_}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),D={selfName:C&&(0,o.capitalize)((0,o.camelize)(C[1])),prefixIdentifiers:n,hoistStatic:s,cacheHandlers:a,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:d,isCustomElement:h,expressionPlugins:p,scopeId:f,slotted:m,ssr:g,inSSR:v,ssrCssVars:y,bindingMetadata:w,inline:b,isTS:k,onError:x,onWarn:S,compatConfig:_,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=D.helpers.get(e)||0;return D.helpers.set(e,t+1),e},removeHelper(e){const t=D.helpers.get(e);if(t){const n=t-1;n?D.helpers.set(e,n):D.helpers.delete(e)}},helperString:e=>`_${K[D.helper(e)]}`,replaceNode(e){D.parent.children[D.childIndex]=D.currentNode=e},removeNode(e){const t=D.parent.children,n=e?t.indexOf(e):D.currentNode?D.childIndex:-1;e&&e!==D.currentNode?D.childIndex>n&&(D.childIndex--,D.onNodeRemoved()):(D.currentNode=null,D.onNodeRemoved()),D.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){(0,o.isString)(e)&&(e=ee(e)),D.hoists.push(e);const t=ee(`_hoisted_${D.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>se(D.cached++,e,t)};return D.filters=new Set,D}function It(e,t){const n=Lt(e,t);Nt(e,n),t.hoistStatic&&St(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:r}=e;if(1===r.length){const n=r[0];if(_t(e,n)&&n.codegenNode){const o=n.codegenNode;13===o.type&&ze(o,t),e.codegenNode=o}else e.codegenNode=n}else if(r.length>1){let r=64;o.PatchFlagNames[64];0,e.codegenNode=X(t,n(a),void 0,e.children,r+"",void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function Nt(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let i=0;i<n.length;i++){const s=n[i](e,t);if(s&&((0,o.isArray)(s)?r.push(...s):r.push(s)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(v);break;case 5:t.ssr||t.helper(A);break;case 9:for(let n=0;n<e.branches.length;n++)Nt(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];(0,o.isString)(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,Nt(i,t))}}(e,t)}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function Pt(e,t){const n=(0,o.isString)(e)?t=>t===e:t=>e.test(t);return(e,o)=>{if(1===e.type){const{props:r}=e;if(3===e.tagType&&r.some(Ie))return;const i=[];for(let s=0;s<r.length;s++){const a=r[s];if(7===a.type&&n(a.name)){r.splice(s,1),s--;const n=t(e,a,o);n&&i.push(n)}}return i}}}const Ut="/*#__PURE__*/",Bt=e=>`${K[e]}: _${K[e]}`;function jt(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:o=!1,filename:r="template.vue.html",scopeId:i=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:h=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:o,filename:r,scopeId:i,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:h,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${K[e]}`,push(e,t){p.code+=e},indent(){f(++p.indentLevel)},deindent(e=!1){e?--p.indentLevel:f(--p.indentLevel)},newline(){f(p.indentLevel)}};function f(e){p.push("\n"+"  ".repeat(e))}return p}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:o,push:r,prefixIdentifiers:i,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,d=e.helpers.length>0,h=!i&&"module"!==o;!function(e,t){const{ssr:n,prefixIdentifiers:o,push:r,newline:i,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a;if(e.helpers.length>0&&(r(`const _Vue = ${c}\n`),e.hoists.length)){r(`const { ${[m,g,v,y,w].filter((t=>e.helpers.includes(t))).map(Bt).join(", ")} } = _Vue\n`)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:o,helper:r,scopeId:i,mode:s}=t;o();for(let r=0;r<e.length;r++){const i=e[r];i&&(n(`const _hoisted_${r+1} = `),Wt(i,t),o())}t.pure=!1})(e.hoists,t),i(),r("return ")}(e,n);if(r(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),h&&(r("with (_ctx) {"),s(),d&&(r(`const { ${e.helpers.map(Bt).join(", ")} } = _Vue`),r("\n"),l())),e.components.length&&(Rt(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(Rt(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),Rt(e.filters,"filter",n),l()),e.temps>0){r("let ");for(let t=0;t<e.temps;t++)r(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(r("\n"),l()),u||r("return "),e.codegenNode?Wt(e.codegenNode,n):r("null"),h&&(a(),r("}")),a(),r("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Rt(e,t,{helper:n,push:o,newline:r,isTS:i}){const s=n("filter"===t?S:"component"===t?b:x);for(let n=0;n<e.length;n++){let a=e[n];const l=a.endsWith("__self");l&&(a=a.slice(0,-6)),o(`const ${Fe(a,t)} = ${s}(${JSON.stringify(a)}${l?", true":""})${i?"!":""}`),n<e.length-1&&r()}}function Vt(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),Ft(e,t,n),n&&t.deindent(),t.push("]")}function Ft(e,t,n=!1,r=!0){const{push:i,newline:s}=t;for(let a=0;a<e.length;a++){const l=e[a];(0,o.isString)(l)?i(l):(0,o.isArray)(l)?Vt(l,t):Wt(l,t),a<e.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function Wt(e,t){if((0,o.isString)(e))t.push(e);else if((0,o.isSymbol)(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:Wt(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:Ht(e,t);break;case 5:!function(e,t){const{push:n,helper:o,pure:r}=t;r&&n(Ut);n(`${o(A)}(`),Wt(e.content,t),n(")")}(e,t);break;case 8:zt(e,t);break;case 3:!function(e,t){const{push:n,helper:o,pure:r}=t;r&&n(Ut);n(`${o(v)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:o,pure:r}=t,{tag:i,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:p,isComponent:f}=e;u&&n(o(_)+"(");d&&n(`(${o(h)}(${p?"true":""}), `);r&&n(Ut);const m=d?Be(t.inSSR,f):Ue(t.inSSR,f);n(o(m)+"(",e),Ft(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([i,s,a,l,c]),t),n(")"),d&&n(")");u&&(n(", "),Wt(u,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:r,pure:i}=t,s=(0,o.isString)(e.callee)?e.callee:r(e.callee);i&&n(Ut);n(s+"(",e),Ft(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:o,deindent:r,newline:i}=t,{properties:s}=e;if(!s.length)return void n("{}",e);const a=s.length>1||!1;n(a?"{":"{ "),a&&o();for(let e=0;e<s.length;e++){const{key:o,value:r}=s[e];$t(o,t),n(": "),Wt(r,t),e<s.length-1&&(n(","),i())}a&&r(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){Vt(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:r,deindent:i}=t,{params:s,returns:a,body:l,newline:c,isSlot:u}=e;u&&n(`_${K[F]}(`);n("(",e),(0,o.isArray)(s)?Ft(s,t):s&&Wt(s,t);n(") => "),(c||l)&&(n("{"),r());a?(c&&n("return "),(0,o.isArray)(a)?Vt(a,t):Wt(a,t)):l&&Wt(l,t);(c||l)&&(i(),n("}"));u&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:o,alternate:r,newline:i}=e,{push:s,indent:a,deindent:l,newline:c}=t;if(4===n.type){const e=!ve(n.content);e&&s("("),Ht(n,t),e&&s(")")}else s("("),Wt(n,t),s(")");i&&a(),t.indentLevel++,i||s(" "),s("? "),Wt(o,t),t.indentLevel--,i&&c(),i||s(" "),s(": ");const u=19===r.type;u||t.indentLevel++;Wt(r,t),u||t.indentLevel--;i&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:o,indent:r,deindent:i,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(r(),n(`${o(j)}(-1),`),s());n(`_cache[${e.index}] = `),Wt(e.value,t),e.isVNode&&(n(","),s(),n(`${o(j)}(1),`),s(),n(`_cache[${e.index}]`),i());n(")")}(e,t);break;case 21:Ft(e.body,t,!0,!1)}}function Ht(e,t){const{content:n,isStatic:o}=e;t.push(o?JSON.stringify(n):n,e)}function zt(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];(0,o.isString)(r)?t.push(r):Wt(r,t)}}function $t(e,t){const{push:n}=t;if(8===e.type)n("["),zt(e,t),n("]");else if(e.isStatic){n(ve(e.content)?e.content:JSON.stringify(e.content),e)}else n(`[${e.content}]`,e)}function Kt(e,t,n=!1,o=[],r=Object.create(null)){}function qt(e,t,n){return!1}function Yt(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1}function Gt(e,t){for(const n of e.params)for(const e of Jt(n))t(e)}function Xt(e,t){for(const n of e.body)if("VariableDeclaration"===n.type){if(n.declare)continue;for(const e of n.declarations)for(const n of Jt(e.id))t(n)}else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;t(n.id)}}function Jt(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":for(const n of e.properties)"RestElement"===n.type?Jt(n.argument,t):Jt(n.value,t);break;case"ArrayPattern":e.elements.forEach((e=>{e&&Jt(e,t)}));break;case"RestElement":Jt(e.argument,t);break;case"AssignmentPattern":Jt(e.left,t)}return t}const Zt=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),Qt=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed,en=(e,t)=>Qt(t)&&t.key===e;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const tn=(e,t)=>{if(5===e.type)e.content=nn(e.content,t);else if(1===e.type)for(let n=0;n<e.props.length;n++){const o=e.props[n];if(7===o.type&&"for"!==o.name){const e=o.exp,n=o.arg;!e||4!==e.type||"on"===o.name&&n||(o.exp=nn(e,t,"slot"===o.name)),n&&4===n.type&&!n.isStatic&&(o.arg=nn(n,t))}}};function nn(e,t,n=!1,o=!1,r=Object.create(t.identifiers)){return e}const on=Pt(/^(if|else|else-if)$/,((e,t,n)=>rn(e,t,n,((e,t,o)=>{const r=n.parent.children;let i=r.indexOf(e),s=0;for(;i-- >=0;){const e=r[i];e&&9===e.type&&(s+=e.branches.length)}return()=>{if(o)e.codegenNode=an(t,s,n);else{const o=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);o.alternate=an(t,s+e.branches.length-1,n)}}}))));function rn(e,t,n,o){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;n.onError(s(28,t.loc)),t.exp=ee("true",!1,o)}if("if"===t.name){const r=sn(e,t),i={type:9,loc:e.loc,branches:[r]};if(n.replaceNode(i),o)return o(i,r,!0)}else{const r=n.parent.children;let i=r.indexOf(e);for(;i-- >=-1;){const a=r[i];if(!a||2!==a.type||a.content.trim().length){if(a&&9===a.type){"else-if"===t.name&&void 0===a.branches[a.branches.length-1].condition&&n.onError(s(30,e.loc)),n.removeNode();const r=sn(e,t);0,a.branches.push(r);const i=o&&o(a,r,!1);Nt(r,n),i&&i(),n.currentNode=null}else n.onError(s(30,e.loc));break}n.removeNode(a)}}}function sn(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!Ae(e,"for")?e.children:[e],userKey:Oe(e,"key"),isTemplateIf:n}}function an(e,t,n){return e.condition?ie(e.condition,ln(e,t,n),oe(n.helper(v),['""',"true"])):ln(e,t,n)}function ln(e,t,n){const{helper:r}=n,i=Q("key",ee(`${t}`,!1,Y,2)),{children:s}=e,l=s[0];if(1!==s.length||1!==l.type){if(1===s.length&&11===l.type){const e=l.codegenNode;return Ve(e,i,n),e}{let t=64;o.PatchFlagNames[64];return X(n,r(a),Z([i]),s,t+"",void 0,void 0,!0,!1,!1,e.loc)}}{const e=l.codegenNode,t=He(e);return 13===t.type&&ze(t,n),Ve(t,i,n),e}}const cn=Pt("for",((e,t,n)=>{const{helper:o,removeHelper:r}=n;return un(e,t,n,(t=>{const i=oe(o(C),[t.source]),s=Ne(e),l=Ae(e,"memo"),c=Oe(e,"key"),u=c&&(6===c.type?ee(c.value.content,!0):c.exp),d=c?Q("key",u):null,p=4===t.source.type&&t.source.constType>0,f=p?64:c?128:256;return t.codegenNode=X(n,o(a),void 0,i,f+"",void 0,void 0,!0,!p,!1,e.loc),()=>{let c;const{children:f}=t;const m=1!==f.length||1!==f[0].type,g=Pe(e)?e:s&&1===e.children.length&&Pe(e.children[0])?e.children[0]:null;if(g?(c=g.codegenNode,s&&d&&Ve(c,d,n)):m?c=X(n,o(a),d?Z([d]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(c=f[0].codegenNode,s&&d&&Ve(c,d,n),c.isBlock!==!p&&(c.isBlock?(r(h),r(Be(n.inSSR,c.isComponent))):r(Ue(n.inSSR,c.isComponent))),c.isBlock=!p,c.isBlock?(o(h),o(Be(n.inSSR,c.isComponent))):o(Ue(n.inSSR,c.isComponent))),l){const e=re(gn(t.parseResult,[ee("_cached")]));e.body=ae([ne(["const _memo = (",l.exp,")"]),ne(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString($)}(_cached, _memo)) return _cached`]),ne(["const _item = ",c]),ee("_item.memo = _memo"),ee("return _item")]),i.arguments.push(e,ee("_cache"),ee(String(n.cached++)))}else i.arguments.push(re(gn(t.parseResult),c,!0))}}))}));function un(e,t,n,o){if(!t.exp)return void n.onError(s(31,t.loc));const r=fn(t.exp,n);if(!r)return void n.onError(s(32,t.loc));const{addIdentifiers:i,removeIdentifiers:a,scopes:l}=n,{source:c,value:u,key:d,index:h}=r,p={type:11,loc:t.loc,source:c,valueAlias:u,keyAlias:d,objectIndexAlias:h,parseResult:r,children:Ne(e)?e.children:[e]};n.replaceNode(p),l.vFor++;const f=o&&o(p);return()=>{l.vFor--,f&&f()}}const dn=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,hn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,pn=/^\(|\)$/g;function fn(e,t){const n=e.loc,o=e.content,r=o.match(dn);if(!r)return;const[,i,s]=r,a={source:mn(n,s.trim(),o.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0};let l=i.trim().replace(pn,"").trim();const c=i.indexOf(l),u=l.match(hn);if(u){l=l.replace(hn,"").trim();const e=u[1].trim();let t;if(e&&(t=o.indexOf(e,c+l.length),a.key=mn(n,e,t)),u[2]){const r=u[2].trim();r&&(a.index=mn(n,r,o.indexOf(r,a.key?t+e.length:c+l.length)))}}return l&&(a.value=mn(n,l,c)),a}function mn(e,t,n){return ee(t,!1,_e(e,n,t.length))}function gn({value:e,key:t,index:n},o=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||ee("_".repeat(t+1),!1)))}([e,t,n,...o])}const vn=ee("undefined",!1),yn=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=Ae(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},wn=(e,t)=>{let n;if(Ne(e)&&e.props.some(Ie)&&(n=Ae(e,"for"))){const e=n.parseResult=fn(n.exp);if(e){const{value:n,key:o,index:r}=e,{addIdentifiers:i,removeIdentifiers:s}=t;return n&&i(n),o&&i(o),r&&i(r),()=>{n&&s(n),o&&s(o),r&&s(r)}}}},bn=(e,t,n)=>re(e,t,!1,!0,t.length?t[0].loc:n);function kn(e,t,n=bn){t.helper(F);const{children:o,loc:r}=e,i=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const c=Ae(e,"slot",!0);if(c){const{arg:e,exp:t}=c;e&&!pe(e)&&(l=!0),i.push(Q(e||ee("default",!0),n(t,o,r)))}let u=!1,d=!1;const h=[],p=new Set;for(let e=0;e<o.length;e++){const r=o[e];let f;if(!Ne(r)||!(f=Ae(r,"slot",!0))){3!==r.type&&h.push(r);continue}if(c){t.onError(s(37,f.loc));break}u=!0;const{children:m,loc:g}=r,{arg:v=ee("default",!0),exp:y,loc:w}=f;let b;pe(v)?b=v?v.content:"default":l=!0;const k=n(y,m,g);let x,S,_;if(x=Ae(r,"if"))l=!0,a.push(ie(x.exp,xn(v,k),vn));else if(S=Ae(r,/^else(-if)?$/,!0)){let n,r=e;for(;r--&&(n=o[r],3===n.type););if(n&&Ne(n)&&Ae(n,"if")){o.splice(e,1),e--;let t=a[a.length-1];for(;19===t.alternate.type;)t=t.alternate;t.alternate=S.exp?ie(S.exp,xn(v,k),vn):xn(v,k)}else t.onError(s(30,S.loc))}else if(_=Ae(r,"for")){l=!0;const e=_.parseResult||fn(_.exp);e?a.push(oe(t.helper(C),[e.source,re(gn(e),xn(v,k),!0)])):t.onError(s(32,_.loc))}else{if(b){if(p.has(b)){t.onError(s(38,w));continue}p.add(b),"default"===b&&(d=!0)}i.push(Q(v,k))}}if(!c){const e=(e,o)=>{const i=n(e,o,r);return t.compatConfig&&(i.isNonScopedSlot=!0),Q("default",i)};u?h.length&&h.some((e=>_n(e)))&&(d?t.onError(s(39,h[0].loc)):i.push(e(void 0,h))):i.push(e(void 0,o))}const f=l?2:Sn(e.children)?3:1;let m=Z(i.concat(Q("_",ee(f+"",!1))),r);return a.length&&(m=oe(t.helper(E),[m,J(a)])),{slots:m,hasDynamicSlots:l}}function xn(e,t){return Z([Q("name",e),Q("fn",t)])}function Sn(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||Sn(n.children))return!0;break;case 9:if(Sn(n.branches))return!0;break;case 10:case 11:if(Sn(n.children))return!0}}return!1}function _n(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():_n(e.content))}const Cn=new WeakMap,Dn=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:r}=e,i=1===e.tagType;let s=i?En(e,t):`"${n}"`;const a=(0,o.isObject)(s)&&s.callee===k;let d,h,p,f,m,g,v=0,y=a||s===l||s===c||!i&&("svg"===n||"foreignObject"===n);if(r.length>0){const n=An(e,t,void 0,i,a);d=n.props,v=n.patchFlag,m=n.dynamicPropNames;const o=n.directives;g=o&&o.length?J(o.map((e=>Mn(e,t)))):void 0,n.shouldUseBlock&&(y=!0)}if(e.children.length>0){s===u&&(y=!0,v|=1024);if(i&&s!==l&&s!==u){const{slots:n,hasDynamicSlots:o}=kn(e,t);h=n,o&&(v|=1024)}else if(1===e.children.length&&s!==l){const n=e.children[0],o=n.type,r=5===o||8===o;r&&0===Dt(n,t)&&(v|=1),h=r||2===o?n:e.children}else h=e.children}0!==v&&(p=String(v),m&&m.length&&(f=function(e){let t="[";for(let n=0,o=e.length;n<o;n++)t+=JSON.stringify(e[n]),n<o-1&&(t+=", ");return t+"]"}(m))),e.codegenNode=X(t,s,d,h,p,f,g,!!y,!1,i,e.loc)};function En(e,t,n=!1){let{tag:o}=e;const r=Ln(o),i=Oe(e,"is");if(i)if(r||qe("COMPILER_IS_ON_ELEMENT",t)){const e=6===i.type?i.value&&ee(i.value.content,!0):i.exp;if(e)return oe(t.helper(k),[e])}else 6===i.type&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const s=!r&&Ae(e,"is");if(s&&s.exp)return oe(t.helper(k),[s.exp]);const a=me(o)||t.isBuiltInComponent(o);return a?(n||t.helper(a),a):(t.helper(b),t.components.add(o),Fe(o,"component"))}function An(e,t,n=e.props,r,i,a=!1){const{tag:l,loc:c,children:u}=e;let d=[];const h=[],p=[],f=u.length>0;let m=!1,g=0,v=!1,y=!1,w=!1,b=!1,k=!1,x=!1;const S=[],_=({key:e,value:n})=>{if(pe(e)){const s=e.content,a=(0,o.isOn)(s);if(!a||r&&!i||"onclick"===s.toLowerCase()||"onUpdate:modelValue"===s||(0,o.isReservedProp)(s)||(b=!0),a&&(0,o.isReservedProp)(s)&&(x=!0),20===n.type||(4===n.type||8===n.type)&&Dt(n,t)>0)return;"ref"===s?v=!0:"class"===s?y=!0:"style"===s?w=!0:"key"===s||S.includes(s)||S.push(s),!r||"class"!==s&&"style"!==s||S.includes(s)||S.push(s)}else k=!0};for(let i=0;i<n.length;i++){const u=n[i];if(6===u.type){const{loc:e,name:n,value:o}=u;let r=!0;if("ref"===n&&(v=!0,t.scopes.vFor>0&&d.push(Q(ee("ref_for",!0),ee("true")))),"is"===n&&(Ln(l)||o&&o.content.startsWith("vue:")||qe("COMPILER_IS_ON_ELEMENT",t)))continue;d.push(Q(ee(n,!0,_e(e,0,n.length)),ee(o?o.content:"",r,o?o.loc:e)))}else{const{name:n,arg:i,exp:g,loc:v}=u,y="bind"===n,w="on"===n;if("slot"===n){r||t.onError(s(40,v));continue}if("once"===n||"memo"===n)continue;if("is"===n||y&&Te(i,"is")&&(Ln(l)||qe("COMPILER_IS_ON_ELEMENT",t)))continue;if(w&&a)continue;if((y&&Te(i,"key")||w&&f&&Te(i,"vue:before-update"))&&(m=!0),y&&Te(i,"ref")&&t.scopes.vFor>0&&d.push(Q(ee("ref_for",!0),ee("true"))),!i&&(y||w)){if(k=!0,g)if(d.length&&(h.push(Z(On(d),c)),d=[]),y){if(qe("COMPILER_V_BIND_OBJECT_ORDER",t)){h.unshift(g);continue}h.push(g)}else h.push({type:14,loc:v,callee:t.helper(N),arguments:[g]});else t.onError(s(y?34:35,v));continue}const b=t.directiveTransforms[n];if(b){const{props:n,needRuntime:r}=b(u,e,t);!a&&n.forEach(_),d.push(...n),r&&(p.push(u),(0,o.isSymbol)(r)&&Cn.set(u,r))}else(0,o.isBuiltInDirective)(n)||(p.push(u),f&&(m=!0))}}let C;if(h.length?(d.length&&h.push(Z(On(d),c)),C=h.length>1?oe(t.helper(O),h,c):h[0]):d.length&&(C=Z(On(d),c)),k?g|=16:(y&&!r&&(g|=2),w&&!r&&(g|=4),S.length&&(g|=8),b&&(g|=32)),m||0!==g&&32!==g||!(v||x||p.length>0)||(g|=512),!t.inSSR&&C)switch(C.type){case 15:let e=-1,n=-1,o=!1;for(let t=0;t<C.properties.length;t++){const r=C.properties[t].key;pe(r)?"class"===r.content?e=t:"style"===r.content&&(n=t):r.isHandlerKey||(o=!0)}const r=C.properties[e],i=C.properties[n];o?C=oe(t.helper(L),[C]):(r&&!pe(r.value)&&(r.value=oe(t.helper(T),[r.value])),i&&(w||4===i.value.type&&"["===i.value.content.trim()[0]||17===i.value.type)&&(i.value=oe(t.helper(M),[i.value])));break;case 14:break;default:C=oe(t.helper(L),[oe(t.helper(I),[C])])}return{props:C,directives:p,patchFlag:g,dynamicPropNames:S,shouldUseBlock:m}}function On(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(8===i.key.type||!i.key.isStatic){n.push(i);continue}const s=i.key.content,a=t.get(s);a?("style"===s||"class"===s||(0,o.isOn)(s))&&Tn(a,i):(t.set(s,i),n.push(i))}return n}function Tn(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=J([e.value,t.value],e.loc)}function Mn(e,t){const n=[],o=Cn.get(e);o?n.push(t.helperString(o)):(t.helper(x),t.directives.add(e.name),n.push(Fe(e.name,"directive")));const{loc:r}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=ee("true",!1,r);n.push(Z(e.modifiers.map((e=>Q(e,t))),r))}return J(n,e.loc)}function Ln(e){return"component"===e||"Component"===e}const In=/-(\w)/g,Nn=(e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})((e=>e.replace(In,((e,t)=>t?t.toUpperCase():"")))),Pn=(e,t)=>{if(Pe(e)){const{children:n,loc:o}=e,{slotName:r,slotProps:i}=Un(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;i&&(s[2]=i,a=3),n.length&&(s[3]=re([],n,!1,!1,o),a=4),t.scopeId&&!t.slotted&&(a=5),s.splice(a),e.codegenNode=oe(t.helper(D),s,o)}};function Un(e,t){let n,o='"default"';const r=[];for(let t=0;t<e.props.length;t++){const n=e.props[t];6===n.type?n.value&&("name"===n.name?o=JSON.stringify(n.value.content):(n.name=Nn(n.name),r.push(n))):"bind"===n.name&&Te(n.arg,"name")?n.exp&&(o=n.exp):("bind"===n.name&&n.arg&&pe(n.arg)&&(n.arg.content=Nn(n.arg.content)),r.push(n))}if(r.length>0){const{props:o,directives:i}=An(e,t,r,!1,!1);n=o,i.length&&t.onError(s(36,i[0].loc))}return{slotName:o,slotProps:n}}const Bn=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,jn=(e,t,n,r)=>{const{loc:i,modifiers:a,arg:l}=e;let c;if(e.exp||a.length||n.onError(s(35,i)),4===l.type)if(l.isStatic){let e=l.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`),c=ee((0,o.toHandlerKey)((0,o.camelize)(e)),!0,l.loc)}else c=ne([`${n.helperString(B)}(`,l,")"]);else c=l,c.children.unshift(`${n.helperString(B)}(`),c.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let d=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const e=Se(u.content),t=!(e||Bn.test(u.content)),n=u.content.includes(";");0,(t||d&&e)&&(u=ne([`${t?"$event":"(...args)"} => ${n?"{":"("}`,u,n?"}":")"]))}let h={props:[Q(c,u||ee("() => {}",!1,i))]};return r&&(h=r(h)),d&&(h.props[0].value=n.cache(h.props[0].value)),h.props.forEach((e=>e.key.isHandlerKey=!0)),h},Rn=(e,t,n)=>{const{exp:r,modifiers:i,loc:a}=e,l=e.arg;return 4!==l.type?(l.children.unshift("("),l.children.push(') || ""')):l.isStatic||(l.content=`${l.content} || ""`),i.includes("camel")&&(4===l.type?l.isStatic?l.content=(0,o.camelize)(l.content):l.content=`${n.helperString(P)}(${l.content})`:(l.children.unshift(`${n.helperString(P)}(`),l.children.push(")"))),n.inSSR||(i.includes("prop")&&Vn(l,"."),i.includes("attr")&&Vn(l,"^")),!r||4===r.type&&!r.content.trim()?(n.onError(s(34,a)),{props:[Q(l,ee("",!0,a))]}):{props:[Q(l,r)]}},Vn=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Fn=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let o,r=!1;for(let e=0;e<n.length;e++){const t=n[e];if(Le(t)){r=!0;for(let r=e+1;r<n.length;r++){const i=n[r];if(!Le(i)){o=void 0;break}o||(o=n[e]=ne([t],t.loc)),o.children.push(" + ",i),n.splice(r,1),r--}}}if(r&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<n.length;e++){const o=n[e];if(Le(o)||8===o.type){const r=[];2===o.type&&" "===o.content||r.push(o),t.ssr||0!==Dt(o,t)||r.push("1"),n[e]={type:12,content:o,loc:o.loc,codegenNode:oe(t.helper(y),r)}}}}},Wn=new WeakSet,Hn=(e,t)=>{if(1===e.type&&Ae(e,"once",!0)){if(Wn.has(e)||t.inVOnce)return;return Wn.add(e),t.inVOnce=!0,t.helper(j),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},zn=(e,t,n)=>{const{exp:o,arg:r}=e;if(!o)return n.onError(s(41,e.loc)),$n();const i=o.loc.source,a=4===o.type?o.content:i;n.bindingMetadata[i];if(!a.trim()||!Se(a))return n.onError(s(42,o.loc)),$n();const l=r||ee("modelValue",!0),c=r?pe(r)?`onUpdate:${r.content}`:ne(['"onUpdate:" + ',r]):"onUpdate:modelValue";let u;u=ne([`${n.isTS?"($event: any)":"$event"} => ((`,o,") = $event)"]);const d=[Q(l,e.exp),Q(c,u)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(ve(e)?e:JSON.stringify(e))+": true")).join(", "),n=r?pe(r)?`${r.content}Modifiers`:ne([r,' + "Modifiers"']):"modelModifiers";d.push(Q(n,ee(`{ ${t} }`,!1,e.loc,2)))}return $n(d)};function $n(e=[]){return{props:e}}const Kn=/[\w).+\-_$\]]/,qn=(e,t)=>{qe("COMPILER_FILTER",t)&&(5===e.type&&Yn(e.content,t),1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&Yn(e.exp,t)})))};function Yn(e,t){if(4===e.type)Gn(e,t);else for(let n=0;n<e.children.length;n++){const o=e.children[n];"object"==typeof o&&(4===o.type?Gn(o,t):8===o.type?Yn(e,t):5===o.type&&Yn(o.content,t))}}function Gn(e,t){const n=e.content;let o,r,i,s,a=!1,l=!1,c=!1,u=!1,d=0,h=0,p=0,f=0,m=[];for(i=0;i<n.length;i++)if(r=o,o=n.charCodeAt(i),a)39===o&&92!==r&&(a=!1);else if(l)34===o&&92!==r&&(l=!1);else if(c)96===o&&92!==r&&(c=!1);else if(u)47===o&&92!==r&&(u=!1);else if(124!==o||124===n.charCodeAt(i+1)||124===n.charCodeAt(i-1)||d||h||p){switch(o){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:h++;break;case 93:h--;break;case 123:d++;break;case 125:d--}if(47===o){let e,t=i-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&Kn.test(e)||(u=!0)}}else void 0===s?(f=i+1,s=n.slice(0,i).trim()):g();function g(){m.push(n.slice(f,i).trim()),f=i+1}if(void 0===s?s=n.slice(0,i).trim():0!==f&&g(),m.length){for(i=0;i<m.length;i++)s=Xn(s,m[i],t);e.content=s}}function Xn(e,t,n){n.helper(S);const o=t.indexOf("(");if(o<0)return n.filters.add(t),`${Fe(t,"filter")}(${e})`;{const r=t.slice(0,o),i=t.slice(o+1);return n.filters.add(r),`${Fe(r,"filter")}(${e}${")"!==i?","+i:i}`}}const Jn=new WeakSet,Zn=(e,t)=>{if(1===e.type){const n=Ae(e,"memo");if(!n||Jn.has(e))return;return Jn.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&13===o.type&&(1!==e.tagType&&ze(o,t),e.codegenNode=oe(t.helper(z),[n.exp,re(void 0,o),"_cache",String(t.cached++)]))}}};function Qn(e){return[[Hn,on,Zn,cn,qn,Pn,Dn,yn,Fn],{on:jn,bind:Rn,model:zn}]}function eo(e,t={}){const n=t.onError||r,i="module"===t.mode;!0===t.prefixIdentifiers?n(s(46)):i&&n(s(47));t.cacheHandlers&&n(s(48)),t.scopeId&&!i&&n(s(49));const a=(0,o.isString)(e)?Qe(e,t):e,[l,c]=Qn();return It(a,(0,o.extend)({},t,{prefixIdentifiers:false,nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:(0,o.extend)({},c,t.directiveTransforms||{})})),jt(a,(0,o.extend)({},t,{prefixIdentifiers:false}))}const to=()=>({props:[]}),no=Symbol(""),oo=Symbol(""),ro=Symbol(""),io=Symbol(""),so=Symbol(""),ao=Symbol(""),lo=Symbol(""),co=Symbol(""),uo=Symbol(""),ho=Symbol("");let po;q({[no]:"vModelRadio",[oo]:"vModelCheckbox",[ro]:"vModelText",[io]:"vModelSelect",[so]:"vModelDynamic",[ao]:"withModifiers",[lo]:"withKeys",[co]:"vShow",[uo]:"Transition",[ho]:"TransitionGroup"});const fo=(0,o.makeMap)("style,iframe,script,noscript",!0),mo={isVoidTag:o.isVoidTag,isNativeTag:e=>(0,o.isHTMLTag)(e)||(0,o.isSVGTag)(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return po||(po=document.createElement("div")),t?(po.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,po.children[0].getAttribute("foo")):(po.innerHTML=e,po.textContent)},isBuiltInComponent:e=>fe(e,"Transition")?uo:fe(e,"TransitionGroup")?ho:void 0,getNamespace(e,t){let n=t?t.ns:0;if(t&&2===n)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(n=0);else t&&1===n&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(n=0));if(0===n){if("svg"===e)return 1;if("math"===e)return 2}return n},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(fo(e))return 2}return 0}},go=e=>{1===e.type&&e.props.forEach(((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:ee("style",!0,t.loc),exp:vo(t.value.content,t.loc),modifiers:[],loc:t.loc})}))},vo=(e,t)=>{const n=(0,o.parseStringStyle)(e);return ee(JSON.stringify(n),!1,t,3)};function yo(e,t){return s(e,t)}const wo=(0,o.makeMap)("passive,once,capture"),bo=(0,o.makeMap)("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),ko=(0,o.makeMap)("left,right"),xo=(0,o.makeMap)("onkeyup,onkeydown,onkeypress",!0),So=(e,t)=>pe(e)&&"onclick"===e.content.toLowerCase()?ee(t,!0):4!==e.type?ne(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e;const _o=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||(t.onError(yo(60,e.loc)),t.removeNode())},Co=[go],Do={cloak:to,html:(e,t,n)=>{const{exp:o,loc:r}=e;return o||n.onError(yo(50,r)),t.children.length&&(n.onError(yo(51,r)),t.children.length=0),{props:[Q(ee("innerHTML",!0,r),o||ee("",!0))]}},text:(e,t,n)=>{const{exp:o,loc:r}=e;return o||n.onError(yo(52,r)),t.children.length&&(n.onError(yo(53,r)),t.children.length=0),{props:[Q(ee("textContent",!0),o?Dt(o,n)>0?o:oe(n.helperString(A),[o],r):ee("",!0))]}},model:(e,t,n)=>{const o=zn(e,t,n);if(!o.props.length||1===t.tagType)return o;e.arg&&n.onError(yo(55,e.arg.loc));const{tag:r}=t,i=n.isCustomElement(r);if("input"===r||"textarea"===r||"select"===r||i){let s=ro,a=!1;if("input"===r||i){const o=Oe(t,"type");if(o){if(7===o.type)s=so;else if(o.value)switch(o.value.content){case"radio":s=no;break;case"checkbox":s=oo;break;case"file":a=!0,n.onError(yo(56,e.loc))}}else Me(t)&&(s=so)}else"select"===r&&(s=io);a||(o.needRuntime=n.helper(s))}else n.onError(yo(54,e.loc));return o.props=o.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),o},on:(e,t,n)=>jn(e,t,n,(t=>{const{modifiers:r}=e;if(!r.length)return t;let{key:i,value:s}=t.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=((e,t,n,o)=>{const r=[],i=[],s=[];for(let o=0;o<t.length;o++){const a=t[o];"native"===a&&Ye("COMPILER_V_ON_NATIVE",n)||wo(a)?s.push(a):ko(a)?pe(e)?xo(e.content)?r.push(a):i.push(a):(r.push(a),i.push(a)):bo(a)?i.push(a):r.push(a)}return{keyModifiers:r,nonKeyModifiers:i,eventOptionModifiers:s}})(i,r,n,e.loc);if(l.includes("right")&&(i=So(i,"onContextmenu")),l.includes("middle")&&(i=So(i,"onMouseup")),l.length&&(s=oe(n.helper(ao),[s,JSON.stringify(l)])),!a.length||pe(i)&&!xo(i.content)||(s=oe(n.helper(lo),[s,JSON.stringify(a)])),c.length){const e=c.map(o.capitalize).join("");i=pe(i)?ee(`${i.content}${e}`,!0):ne(["(",i,`) + "${e}"`])}return{props:[Q(i,s)]}})),show:(e,t,n)=>{const{exp:o,loc:r}=e;return o||n.onError(yo(58,r)),{props:[],needRuntime:n.helper(co)}}};function Eo(e,t={}){return eo(e,(0,o.extend)({},mo,t,{nodeTransforms:[_o,...Co,...t.nodeTransforms||[]],directiveTransforms:(0,o.extend)({},Do,t.directiveTransforms||{}),transformHoist:null}))}function Ao(e,t={}){return Qe(e,(0,o.extend)({},mo,t))}},81280:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,q:()=>o});const o="devtools-plugin:setup",r="plugin:settings:set"},81021:(e,t,n)=>{"use strict";function o(){return r().__VUE_DEVTOOLS_GLOBAL_HOOK__}function r(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}n.d(t,{U9:()=>r,jA:()=>i,y5:()=>o});const i="function"==typeof Proxy},73412:(e,t,n)=>{"use strict";n.d(t,{F1:()=>s});var o=n(81021),r=n(81280),i=n(61021);function s(e,t){const n=e,s=(0,o.U9)(),a=(0,o.y5)(),l=o.jA&&n.enableEarlyProxy;if(!a||!s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&l){const e=l?new i.B(n,a):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else a.emit(r.q,e,t)}},61021:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var o=n(81280),r=n(65159);class i{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const o=e.settings[t];n[t]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(s,t)}catch(e){}this.fallbacks={getSettings:()=>s,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}s=e},now:()=>(0,r.z)()},t&&t.on(o.X,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}},65159:(e,t,n)=>{"use strict";let o,r;function i(){return void 0!==o||("undefined"!=typeof window&&window.performance?(o=!0,r=window.performance):void 0!==n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(o=!0,r=n.g.perf_hooks.performance):o=!1),o?r.now():Date.now();var e}n.d(t,{z:()=>i})},2262:(e,t,n)=>{"use strict";n.d(t,{$y:()=>De,B:()=>s,BK:()=>Ke,Bj:()=>i,EB:()=>c,Fl:()=>Xe,IU:()=>Oe,Jd:()=>C,OT:()=>xe,PG:()=>Ce,SU:()=>Fe,Um:()=>ke,Vh:()=>Ye,WL:()=>He,X$:()=>O,X3:()=>Ae,XI:()=>Be,Xl:()=>Te,YS:()=>Se,ZM:()=>$e,cE:()=>k,dq:()=>Pe,iH:()=>Ue,j:()=>E,lk:()=>D,nZ:()=>l,oR:()=>Ve,qj:()=>be,qq:()=>w,sT:()=>x,yT:()=>Ee});var o=n(3577);let r;class i{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(e){if(this.active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function s(e){return new i(e)}function a(e,t=r){t&&t.active&&t.effects.push(e)}function l(){return r}function c(e){r&&r.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&m)>0,h=e=>(e.n&m)>0,p=new WeakMap;let f=0,m=1;let g;const v=Symbol(""),y=Symbol("");class w{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=g,t=S;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=g,g=this,S=!0,m=1<<++f,f<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=m})(this):b(this),this.fn()}finally{f<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const r=t[o];d(r)&&!h(r)?r.delete(e):t[n++]=r,r.w&=~m,r.n&=~m}t.length=n}})(this),m=1<<--f,g=this.parent,S=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){g===this?this.deferStop=!0:this.active&&(b(this),this.onStop&&this.onStop(),this.active=!1)}}function b(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function k(e,t){e.effect&&(e=e.effect.fn);const n=new w(e);t&&((0,o.extend)(n,t),t.scope&&a(n,t.scope)),t&&t.lazy||n.run();const r=n.run.bind(n);return r.effect=n,r}function x(e){e.effect.stop()}let S=!0;const _=[];function C(){_.push(S),S=!1}function D(){const e=_.pop();S=void 0===e||e}function E(e,t,n){if(S&&g){let t=p.get(e);t||p.set(e,t=new Map);let o=t.get(n);o||t.set(n,o=u());A(o,void 0)}}function A(e,t){let n=!1;f<=30?h(e)||(e.n|=m,n=!d(e)):n=!e.has(g),n&&(e.add(g),g.deps.push(e))}function O(e,t,n,r,i,s){const a=p.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&(0,o.isArray)(e))a.forEach(((e,t)=>{("length"===t||t>=r)&&l.push(e)}));else switch(void 0!==n&&l.push(a.get(n)),t){case"add":(0,o.isArray)(e)?(0,o.isIntegerKey)(n)&&l.push(a.get("length")):(l.push(a.get(v)),(0,o.isMap)(e)&&l.push(a.get(y)));break;case"delete":(0,o.isArray)(e)||(l.push(a.get(v)),(0,o.isMap)(e)&&l.push(a.get(y)));break;case"set":(0,o.isMap)(e)&&l.push(a.get(v))}if(1===l.length)l[0]&&T(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);T(u(e))}}function T(e,t){const n=(0,o.isArray)(e)?e:[...e];for(const e of n)e.computed&&M(e,t);for(const e of n)e.computed||M(e,t)}function M(e,t){(e!==g||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const L=(0,o.makeMap)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(o.isSymbol)),N=V(),P=V(!1,!0),U=V(!0),B=V(!0,!0),j=R();function R(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Oe(this);for(let e=0,t=this.length;e<t;e++)E(n,0,e+"");const o=n[t](...e);return-1===o||!1===o?n[t](...e.map(Oe)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){C();const n=Oe(this)[t].apply(this,e);return D(),n}})),e}function V(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?we:ye:t?ve:ge).get(n))return n;const s=(0,o.isArray)(n);if(!e&&s&&(0,o.hasOwn)(j,r))return Reflect.get(j,r,i);const a=Reflect.get(n,r,i);return((0,o.isSymbol)(r)?I.has(r):L(r))?a:(e||E(n,0,r),t?a:Pe(a)?s&&(0,o.isIntegerKey)(r)?a:a.value:(0,o.isObject)(a)?e?xe(a):be(a):a)}}const F=H(),W=H(!0);function H(e=!1){return function(t,n,r,i){let s=t[n];if(De(s)&&Pe(s)&&!Pe(r))return!1;if(!e&&!De(r)&&(Ee(r)||(r=Oe(r),s=Oe(s)),!(0,o.isArray)(t)&&Pe(s)&&!Pe(r)))return s.value=r,!0;const a=(0,o.isArray)(t)&&(0,o.isIntegerKey)(n)?Number(n)<t.length:(0,o.hasOwn)(t,n),l=Reflect.set(t,n,r,i);return t===Oe(i)&&(a?(0,o.hasChanged)(r,s)&&O(t,"set",n,r):O(t,"add",n,r)),l}}const z={get:N,set:F,deleteProperty:function(e,t){const n=(0,o.hasOwn)(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&O(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return(0,o.isSymbol)(t)&&I.has(t)||E(e,0,t),n},ownKeys:function(e){return E(e,0,(0,o.isArray)(e)?"length":v),Reflect.ownKeys(e)}},$={get:U,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},K=(0,o.extend)({},z,{get:P,set:W}),q=(0,o.extend)({},$,{get:B}),Y=e=>e,G=e=>Reflect.getPrototypeOf(e);function X(e,t,n=!1,o=!1){const r=Oe(e=e.__v_raw),i=Oe(t);n||(t!==i&&E(r,0,t),E(r,0,i));const{has:s}=G(r),a=o?Y:n?Le:Me;return s.call(r,t)?a(e.get(t)):s.call(r,i)?a(e.get(i)):void(e!==r&&e.get(t))}function J(e,t=!1){const n=this.__v_raw,o=Oe(n),r=Oe(e);return t||(e!==r&&E(o,0,e),E(o,0,r)),e===r?n.has(e):n.has(e)||n.has(r)}function Z(e,t=!1){return e=e.__v_raw,!t&&E(Oe(e),0,v),Reflect.get(e,"size",e)}function Q(e){e=Oe(e);const t=Oe(this);return G(t).has.call(t,e)||(t.add(e),O(t,"add",e,e)),this}function ee(e,t){t=Oe(t);const n=Oe(this),{has:r,get:i}=G(n);let s=r.call(n,e);s||(e=Oe(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?(0,o.hasChanged)(t,a)&&O(n,"set",e,t):O(n,"add",e,t),this}function te(e){const t=Oe(this),{has:n,get:o}=G(t);let r=n.call(t,e);r||(e=Oe(e),r=n.call(t,e));o&&o.call(t,e);const i=t.delete(e);return r&&O(t,"delete",e,void 0),i}function ne(){const e=Oe(this),t=0!==e.size,n=e.clear();return t&&O(e,"clear",void 0,void 0),n}function oe(e,t){return function(n,o){const r=this,i=r.__v_raw,s=Oe(i),a=t?Y:e?Le:Me;return!e&&E(s,0,v),i.forEach(((e,t)=>n.call(o,a(e),a(t),r)))}}function re(e,t,n){return function(...r){const i=this.__v_raw,s=Oe(i),a=(0,o.isMap)(s),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=i[e](...r),d=n?Y:t?Le:Me;return!t&&E(s,0,c?y:v),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ie(e){return function(...t){return"delete"!==e&&this}}function se(){const e={get(e){return X(this,e)},get size(){return Z(this)},has:J,add:Q,set:ee,delete:te,clear:ne,forEach:oe(!1,!1)},t={get(e){return X(this,e,!1,!0)},get size(){return Z(this)},has:J,add:Q,set:ee,delete:te,clear:ne,forEach:oe(!1,!0)},n={get(e){return X(this,e,!0)},get size(){return Z(this,!0)},has(e){return J.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:oe(!0,!1)},o={get(e){return X(this,e,!0,!0)},get size(){return Z(this,!0)},has(e){return J.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:oe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=re(r,!1,!1),n[r]=re(r,!0,!1),t[r]=re(r,!1,!0),o[r]=re(r,!0,!0)})),[e,n,t,o]}const[ae,le,ce,ue]=se();function de(e,t){const n=t?e?ue:ce:e?le:ae;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,o.hasOwn)(n,r)&&r in t?n:t,r,i)}const he={get:de(!1,!1)},pe={get:de(!1,!0)},fe={get:de(!0,!1)},me={get:de(!0,!0)};const ge=new WeakMap,ve=new WeakMap,ye=new WeakMap,we=new WeakMap;function be(e){return De(e)?e:_e(e,!1,z,he,ge)}function ke(e){return _e(e,!1,K,pe,ve)}function xe(e){return _e(e,!0,$,fe,ye)}function Se(e){return _e(e,!0,q,me,we)}function _e(e,t,n,r,i){if(!(0,o.isObject)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,o.toRawType)(l));var l;if(0===a)return e;const c=new Proxy(e,2===a?r:n);return i.set(e,c),c}function Ce(e){return De(e)?Ce(e.__v_raw):!(!e||!e.__v_isReactive)}function De(e){return!(!e||!e.__v_isReadonly)}function Ee(e){return!(!e||!e.__v_isShallow)}function Ae(e){return Ce(e)||De(e)}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function Te(e){return(0,o.def)(e,"__v_skip",!0),e}const Me=e=>(0,o.isObject)(e)?be(e):e,Le=e=>(0,o.isObject)(e)?xe(e):e;function Ie(e){S&&g&&A((e=Oe(e)).dep||(e.dep=u()))}function Ne(e,t){(e=Oe(e)).dep&&T(e.dep)}function Pe(e){return!(!e||!0!==e.__v_isRef)}function Ue(e){return je(e,!1)}function Be(e){return je(e,!0)}function je(e,t){return Pe(e)?e:new Re(e,t)}class Re{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Oe(e),this._value=t?e:Me(e)}get value(){return Ie(this),this._value}set value(e){e=this.__v_isShallow?e:Oe(e),(0,o.hasChanged)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Me(e),Ne(this))}}function Ve(e){Ne(e)}function Fe(e){return Pe(e)?e.value:e}const We={get:(e,t,n)=>Fe(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return Pe(r)&&!Pe(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function He(e){return Ce(e)?e:new Proxy(e,We)}class ze{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>Ie(this)),(()=>Ne(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function $e(e){return new ze(e)}function Ke(e){const t=(0,o.isArray)(e)?new Array(e.length):{};for(const n in e)t[n]=Ye(e,n);return t}class qe{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ye(e,t,n){const o=e[t];return Pe(o)?o:new qe(e,t,n)}class Ge{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new w(e,(()=>{this._dirty||(this._dirty=!0,Ne(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=Oe(this);return Ie(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Xe(e,t,n=!1){let r,i;const s=(0,o.isFunction)(e);s?(r=e,i=o.NOOP):(r=e.get,i=e.set);return new Ge(r,i,s||!i,n)}},66252:(e,t,n)=>{"use strict";n.d(t,{$d:()=>u,$y:()=>o.$y,Ah:()=>qe,B:()=>o.B,BK:()=>o.BK,Bj:()=>o.Bj,Bz:()=>lo,C3:()=>kn,C_:()=>r.normalizeClass,Cn:()=>$,EB:()=>o.EB,Eo:()=>Gt,F4:()=>An,FN:()=>Wn,Fl:()=>so,G:()=>Co,HX:()=>K,HY:()=>rn,Ho:()=>On,IU:()=>o.IU,JJ:()=>ae,Jd:()=>Ke,KU:()=>c,Ko:()=>at,LL:()=>ot,MW:()=>ao,MX:()=>xo,Mr:()=>ko,Nv:()=>lt,OT:()=>o.OT,Ob:()=>Le,P$:()=>be,PG:()=>o.PG,Q2:()=>rt,Q6:()=>De,RC:()=>Oe,Rh:()=>ue,Rr:()=>ho,S3:()=>d,SU:()=>o.SU,U2:()=>xe,Uc:()=>wo,Uk:()=>Tn,Um:()=>o.Um,Us:()=>Yt,Vh:()=>o.Vh,WI:()=>ct,WL:()=>o.WL,WY:()=>co,Wm:()=>Dn,X3:()=>o.X3,XI:()=>o.XI,Xl:()=>o.Xl,Xn:()=>ze,Y1:()=>Jn,Y3:()=>C,Y8:()=>ye,YP:()=>pe,YS:()=>o.YS,Yq:()=>Ge,ZK:()=>s,ZM:()=>o.ZM,Zq:()=>bo,_:()=>Cn,_A:()=>r.camelize,aZ:()=>Ee,b9:()=>uo,bT:()=>Xe,bv:()=>He,cE:()=>o.cE,d1:()=>Je,dD:()=>z,dG:()=>Un,dl:()=>Ne,dq:()=>o.dq,ec:()=>B,eq:()=>Do,f3:()=>le,h:()=>yo,hR:()=>r.toHandlerKey,i8:()=>_o,iD:()=>vn,iH:()=>o.iH,ic:()=>$e,j4:()=>yn,j5:()=>r.normalizeStyle,kC:()=>r.capitalize,kq:()=>Ln,l1:()=>po,lA:()=>wn,lR:()=>on,m0:()=>ce,mW:()=>N,mv:()=>vo,mx:()=>dt,n4:()=>te,nK:()=>Ce,nQ:()=>So,nZ:()=>o.nZ,oR:()=>o.oR,of:()=>Zn,p1:()=>go,qG:()=>ln,qZ:()=>mn,qb:()=>O,qj:()=>o.qj,qq:()=>o.qq,ry:()=>Eo,sT:()=>o.sT,se:()=>Pe,sv:()=>an,uE:()=>Mn,u_:()=>mo,up:()=>tt,vl:()=>Ye,vs:()=>r.normalizeProps,w5:()=>q,wF:()=>We,wg:()=>dn,wy:()=>Ze,xv:()=>sn,yT:()=>o.yT,yX:()=>de,zw:()=>r.toDisplayString});var o=n(2262),r=n(3577);const i=[];function s(e,...t){(0,o.Jd)();const n=i.length?i[i.length-1].component:null,r=n&&n.appContext.config.warnHandler,s=function(){let e=i[i.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}();if(r)c(r,n,11,[e+t.join(""),n&&n.proxy,s.map((({vnode:e})=>`at <${ro(n,e.type)}>`)).join("\n"),s]);else{const n=[`[Vue warn]: ${e}`,...t];s.length&&n.push("\n",...function(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...function({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=!!e.component&&null==e.component.parent,r=` at <${ro(e.component,e.type,o)}`,i=">"+n;return e.props?[r,...a(e.props),i]:[r+i]}(e))})),t}(s)),console.warn(...n)}(0,o.lk)()}function a(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...l(n,e[n]))})),n.length>3&&t.push(" ..."),t}function l(e,t,n){return(0,r.isString)(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[`${e}=${t}`]:(0,o.dq)(t)?(t=l(e,(0,o.IU)(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):(0,r.isFunction)(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=(0,o.IU)(t),n?t:[`${e}=`,t])}function c(e,t,n,o){let r;try{r=o?e(...o):e()}catch(e){d(e,t,n)}return r}function u(e,t,n,o){if((0,r.isFunction)(e)){const i=c(e,t,n,o);return i&&(0,r.isPromise)(i)&&i.catch((e=>{d(e,t,n)})),i}const i=[];for(let r=0;r<e.length;r++)i.push(u(e[r],t,n,o));return i}function d(e,t,n,o=!0){t&&t.vnode;if(t){let o=t.parent;const r=t.proxy,i=n;for(;o;){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,i))return;o=o.parent}const s=t.appContext.config.errorHandler;if(s)return void c(s,null,10,[e,r,i])}!function(e,t,n,o=!0){console.error(e)}(e,0,0,o)}let h=!1,p=!1;const f=[];let m=0;const g=[];let v=null,y=0;const w=[];let b=null,k=0;const x=Promise.resolve();let S=null,_=null;function C(e){const t=S||x;return e?t.then(this?e.bind(this):e):t}function D(e){f.length&&f.includes(e,h&&e.allowRecurse?m+1:m)||e===_||(null==e.id?f.push(e):f.splice(function(e){let t=m+1,n=f.length;for(;t<n;){const o=t+n>>>1;L(f[o])<e?t=o+1:n=o}return t}(e.id),0,e),E())}function E(){h||p||(p=!0,S=x.then(I))}function A(e,t,n,o){(0,r.isArray)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?o+1:o)||n.push(e),E()}function O(e){A(e,b,w,k)}function T(e,t=null){if(g.length){for(_=t,v=[...new Set(g)],g.length=0,y=0;y<v.length;y++)v[y]();v=null,y=0,_=null,T(e,t)}}function M(e){if(T(),w.length){const e=[...new Set(w)];if(w.length=0,b)return void b.push(...e);for(b=e,b.sort(((e,t)=>L(e)-L(t))),k=0;k<b.length;k++)b[k]();b=null,k=0}}const L=e=>null==e.id?1/0:e.id;function I(e){p=!1,h=!0,T(e),f.sort(((e,t)=>L(e)-L(t)));r.NOOP;try{for(m=0;m<f.length;m++){const e=f[m];e&&!1!==e.active&&c(e,null,14)}}finally{m=0,f.length=0,M(),h=!1,S=null,(f.length||g.length||w.length)&&I(e)}}new Set;new Map;let N,P=[],U=!1;function B(e,t){var n,o;if(N=e,N)N.enabled=!0,P.forEach((({event:e,args:t})=>N.emit(e,...t))),P=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(o=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===o?void 0:o.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{B(e,t)})),setTimeout((()=>{N||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,U=!0,P=[])}),3e3)}else U=!0,P=[]}function j(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r.EMPTY_OBJ;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in o){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:s}=o[e]||r.EMPTY_OBJ;s&&(i=n.map((e=>e.trim()))),t&&(i=n.map(r.toNumber))}let l;let c=o[l=(0,r.toHandlerKey)(t)]||o[l=(0,r.toHandlerKey)((0,r.camelize)(t))];!c&&s&&(c=o[l=(0,r.toHandlerKey)((0,r.hyphenate)(t))]),c&&u(c,e,6,i);const d=o[l+"Once"];if(d){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,u(d,e,6,i)}}function R(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(void 0!==i)return i;const s=e.emits;let a={},l=!1;if(!(0,r.isFunction)(e)){const o=e=>{const n=R(e,t,!0);n&&(l=!0,(0,r.extend)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return s||l?((0,r.isArray)(s)?s.forEach((e=>a[e]=null)):(0,r.extend)(a,s),o.set(e,a),a):(o.set(e,null),null)}function V(e,t){return!(!e||!(0,r.isOn)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.hasOwn)(e,t[0].toLowerCase()+t.slice(1))||(0,r.hasOwn)(e,(0,r.hyphenate)(t))||(0,r.hasOwn)(e,t))}let F=null,W=null;function H(e){const t=F;return F=e,W=e&&e.type.__scopeId||null,t}function z(e){W=e}function $(){W=null}const K=e=>q;function q(e,t=F,n){if(!t)return e;if(e._n)return e;const o=(...n)=>{o._d&&mn(-1);const r=H(t),i=e(...n);return H(r),o._d&&mn(1),i};return o._n=!0,o._c=!0,o._d=!0,o}function Y(e){const{type:t,vnode:n,proxy:o,withProxy:i,props:s,propsOptions:[a],slots:l,attrs:c,emit:u,render:h,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:v}=e;let y,w;const b=H(e);try{if(4&n.shapeFlag){const e=i||o;y=In(h.call(e,e,p,s,m,f,g)),w=c}else{const e=t;0,y=In(e.length>1?e(s,{attrs:c,slots:l,emit:u}):e(s,null)),w=t.props?c:X(c)}}catch(t){cn.length=0,d(t,e,1),y=Dn(an)}let k=y;if(w&&!1!==v){const e=Object.keys(w),{shapeFlag:t}=k;e.length&&7&t&&(a&&e.some(r.isModelListener)&&(w=J(w,a)),k=On(k,w))}return n.dirs&&(k=On(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),y=k,H(b),y}function G(e){let t;for(let n=0;n<e.length;n++){const o=e[n];if(!wn(o))return;if(o.type!==an||"v-if"===o.children){if(t)return;t=o}}return t}const X=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.isOn)(n))&&((t||(t={}))[n]=e[n]);return t},J=(e,t)=>{const n={};for(const o in e)(0,r.isModelListener)(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function Z(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!V(n,i))return!0}return!1}function Q({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const ee=e=>e.__isSuspense,te={name:"Suspense",__isSuspense:!0,process(e,t,n,o,r,i,s,a,l,c){null==e?function(e,t,n,o,r,i,s,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=e.suspense=oe(e,r,o,t,d,n,i,s,a,l);c(null,h.pendingBranch=e.ssContent,d,null,o,h,i,s),h.deps>0?(ne(e,"onPending"),ne(e,"onFallback"),c(null,e.ssFallback,t,n,o,null,i,s),se(h,e.ssFallback)):h.resolve()}(t,n,o,r,i,s,a,l,c):function(e,t,n,o,r,i,s,a,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,p=t.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:g,isHydrating:v}=d;if(m)d.pendingBranch=h,bn(h,m)?(l(m,h,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0?d.resolve():g&&(l(f,p,n,o,r,null,i,s,a),se(d,p))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=m):c(m,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),g?(l(null,h,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0?d.resolve():(l(f,p,n,o,r,null,i,s,a),se(d,p))):f&&bn(h,f)?(l(f,h,n,o,r,d,i,s,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0&&d.resolve()));else if(f&&bn(h,f))l(f,h,n,o,r,d,i,s,a),se(d,h);else if(ne(t,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,r,d,i,s,a),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(p)}),e):0===e&&d.fallback(p)}}(e,t,n,o,r,s,a,l,c)},hydrate:function(e,t,n,o,r,i,s,a,l){const c=t.suspense=oe(t,o,n,e.parentNode,document.createElement("div"),null,r,i,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,i,s);0===c.deps&&c.resolve();return u},create:oe,normalize:function(e){const{shapeFlag:t,children:n}=e,o=32&t;e.ssContent=re(o?n.default:n),e.ssFallback=o?re(n.fallback):Dn(an)}};function ne(e,t){const n=e.props&&e.props[t];(0,r.isFunction)(n)&&n()}function oe(e,t,n,o,i,s,a,l,c,u,h=!1){const{p,m:f,um:m,n:g,o:{parentNode:v,remove:y}}=u,w=(0,r.toNumber)(e.props&&e.props.timeout),b={vnode:e,parent:t,parentComponent:n,isSVG:a,container:o,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:"number"==typeof w?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:o,pendingId:r,effects:i,parentComponent:s,container:a}=b;if(b.isHydrating)b.isHydrating=!1;else if(!e){const e=n&&o.transition&&"out-in"===o.transition.mode;e&&(n.transition.afterLeave=()=>{r===b.pendingId&&f(o,a,t,0)});let{anchor:t}=b;n&&(t=g(n),m(n,s,b,!0)),e||f(o,a,t,0)}se(b,o),b.pendingBranch=null,b.isInFallback=!1;let l=b.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...i),c=!0;break}l=l.parent}c||O(i),b.effects=[],ne(t,"onResolve")},fallback(e){if(!b.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:o,container:r,isSVG:i}=b;ne(t,"onFallback");const s=g(n),a=()=>{b.isInFallback&&(p(null,e,r,s,o,null,i,l,c),se(b,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=a),b.isInFallback=!0,m(n,o,null,!0),u||a()},move(e,t,n){b.activeBranch&&f(b.activeBranch,e,t,n),b.container=e},next:()=>b.activeBranch&&g(b.activeBranch),registerDep(e,t){const n=!!b.pendingBranch;n&&b.deps++;const o=e.vnode.el;e.asyncDep.catch((t=>{d(t,e,0)})).then((r=>{if(e.isUnmounted||b.isUnmounted||b.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;Xn(e,r,!1),o&&(i.el=o);const s=!o&&e.subTree.el;t(e,i,v(o||e.subTree.el),o?null:g(e.subTree),b,a,c),s&&y(s),Q(e,i.el),n&&0==--b.deps&&b.resolve()}))},unmount(e,t){b.isUnmounted=!0,b.activeBranch&&m(b.activeBranch,n,e,t),b.pendingBranch&&m(b.pendingBranch,n,e,t)}};return b}function re(e){let t;if((0,r.isFunction)(e)){const n=fn&&e._c;n&&(e._d=!1,dn()),e=e(),n&&(e._d=!0,t=un,hn())}if((0,r.isArray)(e)){const t=G(e);0,e=t}return e=In(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function ie(e,t){t&&t.pendingBranch?(0,r.isArray)(e)?t.effects.push(...e):t.effects.push(e):O(e)}function se(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e,r=n.el=t.el;o&&o.subTree===n&&(o.vnode.el=r,Q(o,r))}function ae(e,t){if(Fn){let n=Fn.provides;const o=Fn.parent&&Fn.parent.provides;o===n&&(n=Fn.provides=Object.create(o)),n[e]=t}else 0}function le(e,t,n=!1){const o=Fn||F;if(o){const i=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,r.isFunction)(t)?t.call(o.proxy):t}else 0}function ce(e,t){return fe(e,null,t)}function ue(e,t){return fe(e,null,{flush:"post"})}function de(e,t){return fe(e,null,{flush:"sync"})}const he={};function pe(e,t,n){return fe(e,t,n)}function fe(e,t,{immediate:n,deep:i,flush:s,onTrack:a,onTrigger:l}=r.EMPTY_OBJ){const d=Fn;let h,p,f=!1,m=!1;if((0,o.dq)(e)?(h=()=>e.value,f=(0,o.yT)(e)):(0,o.PG)(e)?(h=()=>e,i=!0):(0,r.isArray)(e)?(m=!0,f=e.some((e=>(0,o.PG)(e)||(0,o.yT)(e))),h=()=>e.map((e=>(0,o.dq)(e)?e.value:(0,o.PG)(e)?ve(e):(0,r.isFunction)(e)?c(e,d,2):void 0))):h=(0,r.isFunction)(e)?t?()=>c(e,d,2):()=>{if(!d||!d.isUnmounted)return p&&p(),u(e,d,3,[w])}:r.NOOP,t&&i){const e=h;h=()=>ve(e())}let w=e=>{p=S.onStop=()=>{c(e,d,4)}};if(Yn)return w=r.NOOP,t?n&&u(t,d,3,[h(),m?[]:void 0,w]):h(),r.NOOP;let b=m?[]:he;const k=()=>{if(S.active)if(t){const e=S.run();(i||f||(m?e.some(((e,t)=>(0,r.hasChanged)(e,b[t]))):(0,r.hasChanged)(e,b)))&&(p&&p(),u(t,d,3,[e,b===he?void 0:b,w]),b=e)}else S.run()};let x;k.allowRecurse=!!t,x="sync"===s?k:"post"===s?()=>qt(k,d&&d.suspense):()=>function(e){A(e,v,g,y)}(k);const S=new o.qq(h,x);return t?n?k():b=S.run():"post"===s?qt(S.run.bind(S),d&&d.suspense):S.run(),()=>{S.stop(),d&&d.scope&&(0,r.remove)(d.scope.effects,S)}}function me(e,t,n){const o=this.proxy,i=(0,r.isString)(e)?e.includes(".")?ge(o,e):()=>o[e]:e.bind(o,o);let s;(0,r.isFunction)(t)?s=t:(s=t.handler,n=t);const a=Fn;Hn(this);const l=fe(i,s.bind(o),n);return a?Hn(a):zn(),l}function ge(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ve(e,t){if(!(0,r.isObject)(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),(0,o.dq)(e))ve(e.value,t);else if((0,r.isArray)(e))for(let n=0;n<e.length;n++)ve(e[n],t);else if((0,r.isSet)(e)||(0,r.isMap)(e))e.forEach((e=>{ve(e,t)}));else if((0,r.isPlainObject)(e))for(const n in e)ve(e[n],t);return e}function ye(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return He((()=>{e.isMounted=!0})),Ke((()=>{e.isUnmounting=!0})),e}const we=[Function,Array],be={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:we,onEnter:we,onAfterEnter:we,onEnterCancelled:we,onBeforeLeave:we,onLeave:we,onAfterLeave:we,onLeaveCancelled:we,onBeforeAppear:we,onAppear:we,onAfterAppear:we,onAppearCancelled:we},setup(e,{slots:t}){const n=Wn(),r=ye();let i;return()=>{const s=t.default&&De(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==an){0,a=t,e=!0;break}}const l=(0,o.IU)(e),{mode:c}=l;if(r.isLeaving)return Se(a);const u=_e(a);if(!u)return Se(a);const d=xe(u,l,r,n);Ce(u,d);const h=n.subTree,p=h&&_e(h);let f=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===i?i=e:e!==i&&(i=e,f=!0)}if(p&&p.type!==an&&(!bn(u,p)||f)){const e=xe(p,l,r,n);if(Ce(p,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},Se(a);"in-out"===c&&u.type!==an&&(e.delayLeave=(e,t,n)=>{ke(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return a}}};function ke(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function xe(e,t,n,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:w,onAppearCancelled:b}=t,k=String(e.key),x=ke(n,e),S=(e,t)=>{e&&u(e,o,9,t)},_=(e,t)=>{const n=t[1];S(e,t),(0,r.isArray)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:s,persisted:a,beforeEnter(t){let o=l;if(!n.isMounted){if(!i)return;o=v||l}t._leaveCb&&t._leaveCb(!0);const r=x[k];r&&bn(e,r)&&r.el._leaveCb&&r.el._leaveCb(),S(o,[t])},enter(e){let t=c,o=d,r=h;if(!n.isMounted){if(!i)return;t=y||c,o=w||d,r=b||h}let s=!1;const a=e._enterCb=t=>{s||(s=!0,S(t?r:o,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?_(t,[e,a]):a()},leave(t,o){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return o();S(p,[t]);let i=!1;const s=t._leaveCb=n=>{i||(i=!0,o(),S(n?g:m,[t]),t._leaveCb=void 0,x[r]===e&&delete x[r])};x[r]=e,f?_(f,[t,s]):s()},clone:e=>xe(e,t,n,o)};return C}function Se(e){if(Me(e))return(e=On(e)).children=null,e}function _e(e){return Me(e)?e.children?e.children[0]:void 0:e}function Ce(e,t){6&e.shapeFlag&&e.component?Ce(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function De(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let s=e[i];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:i);s.type===rn?(128&s.patchFlag&&r++,o=o.concat(De(s.children,t,a))):(t||s.type!==an)&&o.push(null!=a?On(s,{key:a}):s)}if(r>1)for(let e=0;e<o.length;e++)o[e].patchFlag=-2;return o}function Ee(e){return(0,r.isFunction)(e)?{setup:e,name:e.name}:e}const Ae=e=>!!e.type.__asyncLoader;function Oe(e){(0,r.isFunction)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:s=200,timeout:a,suspensible:l=!0,onError:c}=e;let u,h=null,p=0;const f=()=>{let e;return h||(e=h=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),c)return new Promise(((t,n)=>{c(e,(()=>t((p++,h=null,f()))),(()=>n(e)),p+1)}));throw e})).then((t=>e!==h&&h?h:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),u=t,t))))};return Ee({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const e=Fn;if(u)return()=>Te(u,e);const t=t=>{h=null,d(t,e,13,!i)};if(l&&e.suspense||Yn)return f().then((t=>()=>Te(t,e))).catch((e=>(t(e),()=>i?Dn(i,{error:e}):null)));const r=(0,o.iH)(!1),c=(0,o.iH)(),p=(0,o.iH)(!!s);return s&&setTimeout((()=>{p.value=!1}),s),null!=a&&setTimeout((()=>{if(!r.value&&!c.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),c.value=e}}),a),f().then((()=>{r.value=!0,e.parent&&Me(e.parent.vnode)&&D(e.parent.update)})).catch((e=>{t(e),c.value=e})),()=>r.value&&u?Te(u,e):c.value&&i?Dn(i,{error:c.value}):n&&!p.value?Dn(n):void 0}})}function Te(e,{vnode:{ref:t,props:n,children:o,shapeFlag:r},parent:i}){const s=Dn(e,n,o);return s.ref=t,s}const Me=e=>e.type.__isKeepAlive,Le={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Wn(),o=n.ctx;if(!o.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:h}}}=o,p=h("div");function f(e){je(e),d(e,n,l,!0)}function m(e){i.forEach(((t,n)=>{const o=oo(t.type);!o||e&&e(o)||g(n)}))}function g(e){const t=i.get(e);a&&t.type===a.type?a&&je(a):f(t),i.delete(e),s.delete(e)}o.activate=(e,t,n,o,i)=>{const s=e.component;u(e,t,n,0,l),c(s.vnode,e,t,n,s,l,o,e.slotScopeIds,i),qt((()=>{s.isDeactivated=!1,s.a&&(0,r.invokeArrayFns)(s.a);const t=e.props&&e.props.onVnodeMounted;t&&Bn(t,s.parent,e)}),l)},o.deactivate=e=>{const t=e.component;u(e,p,null,1,l),qt((()=>{t.da&&(0,r.invokeArrayFns)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Bn(n,t.parent,e),t.isDeactivated=!0}),l)},pe((()=>[e.include,e.exclude]),(([e,t])=>{e&&m((t=>Ie(e,t))),t&&m((e=>!Ie(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&i.set(v,Re(n.subTree))};return He(y),$e(y),Ke((()=>{i.forEach((e=>{const{subTree:t,suspense:o}=n,r=Re(t);if(e.type!==r.type)f(e);else{je(r);const e=r.component.da;e&&qt(e,o)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),o=n[0];if(n.length>1)return a=null,n;if(!(wn(o)&&(4&o.shapeFlag||128&o.shapeFlag)))return a=null,o;let r=Re(o);const l=r.type,c=oo(Ae(r)?r.type.__asyncResolved||{}:l),{include:u,exclude:d,max:h}=e;if(u&&(!c||!Ie(u,c))||d&&c&&Ie(d,c))return a=r,o;const p=null==r.key?l:r.key,f=i.get(p);return r.el&&(r=On(r),128&o.shapeFlag&&(o.ssContent=r)),v=p,f?(r.el=f.el,r.component=f.component,r.transition&&Ce(r,r.transition),r.shapeFlag|=512,s.delete(p),s.add(p)):(s.add(p),h&&s.size>parseInt(h,10)&&g(s.values().next().value)),r.shapeFlag|=256,a=r,ee(o.type)?o:r}}};function Ie(e,t){return(0,r.isArray)(e)?e.some((e=>Ie(e,t))):(0,r.isString)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ne(e,t){Ue(e,"a",t)}function Pe(e,t){Ue(e,"da",t)}function Ue(e,t,n=Fn){const o=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Ve(t,o,n),n){let e=n.parent;for(;e&&e.parent;)Me(e.parent.vnode)&&Be(o,t,n,e),e=e.parent}}function Be(e,t,n,o){const i=Ve(t,e,o,!0);qe((()=>{(0,r.remove)(o[t],i)}),n)}function je(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Re(e){return 128&e.shapeFlag?e.ssContent:e}function Ve(e,t,n=Fn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,o.Jd)(),Hn(n);const i=u(t,n,e,r);return zn(),(0,o.lk)(),i});return r?i.unshift(s):i.push(s),s}}const Fe=e=>(t,n=Fn)=>(!Yn||"sp"===e)&&Ve(e,t,n),We=Fe("bm"),He=Fe("m"),ze=Fe("bu"),$e=Fe("u"),Ke=Fe("bum"),qe=Fe("um"),Ye=Fe("sp"),Ge=Fe("rtg"),Xe=Fe("rtc");function Je(e,t=Fn){Ve("ec",e,t)}function Ze(e,t){const n=F;if(null===n)return e;const o=to(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,s,a,l=r.EMPTY_OBJ]=t[e];(0,r.isFunction)(n)&&(n={mounted:n,updated:n}),n.deep&&ve(s),i.push({dir:n,instance:o,value:s,oldValue:void 0,arg:a,modifiers:l})}return e}function Qe(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];s&&(l.oldValue=s[a].value);let c=l.dir[r];c&&((0,o.Jd)(),u(c,n,8,[e.el,l,e,t]),(0,o.lk)())}}const et="components";function tt(e,t){return it(et,e,!0,t)||e}const nt=Symbol();function ot(e){return(0,r.isString)(e)?it(et,e,!1)||e:e||nt}function rt(e){return it("directives",e)}function it(e,t,n=!0,o=!1){const i=F||Fn;if(i){const n=i.type;if(e===et){const e=oo(n,!1);if(e&&(e===t||e===(0,r.camelize)(t)||e===(0,r.capitalize)((0,r.camelize)(t))))return n}const s=st(i[e]||n[e],t)||st(i.appContext[e],t);return!s&&o?n:s}}function st(e,t){return e&&(e[t]||e[(0,r.camelize)(t)]||e[(0,r.capitalize)((0,r.camelize)(t))])}function at(e,t,n,o){let i;const s=n&&n[o];if((0,r.isArray)(e)||(0,r.isString)(e)){i=new Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(e[n],n,void 0,s&&s[n])}else if("number"==typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,s&&s[n])}else if((0,r.isObject)(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let o=0,r=n.length;o<r;o++){const r=n[o];i[o]=t(e[r],r,o,s&&s[o])}}else i=[];return n&&(n[o]=i),i}function lt(e,t){for(let n=0;n<t.length;n++){const o=t[n];if((0,r.isArray)(o))for(let t=0;t<o.length;t++)e[o[t].name]=o[t].fn;else o&&(e[o.name]=o.fn)}return e}function ct(e,t,n={},o,r){if(F.isCE||F.parent&&Ae(F.parent)&&F.parent.isCE)return Dn("slot","default"===t?null:{name:t},o&&o());let i=e[t];i&&i._c&&(i._d=!1),dn();const s=i&&ut(i(n)),a=yn(rn,{key:n.key||`_${t}`},s||(o?o():[]),s&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ut(e){return e.some((e=>!wn(e)||e.type!==an&&!(e.type===rn&&!ut(e.children))))?e:null}function dt(e){const t={};for(const n in e)t[(0,r.toHandlerKey)(n)]=e[n];return t}const ht=e=>e?$n(e)?to(e)||e.proxy:ht(e.parent):null,pt=(0,r.extend)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ht(e.parent),$root:e=>ht(e.root),$emit:e=>e.emit,$options:e=>bt(e),$forceUpdate:e=>e.f||(e.f=()=>D(e.update)),$nextTick:e=>e.n||(e.n=C.bind(e.proxy)),$watch:e=>me.bind(e)}),ft={get({_:e},t){const{ctx:n,setupState:i,data:s,props:a,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const o=l[t];if(void 0!==o)switch(o){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(i!==r.EMPTY_OBJ&&(0,r.hasOwn)(i,t))return l[t]=1,i[t];if(s!==r.EMPTY_OBJ&&(0,r.hasOwn)(s,t))return l[t]=2,s[t];if((d=e.propsOptions[0])&&(0,r.hasOwn)(d,t))return l[t]=3,a[t];if(n!==r.EMPTY_OBJ&&(0,r.hasOwn)(n,t))return l[t]=4,n[t];gt&&(l[t]=0)}}const h=pt[t];let p,f;return h?("$attrs"===t&&(0,o.j)(e,"get",t),h(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r.EMPTY_OBJ&&(0,r.hasOwn)(n,t)?(l[t]=4,n[t]):(f=u.config.globalProperties,(0,r.hasOwn)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:o,setupState:i,ctx:s}=e;return i!==r.EMPTY_OBJ&&(0,r.hasOwn)(i,t)?(i[t]=n,!0):o!==r.EMPTY_OBJ&&(0,r.hasOwn)(o,t)?(o[t]=n,!0):!(0,r.hasOwn)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:s}},a){let l;return!!n[a]||e!==r.EMPTY_OBJ&&(0,r.hasOwn)(e,a)||t!==r.EMPTY_OBJ&&(0,r.hasOwn)(t,a)||(l=s[0])&&(0,r.hasOwn)(l,a)||(0,r.hasOwn)(o,a)||(0,r.hasOwn)(pt,a)||(0,r.hasOwn)(i.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.hasOwn)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const mt=(0,r.extend)({},ft,{get(e,t){if(t!==Symbol.unscopables)return ft.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!(0,r.isGloballyWhitelisted)(t)});let gt=!0;function vt(e){const t=bt(e),n=e.proxy,i=e.ctx;gt=!1,t.beforeCreate&&yt(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:w,beforeUnmount:b,destroyed:k,unmounted:x,render:S,renderTracked:_,renderTriggered:C,errorCaptured:D,serverPrefetch:E,expose:A,inheritAttrs:O,components:T,directives:M,filters:L}=t;if(d&&function(e,t,n=r.NOOP,i=!1){(0,r.isArray)(e)&&(e=_t(e));for(const n in e){const s=e[n];let a;a=(0,r.isObject)(s)?"default"in s?le(s.from||n,s.default,!0):le(s.from||n):le(s),(0,o.dq)(a)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}(d,i,null,e.appContext.config.unwrapInjectedRef),l)for(const e in l){const t=l[e];(0,r.isFunction)(t)&&(i[e]=t.bind(n))}if(s){0;const t=s.call(n,n);0,(0,r.isObject)(t)&&(e.data=(0,o.qj)(t))}if(gt=!0,a)for(const e in a){const t=a[e],o=(0,r.isFunction)(t)?t.bind(n,n):(0,r.isFunction)(t.get)?t.get.bind(n,n):r.NOOP;0;const s=!(0,r.isFunction)(t)&&(0,r.isFunction)(t.set)?t.set.bind(n):r.NOOP,l=so({get:o,set:s});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)wt(c[e],i,n,e);if(u){const e=(0,r.isFunction)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{ae(t,e[t])}))}function I(e,t){(0,r.isArray)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&yt(h,e,"c"),I(We,p),I(He,f),I(ze,m),I($e,g),I(Ne,v),I(Pe,y),I(Je,D),I(Xe,_),I(Ge,C),I(Ke,b),I(qe,x),I(Ye,E),(0,r.isArray)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===r.NOOP&&(e.render=S),null!=O&&(e.inheritAttrs=O),T&&(e.components=T),M&&(e.directives=M)}function yt(e,t,n){u((0,r.isArray)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function wt(e,t,n,o){const i=o.includes(".")?ge(n,o):()=>n[o];if((0,r.isString)(e)){const n=t[e];(0,r.isFunction)(n)&&pe(i,n)}else if((0,r.isFunction)(e))pe(i,e.bind(n));else if((0,r.isObject)(e))if((0,r.isArray)(e))e.forEach((e=>wt(e,t,n,o)));else{const o=(0,r.isFunction)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.isFunction)(o)&&pe(i,o,e)}else 0}function bt(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let l;return a?l=a:r.length||n||o?(l={},r.length&&r.forEach((e=>kt(l,e,s,!0))),kt(l,t,s)):l=t,i.set(t,l),l}function kt(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&kt(e,i,n,!0),r&&r.forEach((t=>kt(e,t,n,!0)));for(const r in t)if(o&&"expose"===r);else{const o=xt[r]||n&&n[r];e[r]=o?o(e[r],t[r]):t[r]}return e}const xt={data:St,props:Dt,emits:Dt,methods:Dt,computed:Dt,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:Dt,directives:Dt,watch:function(e,t){if(!e)return t;if(!t)return e;const n=(0,r.extend)(Object.create(null),e);for(const o in t)n[o]=Ct(e[o],t[o]);return n},provide:St,inject:function(e,t){return Dt(_t(e),_t(t))}};function St(e,t){return t?e?function(){return(0,r.extend)((0,r.isFunction)(e)?e.call(this,this):e,(0,r.isFunction)(t)?t.call(this,this):t)}:t:e}function _t(e){if((0,r.isArray)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ct(e,t){return e?[...new Set([].concat(e,t))]:t}function Dt(e,t){return e?(0,r.extend)((0,r.extend)(Object.create(null),e),t):t}function Et(e,t,n,i){const[s,a]=e.propsOptions;let l,c=!1;if(t)for(let o in t){if((0,r.isReservedProp)(o))continue;const u=t[o];let d;s&&(0,r.hasOwn)(s,d=(0,r.camelize)(o))?a&&a.includes(d)?(l||(l={}))[d]=u:n[d]=u:V(e.emitsOptions,o)||o in i&&u===i[o]||(i[o]=u,c=!0)}if(a){const t=(0,o.IU)(n),i=l||r.EMPTY_OBJ;for(let o=0;o<a.length;o++){const l=a[o];n[l]=At(s,t,l,i[l],e,!(0,r.hasOwn)(i,l))}}return c}function At(e,t,n,o,i,s){const a=e[n];if(null!=a){const e=(0,r.hasOwn)(a,"default");if(e&&void 0===o){const e=a.default;if(a.type!==Function&&(0,r.isFunction)(e)){const{propsDefaults:r}=i;n in r?o=r[n]:(Hn(i),o=r[n]=e.call(null,t),zn())}else o=e}a[0]&&(s&&!e?o=!1:!a[1]||""!==o&&o!==(0,r.hyphenate)(n)||(o=!0))}return o}function Ot(e,t,n=!1){const o=t.propsCache,i=o.get(e);if(i)return i;const s=e.props,a={},l=[];let c=!1;if(!(0,r.isFunction)(e)){const o=e=>{c=!0;const[n,o]=Ot(e,t,!0);(0,r.extend)(a,n),o&&l.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!s&&!c)return o.set(e,r.EMPTY_ARR),r.EMPTY_ARR;if((0,r.isArray)(s))for(let e=0;e<s.length;e++){0;const t=(0,r.camelize)(s[e]);Tt(t)&&(a[t]=r.EMPTY_OBJ)}else if(s){0;for(const e in s){const t=(0,r.camelize)(e);if(Tt(t)){const n=s[e],o=a[t]=(0,r.isArray)(n)||(0,r.isFunction)(n)?{type:n}:n;if(o){const e=It(Boolean,o.type),n=It(String,o.type);o[0]=e>-1,o[1]=n<0||e<n,(e>-1||(0,r.hasOwn)(o,"default"))&&l.push(t)}}}}const u=[a,l];return o.set(e,u),u}function Tt(e){return"$"!==e[0]}function Mt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Lt(e,t){return Mt(e)===Mt(t)}function It(e,t){return(0,r.isArray)(t)?t.findIndex((t=>Lt(t,e))):(0,r.isFunction)(t)&&Lt(t,e)?0:-1}const Nt=e=>"_"===e[0]||"$stable"===e,Pt=e=>(0,r.isArray)(e)?e.map(In):[In(e)],Ut=(e,t,n)=>{if(t._n)return t;const o=q(((...e)=>Pt(t(...e))),n);return o._c=!1,o},Bt=(e,t,n)=>{const o=e._ctx;for(const n in e){if(Nt(n))continue;const i=e[n];if((0,r.isFunction)(i))t[n]=Ut(0,i,o);else if(null!=i){0;const e=Pt(i);t[n]=()=>e}}},jt=(e,t)=>{const n=Pt(t);e.slots.default=()=>n};function Rt(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vt=0;function Ft(e,t){return function(n,o=null){(0,r.isFunction)(n)||(n=Object.assign({},n)),null==o||(0,r.isObject)(o)||(o=null);const i=Rt(),s=new Set;let a=!1;const l=i.app={_uid:Vt++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:_o,get config(){return i.config},set config(e){0},use:(e,...t)=>(s.has(e)||(e&&(0,r.isFunction)(e.install)?(s.add(e),e.install(l,...t)):(0,r.isFunction)(e)&&(s.add(e),e(l,...t))),l),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),l),component:(e,t)=>t?(i.components[e]=t,l):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,l):i.directives[e],mount(r,s,c){if(!a){0;const u=Dn(n,o);return u.appContext=i,s&&t?t(u,r):e(u,r,c),a=!0,l._container=r,r.__vue_app__=l,to(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,l)};return l}}function Wt(e,t,n,i,s=!1){if((0,r.isArray)(e))return void e.forEach(((e,o)=>Wt(e,t&&((0,r.isArray)(t)?t[o]:t),n,i,s)));if(Ae(i)&&!s)return;const a=4&i.shapeFlag?to(i.component)||i.component.proxy:i.el,l=s?null:a,{i:u,r:d}=e;const h=t&&t.r,p=u.refs===r.EMPTY_OBJ?u.refs={}:u.refs,f=u.setupState;if(null!=h&&h!==d&&((0,r.isString)(h)?(p[h]=null,(0,r.hasOwn)(f,h)&&(f[h]=null)):(0,o.dq)(h)&&(h.value=null)),(0,r.isFunction)(d))c(d,u,12,[l,p]);else{const t=(0,r.isString)(d),i=(0,o.dq)(d);if(t||i){const o=()=>{if(e.f){const n=t?p[d]:d.value;s?(0,r.isArray)(n)&&(0,r.remove)(n,a):(0,r.isArray)(n)?n.includes(a)||n.push(a):t?(p[d]=[a],(0,r.hasOwn)(f,d)&&(f[d]=p[d])):(d.value=[a],e.k&&(p[e.k]=d.value))}else t?(p[d]=l,(0,r.hasOwn)(f,d)&&(f[d]=l)):i&&(d.value=l,e.k&&(p[e.k]=l))};l?(o.id=-1,qt(o,n)):o()}else 0}}let Ht=!1;const zt=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,$t=e=>8===e.nodeType;function Kt(e){const{mt:t,p:n,o:{patchProp:o,createText:i,nextSibling:s,parentNode:a,remove:l,insert:c,createComment:u}}=e,d=(n,o,r,l,u,v=!1)=>{const y=$t(n)&&"["===n.data,w=()=>m(n,o,r,l,u,y),{type:b,ref:k,shapeFlag:x,patchFlag:S}=o,_=n.nodeType;o.el=n,-2===S&&(v=!1,o.dynamicChildren=null);let C=null;switch(b){case sn:3!==_?""===o.children?(c(o.el=i(""),a(n),n),C=n):C=w():(n.data!==o.children&&(Ht=!0,n.data=o.children),C=s(n));break;case an:C=8!==_||y?w():s(n);break;case ln:if(1===_||3===_){C=n;const e=!o.children.length;for(let t=0;t<o.staticCount;t++)e&&(o.children+=1===C.nodeType?C.outerHTML:C.data),t===o.staticCount-1&&(o.anchor=C),C=s(C);return C}C=w();break;case rn:C=y?f(n,o,r,l,u,v):w();break;default:if(1&x)C=1!==_||o.type.toLowerCase()!==n.tagName.toLowerCase()?w():h(n,o,r,l,u,v);else if(6&x){o.slotScopeIds=u;const e=a(n);if(t(o,e,null,r,l,zt(e),v),C=y?g(n):s(n),C&&$t(C)&&"teleport end"===C.data&&(C=s(C)),Ae(o)){let t;y?(t=Dn(rn),t.anchor=C?C.previousSibling:e.lastChild):t=3===n.nodeType?Tn(""):Dn("div"),t.el=n,o.component.subTree=t}}else 64&x?C=8!==_?w():o.type.hydrate(n,o,r,l,u,v,e,p):128&x&&(C=o.type.hydrate(n,o,r,l,zt(a(n)),u,v,e,d))}return null!=k&&Wt(k,null,l,o),C},h=(e,t,n,i,s,a)=>{a=a||!!t.dynamicChildren;const{type:c,props:u,patchFlag:d,shapeFlag:h,dirs:f}=t,m="input"===c&&f||"option"===c;if(m||-1!==d){if(f&&Qe(t,null,n,"created"),u)if(m||!a||48&d)for(const t in u)(m&&t.endsWith("value")||(0,r.isOn)(t)&&!(0,r.isReservedProp)(t))&&o(e,t,null,u[t],!1,void 0,n);else u.onClick&&o(e,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&Bn(c,n,t),f&&Qe(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&ie((()=>{c&&Bn(c,n,t),f&&Qe(t,null,n,"mounted")}),i),16&h&&(!u||!u.innerHTML&&!u.textContent)){let o=p(e.firstChild,t,e,n,i,s,a);for(;o;){Ht=!0;const e=o;o=o.nextSibling,l(e)}}else 8&h&&e.textContent!==t.children&&(Ht=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,o,r,i,s,a)=>{a=a||!!t.dynamicChildren;const l=t.children,c=l.length;for(let t=0;t<c;t++){const c=a?l[t]:l[t]=In(l[t]);if(e)e=d(e,c,r,i,s,a);else{if(c.type===sn&&!c.children)continue;Ht=!0,n(null,c,o,null,r,i,zt(o),s)}}return e},f=(e,t,n,o,r,i)=>{const{slotScopeIds:l}=t;l&&(r=r?r.concat(l):l);const d=a(e),h=p(s(e),t,d,n,o,r,i);return h&&$t(h)&&"]"===h.data?s(t.anchor=h):(Ht=!0,c(t.anchor=u("]"),d,h),h)},m=(e,t,o,r,i,c)=>{if(Ht=!0,t.el=null,c){const t=g(e);for(;;){const n=s(e);if(!n||n===t)break;l(n)}}const u=s(e),d=a(e);return l(e),n(null,t,d,u,o,r,zt(d),i),u},g=e=>{let t=0;for(;e;)if((e=s(e))&&$t(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return s(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),M(),void(t._vnode=e);Ht=!1,d(t.firstChild,e,null,null,null),M(),t._vnode=e,Ht&&console.error("Hydration completed but contains mismatches.")},d]}const qt=ie;function Yt(e){return Xt(e)}function Gt(e){return Xt(e,Kt)}function Xt(e,t){(0,r.getGlobalThis)().__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:l,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:p,setScopeId:g=r.NOOP,cloneNode:v,insertStaticContent:y}=e,w=(e,t,n,o=null,r=null,i=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!bn(e,t)&&(o=J(e),$(e,r,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case sn:b(e,t,n,o);break;case an:k(e,t,n,o);break;case ln:null==e&&x(t,n,o,s);break;case rn:N(e,t,n,o,r,i,s,a,l);break;default:1&d?_(e,t,n,o,r,i,s,a,l):6&d?P(e,t,n,o,r,i,s,a,l):(64&d||128&d)&&c.process(e,t,n,o,r,i,s,a,l,te)}null!=u&&r&&Wt(u,e&&e.ref,i,t||e,!t)},b=(e,t,o,r)=>{if(null==e)n(t.el=l(t.children),o,r);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},k=(e,t,o,r)=>{null==e?n(t.el=c(t.children||""),o,r):t.el=e.el},x=(e,t,n,o)=>{[e.el,e.anchor]=y(e.children,t,n,o,e.el,e.anchor)},S=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=p(e),i(e),e=n;i(t)},_=(e,t,n,o,r,i,s,a,l)=>{s=s||"svg"===t.type,null==e?C(t,n,o,r,i,s,a,l):O(e,t,r,i,s,a,l)},C=(e,t,o,i,l,c,u,h)=>{let p,f;const{type:m,props:g,shapeFlag:y,transition:w,patchFlag:b,dirs:k}=e;if(e.el&&void 0!==v&&-1===b)p=e.el=v(e.el);else{if(p=e.el=a(e.type,c,g&&g.is,g),8&y?d(p,e.children):16&y&&A(e.children,p,null,i,l,c&&"foreignObject"!==m,u,h),k&&Qe(e,null,i,"created"),g){for(const t in g)"value"===t||(0,r.isReservedProp)(t)||s(p,t,null,g[t],c,e.children,i,l,X);"value"in g&&s(p,"value",null,g.value),(f=g.onVnodeBeforeMount)&&Bn(f,i,e)}E(p,e,e.scopeId,u,i)}k&&Qe(e,null,i,"beforeMount");const x=(!l||l&&!l.pendingBranch)&&w&&!w.persisted;x&&w.beforeEnter(p),n(p,t,o),((f=g&&g.onVnodeMounted)||x||k)&&qt((()=>{f&&Bn(f,i,e),x&&w.enter(p),k&&Qe(e,null,i,"mounted")}),l)},E=(e,t,n,o,r)=>{if(n&&g(e,n),o)for(let t=0;t<o.length;t++)g(e,o[t]);if(r){if(t===r.subTree){const t=r.vnode;E(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},A=(e,t,n,o,r,i,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Nn(e[c]):In(e[c]);w(null,l,t,n,o,r,i,s,a)}},O=(e,t,n,o,i,a,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||r.EMPTY_OBJ,m=t.props||r.EMPTY_OBJ;let g;n&&Jt(n,!1),(g=m.onVnodeBeforeUpdate)&&Bn(g,n,t,e),p&&Qe(t,e,n,"beforeUpdate"),n&&Jt(n,!0);const v=i&&"foreignObject"!==t.type;if(h?L(e.dynamicChildren,h,c,n,o,v,a):l||F(e,t,c,null,n,o,v,a,!1),u>0){if(16&u)I(c,t,f,m,n,o,i);else if(2&u&&f.class!==m.class&&s(c,"class",null,m.class,i),4&u&&s(c,"style",f.style,m.style,i),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],l=f[a],u=m[a];u===l&&"value"!==a||s(c,a,l,u,i,e.children,n,o,X)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||I(c,t,f,m,n,o,i);((g=m.onVnodeUpdated)||p)&&qt((()=>{g&&Bn(g,n,t,e),p&&Qe(t,e,n,"updated")}),o)},L=(e,t,n,o,r,i,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===rn||!bn(l,c)||70&l.shapeFlag)?h(l.el):n;w(l,c,u,null,o,r,i,s,!0)}},I=(e,t,n,o,i,a,l)=>{if(n!==o){for(const c in o){if((0,r.isReservedProp)(c))continue;const u=o[c],d=n[c];u!==d&&"value"!==c&&s(e,c,d,u,l,t.children,i,a,X)}if(n!==r.EMPTY_OBJ)for(const c in n)(0,r.isReservedProp)(c)||c in o||s(e,c,n[c],null,l,t.children,i,a,X);"value"in o&&s(e,"value",n.value,o.value)}},N=(e,t,o,r,i,s,a,c,u)=>{const d=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(n(d,o,r),n(h,o,r),A(t.children,o,h,i,s,a,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(L(e.dynamicChildren,f,o,i,s,a,c),(null!=t.key||i&&t===i.subTree)&&Zt(e,t,!0)):F(e,t,o,h,i,s,a,c,u)},P=(e,t,n,o,r,i,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,o,s,l):U(t,n,o,r,i,s,l):B(e,t,l)},U=(e,t,n,o,r,i,s)=>{const a=e.component=Vn(e,o,r);if(Me(e)&&(a.ctx.renderer=te),Gn(a),a.asyncDep){if(r&&r.registerDep(a,j),!e.el){const e=a.subTree=Dn(an);k(null,e,t,n)}}else j(a,e,t,n,r,i,s)},B=(e,t,n)=>{const o=t.component=e.component;if(function(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||o!==s&&(o?!s||Z(o,s,c):!!s);if(1024&l)return!0;if(16&l)return o?Z(o,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==o[n]&&!V(c,n))return!0}}return!1}(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void R(o,t,n);o.next=t,function(e){const t=f.indexOf(e);t>m&&f.splice(t,1)}(o.update),o.update()}else t.el=e.el,o.vnode=t},j=(e,t,n,i,s,a,l)=>{const c=e.effect=new o.qq((()=>{if(e.isMounted){let t,{next:n,bu:o,u:i,parent:c,vnode:u}=e,d=n;0,Jt(e,!1),n?(n.el=u.el,R(e,n,l)):n=u,o&&(0,r.invokeArrayFns)(o),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Bn(t,c,n,u),Jt(e,!0);const p=Y(e);0;const f=e.subTree;e.subTree=p,w(f,p,h(f.el),J(f),e,s,a),n.el=p.el,null===d&&Q(e,p.el),i&&qt(i,s),(t=n.props&&n.props.onVnodeUpdated)&&qt((()=>Bn(t,c,n,u)),s)}else{let o;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e,p=Ae(t);if(Jt(e,!1),u&&(0,r.invokeArrayFns)(u),!p&&(o=c&&c.onVnodeBeforeMount)&&Bn(o,h,t),Jt(e,!0),l&&oe){const n=()=>{e.subTree=Y(e),oe(l,e.subTree,e,s,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const o=e.subTree=Y(e);0,w(null,o,n,i,e,s,a),t.el=o.el}if(d&&qt(d,s),!p&&(o=c&&c.onVnodeMounted)){const e=t;qt((()=>Bn(o,h,e)),s)}(256&t.shapeFlag||h&&Ae(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&qt(e.a,s),e.isMounted=!0,t=n=i=null}}),(()=>D(u)),e.scope),u=e.update=()=>c.run();u.id=e.uid,Jt(e,!0),u()},R=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,c=(0,o.IU)(s),[u]=e.propsOptions;let d=!1;if(!(i||l>0)||16&l){let o;Et(e,t,s,a)&&(d=!0);for(const i in c)t&&((0,r.hasOwn)(t,i)||(o=(0,r.hyphenate)(i))!==i&&(0,r.hasOwn)(t,o))||(u?!n||void 0===n[i]&&void 0===n[o]||(s[i]=At(u,c,i,void 0,e,!0)):delete s[i]);if(a!==c)for(const e in a)t&&(0,r.hasOwn)(t,e)||(delete a[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){let i=n[o];if(V(e.emitsOptions,i))continue;const l=t[i];if(u)if((0,r.hasOwn)(a,i))l!==a[i]&&(a[i]=l,d=!0);else{const t=(0,r.camelize)(i);s[t]=At(u,c,t,l,e,!1)}else l!==a[i]&&(a[i]=l,d=!0)}}d&&(0,o.X$)(e,"set","$attrs")}(e,t.props,i,n),((e,t,n)=>{const{vnode:o,slots:i}=e;let s=!0,a=r.EMPTY_OBJ;if(32&o.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,r.extend)(i,t),n||1!==e||delete i._):(s=!t.$stable,Bt(t,i)),a=t}else t&&(jt(e,t),a={default:1});if(s)for(const e in i)Nt(e)||e in a||delete i[e]})(e,t.children,n),(0,o.Jd)(),T(void 0,e.update),(0,o.lk)()},F=(e,t,n,o,r,i,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void H(c,h,n,o,r,i,s,a,l);if(256&p)return void W(c,h,n,o,r,i,s,a,l)}8&f?(16&u&&X(c,r,i),h!==c&&d(n,h)):16&u?16&f?H(c,h,n,o,r,i,s,a,l):X(c,r,i,!0):(8&u&&d(n,""),16&f&&A(h,n,o,r,i,s,a,l))},W=(e,t,n,o,i,s,a,l,c)=>{e=e||r.EMPTY_ARR,t=t||r.EMPTY_ARR;const u=e.length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const o=t[p]=c?Nn(t[p]):In(t[p]);w(e[p],o,n,null,i,s,a,l,c)}u>d?X(e,i,s,!0,!1,h):A(t,n,o,i,s,a,l,c,h)},H=(e,t,n,o,i,s,a,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const o=e[u],r=t[u]=c?Nn(t[u]):In(t[u]);if(!bn(o,r))break;w(o,r,n,null,i,s,a,l,c),u++}for(;u<=h&&u<=p;){const o=e[h],r=t[p]=c?Nn(t[p]):In(t[p]);if(!bn(o,r))break;w(o,r,n,null,i,s,a,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,r=e<d?t[e].el:o;for(;u<=p;)w(null,t[u]=c?Nn(t[u]):In(t[u]),n,r,i,s,a,l,c),u++}}else if(u>p)for(;u<=h;)$(e[u],i,s,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Nn(t[u]):In(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const b=p-m+1;let k=!1,x=0;const S=new Array(b);for(u=0;u<b;u++)S[u]=0;for(u=f;u<=h;u++){const o=e[u];if(y>=b){$(o,i,s,!0);continue}let r;if(null!=o.key)r=g.get(o.key);else for(v=m;v<=p;v++)if(0===S[v-m]&&bn(o,t[v])){r=v;break}void 0===r?$(o,i,s,!0):(S[r-m]=u+1,r>=x?x=r:k=!0,w(o,t[r],n,null,i,s,a,l,c),y++)}const _=k?function(e){const t=e.slice(),n=[0];let o,r,i,s,a;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(r=n[n.length-1],e[r]<l){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<l?i=a+1:s=a;l<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=t[s];return n}(S):r.EMPTY_ARR;for(v=_.length-1,u=b-1;u>=0;u--){const e=m+u,r=t[e],h=e+1<d?t[e+1].el:o;0===S[u]?w(null,r,n,h,i,s,a,l,c):k&&(v<0||u!==_[v]?z(r,n,h,2):v--)}}},z=(e,t,o,r,i=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void z(e.component.subTree,t,o,r);if(128&u)return void e.suspense.move(t,o,r);if(64&u)return void a.move(e,t,o,te);if(a===rn){n(s,t,o);for(let e=0;e<c.length;e++)z(c[e],t,o,r);return void n(e.anchor,t,o)}if(a===ln)return void(({el:e,anchor:t},o,r)=>{let i;for(;e&&e!==t;)i=p(e),n(e,o,r),e=i;n(t,o,r)})(e,t,o);if(2!==r&&1&u&&l)if(0===r)l.beforeEnter(s),n(s,t,o),qt((()=>l.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>n(s,t,o),c=()=>{e(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else n(s,t,o)},$=(e,t,n,o=!1,r=!1)=>{const{type:i,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=a&&Wt(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&h,f=!Ae(e);let m;if(f&&(m=s&&s.onVnodeBeforeUnmount)&&Bn(m,t,e),6&u)G(e.component,n,o);else{if(128&u)return void e.suspense.unmount(n,o);p&&Qe(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,te,o):c&&(i!==rn||d>0&&64&d)?X(c,t,n,!1,!0):(i===rn&&384&d||!r&&16&u)&&X(l,t,n),o&&K(e)}(f&&(m=s&&s.onVnodeUnmounted)||p)&&qt((()=>{m&&Bn(m,t,e),p&&Qe(e,null,t,"unmounted")}),n)},K=e=>{const{type:t,el:n,anchor:o,transition:r}=e;if(t===rn)return void q(n,o);if(t===ln)return void S(e);const s=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:o}=r,i=()=>t(n,s);o?o(e.el,s,i):i()}else s()},q=(e,t)=>{let n;for(;e!==t;)n=p(e),i(e),e=n;i(t)},G=(e,t,n)=>{const{bum:o,scope:i,update:s,subTree:a,um:l}=e;o&&(0,r.invokeArrayFns)(o),i.stop(),s&&(s.active=!1,$(a,e,t,n)),l&&qt(l,t),qt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},X=(e,t,n,o=!1,r=!1,i=0)=>{for(let s=i;s<e.length;s++)$(e[s],t,n,o,r)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&$(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),M(),t._vnode=e},te={p:w,um:$,m:z,r:K,mt:U,mc:A,pc:F,pbc:L,n:J,o:e};let ne,oe;return t&&([ne,oe]=t(te)),{render:ee,hydrate:ne,createApp:Ft(ee,ne)}}function Jt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Zt(e,t,n=!1){const o=e.children,i=t.children;if((0,r.isArray)(o)&&(0,r.isArray)(i))for(let e=0;e<o.length;e++){const t=o[e];let r=i[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=i[e]=Nn(i[e]),r.el=t.el),n||Zt(t,r))}}const Qt=e=>e&&(e.disabled||""===e.disabled),en=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,tn=(e,t)=>{const n=e&&e.to;if((0,r.isString)(n)){if(t){const e=t(n);return e}return null}return n};function nn(e,t,n,{o:{insert:o},m:r},i=2){0===i&&o(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,d=2===i;if(d&&o(s,t,n),(!d||Qt(u))&&16&l)for(let e=0;e<c.length;e++)r(c[e],t,n,2);d&&o(a,t,n)}const on={__isTeleport:!0,process(e,t,n,o,r,i,s,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,v=Qt(t.props);let{shapeFlag:y,children:w,dynamicChildren:b}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");p(e,n,o),p(c,n,o);const d=t.target=tn(t.props,f),h=t.targetAnchor=m("");d&&(p(h,d),s=s||en(d));const g=(e,t)=>{16&y&&u(w,e,t,r,i,s,a,l)};v?g(n,c):d&&g(d,h)}else{t.el=e.el;const o=t.anchor=e.anchor,u=t.target=e.target,p=t.targetAnchor=e.targetAnchor,m=Qt(e.props),g=m?n:u,y=m?o:p;if(s=s||en(u),b?(h(e.dynamicChildren,b,g,r,i,s,a),Zt(e,t,!0)):l||d(e,t,g,y,r,i,s,a,!1),v)m||nn(t,n,o,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=tn(t.props,f);e&&nn(t,e,null,c,0)}else m&&nn(t,u,p,c,1)}},remove(e,t,n,o,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&i(u),(s||!Qt(h))&&(i(c),16&a))for(let e=0;e<l.length;e++){const o=l[e];r(o,t,n,!0,!!o.dynamicChildren)}},move:nn,hydrate:function(e,t,n,o,r,i,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=t.target=tn(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(Qt(t.props))t.anchor=c(s(e),t,a(e),n,o,r,i),t.targetAnchor=l;else{t.anchor=s(e);let a=l;for(;a;)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(l,t,u,n,o,r,i)}}return t.anchor&&s(t.anchor)}},rn=Symbol(void 0),sn=Symbol(void 0),an=Symbol(void 0),ln=Symbol(void 0),cn=[];let un=null;function dn(e=!1){cn.push(un=e?null:[])}function hn(){cn.pop(),un=cn[cn.length-1]||null}let pn,fn=1;function mn(e){fn+=e}function gn(e){return e.dynamicChildren=fn>0?un||r.EMPTY_ARR:null,hn(),fn>0&&un&&un.push(e),e}function vn(e,t,n,o,r,i){return gn(Cn(e,t,n,o,r,i,!0))}function yn(e,t,n,o,r){return gn(Dn(e,t,n,o,r,!0))}function wn(e){return!!e&&!0===e.__v_isVNode}function bn(e,t){return e.type===t.type&&e.key===t.key}function kn(e){pn=e}const xn="__vInternal",Sn=({key:e})=>null!=e?e:null,_n=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,r.isString)(e)||(0,o.dq)(e)||(0,r.isFunction)(e)?{i:F,r:e,k:t,f:!!n}:e:null;function Cn(e,t=null,n=null,o=0,i=null,s=(e===rn?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sn(t),ref:t&&_n(t),scopeId:W,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(Pn(c,n),128&s&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.isString)(n)?8:16),fn>0&&!a&&un&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&un.push(c),c}const Dn=En;function En(e,t=null,n=null,i=0,s=null,a=!1){if(e&&e!==nt||(e=an),wn(e)){const o=On(e,t,!0);return n&&Pn(o,n),fn>0&&!a&&un&&(6&o.shapeFlag?un[un.indexOf(e)]=o:un.push(o)),o.patchFlag|=-2,o}if(io(e)&&(e=e.__vccOpts),t){t=An(t);let{class:e,style:n}=t;e&&!(0,r.isString)(e)&&(t.class=(0,r.normalizeClass)(e)),(0,r.isObject)(n)&&((0,o.X3)(n)&&!(0,r.isArray)(n)&&(n=(0,r.extend)({},n)),t.style=(0,r.normalizeStyle)(n))}return Cn(e,t,n,i,s,(0,r.isString)(e)?1:ee(e)?128:(e=>e.__isTeleport)(e)?64:(0,r.isObject)(e)?4:(0,r.isFunction)(e)?2:0,a,!0)}function An(e){return e?(0,o.X3)(e)||xn in e?(0,r.extend)({},e):e:null}function On(e,t,n=!1){const{props:o,ref:i,patchFlag:s,children:a}=e,l=t?Un(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Sn(l),ref:t&&t.ref?n&&i?(0,r.isArray)(i)?i.concat(_n(t)):[i,_n(t)]:_n(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&On(e.ssContent),ssFallback:e.ssFallback&&On(e.ssFallback),el:e.el,anchor:e.anchor}}function Tn(e=" ",t=0){return Dn(sn,null,e,t)}function Mn(e,t){const n=Dn(ln,null,e);return n.staticCount=t,n}function Ln(e="",t=!1){return t?(dn(),yn(an,null,e)):Dn(an,null,e)}function In(e){return null==e||"boolean"==typeof e?Dn(an):(0,r.isArray)(e)?Dn(rn,null,e.slice()):"object"==typeof e?Nn(e):Dn(sn,null,String(e))}function Nn(e){return null===e.el||e.memo?e:On(e)}function Pn(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if((0,r.isArray)(t))n=16;else if("object"==typeof t){if(65&o){const n=t.default;return void(n&&(n._c&&(n._d=!1),Pn(e,n()),n._c&&(n._d=!0)))}{n=32;const o=t._;o||xn in t?3===o&&F&&(1===F.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=F}}else(0,r.isFunction)(t)?(t={default:t,_ctx:F},n=32):(t=String(t),64&o?(n=16,t=[Tn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Un(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=(0,r.normalizeClass)([t.class,o.class]));else if("style"===e)t.style=(0,r.normalizeStyle)([t.style,o.style]);else if((0,r.isOn)(e)){const n=t[e],i=o[e];!i||n===i||(0,r.isArray)(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=o[e])}return t}function Bn(e,t,n,o=null){u(e,t,7,[n,o])}const jn=Rt();let Rn=0;function Vn(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||jn,a={uid:Rn++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ot(i,s),emitsOptions:R(i,s),emit:null,emitted:null,propsDefaults:r.EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:r.EMPTY_OBJ,data:r.EMPTY_OBJ,props:r.EMPTY_OBJ,attrs:r.EMPTY_OBJ,slots:r.EMPTY_OBJ,refs:r.EMPTY_OBJ,setupState:r.EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=j.bind(null,a),e.ce&&e.ce(a),a}let Fn=null;const Wn=()=>Fn||F,Hn=e=>{Fn=e,e.scope.on()},zn=()=>{Fn&&Fn.scope.off(),Fn=null};function $n(e){return 4&e.vnode.shapeFlag}let Kn,qn,Yn=!1;function Gn(e,t=!1){Yn=t;const{props:n,children:i}=e.vnode,s=$n(e);!function(e,t,n,i=!1){const s={},a={};(0,r.def)(a,xn,1),e.propsDefaults=Object.create(null),Et(e,t,s,a);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);n?e.props=i?s:(0,o.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}(e,n,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,o.IU)(t),(0,r.def)(t,"_",n)):Bt(t,e.slots={})}else e.slots={},t&&jt(e,t);(0,r.def)(e.slots,xn,1)})(e,i);const a=s?function(e,t){const n=e.type;0;e.accessCache=Object.create(null),e.proxy=(0,o.Xl)(new Proxy(e.ctx,ft)),!1;const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?eo(e):null;Hn(e),(0,o.Jd)();const s=c(i,e,0,[e.props,n]);if((0,o.lk)(),zn(),(0,r.isPromise)(s)){if(s.then(zn,zn),t)return s.then((n=>{Xn(e,n,t)})).catch((t=>{d(t,e,0)}));e.asyncDep=s}else Xn(e,s,t)}else Qn(e,t)}(e,t):void 0;return Yn=!1,a}function Xn(e,t,n){(0,r.isFunction)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.isObject)(t)&&(e.setupState=(0,o.WL)(t)),Qn(e,n)}function Jn(e){Kn=e,qn=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,mt))}}const Zn=()=>!Kn;function Qn(e,t,n){const i=e.type;if(!e.render){if(!t&&Kn&&!i.render){const t=i.template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:a}=i,l=(0,r.extend)((0,r.extend)({isCustomElement:n,delimiters:s},o),a);i.render=Kn(t,l)}}e.render=i.render||r.NOOP,qn&&qn(e)}Hn(e),(0,o.Jd)(),vt(e),(0,o.lk)(),zn()}function eo(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>((0,o.j)(e,"get","$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}function to(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,o.WL)((0,o.Xl)(e.exposed)),{get:(t,n)=>n in t?t[n]:n in pt?pt[n](e):void 0}))}const no=/(?:^|[-_])(\w)/g;function oo(e,t=!0){return(0,r.isFunction)(e)?e.displayName||e.name:e.name||t&&e.__name}function ro(e,t,n=!1){let o=oo(t);if(!o&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(o=e[1])}if(!o&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?o.replace(no,(e=>e.toUpperCase())).replace(/[-_]/g,""):n?"App":"Anonymous"}function io(e){return(0,r.isFunction)(e)&&"__vccOpts"in e}const so=(e,t)=>(0,o.Fl)(e,t,Yn);function ao(){return null}function lo(){return null}function co(e){0}function uo(e,t){return null}function ho(){return fo().slots}function po(){return fo().attrs}function fo(){const e=Wn();return e.setupContext||(e.setupContext=eo(e))}function mo(e,t){const n=(0,r.isArray)(e)?e.reduce(((e,t)=>(e[t]={},e)),{}):e;for(const e in t){const o=n[e];o?(0,r.isArray)(o)||(0,r.isFunction)(o)?n[e]={type:o,default:t[e]}:o.default=t[e]:null===o&&(n[e]={default:t[e]})}return n}function go(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}function vo(e){const t=Wn();let n=e();return zn(),(0,r.isPromise)(n)&&(n=n.catch((e=>{throw Hn(t),e}))),[n,()=>Hn(t)]}function yo(e,t,n){const o=arguments.length;return 2===o?(0,r.isObject)(t)&&!(0,r.isArray)(t)?wn(t)?Dn(e,null,[t]):Dn(e,t):Dn(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&wn(n)&&(n=[n]),Dn(e,t,n))}const wo=Symbol(""),bo=()=>{{const e=le(wo);return e||s("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function ko(){return void 0}function xo(e,t,n,o){const r=n[o];if(r&&So(r,e))return r;const i=t();return i.memo=e.slice(),n[o]=i}function So(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if((0,r.hasChanged)(n[e],t[e]))return!1;return fn>0&&un&&un.push(e),!0}const _o="3.2.37",Co={createComponentInstance:Vn,setupComponent:Gn,renderComponentRoot:Y,setCurrentRenderingInstance:H,isVNode:wn,normalizeVNode:In},Do=null,Eo=null},49963:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseTransition:()=>r.P$,Comment:()=>r.sv,EffectScope:()=>r.Bj,Fragment:()=>r.HY,KeepAlive:()=>r.Ob,ReactiveEffect:()=>r.qq,Static:()=>r.qG,Suspense:()=>r.n4,Teleport:()=>r.lR,Text:()=>r.xv,Transition:()=>I,TransitionGroup:()=>J,VueElement:()=>D,callWithAsyncErrorHandling:()=>r.$d,callWithErrorHandling:()=>r.KU,camelize:()=>r._A,capitalize:()=>r.kC,cloneVNode:()=>r.Ho,compatUtils:()=>r.ry,computed:()=>r.Fl,createApp:()=>Oe,createBlock:()=>r.j4,createCommentVNode:()=>r.kq,createElementBlock:()=>r.iD,createElementVNode:()=>r._,createHydrationRenderer:()=>r.Eo,createPropsRestProxy:()=>r.p1,createRenderer:()=>r.Us,createSSRApp:()=>Te,createSlots:()=>r.Nv,createStaticVNode:()=>r.uE,createTextVNode:()=>r.Uk,createVNode:()=>r.Wm,customRef:()=>r.ZM,defineAsyncComponent:()=>r.RC,defineComponent:()=>r.aZ,defineCustomElement:()=>S,defineEmits:()=>r.Bz,defineExpose:()=>r.WY,defineProps:()=>r.MW,defineSSRCustomElement:()=>_,devtools:()=>r.mW,effect:()=>r.cE,effectScope:()=>r.B,getCurrentInstance:()=>r.FN,getCurrentScope:()=>r.nZ,getTransitionRawChildren:()=>r.Q6,guardReactiveProps:()=>r.F4,h:()=>r.h,handleError:()=>r.S3,hydrate:()=>Ae,initCustomFormatter:()=>r.Mr,initDirectivesForSSR:()=>Ie,inject:()=>r.f3,isMemoSame:()=>r.nQ,isProxy:()=>r.X3,isReactive:()=>r.PG,isReadonly:()=>r.$y,isRef:()=>r.dq,isRuntimeOnly:()=>r.of,isShallow:()=>r.yT,isVNode:()=>r.lA,markRaw:()=>r.Xl,mergeDefaults:()=>r.u_,mergeProps:()=>r.dG,nextTick:()=>r.Y3,normalizeClass:()=>r.C_,normalizeProps:()=>r.vs,normalizeStyle:()=>r.j5,onActivated:()=>r.dl,onBeforeMount:()=>r.wF,onBeforeUnmount:()=>r.Jd,onBeforeUpdate:()=>r.Xn,onDeactivated:()=>r.se,onErrorCaptured:()=>r.d1,onMounted:()=>r.bv,onRenderTracked:()=>r.bT,onRenderTriggered:()=>r.Yq,onScopeDispose:()=>r.EB,onServerPrefetch:()=>r.vl,onUnmounted:()=>r.Ah,onUpdated:()=>r.ic,openBlock:()=>r.wg,popScopeId:()=>r.Cn,provide:()=>r.JJ,proxyRefs:()=>r.WL,pushScopeId:()=>r.dD,queuePostFlushCb:()=>r.qb,reactive:()=>r.qj,readonly:()=>r.OT,ref:()=>r.iH,registerRuntimeCompiler:()=>r.Y1,render:()=>Ee,renderList:()=>r.Ko,renderSlot:()=>r.WI,resolveComponent:()=>r.up,resolveDirective:()=>r.Q2,resolveDynamicComponent:()=>r.LL,resolveFilter:()=>r.eq,resolveTransitionHooks:()=>r.U2,setBlockTracking:()=>r.qZ,setDevtoolsHook:()=>r.ec,setTransitionHooks:()=>r.nK,shallowReactive:()=>r.Um,shallowReadonly:()=>r.YS,shallowRef:()=>r.XI,ssrContextKey:()=>r.Uc,ssrUtils:()=>r.G,stop:()=>r.sT,toDisplayString:()=>r.zw,toHandlerKey:()=>r.hR,toHandlers:()=>r.mx,toRaw:()=>r.IU,toRef:()=>r.Vh,toRefs:()=>r.BK,transformVNodeArgs:()=>r.C3,triggerRef:()=>r.oR,unref:()=>r.SU,useAttrs:()=>r.l1,useCssModule:()=>E,useCssVars:()=>A,useSSRContext:()=>r.Zq,useSlots:()=>r.Rr,useTransitionState:()=>r.Y8,vModelCheckbox:()=>ie,vModelDynamic:()=>he,vModelRadio:()=>ae,vModelSelect:()=>le,vModelText:()=>re,vShow:()=>be,version:()=>r.i8,warn:()=>r.ZK,watch:()=>r.YP,watchEffect:()=>r.m0,watchPostEffect:()=>r.Rh,watchSyncEffect:()=>r.yX,withAsyncContext:()=>r.mv,withCtx:()=>r.w5,withDefaults:()=>r.b9,withDirectives:()=>r.wy,withKeys:()=>we,withMemo:()=>r.MX,withModifiers:()=>ve,withScopeId:()=>r.HX});var o=n(3577),r=n(66252),i=n(2262);const s="undefined"!=typeof document?document:null,a=s&&s.createElement("template"),l={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?s.createElementNS("http://www.w3.org/2000/svg",e):s.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&r.setAttribute("multiple",o.multiple),r},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,o,r,i){const s=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==i&&(r=r.nextSibling););else{a.innerHTML=o?`<svg>${e}</svg>`:e;const r=a.content;if(o){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const c=/\s*!important$/;function u(e,t,n){if((0,o.isArray)(n))n.forEach((n=>u(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=h[t];if(n)return n;let r=(0,o.camelize)(t);if("filter"!==r&&r in e)return h[t]=r;r=(0,o.capitalize)(r);for(let n=0;n<d.length;n++){const o=d[n]+r;if(o in e)return h[t]=o}return t}(e,t);c.test(n)?e.setProperty((0,o.hyphenate)(r),n.replace(c,""),"important"):e[r]=n}}const d=["Webkit","Moz","ms"],h={};const p="http://www.w3.org/1999/xlink";const[f,m]=(()=>{let e=Date.now,t=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let g=0;const v=Promise.resolve(),y=()=>{g=0};function w(e,t,n,o){e.addEventListener(t,n,o)}function b(e,t,n,i,s=null){const a=e._vei||(e._vei={}),l=a[t];if(i&&l)l.value=i;else{const[n,c]=function(e){let t;if(k.test(e)){let n;for(t={};n=e.match(k);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,o.hyphenate)(e.slice(2)),t]}(t);if(i){const l=a[t]=function(e,t){const n=e=>{const i=e.timeStamp||f();(m||i>=n.attached-1)&&(0,r.$d)(function(e,t){if((0,o.isArray)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>g||(v.then(y),g=f()))(),n}(i,s);w(e,n,l,c)}else l&&(!function(e,t,n,o){e.removeEventListener(t,n,o)}(e,n,l,c),a[t]=void 0)}}const k=/(?:Once|Passive|Capture)$/;const x=/^on[a-z]/;function S(e,t){const n=(0,r.aZ)(e);class o extends D{constructor(e){super(n,e,t)}}return o.def=n,o}const _=e=>S(e,Ae),C="undefined"!=typeof HTMLElement?HTMLElement:class{};class D extends C{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,(0,r.Y3)((()=>{this._connected||(Ee(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,r=!(0,o.isArray)(t),i=t?r?Object.keys(t):t:[];let s;if(r)for(const e in this._props){const n=t[e];(n===Number||n&&n.type===Number)&&(this._props[e]=(0,o.toNumber)(this._props[e]),(s||(s=Object.create(null)))[e]=!0)}this._numberProps=s;for(const e of Object.keys(this))"_"!==e[0]&&this._setProp(e,this[e],!0,!1);for(const e of i.map(o.camelize))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=(0,o.toNumber)(t)),this._setProp((0,o.camelize)(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,o.hyphenate)(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute((0,o.hyphenate)(e),t+""):t||this.removeAttribute((0,o.hyphenate)(e))))}_update(){Ee(this._createVNode(),this.shadowRoot)}_createVNode(){const e=(0,r.Wm)(this._def,(0,o.extend)({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof D){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function E(e="$style"){{const t=(0,r.FN)();if(!t)return o.EMPTY_OBJ;const n=t.type.__cssModules;if(!n)return o.EMPTY_OBJ;const i=n[e];return i||o.EMPTY_OBJ}}function A(e){const t=(0,r.FN)();if(!t)return;const n=()=>O(t.subTree,e(t.proxy));(0,r.Rh)(n),(0,r.bv)((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,r.Ah)((()=>e.disconnect()))}))}function O(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{O(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)T(e.el,t);else if(e.type===r.HY)e.children.forEach((e=>O(e,t)));else if(e.type===r.qG){let{el:n,anchor:o}=e;for(;n&&(T(n,t),n!==o);)n=n.nextSibling}}function T(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const M="transition",L="animation",I=(e,{slots:t})=>(0,r.h)(r.P$,j(e),t);I.displayName="Transition";const N={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},P=I.props=(0,o.extend)({},r.P$.props,N),U=(e,t=[])=>{(0,o.isArray)(e)?e.forEach((e=>e(...t))):e&&e(...t)},B=e=>!!e&&((0,o.isArray)(e)?e.some((e=>e.length>1)):e.length>1);function j(e){const t={};for(const n in e)n in N||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if((0,o.isObject)(e))return[R(e.enter),R(e.leave)];{const t=R(e);return[t,t]}}(i),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:b,onLeave:k,onLeaveCancelled:x,onBeforeAppear:S=y,onAppear:_=w,onAppearCancelled:C=b}=t,D=(e,t,n)=>{F(e,t?d:l),F(e,t?u:a),n&&n()},E=(e,t)=>{e._isLeaving=!1,F(e,h),F(e,f),F(e,p),t&&t()},A=e=>(t,n)=>{const o=e?_:w,i=()=>D(t,e,n);U(o,[t,i]),W((()=>{F(t,e?c:s),V(t,e?d:l),B(o)||z(t,r,g,i)}))};return(0,o.extend)(t,{onBeforeEnter(e){U(y,[e]),V(e,s),V(e,a)},onBeforeAppear(e){U(S,[e]),V(e,c),V(e,u)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>E(e,t);V(e,h),Y(),V(e,p),W((()=>{e._isLeaving&&(F(e,h),V(e,f),B(k)||z(e,r,v,n))})),U(k,[e,n])},onEnterCancelled(e){D(e,!1),U(b,[e])},onAppearCancelled(e){D(e,!0),U(C,[e])},onLeaveCancelled(e){E(e),U(x,[e])}})}function R(e){return(0,o.toNumber)(e)}function V(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function F(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function W(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let H=0;function z(e,t,n,o){const r=e._endId=++H,i=()=>{r===e._endId&&o()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=$(e,t);if(!s)return o();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,h),i()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),e.addEventListener(c,h)}function $(e,t){const n=window.getComputedStyle(e),o=e=>(n[e]||"").split(", "),r=o("transitionDelay"),i=o("transitionDuration"),s=K(r,i),a=o("animationDelay"),l=o("animationDuration"),c=K(a,l);let u=null,d=0,h=0;t===M?s>0&&(u=M,d=s,h=i.length):t===L?c>0&&(u=L,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?M:L:null,h=u?u===M?i.length:l.length:0);return{type:u,timeout:d,propCount:h,hasTransform:u===M&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function K(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>q(t)+q(e[n]))))}function q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Y(){return document.body.offsetHeight}const G=new WeakMap,X=new WeakMap,J={name:"TransitionGroup",props:(0,o.extend)({},P,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.FN)(),o=(0,r.Y8)();let s,a;return(0,r.ic)((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const o=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&o.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&o.classList.add(e))),o.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(o);const{hasTransform:i}=$(o);return r.removeChild(o),i}(s[0].el,n.vnode.el,t))return;s.forEach(Z),s.forEach(Q);const o=s.filter(ee);Y(),o.forEach((e=>{const n=e.el,o=n.style;V(n,t),o.transform=o.webkitTransform=o.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,F(n,t))};n.addEventListener("transitionend",r)}))})),()=>{const l=(0,i.IU)(e),c=j(l);let u=l.tag||r.HY;s=a,a=t.default?(0,r.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,r.nK)(t,(0,r.U2)(t,c,o,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];(0,r.nK)(t,(0,r.U2)(t,c,o,n)),G.set(t,t.el.getBoundingClientRect())}return(0,r.Wm)(u,null,a)}}};function Z(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Q(e){X.set(e,e.el.getBoundingClientRect())}function ee(e){const t=G.get(e),n=X.get(e),o=t.left-n.left,r=t.top-n.top;if(o||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${o}px,${r}px)`,t.transitionDuration="0s",e}}const te=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,o.isArray)(t)?e=>(0,o.invokeArrayFns)(t,e):t};function ne(e){e.target.composing=!0}function oe(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const re={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=te(i);const s=r||i.props&&"number"===i.props.type;w(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),s&&(r=(0,o.toNumber)(r)),e._assign(r)})),n&&w(e,"change",(()=>{e.value=e.value.trim()})),t||(w(e,"compositionstart",ne),w(e,"compositionend",oe),w(e,"change",oe))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=te(s),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((i||"number"===e.type)&&(0,o.toNumber)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},ie={deep:!0,created(e,t,n){e._assign=te(n),w(e,"change",(()=>{const t=e._modelValue,n=ue(e),r=e.checked,i=e._assign;if((0,o.isArray)(t)){const e=(0,o.looseIndexOf)(t,n),s=-1!==e;if(r&&!s)i(t.concat(n));else if(!r&&s){const n=[...t];n.splice(e,1),i(n)}}else if((0,o.isSet)(t)){const e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(de(e,r))}))},mounted:se,beforeUpdate(e,t,n){e._assign=te(n),se(e,t,n)}};function se(e,{value:t,oldValue:n},r){e._modelValue=t,(0,o.isArray)(t)?e.checked=(0,o.looseIndexOf)(t,r.props.value)>-1:(0,o.isSet)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,o.looseEqual)(t,de(e,!0)))}const ae={created(e,{value:t},n){e.checked=(0,o.looseEqual)(t,n.props.value),e._assign=te(n),w(e,"change",(()=>{e._assign(ue(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=te(r),t!==n&&(e.checked=(0,o.looseEqual)(t,r.props.value))}},le={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=(0,o.isSet)(t);w(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,o.toNumber)(ue(e)):ue(e)));e._assign(e.multiple?i?new Set(t):t:t[0])})),e._assign=te(r)},mounted(e,{value:t}){ce(e,t)},beforeUpdate(e,t,n){e._assign=te(n)},updated(e,{value:t}){ce(e,t)}};function ce(e,t){const n=e.multiple;if(!n||(0,o.isArray)(t)||(0,o.isSet)(t)){for(let r=0,i=e.options.length;r<i;r++){const i=e.options[r],s=ue(i);if(n)(0,o.isArray)(t)?i.selected=(0,o.looseIndexOf)(t,s)>-1:i.selected=t.has(s);else if((0,o.looseEqual)(ue(i),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ue(e){return"_value"in e?e._value:e.value}function de(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const he={created(e,t,n){fe(e,t,n,null,"created")},mounted(e,t,n){fe(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){fe(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){fe(e,t,n,o,"updated")}};function pe(e,t){switch(e){case"SELECT":return le;case"TEXTAREA":return re;default:switch(t){case"checkbox":return ie;case"radio":return ae;default:return re}}}function fe(e,t,n,o,r){const i=pe(e.tagName,n.props&&n.props.type)[r];i&&i(e,t,n,o)}const me=["ctrl","shift","alt","meta"],ge={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>me.some((n=>e[`${n}Key`]&&!t.includes(n)))},ve=(e,t)=>(n,...o)=>{for(let e=0;e<t.length;e++){const o=ge[t[e]];if(o&&o(n,t))return}return e(n,...o)},ye={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},we=(e,t)=>n=>{if(!("key"in n))return;const r=(0,o.hyphenate)(n.key);return t.some((e=>e===r||ye[e]===r))?e(n):void 0},be={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ke(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),ke(e,!0),o.enter(e)):o.leave(e,(()=>{ke(e,!1)})):ke(e,t))},beforeUnmount(e,{value:t}){ke(e,t)}};function ke(e,t){e.style.display=t?e._vod:"none"}const xe=(0,o.extend)({patchProp:(e,t,n,r,i=!1,s,a,l,c)=>{"class"===t?function(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,i):"style"===t?function(e,t,n){const r=e.style,i=(0,o.isString)(n);if(n&&!i){for(const e in n)u(r,e,n[e]);if(t&&!(0,o.isString)(t))for(const e in t)null==n[e]&&u(r,e,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}(e,n,r):(0,o.isOn)(t)?(0,o.isModelListener)(t)||b(e,t,0,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&x.test(t)&&(0,o.isFunction)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(x.test(t)&&(0,o.isString)(n))return!1;return t in e}(e,t,r,i))?function(e,t,n,r,i,s,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,i,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const o=null==n?"":n;return e.value===o&&"OPTION"!==e.tagName||(e.value=o),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,o.includeBooleanAttr)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{e[t]=n}catch(e){}l&&e.removeAttribute(t)}(e,t,r,s,a,l,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(p,t.slice(6,t.length)):e.setAttributeNS(p,t,n);else{const r=(0,o.isSpecialBooleanAttr)(t);null==n||r&&!(0,o.includeBooleanAttr)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,i))}},l);let Se,_e=!1;function Ce(){return Se||(Se=(0,r.Us)(xe))}function De(){return Se=_e?Se:(0,r.Eo)(xe),_e=!0,Se}const Ee=(...e)=>{Ce().render(...e)},Ae=(...e)=>{De().hydrate(...e)},Oe=(...e)=>{const t=Ce().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=Me(e);if(!r)return;const i=t._component;(0,o.isFunction)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t},Te=(...e)=>{const t=De().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=Me(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function Me(e){if((0,o.isString)(e)){return document.querySelector(e)}return e}let Le=!1;const Ie=()=>{Le||(Le=!0,re.getSSRProps=({value:e})=>({value:e}),ae.getSSRProps=({value:e},t)=>{if(t.props&&(0,o.looseEqual)(t.props.value,e))return{checked:!0}},ie.getSSRProps=({value:e},t)=>{if((0,o.isArray)(e)){if(t.props&&(0,o.looseIndexOf)(e,t.props.value)>-1)return{checked:!0}}else if((0,o.isSet)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},he.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=pe(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},be.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})}},3577:(e,t,n)=>{"use strict";function o(e,t){const n=Object.create(null),o=e.split(",");for(let e=0;e<o.length;e++)n[o[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(t),n.d(t,{EMPTY_ARR:()=>j,EMPTY_OBJ:()=>B,NO:()=>V,NOOP:()=>R,PatchFlagNames:()=>r,camelize:()=>he,capitalize:()=>me,def:()=>we,escapeHtml:()=>T,escapeHtmlComment:()=>L,extend:()=>z,genPropsAccessExp:()=>_e,generateCodeFrame:()=>a,getGlobalThis:()=>xe,hasChanged:()=>ve,hasOwn:()=>q,hyphenate:()=>fe,includeBooleanAttr:()=>d,invokeArrayFns:()=>ye,isArray:()=>Y,isBooleanAttr:()=>u,isBuiltInDirective:()=>ce,isDate:()=>J,isFunction:()=>Z,isGloballyWhitelisted:()=>s,isHTMLTag:()=>D,isIntegerKey:()=>ae,isKnownHtmlAttr:()=>v,isKnownSvgAttr:()=>y,isMap:()=>G,isModelListener:()=>H,isNoUnitNumericStyleProp:()=>g,isObject:()=>te,isOn:()=>W,isPlainObject:()=>se,isPromise:()=>ne,isReservedProp:()=>le,isSSRSafeAttrName:()=>f,isSVGTag:()=>E,isSet:()=>X,isSpecialBooleanAttr:()=>c,isString:()=>Q,isSymbol:()=>ee,isVoidTag:()=>A,looseEqual:()=>I,looseIndexOf:()=>N,makeMap:()=>o,normalizeClass:()=>_,normalizeProps:()=>C,normalizeStyle:()=>w,objectToString:()=>oe,parseStringStyle:()=>x,propsToAttrMap:()=>m,remove:()=>$,slotFlagsText:()=>i,stringifyStyle:()=>S,toDisplayString:()=>P,toHandlerKey:()=>ge,toNumber:()=>be,toRawType:()=>ie,toTypeString:()=>re});const r={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},i={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},s=o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function a(e,t=0,n=e.length){let o=e.split(/(\r?\n)/);const r=o.filter(((e,t)=>t%2==1));o=o.filter(((e,t)=>t%2==0));let i=0;const s=[];for(let e=0;e<o.length;e++)if(i+=o[e].length+(r[e]&&r[e].length||0),i>=t){for(let a=e-2;a<=e+2||n>i;a++){if(a<0||a>=o.length)continue;const l=a+1;s.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${o[a]}`);const c=o[a].length,u=r[a]&&r[a].length||0;if(a===e){const e=t-(i-(c+u)),o=Math.max(1,n>i?c-e:n-t);s.push("   |  "+" ".repeat(e)+"^".repeat(o))}else if(a>e){if(n>i){const e=Math.max(Math.min(n-i,c),1);s.push("   |  "+"^".repeat(e))}i+=c+u}}break}return s.join("\n")}const l="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c=o(l),u=o(l+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function d(e){return!!e||""===e}const h=/[>/="'\u0009\u000a\u000c\u0020]/,p={};function f(e){if(p.hasOwnProperty(e))return p[e];const t=h.test(e);return t&&console.error(`unsafe attribute name: ${e}`),p[e]=!t}const m={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},g=o("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),v=o("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),y=o("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function w(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=Q(o)?x(o):w(o);if(r)for(const e in r)t[e]=r[e]}return t}return Q(e)||te(e)?e:void 0}const b=/;(?![^(]*\))/g,k=/:(.+)/;function x(e){const t={};return e.split(b).forEach((e=>{if(e){const n=e.split(k);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function S(e){let t="";if(!e||Q(e))return t;for(const n in e){const o=e[n],r=n.startsWith("--")?n:fe(n);(Q(o)||"number"==typeof o&&g(r))&&(t+=`${r}:${o};`)}return t}function _(e){let t="";if(Q(e))t=e;else if(Y(e))for(let n=0;n<e.length;n++){const o=_(e[n]);o&&(t+=o+" ")}else if(te(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function C(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Q(t)&&(e.class=_(t)),n&&(e.style=w(n)),e}const D=o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),E=o("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),A=o("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),O=/["'&<>]/;function T(e){const t=""+e,n=O.exec(t);if(!n)return t;let o,r,i="",s=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}s!==r&&(i+=t.slice(s,r)),s=r+1,i+=o}return s!==r?i+t.slice(s,r):i}const M=/^-?>|<!--|-->|--!>|<!-$/g;function L(e){return e.replace(M,"")}function I(e,t){if(e===t)return!0;let n=J(e),o=J(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=ee(e),o=ee(t),n||o)return e===t;if(n=Y(e),o=Y(t),n||o)return!(!n||!o)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=I(e[o],t[o]);return n}(e,t);if(n=te(e),o=te(t),n||o){if(!n||!o)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const o=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(o&&!r||!o&&r||!I(e[n],t[n]))return!1}}return String(e)===String(t)}function N(e,t){return e.findIndex((e=>I(e,t)))}const P=e=>Q(e)?e:null==e?"":Y(e)||te(e)&&(e.toString===oe||!Z(e.toString))?JSON.stringify(e,U,2):String(e),U=(e,t)=>t&&t.__v_isRef?U(e,t.value):G(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:X(t)?{[`Set(${t.size})`]:[...t.values()]}:!te(t)||Y(t)||se(t)?t:String(t),B={},j=[],R=()=>{},V=()=>!1,F=/^on[^a-z]/,W=e=>F.test(e),H=e=>e.startsWith("onUpdate:"),z=Object.assign,$=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},K=Object.prototype.hasOwnProperty,q=(e,t)=>K.call(e,t),Y=Array.isArray,G=e=>"[object Map]"===re(e),X=e=>"[object Set]"===re(e),J=e=>"[object Date]"===re(e),Z=e=>"function"==typeof e,Q=e=>"string"==typeof e,ee=e=>"symbol"==typeof e,te=e=>null!==e&&"object"==typeof e,ne=e=>te(e)&&Z(e.then)&&Z(e.catch),oe=Object.prototype.toString,re=e=>oe.call(e),ie=e=>re(e).slice(8,-1),se=e=>"[object Object]"===re(e),ae=e=>Q(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,le=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ce=o("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ue=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},de=/-(\w)/g,he=ue((e=>e.replace(de,((e,t)=>t?t.toUpperCase():"")))),pe=/\B([A-Z])/g,fe=ue((e=>e.replace(pe,"-$1").toLowerCase())),me=ue((e=>e.charAt(0).toUpperCase()+e.slice(1))),ge=ue((e=>e?`on${me(e)}`:"")),ve=(e,t)=>!Object.is(e,t),ye=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},we=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},be=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ke;const xe=()=>ke||(ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),Se=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function _e(e){return Se.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}},40452:function(e,t,n){var o;e.exports=(o=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=o,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],s=[],a=[],l=[],c=[],u=[],d=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,o=0;for(t=0;t<256;t++){var f=o^o<<1^o<<2^o<<3^o<<4;f=f>>>8^255&f^99,r[n]=f,i[f]=n;var m=e[n],g=e[m],v=e[g],y=257*e[f]^16843008*f;s[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,l[n]=y<<8|y>>>24,c[n]=y,y=16843009*v^65537*g^257*m^16843008*n,u[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,h[f]=y<<8|y>>>24,p[f]=y,n?(n=m^e[e[e[v^m]]],o^=e[e[o]]):n=o=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,o=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<o;s++)s<n?i[s]=t[s]:(c=i[s-1],s%n?n>6&&s%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=f[s/n|0]<<24),i[s]=i[s-n]^c);for(var a=this._invKeySchedule=[],l=0;l<o;l++){if(s=o-l,l%4)var c=i[s];else c=i[s-4];a[l]=l<4||s<=4?c:u[r[c>>>24]]^d[r[c>>>16&255]]^h[r[c>>>8&255]]^p[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,h,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,o,r,i,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],h=e[t+3]^n[3],p=4,f=1;f<l;f++){var m=o[c>>>24]^r[u>>>16&255]^i[d>>>8&255]^s[255&h]^n[p++],g=o[u>>>24]^r[d>>>16&255]^i[h>>>8&255]^s[255&c]^n[p++],v=o[d>>>24]^r[h>>>16&255]^i[c>>>8&255]^s[255&u]^n[p++],y=o[h>>>24]^r[c>>>16&255]^i[u>>>8&255]^s[255&d]^n[p++];c=m,u=g,d=v,h=y}m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^n[p++],g=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^n[p++],v=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[p++],y=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^n[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),o.AES)},75109:function(e,t,n){var o;e.exports=(o=n(78249),n(90888),void(o.lib.Cipher||function(e){var t=o,n=t.lib,r=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,a=t.enc,l=(a.Utf8,a.Base64),c=t.algo.EvpKDF,u=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:v}return function(t){return{encrypt:function(n,o,r){return e(o).encrypt(t,n,o,r)},decrypt:function(n,o,r){return e(o).decrypt(t,n,o,r)}}}}()}),d=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),h=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var t=h.extend();function n(t,n,o){var r,i=this._iv;i?(r=i,this._iv=e):r=this._prevBlock;for(var s=0;s<o;s++)t[n+s]^=r[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var o=this._cipher,r=o.blockSize;n.call(this,e,t,r),o.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var o=this._cipher,r=o.blockSize,i=e.slice(t,t+r);o.decryptBlock(e,t),n.call(this,e,t,r),this._prevBlock=i}}),t}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,o=n-e.sigBytes%n,r=o<<24|o<<16|o<<8|o,s=[],a=0;a<o;a+=4)s.push(r);var l=i.create(s,o);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,o=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=o.createEncryptor:(e=o.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(o,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),o=n.words;return 1398893684==o[0]&&1701076831==o[1]&&(t=i.create(o.slice(2,4)),o.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},v=n.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(e,t,n,o){o=this.cfg.extend(o);var r=e.createEncryptor(n,o),i=r.finalize(t),s=r.cfg;return m.create({ciphertext:i,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,n,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(n,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,n,o){o||(o=i.random(8));var r=c.create({keySize:t+n}).compute(e,o),s=i.create(r.words.slice(t),4*n);return r.sigBytes=4*t,m.create({key:r,iv:s,salt:o})}},w=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(e,t,n,o){var r=(o=this.cfg.extend(o)).kdf.execute(n,e.keySize,e.ivSize);o.iv=r.iv;var i=v.encrypt.call(this,e,t,r.key,o);return i.mixIn(r),i},decrypt:function(e,t,n,o){o=this.cfg.extend(o),t=this._parse(t,o.format);var r=o.kdf.execute(n,e.keySize,e.ivSize,t.salt);return o.iv=r.iv,v.decrypt.call(this,e,t,r.key,o)}})}()))},78249:function(e,t,n){var o;e.exports=(o=o||function(e,t){var o;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(o=globalThis.crypto),!o&&"undefined"!=typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==n.g&&n.g.crypto&&(o=n.g.crypto),!o)try{o=n(42480)}catch(e){}var r=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},l=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var i=0;i<r;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[o+i>>>2]|=s<<24-(o+i)%4*8}else for(var a=0;a<r;a+=4)t[o+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),u=s.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new c.init(n,t/2)}},h=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new c.init(n,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,o=this._data,r=o.words,i=o.sigBytes,s=this.blockSize,a=i/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*l,i);if(l){for(var d=0;d<l;d+=s)this._doProcessBlock(r,d);n=r.splice(0,l),o.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),o)},98269:function(e,t,n){var o;e.exports=(o=n(78249),function(){var e=o,t=e.lib.WordArray;function n(e,n,o){for(var r=[],i=0,s=0;s<n;s++)if(s%4){var a=o[e.charCodeAt(s-1)]<<s%4*2|o[e.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=a<<24-i%4*8,i++}return t.create(r,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp();for(var r=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)r.push(o.charAt(s>>>6*(3-a)&63));var l=o.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,o=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<o.length;i++)r[o.charCodeAt(i)]=i}var s=o.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),o.enc.Base64)},55743:function(e,t,n){var o;e.exports=(o=n(78249),o.enc.Utf8)},90888:function(e,t,n){var o,r,i,s,a,l,c,u;e.exports=(u=n(78249),n(62783),n(89824),r=(o=u).lib,i=r.Base,s=r.WordArray,a=o.algo,l=a.MD5,c=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,o=this.cfg,r=o.hasher.create(),i=s.create(),a=i.words,l=o.keySize,c=o.iterations;a.length<l;){n&&r.update(n),n=r.update(e).finalize(t),r.reset();for(var u=1;u<c;u++)n=r.finalize(n),r.reset();i.concat(n)}return i.sigBytes=4*l,i}}),o.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)},u.EvpKDF)},88010:function(e,t,n){var o;e.exports=(o=n(78249),n(52153),n(89824),o.HmacSHA256)},89824:function(e,t,n){var o,r,i,s;e.exports=(o=n(78249),i=(r=o).lib.Base,s=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,o=4*n;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),i=this._iKey=t.clone(),a=r.words,l=i.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;r.sigBytes=i.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},68214:function(e,t,n){var o;e.exports=(o=n(78249),function(e){var t=o,n=t.lib,r=n.WordArray,i=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=s.MD5=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var o=t+n,r=e[o];e[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i=this._hash.words,s=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],w=e[t+8],b=e[t+9],k=e[t+10],x=e[t+11],S=e[t+12],_=e[t+13],C=e[t+14],D=e[t+15],E=i[0],A=i[1],O=i[2],T=i[3];E=c(E,A,O,T,s,7,a[0]),T=c(T,E,A,O,l,12,a[1]),O=c(O,T,E,A,p,17,a[2]),A=c(A,O,T,E,f,22,a[3]),E=c(E,A,O,T,m,7,a[4]),T=c(T,E,A,O,g,12,a[5]),O=c(O,T,E,A,v,17,a[6]),A=c(A,O,T,E,y,22,a[7]),E=c(E,A,O,T,w,7,a[8]),T=c(T,E,A,O,b,12,a[9]),O=c(O,T,E,A,k,17,a[10]),A=c(A,O,T,E,x,22,a[11]),E=c(E,A,O,T,S,7,a[12]),T=c(T,E,A,O,_,12,a[13]),O=c(O,T,E,A,C,17,a[14]),E=u(E,A=c(A,O,T,E,D,22,a[15]),O,T,l,5,a[16]),T=u(T,E,A,O,v,9,a[17]),O=u(O,T,E,A,x,14,a[18]),A=u(A,O,T,E,s,20,a[19]),E=u(E,A,O,T,g,5,a[20]),T=u(T,E,A,O,k,9,a[21]),O=u(O,T,E,A,D,14,a[22]),A=u(A,O,T,E,m,20,a[23]),E=u(E,A,O,T,b,5,a[24]),T=u(T,E,A,O,C,9,a[25]),O=u(O,T,E,A,f,14,a[26]),A=u(A,O,T,E,w,20,a[27]),E=u(E,A,O,T,_,5,a[28]),T=u(T,E,A,O,p,9,a[29]),O=u(O,T,E,A,y,14,a[30]),E=d(E,A=u(A,O,T,E,S,20,a[31]),O,T,g,4,a[32]),T=d(T,E,A,O,w,11,a[33]),O=d(O,T,E,A,x,16,a[34]),A=d(A,O,T,E,C,23,a[35]),E=d(E,A,O,T,l,4,a[36]),T=d(T,E,A,O,m,11,a[37]),O=d(O,T,E,A,y,16,a[38]),A=d(A,O,T,E,k,23,a[39]),E=d(E,A,O,T,_,4,a[40]),T=d(T,E,A,O,s,11,a[41]),O=d(O,T,E,A,f,16,a[42]),A=d(A,O,T,E,v,23,a[43]),E=d(E,A,O,T,b,4,a[44]),T=d(T,E,A,O,S,11,a[45]),O=d(O,T,E,A,D,16,a[46]),E=h(E,A=d(A,O,T,E,p,23,a[47]),O,T,s,6,a[48]),T=h(T,E,A,O,y,10,a[49]),O=h(O,T,E,A,C,15,a[50]),A=h(A,O,T,E,g,21,a[51]),E=h(E,A,O,T,S,6,a[52]),T=h(T,E,A,O,f,10,a[53]),O=h(O,T,E,A,k,15,a[54]),A=h(A,O,T,E,l,21,a[55]),E=h(E,A,O,T,w,6,a[56]),T=h(T,E,A,O,D,10,a[57]),O=h(O,T,E,A,v,15,a[58]),A=h(A,O,T,E,_,21,a[59]),E=h(E,A,O,T,m,6,a[60]),T=h(T,E,A,O,x,10,a[61]),O=h(O,T,E,A,p,15,a[62]),A=h(A,O,T,E,b,21,a[63]),i[0]=i[0]+E|0,i[1]=i[1]+A|0,i[2]=i[2]+O|0,i[3]=i[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,o=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var i=e.floor(o/4294967296),s=o;n[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,o,r,i,s){var a=e+(t&n|~t&o)+r+s;return(a<<i|a>>>32-i)+t}function u(e,t,n,o,r,i,s){var a=e+(t&o|n&~o)+r+s;return(a<<i|a>>>32-i)+t}function d(e,t,n,o,r,i,s){var a=e+(t^n^o)+r+s;return(a<<i|a>>>32-i)+t}function h(e,t,n,o,r,i,s){var a=e+(n^(t|~o))+r+s;return(a<<i|a>>>32-i)+t}t.MD5=i._createHelper(l),t.HmacMD5=i._createHmacHelper(l)}(Math),o.MD5)},62783:function(e,t,n){var o,r,i,s,a,l,c,u;e.exports=(u=n(78249),r=(o=u).lib,i=r.WordArray,s=r.Hasher,a=o.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var d=(o<<5|o>>>27)+a+l[c];d+=c<20?1518500249+(r&i|~r&s):c<40?1859775393+(r^i^s):c<60?(r&i|r&s|i&s)-1894007588:(r^i^s)-899497514,a=s,s=i,i=r<<30|r>>>2,r=o,o=d}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.SHA1=s._createHelper(c),o.HmacSHA1=s._createHmacHelper(c),u.SHA1)},52153:function(e,t,n){var o;e.exports=(o=n(78249),function(e){var t=o,n=t.lib,r=n.WordArray,i=n.Hasher,s=t.algo,a=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),o=2;o<=n;o++)if(!(t%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,r=0;r<64;)t(o)&&(r<8&&(a[r]=n(e.pow(o,.5))),l[r]=n(e.pow(o,1/3)),r++),o++}();var c=[],u=s.SHA256=i.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],u=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[p-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[p]=m+c[p-7]+v+c[p-16]}var y=o&r^o&i^r&i,w=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+l[p]+c[p];h=d,d=u,u=a,a=s+b|0,s=i,i=r,r=o,o=b+(w+y)|0}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,o=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(o/4294967296),n[15+(r+64>>>9<<4)]=o,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),o.SHA256)},70681:(e,t,n)=>{e.exports={graphlib:n(70574),layout:n(98123),debug:n(27570),util:{time:n(11138).time,notime:n(11138).notime},version:n(88177)}},92188:(e,t,n)=>{"use strict";var o=n(38436),r=n(74079);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?r(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function i(s){o.has(r,s)||(r[s]=!0,n[s]=!0,o.forEach(e.outEdges(s),(function(e){o.has(n,e.w)?t.push(e):i(e.w)})),delete n[s])}return o.forEach(e.nodes(),i),t}(e);o.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,o.uniqueId("rev"))}))},undo:function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var o=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,o)}}))}}},61133:(e,t,n)=>{var o=n(38436),r=n(11138);function i(e,t,n,o,i,s){var a={width:0,height:0,rank:s,borderType:t},l=i[t][s-1],c=r.addDummyNode(e,"border",a,n);i[t][s]=c,e.setParent(c,o),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){o.forEach(e.children(),(function t(n){var r=e.children(n),s=e.node(n);if(r.length&&o.forEach(r,t),o.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var a=s.minRank,l=s.maxRank+1;a<l;++a)i(e,"borderLeft","_bl",n,s,a),i(e,"borderRight","_br",n,s,a)}}))}},53258:(e,t,n)=>{"use strict";var o=n(38436);function r(e){o.forEach(e.nodes(),(function(t){i(e.node(t))})),o.forEach(e.edges(),(function(t){i(e.edge(t))}))}function i(e){var t=e.width;e.width=e.height,e.height=t}function s(e){e.y=-e.y}function a(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||r(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){o.forEach(e.nodes(),(function(t){s(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,s),o.has(n,"y")&&s(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){o.forEach(e.nodes(),(function(t){a(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,a),o.has(n,"x")&&a(n)}))}(e),r(e))}}},77822:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},27570:(e,t,n)=>{var o=n(38436),r=n(11138),i=n(70574).Graph;e.exports={debugOrdering:function(e){var t=r.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return o.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),o.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),o.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),o.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},70574:(e,t,n)=>{var o;try{o=n(28282)}catch(e){}o||(o=window.graphlib),e.exports=o},74079:(e,t,n)=>{var o=n(38436),r=n(70574).Graph,i=n(77822);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new r,s=0,a=0;o.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),o.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,r=t(e),i=o+r;n.setEdge(e.v,e.w,i),a=Math.max(a,n.node(e.v).out+=r),s=Math.max(s,n.node(e.w).in+=r)}));var c=o.range(a+s+3).map((function(){return new i})),u=s+1;return o.forEach(n.nodes(),(function(e){l(c,u,n.node(e))})),{graph:n,buckets:c,zeroIdx:u}}(e,t||s),c=function(e,t,n){var o,r=[],i=t[t.length-1],s=t[0];for(;e.nodeCount();){for(;o=s.dequeue();)a(e,t,n,o);for(;o=i.dequeue();)a(e,t,n,o);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(o=t[l].dequeue()){r=r.concat(a(e,t,n,o,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return o.flatten(o.map(c,(function(t){return e.outEdges(t.v,t.w)})),!0)};var s=o.constant(1);function a(e,t,n,r,i){var s=i?[]:void 0;return o.forEach(e.inEdges(r.v),(function(o){var r=e.edge(o),a=e.node(o.v);i&&s.push({v:o.v,w:o.w}),a.out-=r,l(t,n,a)})),o.forEach(e.outEdges(r.v),(function(o){var r=e.edge(o),i=o.w,s=e.node(i);s.in-=r,l(t,n,s)})),e.removeNode(r.v),s}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},98123:(e,t,n)=>{"use strict";var o=n(38436),r=n(92188),i=n(45995),s=n(78093),a=n(11138).normalizeRanks,l=n(24219),c=n(11138).removeEmptyRanks,u=n(72981),d=n(61133),h=n(53258),p=n(53408),f=n(17873),m=n(11138),g=n(70574).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=D(e.graph());return t.setGraph(o.merge({},y,C(n,v),o.pick(n,w))),o.forEach(e.nodes(),(function(n){var r=D(e.node(n));t.setNode(n,o.defaults(C(r,b),k)),t.setParent(n,e.parent(n))})),o.forEach(e.edges(),(function(n){var r=D(e.edge(n));t.setEdge(n,o.merge({},S,C(r,x),o.pick(r,_)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,o.forEach(e.edges(),(function(n){var o=e.edge(n);o.minlen*=2,"c"!==o.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){o.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){r.run(e)})),t("    nestingGraph.run",(function(){u.run(e)})),t("    rank",(function(){s(m.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var o=e.node(t.v),r={rank:(e.node(t.w).rank-o.rank)/2+o.rank,e:t};m.addDummyNode(e,"edge-proxy",r,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){c(e)})),t("    nestingGraph.cleanup",(function(){u.cleanup(e)})),t("    normalizeRanks",(function(){a(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;o.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=o.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){l(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){p(e)})),t("    insertSelfEdges",(function(){!function(e){var t=m.buildLayerMatrix(e);o.forEach(t,(function(t){var n=0;o.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,o.forEach(i.selfEdges,(function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){h.adjust(e)})),t("    position",(function(){f(e)})),t("    positionSelfEdges",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var o=e.node(n.e.v),r=o.x+o.width/2,i=o.y,s=n.x-r,a=o.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*s/3,y:i-a},{x:r+5*s/6,y:i-a},{x:r+s,y:i},{x:r+5*s/6,y:i+a},{x:r+2*s/3,y:i+a}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){o.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(o.last(n.borderLeft)),a=e.node(o.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}})),o.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(o.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){h.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),a=s.marginx||0,l=s.marginy||0;function c(e){var o=e.x,s=e.y,a=e.width,l=e.height;t=Math.min(t,o-a/2),n=Math.max(n,o+a/2),r=Math.min(r,s-l/2),i=Math.max(i,s+l/2)}o.forEach(e.nodes(),(function(t){c(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.has(n,"x")&&c(n)})),t-=a,r-=l,o.forEach(e.nodes(),(function(n){var o=e.node(n);o.x-=t,o.y-=r})),o.forEach(e.edges(),(function(n){var i=e.edge(n);o.forEach(i.points,(function(e){e.x-=t,e.y-=r})),o.has(i,"x")&&(i.x-=t),o.has(i,"y")&&(i.y-=r)})),s.width=n-t+a,s.height=i-r+l}(e)})),t("    assignNodeIntersects",(function(){!function(e){o.forEach(e.edges(),(function(t){var n,o,r=e.edge(t),i=e.node(t.v),s=e.node(t.w);r.points?(n=r.points[0],o=r.points[r.points.length-1]):(r.points=[],n=s,o=i),r.points.unshift(m.intersectRect(i,n)),r.points.push(m.intersectRect(s,o))}))}(e)})),t("    reversePoints",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){r.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){o.forEach(e.nodes(),(function(n){var o=e.node(n),r=t.node(n);o&&(o.x=r.x,o.y=r.y,t.children(n).length&&(o.width=r.width,o.height=r.height))})),o.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,o.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],b=["width","height"],k={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function C(e,t){return o.mapValues(o.pick(e,t),Number)}function D(e){var t={};return o.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},38436:(e,t,n)=>{var o;try{o={cloneDeep:n(50361),constant:n(75703),defaults:n(91747),each:n(66073),filter:n(63105),find:n(13311),flatten:n(85564),forEach:n(84486),forIn:n(62620),has:n(18721),isUndefined:n(52353),last:n(10928),map:n(35161),mapValues:n(66604),max:n(6162),merge:n(82492),min:n(53632),minBy:n(22762),now:n(7771),pick:n(78718),range:n(96026),reduce:n(54061),sortBy:n(89734),uniqueId:n(73955),values:n(52628),zipObject:n(7287)}}catch(e){}o||(o=window._),e.exports=o},72981:(e,t,n)=>{var o=n(38436),r=n(11138);function i(e,t,n,s,a,l,c){var u=e.children(c);if(u.length){var d=r.addBorderNode(e,"_bt"),h=r.addBorderNode(e,"_bb"),p=e.node(c);e.setParent(d,c),p.borderTop=d,e.setParent(h,c),p.borderBottom=h,o.forEach(u,(function(o){i(e,t,n,s,a,l,o);var r=e.node(o),u=r.borderTop?r.borderTop:o,p=r.borderBottom?r.borderBottom:o,f=r.borderTop?s:2*s,m=u!==p?1:a-l[c]+1;e.setEdge(d,u,{weight:f,minlen:m,nestingEdge:!0}),e.setEdge(p,h,{weight:f,minlen:m,nestingEdge:!0})})),e.parent(c)||e.setEdge(t,d,{weight:0,minlen:a+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=r.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&o.forEach(s,(function(e){n(e,i+1)})),t[r]=i}return o.forEach(e.children(),(function(e){n(e,1)})),t}(e),s=o.max(o.values(n))-1,a=2*s+1;e.graph().nestingRoot=t,o.forEach(e.edges(),(function(t){e.edge(t).minlen*=a}));var l=function(e){return o.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;o.forEach(e.children(),(function(o){i(e,t,a,l,s,n,o)})),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,o.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},45995:(e,t,n)=>{"use strict";var o=n(38436),r=n(11138);e.exports={run:function(e){e.graph().dummyChains=[],o.forEach(e.edges(),(function(t){!function(e,t){var n,o,i,s=t.v,a=e.node(s).rank,l=t.w,c=e.node(l).rank,u=t.name,d=e.edge(t),h=d.labelRank;if(c===a+1)return;for(e.removeEdge(t),i=0,++a;a<c;++i,++a)d.points=[],o={width:0,height:0,edgeLabel:d,edgeObj:t,rank:a},n=r.addDummyNode(e,"edge",o,"_d"),a===h&&(o.width=d.width,o.height=d.height,o.dummy="edge-label",o.labelpos=d.labelpos),e.setEdge(s,n,{weight:d.weight},u),0===i&&e.graph().dummyChains.push(n),s=n;e.setEdge(s,l,{weight:d.weight},u)}(e,t)}))},undo:function(e){o.forEach(e.graph().dummyChains,(function(t){var n,o=e.node(t),r=o.edgeLabel;for(e.setEdge(o.edgeObj,r);o.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:o.x,y:o.y}),"edge-label"===o.dummy&&(r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height),t=n,o=e.node(t)}))}}},55093:(e,t,n)=>{var o=n(38436);e.exports=function(e,t,n){var r,i={};o.forEach(n,(function(n){for(var o,s,a=e.parent(n);a;){if((o=e.parent(a))?(s=i[o],i[o]=a):(s=r,r=a),s&&s!==a)return void t.setEdge(s,a);a=o}}))}},35439:(e,t,n)=>{var o=n(38436);e.exports=function(e,t){return o.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=o.reduce(n,(function(t,n){var o=e.edge(n),r=e.node(n.v);return{sum:t.sum+o.weight*r.order,weight:t.weight+o.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}},23128:(e,t,n)=>{var o=n(38436),r=n(70574).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=o.uniqueId("_root")););return t}(e),s=new r({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return o.forEach(e.nodes(),(function(r){var a=e.node(r),l=e.parent(r);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(r),s.setParent(r,l||i),o.forEach(e[n](r),(function(t){var n=t.v===r?t.w:t.v,i=s.edge(n,r),a=o.isUndefined(i)?0:i.weight;s.setEdge(n,r,{weight:e.edge(t).weight+a})})),o.has(a,"minRank")&&s.setNode(r,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),s}},56630:(e,t,n)=>{"use strict";var o=n(38436);function r(e,t,n){for(var r=o.zipObject(n,o.map(n,(function(e,t){return t}))),i=o.flatten(o.map(t,(function(t){return o.sortBy(o.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var l=o.map(new Array(a),(function(){return 0})),c=0;return o.forEach(i.forEach((function(e){var t=e.pos+s;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}e.exports=function(e,t){for(var n=0,o=1;o<t.length;++o)n+=r(e,t[o-1],t[o]);return n}},53408:(e,t,n)=>{"use strict";var o=n(38436),r=n(2588),i=n(56630),s=n(61026),a=n(23128),l=n(55093),c=n(70574).Graph,u=n(11138);function d(e,t,n){return o.map(t,(function(t){return a(e,t,n)}))}function h(e,t){var n=new c;o.forEach(e,(function(e){var r=e.graph().root,i=s(e,r,n,t);o.forEach(i.vs,(function(t,n){e.node(t).order=n})),l(e,n,i.vs)}))}function p(e,t){o.forEach(t,(function(t){o.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=u.maxRank(e),n=d(e,o.range(1,t+1),"inEdges"),s=d(e,o.range(t-1,-1,-1),"outEdges"),a=r(e);p(e,a);for(var l,c=Number.POSITIVE_INFINITY,f=0,m=0;m<4;++f,++m){h(f%2?n:s,f%4>=2),a=u.buildLayerMatrix(e);var g=i(e,a);g<c&&(m=0,l=o.cloneDeep(a),c=g)}p(e,l)}},2588:(e,t,n)=>{"use strict";var o=n(38436);e.exports=function(e){var t={},n=o.filter(e.nodes(),(function(t){return!e.children(t).length})),r=o.max(o.map(n,(function(t){return e.node(t).rank}))),i=o.map(o.range(r+1),(function(){return[]}));var s=o.sortBy(n,(function(t){return e.node(t).rank}));return o.forEach(s,(function n(r){if(o.has(t,r))return;t[r]=!0;var s=e.node(r);i[s.rank].push(r),o.forEach(e.successors(r),n)})),i}},83678:(e,t,n)=>{"use strict";var o=n(38436);e.exports=function(e,t){var n={};return o.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),o.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];o.isUndefined(t)||o.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(o.isUndefined(t.barycenter)||o.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,o=0;e.weight&&(n+=e.barycenter*e.weight,o+=e.weight);t.weight&&(n+=t.barycenter*t.weight,o+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),o.forEach(i.in.reverse(),n(i)),o.forEach(i.out,r(i))}return o.map(o.filter(t,(function(e){return!e.merged})),(function(e){return o.pick(e,["vs","i","barycenter","weight"])}))}(o.filter(n,(function(e){return!e.indegree})))}},61026:(e,t,n)=>{var o=n(38436),r=n(35439),i=n(83678),s=n(87304);e.exports=function e(t,n,a,l){var c=t.children(n),u=t.node(n),d=u?u.borderLeft:void 0,h=u?u.borderRight:void 0,p={};d&&(c=o.filter(c,(function(e){return e!==d&&e!==h})));var f=r(t,c);o.forEach(f,(function(n){if(t.children(n.v).length){var r=e(t,n.v,a,l);p[n.v]=r,o.has(r,"barycenter")&&(i=n,s=r,o.isUndefined(i.barycenter)?(i.barycenter=s.barycenter,i.weight=s.weight):(i.barycenter=(i.barycenter*i.weight+s.barycenter*s.weight)/(i.weight+s.weight),i.weight+=s.weight))}var i,s}));var m=i(f,a);!function(e,t){o.forEach(e,(function(e){e.vs=o.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(m,p);var g=s(m,l);if(d&&(g.vs=o.flatten([d,g.vs,h],!0),t.predecessors(d).length)){var v=t.node(t.predecessors(d)[0]),y=t.node(t.predecessors(h)[0]);o.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+v.order+y.order)/(g.weight+2),g.weight+=2}return g}},87304:(e,t,n)=>{var o=n(38436),r=n(11138);function i(e,t,n){for(var r;t.length&&(r=o.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n=r.partition(e,(function(e){return o.has(e,"barycenter")})),s=n.lhs,a=o.sortBy(n.rhs,(function(e){return-e.i})),l=[],c=0,u=0,d=0;s.sort((h=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:h?t.i-e.i:e.i-t.i})),d=i(l,a,d),o.forEach(s,(function(e){d+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,u+=e.weight,d=i(l,a,d)}));var h;var p={vs:o.flatten(l,!0)};u&&(p.barycenter=c/u,p.weight=u);return p}},24219:(e,t,n)=>{var o=n(38436);e.exports=function(e){var t=function(e){var t={},n=0;function r(i){var s=n;o.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return o.forEach(e.children(),r),t}(e);o.forEach(e.graph().dummyChains,(function(n){for(var o=e.node(n),r=o.edgeObj,i=function(e,t,n,o){var r,i,s=[],a=[],l=Math.min(t[n].low,t[o].low),c=Math.max(t[n].lim,t[o].lim);r=n;do{r=e.parent(r),s.push(r)}while(r&&(t[r].low>l||c>t[r].lim));i=r,r=o;for(;(r=e.parent(r))!==i;)a.push(r);return{path:s.concat(a.reverse()),lca:i}}(e,t,r.v,r.w),s=i.path,a=i.lca,l=0,c=s[l],u=!0;n!==r.w;){if(o=e.node(n),u){for(;(c=s[l])!==a&&e.node(c).maxRank<o.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=o.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}}))}},3573:(e,t,n)=>{"use strict";var o=n(38436),r=n(70574).Graph,i=n(11138);function s(e,t){var n={};return o.reduce(t,(function(t,r){var i=0,s=0,a=t.length,c=o.last(r);return o.forEach(r,(function(t,u){var d=function(e,t){if(e.node(t).dummy)return o.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),h=d?e.node(d).order:a;(d||t===c)&&(o.forEach(r.slice(s,u+1),(function(t){o.forEach(e.predecessors(t),(function(o){var r=e.node(o),s=r.order;!(s<i||h<s)||r.dummy&&e.node(t).dummy||l(n,o,t)}))})),s=u+1,i=h)})),r})),n}function a(e,t){var n={};function r(t,r,i,s,a){var c;o.forEach(o.range(r,i),(function(r){c=t[r],e.node(c).dummy&&o.forEach(e.predecessors(c),(function(t){var o=e.node(t);o.dummy&&(o.order<s||o.order>a)&&l(n,t,c)}))}))}return o.reduce(t,(function(t,n){var i,s=-1,a=0;return o.forEach(n,(function(o,l){if("border"===e.node(o).dummy){var c=e.predecessors(o);c.length&&(i=e.node(c[0]).order,r(n,a,l,s,i),a=l,s=i)}r(n,a,n.length,i,t.length)})),n})),n}function l(e,t,n){if(t>n){var o=t;t=n,n=o}var r=e[t];r||(e[t]=r={}),r[n]=!0}function c(e,t,n){if(t>n){var r=t;t=n,n=r}return o.has(e[t],n)}function u(e,t,n,r){var i={},s={},a={};return o.forEach(t,(function(e){o.forEach(e,(function(e,t){i[e]=e,s[e]=e,a[e]=t}))})),o.forEach(t,(function(e){var t=-1;o.forEach(e,(function(e){var l=r(e);if(l.length){l=o.sortBy(l,(function(e){return a[e]}));for(var u=(l.length-1)/2,d=Math.floor(u),h=Math.ceil(u);d<=h;++d){var p=l[d];s[e]===e&&t<a[p]&&!c(n,e,p)&&(s[p]=e,s[e]=i[e]=i[p],t=a[p])}}}))})),{root:i,align:s}}function d(e,t,n,i,s){var a={},l=function(e,t,n,i){var s=new r,a=e.graph(),l=function(e,t,n){return function(r,i,s){var a,l=r.node(i),c=r.node(s),u=0;if(u+=l.width/2,o.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=-l.width/2;break;case"r":a=l.width/2}if(a&&(u+=n?a:-a),a=0,u+=(l.dummy?t:e)/2,u+=(c.dummy?t:e)/2,u+=c.width/2,o.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(u+=n?a:-a),a=0,u}}(a.nodesep,a.edgesep,i);return o.forEach(t,(function(t){var r;o.forEach(t,(function(t){var o=n[t];if(s.setNode(o),r){var i=n[r],a=s.edge(i,o);s.setEdge(i,o,Math.max(l(e,t,r),a||0))}r=t}))})),s}(e,t,n,s),c=s?"borderLeft":"borderRight";function u(e,t){for(var n=l.nodes(),o=n.pop(),r={};o;)r[o]?e(o):(r[o]=!0,n.push(o),n=n.concat(t(o))),o=n.pop()}return u((function(e){a[e]=l.inEdges(e).reduce((function(e,t){return Math.max(e,a[t.v]+l.edge(t))}),0)}),l.predecessors.bind(l)),u((function(t){var n=l.outEdges(t).reduce((function(e,t){return Math.min(e,a[t.w]-l.edge(t))}),Number.POSITIVE_INFINITY),o=e.node(t);n!==Number.POSITIVE_INFINITY&&o.borderType!==c&&(a[t]=Math.max(a[t],n))}),l.successors.bind(l)),o.forEach(i,(function(e){a[e]=a[n[e]]})),a}function h(e,t){return o.minBy(o.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return o.forIn(t,(function(t,o){var i=function(e,t){return e.node(t).width}(e,o)/2;n=Math.max(t+i,n),r=Math.min(t-i,r)})),n-r}))}function p(e,t){var n=o.values(t),r=o.min(n),i=o.max(n);o.forEach(["u","d"],(function(n){o.forEach(["l","r"],(function(s){var a,l=n+s,c=e[l];if(c!==t){var u=o.values(c);(a="l"===s?r-o.min(u):i-o.max(u))&&(e[l]=o.mapValues(c,(function(e){return e+a})))}}))}))}function f(e,t){return o.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=o.sortBy(o.map(e,r));return(i[1]+i[2])/2}))}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),r=o.merge(s(e,n),a(e,n)),l={};o.forEach(["u","d"],(function(i){t="u"===i?n:o.values(n).reverse(),o.forEach(["l","r"],(function(n){"r"===n&&(t=o.map(t,(function(e){return o.values(e).reverse()})));var s=("u"===i?e.predecessors:e.successors).bind(e),a=u(e,t,r,s),c=d(e,t,a.root,a.align,"r"===n);"r"===n&&(c=o.mapValues(c,(function(e){return-e}))),l[i+n]=c}))}));var c=h(e,l);return p(l,c),f(l,e.graph().align)},findType1Conflicts:s,findType2Conflicts:a,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:d,alignCoordinates:p,findSmallestWidthAlignment:h,balance:f}},17873:(e,t,n)=>{"use strict";var o=n(38436),r=n(11138),i=n(3573).positionX;e.exports=function(e){(function(e){var t=r.buildLayerMatrix(e),n=e.graph().ranksep,i=0;o.forEach(t,(function(t){var r=o.max(o.map(t,(function(t){return e.node(t).height})));o.forEach(t,(function(t){e.node(t).y=i+r/2})),i+=r+n}))})(e=r.asNonCompoundGraph(e)),o.forEach(i(e),(function(t,n){e.node(n).x=t}))}},20300:(e,t,n)=>{"use strict";var o=n(38436),r=n(70574).Graph,i=n(76681).slack;function s(e,t){return o.forEach(e.nodes(),(function n(r){o.forEach(t.nodeEdges(r),(function(o){var s=o.v,a=r===s?o.w:s;e.hasNode(a)||i(t,o)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function a(e,t){return o.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function l(e,t,n){o.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,o=new r({directed:!1}),c=e.nodes()[0],u=e.nodeCount();o.setNode(c,{});for(;s(o,e)<u;)t=a(o,e),n=o.hasNode(t.v)?i(e,t):-i(e,t),l(o,e,n);return o}},78093:(e,t,n)=>{"use strict";var o=n(76681).longestPath,r=n(20300),i=n(42472);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:a(e);break;case"tight-tree":!function(e){o(e),r(e)}(e);break;case"longest-path":s(e)}};var s=o;function a(e){i(e)}},42472:(e,t,n)=>{"use strict";var o=n(38436),r=n(20300),i=n(76681).slack,s=n(76681).longestPath,a=n(70574).alg.preorder,l=n(70574).alg.postorder,c=n(11138).simplify;function u(e){e=c(e),s(e);var t,n=r(e);for(p(n),d(n,e);t=m(n);)v(n,e,t,g(n,e,t))}function d(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),o.forEach(n,(function(n){!function(e,t,n){var o=e.node(n).parent;e.edge(n,o).cutvalue=h(e,t,n)}(e,t,n)}))}function h(e,t,n){var r=e.node(n).parent,i=!0,s=t.edge(n,r),a=0;return s||(i=!1,s=t.edge(r,n)),a=s.weight,o.forEach(t.nodeEdges(n),(function(o){var s,l,c=o.v===n,u=c?o.w:o.v;if(u!==r){var d=c===i,h=t.edge(o).weight;if(a+=d?h:-h,s=n,l=u,e.hasEdge(s,l)){var p=e.edge(n,u).cutvalue;a+=d?-p:p}}})),a}function p(e,t){arguments.length<2&&(t=e.nodes()[0]),f(e,{},1,t)}function f(e,t,n,r,i){var s=n,a=e.node(r);return t[r]=!0,o.forEach(e.neighbors(r),(function(i){o.has(t,i)||(n=f(e,t,n,i,r))})),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function m(e){return o.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function g(e,t,n){var r=n.v,s=n.w;t.hasEdge(r,s)||(r=n.w,s=n.v);var a=e.node(r),l=e.node(s),c=a,u=!1;a.lim>l.lim&&(c=l,u=!0);var d=o.filter(t.edges(),(function(t){return u===y(e,e.node(t.v),c)&&u!==y(e,e.node(t.w),c)}));return o.minBy(d,(function(e){return i(t,e)}))}function v(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),p(e),d(e,t),function(e,t){var n=o.find(e.nodes(),(function(e){return!t.node(e).parent})),r=a(e,n);r=r.slice(1),o.forEach(r,(function(n){var o=e.node(n).parent,r=t.edge(n,o),i=!1;r||(r=t.edge(o,n),i=!0),t.node(n).rank=t.node(o).rank+(i?r.minlen:-r.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=p,u.initCutValues=d,u.calcCutValue=h,u.leaveEdge=m,u.enterEdge=g,u.exchangeEdges=v},76681:(e,t,n)=>{"use strict";var o=n(38436);e.exports={longestPath:function(e){var t={};o.forEach(e.sources(),(function n(r){var i=e.node(r);if(o.has(t,r))return i.rank;t[r]=!0;var s=o.min(o.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return s!==Number.POSITIVE_INFINITY&&null!=s||(s=0),i.rank=s}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},11138:(e,t,n)=>{"use strict";var o=n(38436),r=n(70574).Graph;function i(e,t,n,r){var i;do{i=o.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function s(e){return o.max(o.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!o.isUndefined(n))return n})))}e.exports={addDummyNode:i,simplify:function(e){var t=(new r).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){var o=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:o.weight+r.weight,minlen:Math.max(o.minlen,r.minlen)})})),t},asNonCompoundGraph:function(e){var t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,o,r=e.x,i=e.y,s=t.x-r,a=t.y-i,l=e.width/2,c=e.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=c*s/a,o=c):(s<0&&(l=-l),n=l,o=l*a/s);return{x:r+n,y:i+o}},buildLayerMatrix:function(e){var t=o.map(o.range(s(e)+1),(function(){return[]}));return o.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;o.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank})));o.forEach(e.nodes(),(function(n){var r=e.node(n);o.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];o.forEach(e.nodes(),(function(o){var r=e.node(o).rank-t;n[r]||(n[r]=[]),n[r].push(o)}));var r=0,i=e.graph().nodeRankFactor;o.forEach(n,(function(t,n){o.isUndefined(t)&&n%i!=0?--r:r&&o.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,o){var r={width:0,height:0};arguments.length>=4&&(r.rank=n,r.order=o);return i(e,"border",r,t)},maxRank:s,partition:function(e,t){var n={lhs:[],rhs:[]};return o.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=o.now();try{return t()}finally{console.log(e+" time: "+(o.now()-n)+"ms")}},notime:function(e,t){return t()}}},88177:e=>{e.exports="0.8.5"},27484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,o="millisecond",r="second",i="minute",s="hour",a="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(o,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,c),i=n-r<0,s=t.clone().add(o+(i?-1:1),c);return+(-(o+(n-r)/(i?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:h,h:s,m:i,s:r,ms:o,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",b={};b[w]=g;var k=function(e){return e instanceof C},x=function e(t,n,o){var r;if(!t)return w;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(r=i),n&&(b[i]=n,r=i);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,r=a}return!o&&r&&(w=r),r||!o&&w},S=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},_=y;_.l=x,_.i=k,_.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(f);if(o){var r=o[2]-1||0,i=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return _},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,n){return _.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,o=!!_.u(t)||t,u=_.p(e),p=function(e,t){var r=_.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?r:r.endOf(a)},f=function(e,t){return _.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return o?p(1,0):p(31,11);case c:return o?p(1,g):p(0,g+1);case l:var w=this.$locale().weekStart||0,b=(m<w?m+7:m)-w;return p(o?v-b:v+(6-b),g);case a:case h:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case i:return f(y+"Seconds",2);case r:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=_.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[a]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[i]=u+"Minutes",n[r]=u+"Seconds",n[o]=u+"Milliseconds",n)[l],f=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[_.p(e)]()},v.add=function(o,u){var h,p=this;o=Number(o);var f=_.p(u),m=function(e){var t=S(p);return _.w(t.date(t.date()+Math.round(e*o)),p)};if(f===c)return this.set(c,this.$M+o);if(f===d)return this.set(d,this.$y+o);if(f===a)return m(1);if(f===l)return m(7);var g=(h={},h[i]=t,h[s]=n,h[r]=e,h)[f]||1,v=this.$d.getTime()+o*g;return _.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=_.z(this),i=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(e,n,r,i){return e&&(e[n]||e(t,o))||r[n].slice(0,i)},d=function(e){return _.s(i%12||12,e,"0")},h=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:_.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:_.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:_.s(s,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:r};return o.replace(m,(function(e,t){return t||f[e]||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(o,h,p){var f,m=_.p(h),g=S(o),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,w=_.m(this,g);return w=(f={},f[d]=w/12,f[c]=w,f[u]=w/3,f[l]=(y-v)/6048e5,f[a]=(y-v)/864e5,f[s]=y/n,f[i]=y/t,f[r]=y/e,f)[m]||y,p?w:_.a(w)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=x(e,t,!0);return o&&(n.$L=o),n},v.clone=function(){return _.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),D=C.prototype;return S.prototype=D,[["$ms",o],["$s",r],["$m",i],["$H",s],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=x,S.isDayjs=k,S.unix=function(e){return S(1e3*e)},S.en=b[w],S.Ls=b,S.p={},S}()},96023:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(o,null,!0),o}(n(27484))},37553:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return n.default.locale(o,null,!0),o}(n(27484))},43901:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}};return n.default.locale(o,null,!0),o}(n(27484))},32009:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o={name:"zh",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s后",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(o,null,!0),o}(n(27484))},84110:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var o=t.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,r){return o.fromToBase(e,t,n,r)}n.en.relativeTime=r,o.fromToBase=function(t,o,i,s,a){for(var l,c,u,d=i.$locale().relativeTime||r,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,f=0;f<p;f+=1){var m=h[f];m.d&&(l=s?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(u=l>0,g<=m.r||!m.r){g<=1&&f>0&&(m=h[f-1]);var v=d[m.l];a&&(g=a(""+g)),c="string"==typeof v?v.replace("%d",g):v(g,o,m.l,u);break}}if(o)return c;var y=u?d.future:d.past;return"function"==typeof y?y(c):y.replace("%s",c)},o.to=function(e,t){return i(e,t,this,!0)},o.from=function(e,t){return i(e,t,this)};var s=function(e){return e.$u?n.utc():n()};o.toNow=function(e){return this.to(s(this),e)},o.fromNow=function(e){return this.from(s(this),e)}}}()},28282:(e,t,n)=>{var o=n(82354);e.exports={Graph:o.Graph,json:n(28974),alg:n(12440),version:o.version}},2842:(e,t,n)=>{var o=n(89126);e.exports=function(e){var t,n={},r=[];function i(r){o.has(n,r)||(n[r]=!0,t.push(r),o.each(e.successors(r),i),o.each(e.predecessors(r),i))}return o.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r}},53984:(e,t,n)=>{var o=n(89126);function r(e,t,n,i,s,a){o.has(i,t)||(i[t]=!0,n||a.push(t),o.each(s(t),(function(t){r(e,t,n,i,s,a)})),n&&a.push(t))}e.exports=function(e,t,n){o.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),s=[],a={};return o.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);r(e,t,"post"===n,a,i,s)})),s}},84847:(e,t,n)=>{var o=n(63763),r=n(89126);e.exports=function(e,t,n){return r.transform(e.nodes(),(function(r,i){r[i]=o(e,i,t,n)}),{})}},63763:(e,t,n)=>{var o=n(89126),r=n(75639);e.exports=function(e,t,n,o){return function(e,t,n,o){var i,s,a={},l=new r,c=function(e){var t=e.v!==i?e.v:e.w,o=a[t],r=n(e),c=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);c<o.distance&&(o.distance=c,o.predecessor=i,l.decrease(t,c))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},l.add(e,n)}));for(;l.size()>0&&(i=l.removeMin(),(s=a[i]).distance!==Number.POSITIVE_INFINITY);)o(i).forEach(c);return a}(e,String(t),n||i,o||function(t){return e.outEdges(t)})};var i=o.constant(1)},9096:(e,t,n)=>{var o=n(89126),r=n(5023);e.exports=function(e){return o.filter(r(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},38924:(e,t,n)=>{var o=n(89126);e.exports=function(e,t,n){return function(e,t,n){var o={},r=e.nodes();return r.forEach((function(e){o[e]={},o[e][e]={distance:0},r.forEach((function(t){e!==t&&(o[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var r=n.v===e?n.w:n.v,i=t(n);o[e][r]={distance:i,predecessor:e}}))})),r.forEach((function(e){var t=o[e];r.forEach((function(n){var i=o[n];r.forEach((function(n){var o=i[e],r=t[n],s=i[n],a=o.distance+r.distance;a<s.distance&&(s.distance=a,s.predecessor=r.predecessor)}))}))})),o}(e,t||r,n||function(t){return e.outEdges(t)})};var r=o.constant(1)},12440:(e,t,n)=>{e.exports={components:n(2842),dijkstra:n(63763),dijkstraAll:n(84847),findCycles:n(9096),floydWarshall:n(38924),isAcyclic:n(62707),postorder:n(58828),preorder:n(92648),prim:n(80514),tarjan:n(5023),topsort:n(2166)}},62707:(e,t,n)=>{var o=n(2166);e.exports=function(e){try{o(e)}catch(e){if(e instanceof o.CycleException)return!1;throw e}return!0}},58828:(e,t,n)=>{var o=n(53984);e.exports=function(e,t){return o(e,t,"post")}},92648:(e,t,n)=>{var o=n(53984);e.exports=function(e,t){return o(e,t,"pre")}},80514:(e,t,n)=>{var o=n(89126),r=n(30771),i=n(75639);e.exports=function(e,t){var n,s=new r,a={},l=new i;function c(e){var o=e.v===n?e.w:e.v,r=l.priority(o);if(void 0!==r){var i=t(e);i<r&&(a[o]=n,l.decrease(o,i))}}if(0===e.nodeCount())return s;o.each(e.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),s.setNode(e)})),l.decrease(e.nodes()[0],0);var u=!1;for(;l.size()>0;){if(n=l.removeMin(),o.has(a,n))s.setEdge(n,a[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(c)}return s}},5023:(e,t,n)=>{var o=n(89126);e.exports=function(e){var t=0,n=[],r={},i=[];function s(a){var l=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){o.has(r,e)?r[e].onStack&&(l.lowlink=Math.min(l.lowlink,r[e].index)):(s(e),l.lowlink=Math.min(l.lowlink,r[e].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),r[c].onStack=!1,u.push(c)}while(a!==c);i.push(u)}}return e.nodes().forEach((function(e){o.has(r,e)||s(e)})),i}},2166:(e,t,n)=>{var o=n(89126);function r(e){var t={},n={},r=[];if(o.each(e.sinks(),(function s(a){if(o.has(n,a))throw new i;o.has(t,a)||(n[a]=!0,t[a]=!0,o.each(e.predecessors(a),s),delete n[a],r.push(a))})),o.size(t)!==e.nodeCount())throw new i;return r}function i(){}e.exports=r,r.CycleException=i,i.prototype=new Error},75639:(e,t,n)=>{var o=n(89126);function r(){this._arr=[],this._keyIndices={}}e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},r.prototype.has=function(e){return o.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!o.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,o=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,o<t.length&&(r=t[o].priority<t[r].priority?o:r),r!==e&&(this._swap(e,r),this._heapify(r)))},r.prototype._decrease=function(e){for(var t,n=this._arr,o=n[e].priority;0!==e&&!(n[t=e>>1].priority<o);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,o=this._keyIndices,r=n[e],i=n[t];n[e]=i,n[t]=r,o[i.key]=e,o[r.key]=t}},30771:(e,t,n)=>{"use strict";var o=n(89126);e.exports=i;var r="\0";function i(e){this._isDirected=!o.has(e,"directed")||e.directed,this._isMultigraph=!!o.has(e,"multigraph")&&e.multigraph,this._isCompound=!!o.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function s(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function l(e,t,n,r){var i=""+t,s=""+n;if(!e&&i>s){var a=i;i=s,s=a}return i+""+s+""+(o.isUndefined(r)?"\0":r)}function c(e,t,n,o){var r=""+t,i=""+n;if(!e&&r>i){var s=r;r=i,i=s}var a={v:r,w:i};return o&&(a.name=o),a}function u(e,t){return l(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._in[t])}))},i.prototype.sinks=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._out[t])}))},i.prototype.setNodes=function(e,t){var n=arguments,r=this;return o.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},i.prototype.setNode=function(e,t){return o.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return o.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(o.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),o.each(o.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],o.each(o.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(t))t=r;else{for(var n=t+="";!o.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},i.prototype.children=function(e){if(o.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return o.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return o.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return o.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return o.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,o){e(o)&&t.setNode(o,n)})),o.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&o.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},i.prototype.setDefaultEdgeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,r=arguments;return o.reduce(e,(function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this},i.prototype.setEdge=function(){var e,t,n,r,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,o.isUndefined(n)||(n=""+n);var u=l(this._isDirected,e,t,n);if(o.has(this._edgeLabels,u))return i&&(this._edgeLabels[u]=r),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=i?r:this._defaultEdgeLabelFn(e,t,n);var d=c(this._isDirected,e,t,n);return e=d.v,t=d.w,Object.freeze(d),this._edgeObjs[u]=d,s(this._preds[t],e),s(this._sucs[e],t),this._in[t][u]=d,this._out[e][u]=d,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[o]},i.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return o.has(this._edgeLabels,r)},i.prototype.removeEdge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),r=this._edgeObjs[o];return r&&(e=r.v,t=r.w,delete this._edgeLabels[o],delete this._edgeObjs[o],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][o],delete this._out[e][o],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.v===t})):r}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.w===t})):r}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},82354:(e,t,n)=>{e.exports={Graph:n(30771),version:n(49631)}},28974:(e,t,n)=>{var o=n(89126),r=n(30771);function i(e){return o.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return o.isUndefined(n)||(i.value=n),o.isUndefined(r)||(i.parent=r),i}))}function s(e){return o.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return o.isUndefined(t.name)||(r.name=t.name),o.isUndefined(n)||(r.value=n),r}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:s(e)};o.isUndefined(e.graph())||(t.value=o.clone(e.graph()));return t},read:function(e){var t=new r(e.options).setGraph(e.value);return o.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),o.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},89126:(e,t,n)=>{var o;try{o={clone:n(66678),constant:n(75703),each:n(66073),filter:n(63105),has:n(18721),isArray:n(1469),isEmpty:n(41609),isFunction:n(23560),isUndefined:n(52353),keys:n(3674),map:n(35161),reduce:n(54061),size:n(84238),transform:n(68718),union:n(93386),values:n(52628)}}catch(e){}o||(o=window._),e.exports=o},49631:e=>{e.exports="2.1.8"},39832:(e,t,n)=>{
/*! jsonpath 1.1.1 */
var o;e.exports=function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var n=t[s][1][e];return r(n||e)}),c,c.exports,e,t,n,o)}return n[s].exports}for(var i=void 0,s=0;s<o.length;s++)r(o[s]);return r}({"./aesprim":[function(e,t,n){!function(e,t){"use strict";"function"==typeof o&&o.amd?o(["exports"],t):t(void 0!==n?n:e.esprima={})}(this,(function(e){"use strict";var t,n,o,r,i,s,a,l,c,u,d,h,p,f,m,g,v,y;function w(e,t){if(!e)throw new Error("ASSERT: "+t)}function b(e){return e>=48&&e<=57}function k(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function x(e){return"01234567".indexOf(e)>=0}function S(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function _(e){return 10===e||13===e||8232===e||8233===e}function C(e){return 64==e||36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&a.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function D(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&a.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function E(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function A(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function O(e){return"eval"===e||"arguments"===e}function T(e){if(u&&A(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function M(e,t,n,o,r){var i;w("number"==typeof n,"Comment must have valid position"),v.lastCommentStart>=n||(v.lastCommentStart=n,i={type:e,value:t},y.range&&(i.range=[n,o]),y.loc&&(i.loc=r),y.comments.push(i),y.attachComment&&(y.leadingComments.push(i),y.trailingComments.push(i)))}function L(e){var t,n,o,r;for(t=d-e,n={start:{line:h,column:d-p-e}};d<f;)if(o=c.charCodeAt(d),++d,_(o))return y.comments&&(r=c.slice(t+e,d-1),n.end={line:h,column:d-p-1},M("Line",r,t,d-1,n)),13===o&&10===c.charCodeAt(d)&&++d,++h,void(p=d);y.comments&&(r=c.slice(t+e,d),n.end={line:h,column:d-p},M("Line",r,t,d,n))}function I(){var e,t,n,o;for(y.comments&&(e=d-2,t={start:{line:h,column:d-p-2}});d<f;)if(_(n=c.charCodeAt(d)))13===n&&10===c.charCodeAt(d+1)&&++d,++h,++d,p=d,d>=f&&re({},s.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===c.charCodeAt(d+1))return++d,++d,void(y.comments&&(o=c.slice(e+2,d-2),t.end={line:h,column:d-p},M("Block",o,e,d,t)));++d}else++d;re({},s.UnexpectedToken,"ILLEGAL")}function N(){var e,t;for(t=0===d;d<f;)if(S(e=c.charCodeAt(d)))++d;else if(_(e))++d,13===e&&10===c.charCodeAt(d)&&++d,++h,p=d,t=!0;else if(47===e)if(47===(e=c.charCodeAt(d+1)))++d,++d,L(2),t=!0;else{if(42!==e)break;++d,++d,I()}else if(t&&45===e){if(45!==c.charCodeAt(d+1)||62!==c.charCodeAt(d+2))break;d+=3,L(3)}else{if(60!==e)break;if("!--"!==c.slice(d+1,d+4))break;++d,++d,++d,++d,L(4)}}function P(e){var t,n,o,r=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(d<f&&k(c[d])))return"";o=c[d++],r=16*r+"0123456789abcdef".indexOf(o.toLowerCase())}return String.fromCharCode(r)}function U(){var e,t;for(e=c.charCodeAt(d++),t=String.fromCharCode(e),92===e&&(117!==c.charCodeAt(d)&&re({},s.UnexpectedToken,"ILLEGAL"),++d,(e=P("u"))&&"\\"!==e&&C(e.charCodeAt(0))||re({},s.UnexpectedToken,"ILLEGAL"),t=e);d<f&&D(e=c.charCodeAt(d));)++d,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==c.charCodeAt(d)&&re({},s.UnexpectedToken,"ILLEGAL"),++d,(e=P("u"))&&"\\"!==e&&D(e.charCodeAt(0))||re({},s.UnexpectedToken,"ILLEGAL"),t+=e);return t}function B(){var e,t;for(e=d++;d<f;){if(92===(t=c.charCodeAt(d)))return d=e,U();if(!D(t))break;++d}return c.slice(e,d)}function j(){var e,n;return e=d,{type:1===(n=92===c.charCodeAt(d)?U():B()).length?t.Identifier:T(n)?t.Keyword:"null"===n?t.NullLiteral:"true"===n||"false"===n?t.BooleanLiteral:t.Identifier,value:n,lineNumber:h,lineStart:p,start:e,end:d}}function R(){var e,n,o,r,i=d,a=c.charCodeAt(d),l=c[d];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++d,y.tokenize&&(40===a?y.openParenToken=y.tokens.length:123===a&&(y.openCurlyToken=y.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(a),lineNumber:h,lineStart:p,start:i,end:d};default:if(61===(e=c.charCodeAt(d+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return d+=2,{type:t.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(e),lineNumber:h,lineStart:p,start:i,end:d};case 33:case 61:return d+=2,61===c.charCodeAt(d)&&++d,{type:t.Punctuator,value:c.slice(i,d),lineNumber:h,lineStart:p,start:i,end:d}}}return">>>="===(r=c.substr(d,4))?(d+=4,{type:t.Punctuator,value:r,lineNumber:h,lineStart:p,start:i,end:d}):">>>"===(o=r.substr(0,3))||"<<="===o||">>="===o?(d+=3,{type:t.Punctuator,value:o,lineNumber:h,lineStart:p,start:i,end:d}):l===(n=o.substr(0,2))[1]&&"+-<>&|".indexOf(l)>=0||"=>"===n?(d+=2,{type:t.Punctuator,value:n,lineNumber:h,lineStart:p,start:i,end:d}):"<>=!+-*%&|^/".indexOf(l)>=0?(++d,{type:t.Punctuator,value:l,lineNumber:h,lineStart:p,start:i,end:d}):void re({},s.UnexpectedToken,"ILLEGAL")}function V(e){for(var n="";d<f&&k(c[d]);)n+=c[d++];return 0===n.length&&re({},s.UnexpectedToken,"ILLEGAL"),C(c.charCodeAt(d))&&re({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:p,start:e,end:d}}function F(e){for(var n="0"+c[d++];d<f&&x(c[d]);)n+=c[d++];return(C(c.charCodeAt(d))||b(c.charCodeAt(d)))&&re({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:p,start:e,end:d}}function W(){var e,n,o;if(w(b((o=c[d]).charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),n=d,e="","."!==o){if(e=c[d++],o=c[d],"0"===e){if("x"===o||"X"===o)return++d,V(n);if(x(o))return F(n);o&&b(o.charCodeAt(0))&&re({},s.UnexpectedToken,"ILLEGAL")}for(;b(c.charCodeAt(d));)e+=c[d++];o=c[d]}if("."===o){for(e+=c[d++];b(c.charCodeAt(d));)e+=c[d++];o=c[d]}if("e"===o||"E"===o)if(e+=c[d++],"+"!==(o=c[d])&&"-"!==o||(e+=c[d++]),b(c.charCodeAt(d)))for(;b(c.charCodeAt(d));)e+=c[d++];else re({},s.UnexpectedToken,"ILLEGAL");return C(c.charCodeAt(d))&&re({},s.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:h,lineStart:p,start:n,end:d}}function H(){var e,n,o,r,i,a,l,u,m="",g=!1;for(l=h,u=p,w("'"===(e=c[d])||'"'===e,"String literal must starts with a quote"),n=d,++d;d<f;){if((o=c[d++])===e){e="";break}if("\\"===o)if((o=c[d++])&&_(o.charCodeAt(0)))++h,"\r"===o&&"\n"===c[d]&&++d,p=d;else switch(o){case"u":case"x":a=d,(i=P(o))?m+=i:(d=a,m+=o);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:x(o)?(0!==(r="01234567".indexOf(o))&&(g=!0),d<f&&x(c[d])&&(g=!0,r=8*r+"01234567".indexOf(c[d++]),"0123".indexOf(o)>=0&&d<f&&x(c[d])&&(r=8*r+"01234567".indexOf(c[d++]))),m+=String.fromCharCode(r)):m+=o}else{if(_(o.charCodeAt(0)))break;m+=o}}return""!==e&&re({},s.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:g,startLineNumber:l,startLineStart:u,lineNumber:h,lineStart:p,start:n,end:d}}function z(e,t){var n;try{n=new RegExp(e,t)}catch(e){re({},s.InvalidRegExp)}return n}function $(){var e,t,n,o;for(w("/"===(e=c[d]),"Regular expression literal must start with a slash"),t=c[d++],n=!1,o=!1;d<f;)if(t+=e=c[d++],"\\"===e)_((e=c[d++]).charCodeAt(0))&&re({},s.UnterminatedRegExp),t+=e;else if(_(e.charCodeAt(0)))re({},s.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){o=!0;break}"["===e&&(n=!0)}return o||re({},s.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}function K(){var e,t,n,o;for(t="",n="";d<f&&D((e=c[d]).charCodeAt(0));)if(++d,"\\"===e&&d<f)if("u"===(e=c[d])){if(o=++d,e=P("u"))for(n+=e,t+="\\u";o<d;++o)t+=c[o];else d=o,n+="u",t+="\\u";ie({},s.UnexpectedToken,"ILLEGAL")}else t+="\\",ie({},s.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function q(){var e,n,o,r;return g=null,N(),e=d,n=$(),o=K(),r=z(n.value,o.value),y.tokenize?{type:t.RegularExpression,value:r,lineNumber:h,lineStart:p,start:e,end:d}:{literal:n.literal+o.literal,value:r,start:e,end:d}}function Y(){var e,t,n,o;return N(),e=d,t={start:{line:h,column:d-p}},n=q(),t.end={line:h,column:d-p},y.tokenize||(y.tokens.length>0&&(o=y.tokens[y.tokens.length-1]).range[0]===e&&"Punctuator"===o.type&&("/"!==o.value&&"/="!==o.value||y.tokens.pop()),y.tokens.push({type:"RegularExpression",value:n.literal,range:[e,d],loc:t})),n}function G(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function X(){var e,t;if(!(e=y.tokens[y.tokens.length-1]))return Y();if("Punctuator"===e.type){if("]"===e.value)return R();if(")"===e.value)return!(t=y.tokens[y.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?R():Y();if("}"===e.value){if(y.tokens[y.openCurlyToken-3]&&"Keyword"===y.tokens[y.openCurlyToken-3].type){if(!(t=y.tokens[y.openCurlyToken-4]))return R()}else{if(!y.tokens[y.openCurlyToken-4]||"Keyword"!==y.tokens[y.openCurlyToken-4].type)return R();if(!(t=y.tokens[y.openCurlyToken-5]))return Y()}return o.indexOf(t.value)>=0?R():Y()}return Y()}return"Keyword"===e.type?Y():R()}function J(){var e;return N(),d>=f?{type:t.EOF,lineNumber:h,lineStart:p,start:d,end:d}:C(e=c.charCodeAt(d))?j():40===e||41===e||59===e?R():39===e||34===e?H():46===e?b(c.charCodeAt(d+1))?W():R():b(e)?W():y.tokenize&&47===e?X():R()}function Z(){var e,o,r;return N(),e={start:{line:h,column:d-p}},o=J(),e.end={line:h,column:d-p},o.type!==t.EOF&&(r=c.slice(o.start,o.end),y.tokens.push({type:n[o.type],value:r,range:[o.start,o.end],loc:e})),o}function Q(){var e;return d=(e=g).end,h=e.lineNumber,p=e.lineStart,g=void 0!==y.tokens?Z():J(),d=e.end,h=e.lineNumber,p=e.lineStart,e}function ee(){var e,t,n;e=d,t=h,n=p,g=void 0!==y.tokens?Z():J(),d=e,h=t,p=n}function te(e,t){this.line=e,this.column=t}function ne(e,t,n,o){this.start=new te(e,t),this.end=new te(n,o)}function oe(){var e,t,n,o;return e=d,t=h,n=p,N(),o=h!==t,d=e,h=t,p=n,o}function re(e,t){var n,o=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,(function(e,t){return w(t<o.length,"Message reference must be in range"),o[t]}));throw"number"==typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+r)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-p+1):((n=new Error("Line "+h+": "+r)).index=d,n.lineNumber=h,n.column=d-p+1),n.description=r,n}function ie(){try{re.apply(null,arguments)}catch(e){if(!y.errors)throw e;y.errors.push(e)}}function se(e){if(e.type===t.EOF&&re(e,s.UnexpectedEOS),e.type===t.NumericLiteral&&re(e,s.UnexpectedNumber),e.type===t.StringLiteral&&re(e,s.UnexpectedString),e.type===t.Identifier&&re(e,s.UnexpectedIdentifier),e.type===t.Keyword){if(E(e.value))re(e,s.UnexpectedReserved);else if(u&&A(e.value))return void ie(e,s.StrictReservedWord);re(e,s.UnexpectedToken,e.value)}re(e,s.UnexpectedToken,e.value)}function ae(e){var n=Q();n.type===t.Punctuator&&n.value===e||se(n)}function le(e){var n=Q();n.type===t.Keyword&&n.value===e||se(n)}function ce(e){return g.type===t.Punctuator&&g.value===e}function ue(e){return g.type===t.Keyword&&g.value===e}function de(){var e;return g.type===t.Punctuator&&("="===(e=g.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function he(){var e;59===c.charCodeAt(d)||ce(";")?Q():(e=h,N(),h===e&&(g.type===t.EOF||ce("}")||se(g)))}function pe(e){return e.type===r.Identifier||e.type===r.MemberExpression}function fe(){var e,t=[];for(e=g,ae("[");!ce("]");)ce(",")?(Q(),t.push(null)):(t.push(Ie()),ce("]")||ae(","));return Q(),m.markEnd(m.createArrayExpression(t),e)}function me(e,t){var n,o,r;return n=u,r=g,o=st(),t&&u&&O(e[0].name)&&ie(t,s.StrictParamName),u=n,m.markEnd(m.createFunctionExpression(null,e,[],o),r)}function ge(){var e,n;return n=g,(e=Q()).type===t.StringLiteral||e.type===t.NumericLiteral?(u&&e.octal&&ie(e,s.StrictOctalLiteral),m.markEnd(m.createLiteral(e),n)):m.markEnd(m.createIdentifier(e.value),n)}function ve(){var e,n,o,r,i,a;return a=g,(e=g).type===t.Identifier?(o=ge(),"get"!==e.value||ce(":")?"set"!==e.value||ce(":")?(ae(":"),r=Ie(),m.markEnd(m.createProperty("init",o,r),a)):(n=ge(),ae("("),(e=g).type!==t.Identifier?(ae(")"),ie(e,s.UnexpectedToken,e.value),r=me([])):(i=[Be()],ae(")"),r=me(i,e)),m.markEnd(m.createProperty("set",n,r),a)):(n=ge(),ae("("),ae(")"),r=me([]),m.markEnd(m.createProperty("get",n,r),a))):e.type!==t.EOF&&e.type!==t.Punctuator?(n=ge(),ae(":"),r=Ie(),m.markEnd(m.createProperty("init",n,r),a)):void se(e)}function ye(){var e,t,n,o,a,l=[],c={},d=String;for(a=g,ae("{");!ce("}");)t=(e=ve()).key.type===r.Identifier?e.key.name:d(e.key.value),o="init"===e.kind?i.Data:"get"===e.kind?i.Get:i.Set,n="$"+t,Object.prototype.hasOwnProperty.call(c,n)?(c[n]===i.Data?u&&o===i.Data?ie({},s.StrictDuplicateProperty):o!==i.Data&&ie({},s.AccessorDataProperty):o===i.Data?ie({},s.AccessorDataProperty):c[n]&o&&ie({},s.AccessorGetSet),c[n]|=o):c[n]=o,l.push(e),ce("}")||ae(",");return ae("}"),m.markEnd(m.createObjectExpression(l),a)}function we(){var e;return ae("("),e=Ne(),ae(")"),e}function be(){var e,n,o,r;if(ce("("))return we();if(ce("["))return fe();if(ce("{"))return ye();if(e=g.type,r=g,e===t.Identifier)o=m.createIdentifier(Q().value);else if(e===t.StringLiteral||e===t.NumericLiteral)u&&g.octal&&ie(g,s.StrictOctalLiteral),o=m.createLiteral(Q());else if(e===t.Keyword){if(ue("function"))return ct();ue("this")?(Q(),o=m.createThisExpression()):se(Q())}else e===t.BooleanLiteral?((n=Q()).value="true"===n.value,o=m.createLiteral(n)):e===t.NullLiteral?((n=Q()).value=null,o=m.createLiteral(n)):ce("/")||ce("/=")?(o=void 0!==y.tokens?m.createLiteral(Y()):m.createLiteral(q()),ee()):se(Q());return m.markEnd(o,r)}function ke(){var e=[];if(ae("("),!ce(")"))for(;d<f&&(e.push(Ie()),!ce(")"));)ae(",");return ae(")"),e}function xe(){var e,t;return t=g,G(e=Q())||se(e),m.markEnd(m.createIdentifier(e.value),t)}function Se(){return ae("."),xe()}function _e(){var e;return ae("["),e=Ne(),ae("]"),e}function Ce(){var e,t,n;return n=g,le("new"),e=Ee(),t=ce("(")?ke():[],m.markEnd(m.createNewExpression(e,t),n)}function De(){var e,t,n,o,r;for(r=g,e=v.allowIn,v.allowIn=!0,t=ue("new")?Ce():be(),v.allowIn=e;;){if(ce("."))o=Se(),t=m.createMemberExpression(".",t,o);else if(ce("("))n=ke(),t=m.createCallExpression(t,n);else{if(!ce("["))break;o=_e(),t=m.createMemberExpression("[",t,o)}m.markEnd(t,r)}return t}function Ee(){var e,t,n,o;for(o=g,e=v.allowIn,t=ue("new")?Ce():be(),v.allowIn=e;ce(".")||ce("[");)ce("[")?(n=_e(),t=m.createMemberExpression("[",t,n)):(n=Se(),t=m.createMemberExpression(".",t,n)),m.markEnd(t,o);return t}function Ae(){var e,n,o=g;return e=De(),g.type===t.Punctuator&&(!ce("++")&&!ce("--")||oe()||(u&&e.type===r.Identifier&&O(e.name)&&ie({},s.StrictLHSPostfix),pe(e)||ie({},s.InvalidLHSInAssignment),n=Q(),e=m.markEnd(m.createPostfixExpression(n.value,e),o))),e}function Oe(){var e,n,o;return g.type!==t.Punctuator&&g.type!==t.Keyword?n=Ae():ce("++")||ce("--")?(o=g,e=Q(),n=Oe(),u&&n.type===r.Identifier&&O(n.name)&&ie({},s.StrictLHSPrefix),pe(n)||ie({},s.InvalidLHSInAssignment),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,o)):ce("+")||ce("-")||ce("~")||ce("!")?(o=g,e=Q(),n=Oe(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,o)):ue("delete")||ue("void")||ue("typeof")?(o=g,e=Q(),n=Oe(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,o),u&&"delete"===n.operator&&n.argument.type===r.Identifier&&ie({},s.StrictDelete)):n=Ae(),n}function Te(e,n){var o=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":o=1;break;case"&&":o=2;break;case"|":o=3;break;case"^":o=4;break;case"&":o=5;break;case"==":case"!=":case"===":case"!==":o=6;break;case"<":case">":case"<=":case">=":case"instanceof":o=7;break;case"in":o=n?7:0;break;case"<<":case">>":case">>>":o=8;break;case"+":case"-":o=9;break;case"*":case"/":case"%":o=11}return o}function Me(){var e,t,n,o,r,i,s,a,l,c;if(e=g,l=Oe(),0===(r=Te(o=g,v.allowIn)))return l;for(o.prec=r,Q(),t=[e,g],i=[l,o,s=Oe()];(r=Te(g,v.allowIn))>0;){for(;i.length>2&&r<=i[i.length-2].prec;)s=i.pop(),a=i.pop().value,l=i.pop(),n=m.createBinaryExpression(a,l,s),t.pop(),e=t[t.length-1],m.markEnd(n,e),i.push(n);(o=Q()).prec=r,i.push(o),t.push(g),n=Oe(),i.push(n)}for(n=i[c=i.length-1],t.pop();c>1;)n=m.createBinaryExpression(i[c-1].value,i[c-2],n),c-=2,e=t.pop(),m.markEnd(n,e);return n}function Le(){var e,t,n,o,r;return r=g,e=Me(),ce("?")&&(Q(),t=v.allowIn,v.allowIn=!0,n=Ie(),v.allowIn=t,ae(":"),o=Ie(),e=m.createConditionalExpression(e,n,o),m.markEnd(e,r)),e}function Ie(){var e,t,n,o,i;return e=g,i=g,o=t=Le(),de()&&(pe(t)||ie({},s.InvalidLHSInAssignment),u&&t.type===r.Identifier&&O(t.name)&&ie(e,s.StrictLHSAssignment),e=Q(),n=Ie(),o=m.markEnd(m.createAssignmentExpression(e.value,t,n),i)),o}function Ne(){var e,t=g;if(e=Ie(),ce(",")){for(e=m.createSequenceExpression([e]);d<f&&ce(",");)Q(),e.expressions.push(Ie());m.markEnd(e,t)}return e}function Pe(){for(var e,t=[];d<f&&!ce("}")&&void 0!==(e=ut());)t.push(e);return t}function Ue(){var e,t;return t=g,ae("{"),e=Pe(),ae("}"),m.markEnd(m.createBlockStatement(e),t)}function Be(){var e,n;return n=g,(e=Q()).type!==t.Identifier&&se(e),m.markEnd(m.createIdentifier(e.value),n)}function je(e){var t,n,o=null;return n=g,t=Be(),u&&O(t.name)&&ie({},s.StrictVarName),"const"===e?(ae("="),o=Ie()):ce("=")&&(Q(),o=Ie()),m.markEnd(m.createVariableDeclarator(t,o),n)}function Re(e){var t=[];do{if(t.push(je(e)),!ce(","))break;Q()}while(d<f);return t}function Ve(){var e;return le("var"),e=Re(),he(),m.createVariableDeclaration(e,"var")}function Fe(e){var t,n;return n=g,le(e),t=Re(e),he(),m.markEnd(m.createVariableDeclaration(t,e),n)}function We(){return ae(";"),m.createEmptyStatement()}function He(){var e=Ne();return he(),m.createExpressionStatement(e)}function ze(){var e,t,n;return le("if"),ae("("),e=Ne(),ae(")"),t=it(),ue("else")?(Q(),n=it()):n=null,m.createIfStatement(e,t,n)}function $e(){var e,t,n;return le("do"),n=v.inIteration,v.inIteration=!0,e=it(),v.inIteration=n,le("while"),ae("("),t=Ne(),ae(")"),ce(";")&&Q(),m.createDoWhileStatement(e,t)}function Ke(){var e,t,n;return le("while"),ae("("),e=Ne(),ae(")"),n=v.inIteration,v.inIteration=!0,t=it(),v.inIteration=n,m.createWhileStatement(e,t)}function qe(){var e,t,n;return n=g,e=Q(),t=Re(),m.markEnd(m.createVariableDeclaration(t,e.value),n)}function Ye(){var e,t,n,o,r,i,a;return e=t=n=null,le("for"),ae("("),ce(";")?Q():(ue("var")||ue("let")?(v.allowIn=!1,e=qe(),v.allowIn=!0,1===e.declarations.length&&ue("in")&&(Q(),o=e,r=Ne(),e=null)):(v.allowIn=!1,e=Ne(),v.allowIn=!0,ue("in")&&(pe(e)||ie({},s.InvalidLHSInForIn),Q(),o=e,r=Ne(),e=null)),void 0===o&&ae(";")),void 0===o&&(ce(";")||(t=Ne()),ae(";"),ce(")")||(n=Ne())),ae(")"),a=v.inIteration,v.inIteration=!0,i=it(),v.inIteration=a,void 0===o?m.createForStatement(e,t,n,i):m.createForInStatement(o,r,i)}function Ge(){var e,n=null;return le("continue"),59===c.charCodeAt(d)?(Q(),v.inIteration||re({},s.IllegalContinue),m.createContinueStatement(null)):oe()?(v.inIteration||re({},s.IllegalContinue),m.createContinueStatement(null)):(g.type===t.Identifier&&(e="$"+(n=Be()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||re({},s.UnknownLabel,n.name)),he(),null!==n||v.inIteration||re({},s.IllegalContinue),m.createContinueStatement(n))}function Xe(){var e,n=null;return le("break"),59===c.charCodeAt(d)?(Q(),v.inIteration||v.inSwitch||re({},s.IllegalBreak),m.createBreakStatement(null)):oe()?(v.inIteration||v.inSwitch||re({},s.IllegalBreak),m.createBreakStatement(null)):(g.type===t.Identifier&&(e="$"+(n=Be()).name,Object.prototype.hasOwnProperty.call(v.labelSet,e)||re({},s.UnknownLabel,n.name)),he(),null!==n||v.inIteration||v.inSwitch||re({},s.IllegalBreak),m.createBreakStatement(n))}function Je(){var e=null;return le("return"),v.inFunctionBody||ie({},s.IllegalReturn),32===c.charCodeAt(d)&&C(c.charCodeAt(d+1))?(e=Ne(),he(),m.createReturnStatement(e)):oe()?m.createReturnStatement(null):(ce(";")||ce("}")||g.type===t.EOF||(e=Ne()),he(),m.createReturnStatement(e))}function Ze(){var e,t;return u&&(N(),ie({},s.StrictModeWith)),le("with"),ae("("),e=Ne(),ae(")"),t=it(),m.createWithStatement(e,t)}function Qe(){var e,t,n,o=[];for(n=g,ue("default")?(Q(),e=null):(le("case"),e=Ne()),ae(":");d<f&&!(ce("}")||ue("default")||ue("case"));)t=it(),o.push(t);return m.markEnd(m.createSwitchCase(e,o),n)}function et(){var e,t,n,o,r;if(le("switch"),ae("("),e=Ne(),ae(")"),ae("{"),t=[],ce("}"))return Q(),m.createSwitchStatement(e,t);for(o=v.inSwitch,v.inSwitch=!0,r=!1;d<f&&!ce("}");)null===(n=Qe()).test&&(r&&re({},s.MultipleDefaultsInSwitch),r=!0),t.push(n);return v.inSwitch=o,ae("}"),m.createSwitchStatement(e,t)}function tt(){var e;return le("throw"),oe()&&re({},s.NewlineAfterThrow),e=Ne(),he(),m.createThrowStatement(e)}function nt(){var e,t,n;return n=g,le("catch"),ae("("),ce(")")&&se(g),e=Be(),u&&O(e.name)&&ie({},s.StrictCatchVariable),ae(")"),t=Ue(),m.markEnd(m.createCatchClause(e,t),n)}function ot(){var e,t=[],n=null;return le("try"),e=Ue(),ue("catch")&&t.push(nt()),ue("finally")&&(Q(),n=Ue()),0!==t.length||n||re({},s.NoCatchOrFinally),m.createTryStatement(e,[],t,n)}function rt(){return le("debugger"),he(),m.createDebuggerStatement()}function it(){var e,n,o,i,a=g.type;if(a===t.EOF&&se(g),a===t.Punctuator&&"{"===g.value)return Ue();if(i=g,a===t.Punctuator)switch(g.value){case";":return m.markEnd(We(),i);case"(":return m.markEnd(He(),i)}if(a===t.Keyword)switch(g.value){case"break":return m.markEnd(Xe(),i);case"continue":return m.markEnd(Ge(),i);case"debugger":return m.markEnd(rt(),i);case"do":return m.markEnd($e(),i);case"for":return m.markEnd(Ye(),i);case"function":return m.markEnd(lt(),i);case"if":return m.markEnd(ze(),i);case"return":return m.markEnd(Je(),i);case"switch":return m.markEnd(et(),i);case"throw":return m.markEnd(tt(),i);case"try":return m.markEnd(ot(),i);case"var":return m.markEnd(Ve(),i);case"while":return m.markEnd(Ke(),i);case"with":return m.markEnd(Ze(),i)}return(e=Ne()).type===r.Identifier&&ce(":")?(Q(),o="$"+e.name,Object.prototype.hasOwnProperty.call(v.labelSet,o)&&re({},s.Redeclaration,"Label",e.name),v.labelSet[o]=!0,n=it(),delete v.labelSet[o],m.markEnd(m.createLabeledStatement(e,n),i)):(he(),m.markEnd(m.createExpressionStatement(e),i))}function st(){var e,n,o,i,a,l,h,p,y=[];for(p=g,ae("{");d<f&&g.type===t.StringLiteral&&(n=g,e=ut(),y.push(e),e.expression.type===r.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(u=!0,o&&ie(o,s.StrictOctalLiteral)):!o&&n.octal&&(o=n);for(i=v.labelSet,a=v.inIteration,l=v.inSwitch,h=v.inFunctionBody,v.labelSet={},v.inIteration=!1,v.inSwitch=!1,v.inFunctionBody=!0;d<f&&!ce("}")&&void 0!==(e=ut());)y.push(e);return ae("}"),v.labelSet=i,v.inIteration=a,v.inSwitch=l,v.inFunctionBody=h,m.markEnd(m.createBlockStatement(y),p)}function at(e){var t,n,o,r,i,a,l=[];if(ae("("),!ce(")"))for(r={};d<f&&(n=g,t=Be(),i="$"+n.value,u?(O(n.value)&&(o=n,a=s.StrictParamName),Object.prototype.hasOwnProperty.call(r,i)&&(o=n,a=s.StrictParamDupe)):e||(O(n.value)?(e=n,a=s.StrictParamName):A(n.value)?(e=n,a=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(r,i)&&(e=n,a=s.StrictParamDupe)),l.push(t),r[i]=!0,!ce(")"));)ae(",");return ae(")"),{params:l,stricted:o,firstRestricted:e,message:a}}function lt(){var e,t,n,o,r,i,a,l,c,d=[];return c=g,le("function"),n=g,e=Be(),u?O(n.value)&&ie(n,s.StrictFunctionName):O(n.value)?(i=n,a=s.StrictFunctionName):A(n.value)&&(i=n,a=s.StrictReservedWord),d=(r=at(i)).params,o=r.stricted,i=r.firstRestricted,r.message&&(a=r.message),l=u,t=st(),u&&i&&re(i,a),u&&o&&ie(o,a),u=l,m.markEnd(m.createFunctionDeclaration(e,d,[],t),c)}function ct(){var e,t,n,o,r,i,a,l,c=null,d=[];return l=g,le("function"),ce("(")||(e=g,c=Be(),u?O(e.value)&&ie(e,s.StrictFunctionName):O(e.value)?(n=e,o=s.StrictFunctionName):A(e.value)&&(n=e,o=s.StrictReservedWord)),d=(r=at(n)).params,t=r.stricted,n=r.firstRestricted,r.message&&(o=r.message),a=u,i=st(),u&&n&&re(n,o),u&&t&&ie(t,o),u=a,m.markEnd(m.createFunctionExpression(c,d,[],i),l)}function ut(){if(g.type===t.Keyword)switch(g.value){case"const":case"let":return Fe(g.value);case"function":return lt();default:return it()}if(g.type!==t.EOF)return it()}function dt(){for(var e,n,o,i=[];d<f&&(n=g).type===t.StringLiteral&&(e=ut(),i.push(e),e.expression.type===r.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(u=!0,o&&ie(o,s.StrictOctalLiteral)):!o&&n.octal&&(o=n);for(;d<f&&void 0!==(e=ut());)i.push(e);return i}function ht(){var e,t;return N(),ee(),t=g,u=!1,e=dt(),m.markEnd(m.createProgram(e),t)}function pt(){var e,t,n,o=[];for(e=0;e<y.tokens.length;++e)n={type:(t=y.tokens[e]).type,value:t.value},y.range&&(n.range=t.range),y.loc&&(n.loc=t.loc),o.push(n);y.tokens=o}function ft(e,n){var o;"string"==typeof e||e instanceof String||(e=String(e)),m=l,d=0,h=(c=e).length>0?1:0,p=0,f=c.length,g=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},(n=n||{}).tokens=!0,y.tokens=[],y.tokenize=!0,y.openParenToken=-1,y.openCurlyToken=-1,y.range="boolean"==typeof n.range&&n.range,y.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(y.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(y.errors=[]);try{if(ee(),g.type===t.EOF)return y.tokens;for(Q();g.type!==t.EOF;)try{Q()}catch(e){if(y.errors){y.errors.push(e);break}throw e}pt(),o=y.tokens,void 0!==y.comments&&(o.comments=y.comments),void 0!==y.errors&&(o.errors=y.errors)}catch(e){throw e}finally{y={}}return o}function mt(e,t){var n,o;o=String,"string"==typeof e||e instanceof String||(e=o(e)),m=l,d=0,h=(c=e).length>0?1:0,p=0,f=c.length,g=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},void 0!==t&&(y.range="boolean"==typeof t.range&&t.range,y.loc="boolean"==typeof t.loc&&t.loc,y.attachComment="boolean"==typeof t.attachComment&&t.attachComment,y.loc&&null!==t.source&&void 0!==t.source&&(y.source=o(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(y.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(y.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(y.errors=[]),y.attachComment&&(y.range=!0,y.comments=[],y.bottomRightStack=[],y.trailingComments=[],y.leadingComments=[]));try{n=ht(),void 0!==y.comments&&(n.comments=y.comments),void 0!==y.tokens&&(pt(),n.tokens=y.tokens),void 0!==y.errors&&(n.errors=y.errors)}catch(e){throw e}finally{y={}}return n}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",o=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],r={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},i={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},a={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},l={name:"SyntaxTree",processComment:function(e){var t,n;if(!(e.type===r.Program&&e.body.length>0)){for(y.trailingComments.length>0?y.trailingComments[0].range[0]>=e.range[1]?(n=y.trailingComments,y.trailingComments=[]):y.trailingComments.length=0:y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(n=y.bottomRightStack[y.bottomRightStack.length-1].trailingComments,delete y.bottomRightStack[y.bottomRightStack.length-1].trailingComments);y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].range[0]>=e.range[0];)t=y.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):y.leadingComments.length>0&&y.leadingComments[y.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=y.leadingComments,y.leadingComments=[]),n&&(e.trailingComments=n),y.bottomRightStack.push(e)}},markEnd:function(e,t){return y.range&&(e.range=[t.start,d]),y.loc&&(e.loc=new ne(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),h,d-p),this.postProcess(e)),y.attachComment&&this.processComment(e),e},postProcess:function(e){return y.source&&(e.loc.source=y.source),e},createArrayExpression:function(e){return{type:r.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,n){return{type:r.AssignmentExpression,operator:e,left:t,right:n}},createBinaryExpression:function(e,t,n){return{type:"||"===e||"&&"===e?r.LogicalExpression:r.BinaryExpression,operator:e,left:t,right:n}},createBlockStatement:function(e){return{type:r.BlockStatement,body:e}},createBreakStatement:function(e){return{type:r.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:r.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:r.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,n){return{type:r.ConditionalExpression,test:e,consequent:t,alternate:n}},createContinueStatement:function(e){return{type:r.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:r.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:r.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:r.EmptyStatement}},createExpressionStatement:function(e){return{type:r.ExpressionStatement,expression:e}},createForStatement:function(e,t,n,o){return{type:r.ForStatement,init:e,test:t,update:n,body:o}},createForInStatement:function(e,t,n){return{type:r.ForInStatement,left:e,right:t,body:n,each:!1}},createFunctionDeclaration:function(e,t,n,o){return{type:r.FunctionDeclaration,id:e,params:t,defaults:n,body:o,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,n,o){return{type:r.FunctionExpression,id:e,params:t,defaults:n,body:o,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:r.Identifier,name:e}},createIfStatement:function(e,t,n){return{type:r.IfStatement,test:e,consequent:t,alternate:n}},createLabeledStatement:function(e,t){return{type:r.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:r.Literal,value:e.value,raw:c.slice(e.start,e.end)}},createMemberExpression:function(e,t,n){return{type:r.MemberExpression,computed:"["===e,object:t,property:n}},createNewExpression:function(e,t){return{type:r.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:r.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:r.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:r.Program,body:e}},createProperty:function(e,t,n){return{type:r.Property,key:t,value:n,kind:e}},createReturnStatement:function(e){return{type:r.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:r.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:r.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:r.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:r.ThisExpression}},createThrowStatement:function(e){return{type:r.ThrowStatement,argument:e}},createTryStatement:function(e,t,n,o){return{type:r.TryStatement,block:e,guardedHandlers:t,handlers:n,finalizer:o}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:r.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:r.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:r.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:r.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:r.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:r.WithStatement,object:e,body:t}}},e.version="1.2.2",e.tokenize=ft,e.parse=mt,e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),r)r.hasOwnProperty(e)&&(t[e]=r[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}))},{}],1:[function(e,t,n){(function(o){var r=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(e,n,o,r,i,s,a){r.ast||(r.ast=t,t.initialize());var l=s.length-1;switch(i){case 1:return r.ast.set({expression:{type:"root",value:s[l]}}),r.ast.unshift(),r.ast.yield();case 2:return r.ast.set({expression:{type:"root",value:s[l-1]}}),r.ast.unshift(),r.ast.yield();case 3:return r.ast.unshift(),r.ast.yield();case 4:return r.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:s[l-1]}}),r.ast.unshift(),r.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:r.ast.set({operation:"member"}),r.ast.push();break;case 8:r.ast.set({operation:"subscript"}),r.ast.push();break;case 9:case 19:r.ast.set({scope:"child"});break;case 10:case 20:r.ast.set({scope:"descendant"});break;case 12:r.ast.set({scope:"child",operation:"member"});break;case 14:r.ast.set({expression:{type:"wildcard",value:s[l]}});break;case 15:r.ast.set({expression:{type:"identifier",value:s[l]}});break;case 16:r.ast.set({expression:{type:"script_expression",value:s[l]}});break;case 17:r.ast.set({expression:{type:"numeric_literal",value:parseInt(s[l])}});break;case 24:s[l].length>1?r.ast.set({expression:{type:"union",value:s[l]}}):this.$=s[l];break;case 25:this.$=[s[l]];break;case 26:this.$=s[l-2].concat(s[l]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(s[l])}},r.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:s[l]}},r.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:s[l]}},r.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:s[l]}},r.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:s[l]}},r.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:s[l]}},r.ast.set(this.$);break;case 33:case 34:this.$=s[l]}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,n=[0],o=[null],r=[],i=this.table,s="",a=0,l=0,c=0,u=2,d=1,h=r.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;r.push(p);var f=this.lexer.options&&this.lexer.options.ranges;function m(){var e;return"number"!=typeof(e=t.lexer.lex()||d)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,v,y,w,b,k,x,S,_,C={};;){if(y=n[n.length-1],this.defaultActions[y]?w=this.defaultActions[y]:(null==g&&(g=m()),w=i[y]&&i[y][g]),void 0===w||!w.length||!w[0]){var D="";for(k in _=[],i[y])this.terminals_[k]&&k>u&&_.push("'"+this.terminals_[k]+"'");D=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(a+1)+": Unexpected "+(g==d?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(D,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:_})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(w[0]){case 1:n.push(g),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(w[1]),g=null,v?(g=v,v=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(x=this.productions_[w[1]][1],C.$=o[o.length-x],C._$={first_line:r[r.length-(x||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(x||1)].first_column,last_column:r[r.length-1].last_column},f&&(C._$.range=[r[r.length-(x||1)].range[0],r[r.length-1].range[1]]),void 0!==(b=this.performAction.apply(C,[s,l,a,this.yy,w[1],o,r].concat(h))))return b;x&&(n=n.slice(0,-1*x*2),o=o.slice(0,-1*x),r=r.slice(0,-1*x)),n.push(this.productions_[w[1]][0]),o.push(C.$),r.push(C._$),S=i[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},t={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(e){for(var t in e)this._node[t]=e[t];return this._node},node:function(e){return arguments.length&&(this._node=e),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var e=this._nodes;return this.initialize(),e}},n={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var o=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===o.length?this.yylloc.first_column:0)+o[o.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,o,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(o=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in r)this[i]=r[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if((n=this._input.match(this.rules[r[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,o=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[o]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,o){switch(n){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return t.yytext=t.yytext.substr(1,t.yyleng-2),32;case 11:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function o(){this.yy={}}return e.lexer=n,o.prototype=e,e.Parser=o,new o}();void 0!==e&&void 0!==n&&(n.parser=r,n.Parser=r.Parser,n.parse=function(){return r.parse.apply(r,arguments)},n.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),o.exit(1));var r=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(r)},void 0!==t&&e.main===t&&n.main(o.argv.slice(1)))}).call(this,e("_process"))},{_process:14,fs:12,path:13}],2:[function(e,t,n){t.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(e,t,n){var o=e("./dict"),r=e("fs"),i={lex:{macros:{esc:"\\\\",int:o.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[o.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[o.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[o.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};r.readFileSync&&(i.moduleInclude=r.readFileSync(e.resolve("../include/module.js")),i.actionInclude=r.readFileSync(e.resolve("../include/action.js"))),t.exports=i},{"./dict":2,fs:12}],4:[function(e,t,n){var o=e("./aesprim"),r=e("./slice"),i=e("static-eval"),s=e("underscore").uniq,a=function(){return this.initialize.apply(this,arguments)};function l(t,n,r){var i=e("./index"),s=f(o.parse(n).body[0].expression,{"@":t.value}),a=r.replace(/\{\{\s*value\s*\}\}/g,s),l=i.nodes(t.value,a);return l.forEach((function(e){e.path=t.path.concat(e.path.slice(1))})),l}function c(e){return Array.isArray(e)}function u(e){return e&&!(e instanceof Array)&&e instanceof Object}function d(e){return function(t,n,o,r){var i=t.value,s=t.path,a=[],l=function(t,i){c(t)?(t.forEach((function(e,t){a.length>=r||o(t,e,n)&&a.push({path:i.concat(t),value:e})})),t.forEach((function(t,n){a.length>=r||e&&l(t,i.concat(n))}))):u(t)&&(this.keys(t).forEach((function(e){a.length>=r||o(e,t[e],n)&&a.push({path:i.concat(e),value:t[e]})})),this.keys(t).forEach((function(n){a.length>=r||e&&l(t[n],i.concat(n))})))}.bind(this);return l(i,s),a}}function h(e){return function(t,n,o){return this.descend(n,t.expression.value,e,o)}}function p(e){return function(t,n,o){return this.traverse(n,t.expression.value,e,o)}}function f(){try{return i.apply(this,arguments)}catch(e){}}function m(e){return e=e.filter((function(e){return e})),s(e,(function(e){return e.path.map((function(e){return String(e).replace("-","--")})).join("-")}))}function g(e){var t=String(e);return t.match(/^-?[0-9]+$/)?parseInt(t):null}a.prototype.initialize=function(){this.traverse=d(!0),this.descend=d()},a.prototype.keys=Object.keys,a.prototype.resolve=function(e){var t=[e.operation,e.scope,e.expression.type].join("-"),n=this._fns[t];if(!n)throw new Error("couldn't resolve key: "+t);return n.bind(this)},a.prototype.register=function(e,t){if(!t instanceof Function)throw new Error("handler must be a function");this._fns[e]=t},a.prototype._fns={"member-child-identifier":function(e,t){var n=e.expression.value,o=t.value;if(o instanceof Object&&n in o)return[{value:o[n],path:t.path.concat(n)}]},"member-descendant-identifier":p((function(e,t,n){return e==n})),"subscript-child-numeric_literal":h((function(e,t,n){return e===n})),"member-child-numeric_literal":h((function(e,t,n){return String(e)===String(n)})),"subscript-descendant-numeric_literal":p((function(e,t,n){return e===n})),"member-child-wildcard":h((function(){return!0})),"member-descendant-wildcard":p((function(){return!0})),"subscript-descendant-wildcard":p((function(){return!0})),"subscript-child-wildcard":h((function(){return!0})),"subscript-child-slice":function(e,t){if(c(t.value)){var n=e.expression.value.split(":").map(g),o=t.value.map((function(e,n){return{value:e,path:t.path.concat(n)}}));return r.apply(null,[o].concat(n))}},"subscript-child-union":function(e,t){var n=[];return e.expression.value.forEach((function(e){var o={operation:"subscript",scope:"child",expression:e.expression},r=this.resolve(o)(o,t);r&&(n=n.concat(r))}),this),m(n)},"subscript-descendant-union":function(t,n,o){var r=e(".."),i=this,s=[];return r.nodes(n,"$..*").slice(1).forEach((function(e){s.length>=o||t.expression.value.forEach((function(t){var n={operation:"subscript",scope:"child",expression:t.expression},o=i.resolve(n)(n,e);s=s.concat(o)}))})),m(s)},"subscript-child-filter_expression":function(e,t,n){var r=e.expression.value.slice(2,-1),i=o.parse(r).body[0].expression,s=function(e,t){return f(i,{"@":t})};return this.descend(t,null,s,n)},"subscript-descendant-filter_expression":function(e,t,n){var r=e.expression.value.slice(2,-1),i=o.parse(r).body[0].expression,s=function(e,t){return f(i,{"@":t})};return this.traverse(t,null,s,n)},"subscript-child-script_expression":function(e,t){return l(t,e.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(e,t){return l(t,e.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(e,t){return l(t,e.expression.value.slice(1,-1),"$..value")}},a.prototype._fns["subscript-child-string_literal"]=a.prototype._fns["member-child-identifier"],a.prototype._fns["member-descendant-numeric_literal"]=a.prototype._fns["subscript-descendant-string_literal"]=a.prototype._fns["member-descendant-identifier"],t.exports=a},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(e,t,n){var o=e("assert"),r=e("./dict"),i=e("./parser"),s=e("./handlers"),a=function(){this.initialize.apply(this,arguments)};function l(e){return"[object String]"==Object.prototype.toString.call(e)}a.prototype.initialize=function(){this.parser=new i,this.handlers=new s},a.prototype.parse=function(e){return o.ok(l(e),"we need a path"),this.parser.parse(e)},a.prototype.parent=function(e,t){o.ok(e instanceof Object,"obj needs to be an object"),o.ok(t,"we need a path");var n=this.nodes(e,t)[0];return n.path.pop(),this.value(e,n.path)},a.prototype.apply=function(e,t,n){o.ok(e instanceof Object,"obj needs to be an object"),o.ok(t,"we need a path"),o.equal(typeof n,"function","fn needs to be function");var r=this.nodes(e,t).sort((function(e,t){return t.path.length-e.path.length}));return r.forEach((function(t){var o=t.path.pop(),r=this.value(e,this.stringify(t.path)),i=t.value=n.call(e,r[o]);r[o]=i}),this),r},a.prototype.value=function(e,t,n){if(o.ok(e instanceof Object,"obj needs to be an object"),o.ok(t,"we need a path"),arguments.length>=3){var r=this.nodes(e,t).shift();if(!r)return this._vivify(e,t,n);var i=r.path.slice(-1).shift();this.parent(e,this.stringify(r.path))[i]=n}return this.query(e,this.stringify(t),1).shift()},a.prototype._vivify=function(e,t,n){var r=this;o.ok(e instanceof Object,"obj needs to be an object"),o.ok(t,"we need a path");var i=this.parser.parse(t).map((function(e){return e.expression.value})),s=function(t,n){var o=t.pop(),i=r.value(e,t);i||(s(t.concat(),"string"==typeof o?{}:[]),i=r.value(e,t)),i[o]=n};return s(i,n),this.query(e,t)[0]},a.prototype.query=function(e,t,n){return o.ok(e instanceof Object,"obj needs to be an object"),o.ok(l(t),"we need a path"),this.nodes(e,t,n).map((function(e){return e.value}))},a.prototype.paths=function(e,t,n){return o.ok(e instanceof Object,"obj needs to be an object"),o.ok(t,"we need a path"),this.nodes(e,t,n).map((function(e){return e.path}))},a.prototype.nodes=function(e,t,n){if(o.ok(e instanceof Object,"obj needs to be an object"),o.ok(t,"we need a path"),0===n)return[];var r=this.parser.parse(t),i=this.handlers,s=[{path:["$"],value:e}],a=[];return r.length&&"root"==r[0].expression.type&&r.shift(),r.length?(r.forEach((function(e,t){if(!(a.length>=n)){var o=i.resolve(e),l=[];s.forEach((function(i){if(!(a.length>=n)){var s=o(e,i,n);t==r.length-1?a=a.concat(s||[]):l=l.concat(s||[])}})),s=l}})),n?a.slice(0,n):a):s},a.prototype.stringify=function(e){o.ok(e,"we need a path");var t="$",n={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(e=this._normalize(e)).forEach((function(e){if("root"!=e.expression.type){var o,r=[e.scope,e.operation].join("-"),i=n[r];if(o="string_literal"==e.expression.type?JSON.stringify(e.expression.value):e.expression.value,!i)throw new Error("couldn't find template "+r);t+=i.replace(/{{value}}/,o)}})),t},a.prototype._normalize=function(e){if(o.ok(e,"we need a path"),"string"==typeof e)return this.parser.parse(e);if(Array.isArray(e)&&"string"==typeof e[0]){var t=[{expression:{type:"root",value:"$"}}];return e.forEach((function(e,n){if("$"!=e||0!==n)if("string"==typeof e&&e.match("^"+r.identifier+"$"))t.push({operation:"member",scope:"child",expression:{value:e,type:"identifier"}});else{var o="number"==typeof e?"numeric_literal":"string_literal";t.push({operation:"subscript",scope:"child",expression:{value:e,type:o}})}})),t}if(Array.isArray(e)&&"object"==typeof e[0])return e;throw new Error("couldn't understand path "+e)},a.Handlers=s,a.Parser=i;var c=new a;c.JSONPath=a,t.exports=c},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(e,t,n){var o=e("./grammar"),r=e("../generated/parser"),i=function(){var e=new r.Parser,t=e.parseError;return e.yy.parseError=function(){e.yy.ast&&e.yy.ast.initialize(),t.apply(e,arguments)},e};i.grammar=o,t.exports=i},{"../generated/parser":1,"./grammar":3}],7:[function(e,t,n){function o(e){return String(e).match(/^[0-9]+$/)?parseInt(e):Number.isFinite(e)?parseInt(e,10):0}t.exports=function(e,t,n,r){if("string"==typeof t)throw new Error("start cannot be a string");if("string"==typeof n)throw new Error("end cannot be a string");if("string"==typeof r)throw new Error("step cannot be a string");var i=e.length;if(0===r)throw new Error("step cannot be zero");if(r=r?o(r):1,n=n<0?i+n:n,t=o(0===(t=t<0?i+t:t)?0:t||(r>0?0:i-1)),n=o(0===n?0:n||(r>0?i:-1)),t=r>0?Math.max(0,t):Math.min(i,t),n=r>0?Math.min(n,i):Math.max(-1,n),r>0&&n<=t)return[];if(r<0&&t<=n)return[];for(var s=[],a=t;a!=n&&!(r<0&&a<=n||r>0&&a>=n);a+=r)s.push(e[a]);return s}},{}],8:[function(e,t,n){var o=e("util/"),r=Array.prototype.slice,i=Object.prototype.hasOwnProperty,s=t.exports=d;function a(e,t){return o.isUndefined(t)?""+t:o.isNumber(t)&&!isFinite(t)||o.isFunction(t)||o.isRegExp(t)?t.toString():t}function l(e,t){return o.isString(e)?e.length<t?e:e.slice(0,t):e}function c(e){return l(JSON.stringify(e.actual,a),128)+" "+e.operator+" "+l(JSON.stringify(e.expected,a),128)}function u(e,t,n,o,r){throw new s.AssertionError({message:n,actual:e,expected:t,operator:o,stackStartFunction:r})}function d(e,t){e||u(e,!0,t,"==",s.ok)}function h(e,t){if(e===t)return!0;if(o.isBuffer(e)&&o.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return o.isDate(e)&&o.isDate(t)?e.getTime()===t.getTime():o.isRegExp(e)&&o.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:o.isObject(e)||o.isObject(t)?f(e,t):e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){if(o.isNullOrUndefined(e)||o.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;var n=p(e),i=p(t);if(n&&!i||!n&&i)return!1;if(n)return h(e=r.call(e),t=r.call(t));var s,a,l=v(e),c=v(t);if(l.length!=c.length)return!1;for(l.sort(),c.sort(),a=l.length-1;a>=0;a--)if(l[a]!=c[a])return!1;for(a=l.length-1;a>=0;a--)if(!h(e[s=l[a]],t[s]))return!1;return!0}function m(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function g(e,t,n,r){var i;o.isString(n)&&(r=n,n=null);try{t()}catch(e){i=e}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&u(i,n,"Missing expected exception"+r),!e&&m(i,n)&&u(i,n,"Got unwanted exception"+r),e&&i&&n&&!m(i,n)||!e&&i)throw i}s.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var o=n.stack,r=t.name,i=o.indexOf("\n"+r);if(i>=0){var s=o.indexOf("\n",i+1);o=o.substring(s+1)}this.stack=o}}},o.inherits(s.AssertionError,Error),s.fail=u,s.ok=d,s.equal=function(e,t,n){e!=t&&u(e,t,n,"==",s.equal)},s.notEqual=function(e,t,n){e==t&&u(e,t,n,"!=",s.notEqual)},s.deepEqual=function(e,t,n){h(e,t)||u(e,t,n,"deepEqual",s.deepEqual)},s.notDeepEqual=function(e,t,n){h(e,t)&&u(e,t,n,"notDeepEqual",s.notDeepEqual)},s.strictEqual=function(e,t,n){e!==t&&u(e,t,n,"===",s.strictEqual)},s.notStrictEqual=function(e,t,n){e===t&&u(e,t,n,"!==",s.notStrictEqual)},s.throws=function(e,t,n){g.apply(this,[!0].concat(r.call(arguments)))},s.doesNotThrow=function(e,t){g.apply(this,[!1].concat(r.call(arguments)))},s.ifError=function(e){if(e)throw e};var v=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t}},{"util/":11}],9:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],10:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],11:[function(e,t,o){(function(t,n){var r=/%[sdj%]/g;o.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,i=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}})),l=o[n];n<i;l=o[++n])w(l)||!D(l)?s+=" "+l:s+=" "+a(l);return s},o.deprecate=function(e,r){if(_(n.process))return function(){return o.deprecate(e,r).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;function s(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}return s};var i,s={};function a(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&o._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),d(n,e,n.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function u(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function d(e,t,n){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==o.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return x(r)||(r=d(e,r,n)),r}var i=h(e,t);if(i)return i;var s=Object.keys(t),a=u(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),A(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(t);if(0===s.length){if(O(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(C(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return p(t)}var c,y="",w=!1,b=["{","}"];return v(t)&&(w=!0,b=["[","]"]),O(t)&&(y=" [Function"+(t.name?": "+t.name:"")+"]"),C(t)&&(y=" "+RegExp.prototype.toString.call(t)),E(t)&&(y=" "+Date.prototype.toUTCString.call(t)),A(t)&&(y=" "+p(t)),0!==s.length||w&&0!=t.length?n<0?C(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=w?f(e,t,n,a,s):s.map((function(o){return m(e,t,n,a,o,w)})),e.seen.pop(),g(c,y,b)):b[0]+y+b[1]}function h(e,t){if(_(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return k(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):w(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,o,r){for(var i=[],s=0,a=t.length;s<a;++s)P(t,String(s))?i.push(m(e,t,n,o,String(s),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(m(e,t,n,o,r,!0))})),i}function m(e,t,n,o,r,i){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),P(o,r)||(s="["+r+"]"),a||(e.seen.indexOf(l.value)<0?(a=w(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(i&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function g(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function v(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function w(e){return null===e}function b(e){return null==e}function k(e){return"number"==typeof e}function x(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function _(e){return void 0===e}function C(e){return D(e)&&"[object RegExp]"===M(e)}function D(e){return"object"==typeof e&&null!==e}function E(e){return D(e)&&"[object Date]"===M(e)}function A(e){return D(e)&&("[object Error]"===M(e)||e instanceof Error)}function O(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function M(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}o.debuglog=function(e){if(_(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;s[e]=function(){var t=o.format.apply(o,arguments);console.error("%s %d: %s",e,n,t)}}else s[e]=function(){};return s[e]},o.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=v,o.isBoolean=y,o.isNull=w,o.isNullOrUndefined=b,o.isNumber=k,o.isString=x,o.isSymbol=S,o.isUndefined=_,o.isRegExp=C,o.isObject=D,o.isDate=E,o.isError=A,o.isFunction=O,o.isPrimitive=T,o.isBuffer=e("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o.log=function(){console.log("%s - %s",N(),o.format.apply(o,arguments))},o.inherits=e("inherits"),o._extend=function(e,t){if(!t||!D(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(e,t,n){},{}],13:[function(e,t,n){(function(e){function t(e,t){for(var n=0,o=e.length-1;o>=0;o--){var r=e[o];"."===r?e.splice(o,1):".."===r?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function o(e){"string"!=typeof e&&(e+="");var t,n=0,o=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===o&&(r=!1,o=t+1);return-1===o?"":e.slice(n,o)}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],o=0;o<e.length;o++)t(e[o],o,e)&&n.push(e[o]);return n}n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,o="/"===s.charAt(0))}return(o?"/":"")+(n=t(r(n.split("/"),(function(e){return!!e})),!o).join("/"))||"."},n.normalize=function(e){var o=n.isAbsolute(e),s="/"===i(e,-1);return(e=t(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=o(e.split("/")),i=o(t.split("/")),s=Math.min(r.length,i.length),a=s,l=0;l<s;l++)if(r[l]!==i[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,o=-1,r=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!r){o=i;break}}else r=!1;return-1===o?n?"/":".":n&&1===o?"/":e.slice(0,o)},n.basename=function(e,t){var n=o(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,o=-1,r=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===o&&(r=!1,o=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!r){n=s+1;break}}return-1===t||-1===o||0===i||1===i&&t===o-1&&t===n+1?"":e.slice(t,o)};var i=function(e,t,n){return e.substr(t,n)}}).call(this,e("_process"))},{_process:14}],14:[function(e,t,n){var o,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(o===setTimeout)return setTimeout(e,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function c(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:s}catch(e){o=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,d=[],h=!1,p=-1;function f(){h&&u&&(h=!1,u.length?d=u.concat(d):p=-1,d.length&&m())}function m(){if(!h){var e=l(f);h=!0;for(var t=d.length;t;){for(u=d,d=[];++p<t;)u&&u[p].run();p=-1,t=d.length}u=null,h=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||h||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],15:[function(e,t,n){var o=e("escodegen").generate;t.exports=function(e,t){t||(t={});var n={},r=function e(r,i){if("Literal"===r.type)return r.value;if("UnaryExpression"===r.type){var s=e(r.argument);return"+"===r.operator?+s:"-"===r.operator?-s:"~"===r.operator?~s:"!"===r.operator?!s:n}if("ArrayExpression"===r.type){for(var a=[],l=0,c=r.elements.length;l<c;l++){if((v=e(r.elements[l]))===n)return n;a.push(v)}return a}if("ObjectExpression"===r.type){var u={};for(l=0;l<r.properties.length;l++){var d=null===(y=r.properties[l]).value?y.value:e(y.value);if(d===n)return n;u[y.key.value||y.key.name]=d}return u}if("BinaryExpression"===r.type||"LogicalExpression"===r.type){if((c=e(r.left))===n)return n;var h=e(r.right);if(h===n)return n;var p=r.operator;return"=="===p?c==h:"==="===p?c===h:"!="===p?c!=h:"!=="===p?c!==h:"+"===p?c+h:"-"===p?c-h:"*"===p?c*h:"/"===p?c/h:"%"===p?c%h:"<"===p?c<h:"<="===p?c<=h:">"===p?c>h:">="===p?c>=h:"|"===p?c|h:"&"===p?c&h:"^"===p?c^h:"&&"===p?c&&h:"||"===p?c||h:n}if("Identifier"===r.type)return{}.hasOwnProperty.call(t,r.name)?t[r.name]:n;if("ThisExpression"===r.type)return{}.hasOwnProperty.call(t,"this")?t.this:n;if("CallExpression"===r.type){var f=e(r.callee);if(f===n)return n;if("function"!=typeof f)return n;var m=r.callee.object?e(r.callee.object):n;m===n&&(m=null);var g=[];for(l=0,c=r.arguments.length;l<c;l++){var v;if((v=e(r.arguments[l]))===n)return n;g.push(v)}return f.apply(m,g)}var y;if("MemberExpression"===r.type)return(u=e(r.object))===n||"function"==typeof u?n:"Identifier"===r.property.type?u[r.property.name]:(y=e(r.property))===n?n:u[y];if("ConditionalExpression"===r.type)return(s=e(r.test))===n?n:e(s?r.consequent:r.alternate);if("ExpressionStatement"===r.type)return(s=e(r.expression))===n?n:s;if("ReturnStatement"===r.type)return e(r.argument);if("FunctionExpression"===r.type){var w=r.body.body,b={};for(Object.keys(t).forEach((function(e){b[e]=t[e]})),l=0;l<r.params.length;l++){var k=r.params[l];if("Identifier"!=k.type)return n;t[k.name]=null}for(var l in w)if(e(w[l])===n)return n;t=b;var x=Object.keys(t),S=x.map((function(e){return t[e]}));return Function(x.join(", "),"return "+o(r)).apply(null,S)}if("TemplateLiteral"===r.type){var _="";for(l=0;l<r.expressions.length;l++)_+=e(r.quasis[l]),_+=e(r.expressions[l]);return _+=e(r.quasis[l])}if("TaggedTemplateExpression"===r.type){var C=e(r.tag),D=r.quasi,E=D.quasis.map(e),A=D.expressions.map(e);return C.apply(null,[E].concat(A))}return"TemplateElement"===r.type?r.value.cooked:n}(e);return r===n?void 0:r}},{escodegen:12}],jsonpath:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")},83465:(e,t,n)=>{e=n.nmd(e);var o="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",l="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",f="[object RegExp]",m="[object Set]",g="[object String]",v="[object Symbol]",y="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",S="[object Int8Array]",_="[object Int16Array]",C="[object Int32Array]",D="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",T=/\w*$/,M=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,I={};I[i]=I["[object Array]"]=I[w]=I[b]=I[s]=I[a]=I[k]=I[x]=I[S]=I[_]=I[C]=I[u]=I[d]=I[h]=I[f]=I[m]=I[g]=I[v]=I[D]=I[E]=I[A]=I[O]=!0,I["[object Error]"]=I[l]=I[y]=!1;var N="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,U=N||P||Function("return this")(),B=t&&!t.nodeType&&t,j=B&&e&&!e.nodeType&&e,R=j&&j.exports===B;function V(e,t){return e.set(t[0],t[1]),e}function F(e,t){return e.add(t),e}function W(e,t,n,o){var r=-1,i=e?e.length:0;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function $(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var q,Y=Array.prototype,G=Function.prototype,X=Object.prototype,J=U["__core-js_shared__"],Z=(q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",Q=G.toString,ee=X.hasOwnProperty,te=X.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=R?U.Buffer:void 0,re=U.Symbol,ie=U.Uint8Array,se=$(Object.getPrototypeOf,Object),ae=Object.create,le=X.propertyIsEnumerable,ce=Y.splice,ue=Object.getOwnPropertySymbols,de=oe?oe.isBuffer:void 0,he=$(Object.keys,Object),pe=je(U,"DataView"),fe=je(U,"Map"),me=je(U,"Promise"),ge=je(U,"Set"),ve=je(U,"WeakMap"),ye=je(Object,"create"),we=He(pe),be=He(fe),ke=He(me),xe=He(ge),Se=He(ve),_e=re?re.prototype:void 0,Ce=_e?_e.valueOf:void 0;function De(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Oe(e){this.__data__=new Ee(e)}function Te(e,t){var n=$e(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&ee.call(e,"callee")&&(!le.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],o=n.length,r=!!o;for(var s in e)!t&&!ee.call(e,s)||r&&("length"==s||Fe(s,o))||n.push(s);return n}function Me(e,t,n){var o=e[t];ee.call(e,t)&&ze(o,n)&&(void 0!==n||t in e)||(e[t]=n)}function Le(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Ie(e,t,n,o,r,p,y){var M;if(o&&(M=p?o(e,r,p,y):o(e)),void 0!==M)return M;if(!Ge(e))return e;var L=$e(e);if(L){if(M=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,o=e.length;t||(t=Array(o));for(;++n<o;)t[n]=e[n];return t}(e,M)}else{var N=Ve(e),P=N==l||N==c;if(qe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(N==h||N==i||P&&!p){if(H(e))return p?e:{};if(M=function(e){return"function"!=typeof e.constructor||We(e)?{}:(t=se(e),Ge(t)?ae(t):{});var t}(P?{}:e),!t)return function(e,t){return Ue(e,Re(e),t)}(e,function(e,t){return e&&Ue(t,Xe(t),e)}(M,e))}else{if(!I[N])return p?e:{};M=function(e,t,n,o){var r=e.constructor;switch(t){case w:return Pe(e);case s:case a:return new r(+e);case b:return function(e,t){var n=t?Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,o);case k:case x:case S:case _:case C:case D:case E:case A:case O:return function(e,t){var n=t?Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,o);case u:return function(e,t,n){return W(t?n(z(e),!0):z(e),V,new e.constructor)}(e,o,n);case d:case g:return new r(e);case f:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return W(t?n(K(e),!0):K(e),F,new e.constructor)}(e,o,n);case v:return i=e,Ce?Object(Ce.call(i)):{}}var i}(e,N,Ie,t)}}y||(y=new Oe);var U=y.get(e);if(U)return U;if(y.set(e,M),!L)var B=n?function(e){return function(e,t,n){var o=t(e);return $e(e)?o:function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}(o,n(e))}(e,Xe,Re)}(e):Xe(e);return function(e,t){for(var n=-1,o=e?e.length:0;++n<o&&!1!==t(e[n],n,e););}(B||e,(function(r,i){B&&(r=e[i=r]),Me(M,i,Ie(r,t,n,o,i,e,y))})),M}function Ne(e){return!(!Ge(e)||(t=e,Z&&Z in t))&&(Ye(e)||H(e)?ne:M).test(He(e));var t}function Pe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Ue(e,t,n,o){n||(n={});for(var r=-1,i=t.length;++r<i;){var s=t[r],a=o?o(n[s],e[s],s,n,e):void 0;Me(n,s,void 0===a?e[s]:a)}return n}function Be(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ne(n)?n:void 0}De.prototype.clear=function(){this.__data__=ye?ye(null):{}},De.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},De.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===o?void 0:n}return ee.call(t,e)?t[e]:void 0},De.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},De.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?o:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,n=Le(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Ee.prototype.get=function(e){var t=this.__data__,n=Le(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Le(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,o=Le(n,e);return o<0?n.push([e,t]):n[o][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new De,map:new(fe||Ee),string:new De}},Ae.prototype.delete=function(e){return Be(this,e).delete(e)},Ae.prototype.get=function(e){return Be(this,e).get(e)},Ae.prototype.has=function(e){return Be(this,e).has(e)},Ae.prototype.set=function(e,t){return Be(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new Ee},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var o=n.__data__;if(!fe||o.length<199)return o.push([e,t]),this;n=this.__data__=new Ae(o)}return n.set(e,t),this};var Re=ue?$(ue,Object):function(){return[]},Ve=function(e){return te.call(e)};function Fe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function We(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function He(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(pe&&Ve(new pe(new ArrayBuffer(1)))!=b||fe&&Ve(new fe)!=u||me&&Ve(me.resolve())!=p||ge&&Ve(new ge)!=m||ve&&Ve(new ve)!=y)&&(Ve=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,o=n?He(n):void 0;if(o)switch(o){case we:return b;case be:return u;case ke:return p;case xe:return m;case Se:return y}return t});var $e=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Ye(e)}var qe=de||function(){return!1};function Ye(e){var t=Ge(e)?te.call(e):"";return t==l||t==c}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Ke(e)?Te(e):function(e){if(!We(e))return he(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Ie(e,!0,!0)}},72378:(e,t,n)=>{e=n.nmd(e);var o="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Function]",a="[object Object]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[s]=u["[object Map]"]=u["[object Number]"]=u[a]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),f=t&&!t.nodeType&&t,m=f&&e&&!e.nodeType&&e,g=m&&m.exports===f,v=g&&d.process,y=function(){try{var e=m&&m.require&&m.require("util").types;return e||v&&v.binding&&v.binding("util")}catch(e){}}(),w=y&&y.isTypedArray;function b(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var k,x,S,_=Array.prototype,C=Function.prototype,D=Object.prototype,E=p["__core-js_shared__"],A=C.toString,O=D.hasOwnProperty,T=(k=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",M=D.toString,L=A.call(Object),I=RegExp("^"+A.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=g?p.Buffer:void 0,P=p.Symbol,U=p.Uint8Array,B=N?N.allocUnsafe:void 0,j=(x=Object.getPrototypeOf,S=Object,function(e){return x(S(e))}),R=Object.create,V=D.propertyIsEnumerable,F=_.splice,W=P?P.toStringTag:void 0,H=function(){try{var e=me(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=N?N.isBuffer:void 0,$=Math.max,K=Date.now,q=me(p,"Map"),Y=me(Object,"create"),G=function(){function e(){}return function(t){if(!Ee(t))return{};if(R)return R(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Q(e){var t=this.__data__=new J(e);this.size=t.size}function ee(e,t){var n=xe(e),o=!n&&ke(e),r=!n&&!o&&_e(e),i=!n&&!o&&!r&&Oe(e),s=n||o||r||i,a=s?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],l=a.length;for(var c in e)!t&&!O.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ge(c,l))||a.push(c);return a}function te(e,t,n){(void 0!==n&&!be(e[t],n)||void 0===n&&!(t in e))&&re(e,t,n)}function ne(e,t,n){var o=e[t];O.call(e,t)&&be(o,n)&&(void 0!==n||t in e)||re(e,t,n)}function oe(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function re(e,t,n){"__proto__"==t&&H?H(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}X.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},X.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return n===o?void 0:n}return O.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:O.call(t,e)},X.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?o:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,n=oe(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),--this.size,!0)},J.prototype.get=function(e){var t=this.__data__,n=oe(t,e);return n<0?void 0:t[n][1]},J.prototype.has=function(e){return oe(this.__data__,e)>-1},J.prototype.set=function(e,t){var n=this.__data__,o=oe(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(q||J),string:new X}},Z.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return fe(this,e).get(e)},Z.prototype.has=function(e){return fe(this,e).has(e)},Z.prototype.set=function(e,t){var n=fe(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},Q.prototype.clear=function(){this.__data__=new J,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof J){var o=n.__data__;if(!q||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Z(o)}return n.set(e,t),this.size=n.size,this};var ie,se=function(e,t,n){for(var o=-1,r=Object(e),i=n(e),s=i.length;s--;){var a=i[ie?s:++o];if(!1===t(r[a],a,r))break}return e};function ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":W&&W in Object(e)?function(e){var t=O.call(e,W),n=e[W];try{e[W]=void 0;var o=!0}catch(e){}var r=M.call(e);o&&(t?e[W]=n:delete e[W]);return r}(e):function(e){return M.call(e)}(e)}function le(e){return Ae(e)&&ae(e)==i}function ce(e){return!(!Ee(e)||function(e){return!!T&&T in e}(e))&&(Ce(e)?I:l).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ue(e){if(!Ee(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ve(e),n=[];for(var o in e)("constructor"!=o||!t&&O.call(e,o))&&n.push(o);return n}function de(e,t,n,o,r){e!==t&&se(t,(function(i,s){if(r||(r=new Q),Ee(i))!function(e,t,n,o,r,i,s){var l=ye(e,n),c=ye(t,n),u=s.get(c);if(u)return void te(e,n,u);var d=i?i(l,c,n+"",e,t,s):void 0,h=void 0===d;if(h){var p=xe(c),f=!p&&_e(c),m=!p&&!f&&Oe(c);d=c,p||f||m?xe(l)?d=l:Ae(b=l)&&Se(b)?d=function(e,t){var n=-1,o=e.length;t||(t=Array(o));for(;++n<o;)t[n]=e[n];return t}(l):f?(h=!1,d=function(e,t){if(t)return e.slice();var n=e.length,o=B?B(n):new e.constructor(n);return e.copy(o),o}(c,!0)):m?(h=!1,g=c,v=!0?(y=g.buffer,w=new y.constructor(y.byteLength),new U(w).set(new U(y)),w):g.buffer,d=new g.constructor(v,g.byteOffset,g.length)):d=[]:function(e){if(!Ae(e)||ae(e)!=a)return!1;var t=j(e);if(null===t)return!0;var n=O.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==L}(c)||ke(c)?(d=l,ke(l)?d=function(e){return function(e,t,n,o){var r=!n;n||(n={});var i=-1,s=t.length;for(;++i<s;){var a=t[i],l=o?o(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?re(n,a,l):ne(n,a,l)}return n}(e,Te(e))}(l):Ee(l)&&!Ce(l)||(d=function(e){return"function"!=typeof e.constructor||ve(e)?{}:G(j(e))}(c))):h=!1}var g,v,y,w;var b;h&&(s.set(c,d),r(d,c,o,i,s),s.delete(c));te(e,n,d)}(e,t,s,n,de,o,r);else{var l=o?o(ye(e,s),i,s+"",e,t,r):void 0;void 0===l&&(l=i),te(e,s,l)}}),Te)}function he(e,t){return we(function(e,t,n){return t=$(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,i=$(o.length-t,0),s=Array(i);++r<i;)s[r]=o[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=o[r];return a[t]=n(s),b(e,this,a)}}(e,t,Ie),e+"")}var pe=H?function(e,t){return H(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ie;function fe(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ce(n)?n:void 0}function ge(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&c.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||D)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var we=function(e){var t=0,n=0;return function(){var o=K(),r=16-(o-n);if(n=o,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(pe);function be(e,t){return e===t||e!=e&&t!=t}var ke=le(function(){return arguments}())?le:function(e){return Ae(e)&&O.call(e,"callee")&&!V.call(e,"callee")},xe=Array.isArray;function Se(e){return null!=e&&De(e.length)&&!Ce(e)}var _e=z||function(){return!1};function Ce(e){if(!Ee(e))return!1;var t=ae(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Oe=w?function(e){return function(t){return e(t)}}(w):function(e){return Ae(e)&&De(e.length)&&!!u[ae(e)]};function Te(e){return Se(e)?ee(e,!0):ue(e)}var Me,Le=(Me=function(e,t,n){de(e,t,n)},he((function(e,t){var n=-1,o=t.length,r=o>1?t[o-1]:void 0,i=o>2?t[2]:void 0;for(r=Me.length>3&&"function"==typeof r?(o--,r):void 0,i&&function(e,t,n){if(!Ee(n))return!1;var o=typeof t;return!!("number"==o?Se(n)&&ge(t,n.length):"string"==o&&t in n)&&be(n[t],e)}(t[0],t[1],i)&&(r=o<3?void 0:r,o=1),e=Object(e);++n<o;){var s=t[n];s&&Me(e,s,n,r)}return e})));function Ie(e){return e}e.exports=Le},18552:(e,t,n)=>{var o=n(10852)(n(55639),"DataView");e.exports=o},1989:(e,t,n)=>{var o=n(51789),r=n(80401),i=n(57667),s=n(21327),a=n(81866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},38407:(e,t,n)=>{var o=n(27040),r=n(14125),i=n(82117),s=n(67518),a=n(54705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},57071:(e,t,n)=>{var o=n(10852)(n(55639),"Map");e.exports=o},83369:(e,t,n)=>{var o=n(24785),r=n(11285),i=n(96e3),s=n(49916),a=n(95265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},53818:(e,t,n)=>{var o=n(10852)(n(55639),"Promise");e.exports=o},58525:(e,t,n)=>{var o=n(10852)(n(55639),"Set");e.exports=o},88668:(e,t,n)=>{var o=n(83369),r=n(90619),i=n(72385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,e.exports=s},46384:(e,t,n)=>{var o=n(38407),r=n(37465),i=n(63779),s=n(67599),a=n(44758),l=n(34309);function c(e){var t=this.__data__=new o(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},62705:(e,t,n)=>{var o=n(55639).Symbol;e.exports=o},11149:(e,t,n)=>{var o=n(55639).Uint8Array;e.exports=o},70577:(e,t,n)=>{var o=n(10852)(n(55639),"WeakMap");e.exports=o},96874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},77412:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}},34963:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}},47443:(e,t,n)=>{var o=n(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}},14636:(e,t,n)=>{var o=n(22545),r=n(35694),i=n(1469),s=n(44144),a=n(65776),l=n(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&r(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?o(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},29932:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},62488:e=>{e.exports=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}},62663:e=>{e.exports=function(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}},82908:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},48983:(e,t,n)=>{var o=n(40371)("length");e.exports=o},86556:(e,t,n)=>{var o=n(89465),r=n(77813);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&o(e,t,n)}},34865:(e,t,n)=>{var o=n(89465),r=n(77813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];i.call(e,t)&&r(s,n)&&(void 0!==n||t in e)||o(e,t,n)}},18470:(e,t,n)=>{var o=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},44037:(e,t,n)=>{var o=n(98363),r=n(3674);e.exports=function(e,t){return e&&o(t,r(t),e)}},63886:(e,t,n)=>{var o=n(98363),r=n(81704);e.exports=function(e,t){return e&&o(t,r(t),e)}},89465:(e,t,n)=>{var o=n(38777);e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},85990:(e,t,n)=>{var o=n(46384),r=n(77412),i=n(34865),s=n(44037),a=n(63886),l=n(64626),c=n(278),u=n(18805),d=n(1911),h=n(58234),p=n(46904),f=n(64160),m=n(43824),g=n(29148),v=n(38517),y=n(1469),w=n(44144),b=n(56688),k=n(13218),x=n(72928),S=n(3674),_=n(81704),C="[object Arguments]",D="[object Function]",E="[object Object]",A={};A[C]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[E]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[D]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,O,T,M,L){var I,N=1&n,P=2&n,U=4&n;if(O&&(I=M?O(t,T,M,L):O(t)),void 0!==I)return I;if(!k(t))return t;var B=y(t);if(B){if(I=m(t),!N)return c(t,I)}else{var j=f(t),R=j==D||"[object GeneratorFunction]"==j;if(w(t))return l(t,N);if(j==E||j==C||R&&!M){if(I=P||R?{}:v(t),!N)return P?d(t,a(I,t)):u(t,s(I,t))}else{if(!A[j])return M?t:{};I=g(t,j,N)}}L||(L=new o);var V=L.get(t);if(V)return V;L.set(t,I),x(t)?t.forEach((function(o){I.add(e(o,n,O,o,t,L))})):b(t)&&t.forEach((function(o,r){I.set(r,e(o,n,O,r,t,L))}));var F=B?void 0:(U?P?p:h:P?_:S)(t);return r(F||t,(function(o,r){F&&(o=t[r=o]),i(I,r,e(o,n,O,r,t,L))})),I}},3118:(e,t,n)=>{var o=n(13218),r=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},89881:(e,t,n)=>{var o=n(47816),r=n(99291)(o);e.exports=r},56029:(e,t,n)=>{var o=n(33448);e.exports=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(void 0===l?a==a&&!o(a):n(a,l)))var l=a,c=s}return c}},80760:(e,t,n)=>{var o=n(89881);e.exports=function(e,t){var n=[];return o(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}},41848:e=>{e.exports=function(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},21078:(e,t,n)=>{var o=n(62488),r=n(37285);e.exports=function e(t,n,i,s,a){var l=-1,c=t.length;for(i||(i=r),a||(a=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,s,a):o(a,u):s||(a[a.length]=u)}return a}},28483:(e,t,n)=>{var o=n(25063)();e.exports=o},47816:(e,t,n)=>{var o=n(28483),r=n(3674);e.exports=function(e,t){return e&&o(e,t,r)}},97786:(e,t,n)=>{var o=n(71811),r=n(40327);e.exports=function(e,t){for(var n=0,i=(t=o(t,e)).length;null!=e&&n<i;)e=e[r(t[n++])];return n&&n==i?e:void 0}},68866:(e,t,n)=>{var o=n(62488),r=n(1469);e.exports=function(e,t,n){var i=t(e);return r(e)?i:o(i,n(e))}},44239:(e,t,n)=>{var o=n(62705),r=n(89607),i=n(2333),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},53325:e=>{e.exports=function(e,t){return e>t}},78565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},42118:(e,t,n)=>{var o=n(41848),r=n(62722),i=n(42351);e.exports=function(e,t,n){return t==t?i(e,t,n):o(e,r,n)}},9454:(e,t,n)=>{var o=n(44239),r=n(37005);e.exports=function(e){return r(e)&&"[object Arguments]"==o(e)}},90939:(e,t,n)=>{var o=n(2492),r=n(37005);e.exports=function e(t,n,i,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:o(t,n,i,s,e,a))}},2492:(e,t,n)=>{var o=n(46384),r=n(67114),i=n(18351),s=n(16096),a=n(64160),l=n(1469),c=n(44144),u=n(36719),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),w=l(t),b=y?h:a(e),k=w?h:a(t),x=(b=b==d?p:b)==p,S=(k=k==d?p:k)==p,_=b==k;if(_&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(_&&!x)return v||(v=new o),y||u(e)?r(e,t,n,m,g,v):i(e,t,b,n,m,g,v);if(!(1&n)){var C=x&&f.call(e,"__wrapped__"),D=S&&f.call(t,"__wrapped__");if(C||D){var E=C?e.value():e,A=D?t.value():t;return v||(v=new o),g(E,A,n,m,v)}}return!!_&&(v||(v=new o),s(e,t,n,m,g,v))}},25588:(e,t,n)=>{var o=n(64160),r=n(37005);e.exports=function(e){return r(e)&&"[object Map]"==o(e)}},2958:(e,t,n)=>{var o=n(46384),r=n(90939);e.exports=function(e,t,n,i){var s=n.length,a=s,l=!i;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new o;if(i)var f=i(d,h,u,e,t,p);if(!(void 0===f?r(h,d,3,i,p):f))return!1}}return!0}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,n)=>{var o=n(23560),r=n(15346),i=n(13218),s=n(80346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(o(e)?h:a).test(s(e))}},29221:(e,t,n)=>{var o=n(64160),r=n(37005);e.exports=function(e){return r(e)&&"[object Set]"==o(e)}},38749:(e,t,n)=>{var o=n(44239),r=n(41780),i=n(37005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!s[o(e)]}},67206:(e,t,n)=>{var o=n(91573),r=n(16432),i=n(6557),s=n(1469),a=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?r(e[0],e[1]):o(e):a(e)}},280:(e,t,n)=>{var o=n(25726),r=n(86916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return r(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:(e,t,n)=>{var o=n(13218),r=n(25726),i=n(33498),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},70433:e=>{e.exports=function(e,t){return e<t}},69199:(e,t,n)=>{var o=n(89881),r=n(98612);e.exports=function(e,t){var n=-1,i=r(e)?Array(e.length):[];return o(e,(function(e,o,r){i[++n]=t(e,o,r)})),i}},91573:(e,t,n)=>{var o=n(2958),r=n(1499),i=n(42634);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},16432:(e,t,n)=>{var o=n(90939),r=n(27361),i=n(79095),s=n(15403),a=n(89162),l=n(42634),c=n(40327);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?i(n,e):o(t,s,3)}}},42980:(e,t,n)=>{var o=n(46384),r=n(86556),i=n(28483),s=n(59783),a=n(13218),l=n(81704),c=n(36390);e.exports=function e(t,n,u,d,h){t!==n&&i(n,(function(i,l){if(h||(h=new o),a(i))s(t,n,l,u,e,d,h);else{var p=d?d(c(t,l),i,l+"",t,n,h):void 0;void 0===p&&(p=i),r(t,l,p)}}),l)}},59783:(e,t,n)=>{var o=n(86556),r=n(64626),i=n(77133),s=n(278),a=n(38517),l=n(35694),c=n(1469),u=n(29246),d=n(44144),h=n(23560),p=n(13218),f=n(68630),m=n(36719),g=n(36390),v=n(59881);e.exports=function(e,t,n,y,w,b,k){var x=g(e,n),S=g(t,n),_=k.get(S);if(_)o(e,n,_);else{var C=b?b(x,S,n+"",e,t,k):void 0,D=void 0===C;if(D){var E=c(S),A=!E&&d(S),O=!E&&!A&&m(S);C=S,E||A||O?c(x)?C=x:u(x)?C=s(x):A?(D=!1,C=r(S,!0)):O?(D=!1,C=i(S,!0)):C=[]:f(S)||l(S)?(C=x,l(x)?C=v(x):p(x)&&!h(x)||(C=a(S))):D=!1}D&&(k.set(S,C),w(C,S,y,b,k),k.delete(S)),o(e,n,C)}}},82689:(e,t,n)=>{var o=n(29932),r=n(97786),i=n(67206),s=n(69199),a=n(71131),l=n(7518),c=n(85022),u=n(6557),d=n(1469);e.exports=function(e,t,n){t=t.length?o(t,(function(e){return d(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=o(t,l(i));var p=s(e,(function(e,n,r){return{criteria:o(t,(function(t){return t(e)})),index:++h,value:e}}));return a(p,(function(e,t){return c(e,t,n)}))}},25970:(e,t,n)=>{var o=n(63012),r=n(79095);e.exports=function(e,t){return o(e,t,(function(t,n){return r(e,n)}))}},63012:(e,t,n)=>{var o=n(97786),r=n(10611),i=n(71811);e.exports=function(e,t,n){for(var s=-1,a=t.length,l={};++s<a;){var c=t[s],u=o(e,c);n(u,c)&&r(l,i(c,e),u)}return l}},40371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:(e,t,n)=>{var o=n(97786);e.exports=function(e){return function(t){return o(t,e)}}},40098:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,o,r,i){for(var s=-1,a=n(t((o-e)/(r||1)),0),l=Array(a);a--;)l[i?a:++s]=e,e+=r;return l}},10107:e=>{e.exports=function(e,t,n,o,r){return r(e,(function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)})),n}},5976:(e,t,n)=>{var o=n(6557),r=n(45357),i=n(30061);e.exports=function(e,t){return i(r(e,t,o),e+"")}},10611:(e,t,n)=>{var o=n(34865),r=n(71811),i=n(65776),s=n(13218),a=n(40327);e.exports=function(e,t,n,l){if(!s(e))return e;for(var c=-1,u=(t=r(t,e)).length,d=u-1,h=e;null!=h&&++c<u;){var p=a(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=h[p];void 0===(f=l?l(m,p,h):void 0)&&(f=s(m)?m:i(t[c+1])?[]:{})}o(h,p,f),h=h[p]}return e}},56560:(e,t,n)=>{var o=n(75703),r=n(38777),i=n(6557),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:i;e.exports=s},71131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},22545:e=>{e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},80531:(e,t,n)=>{var o=n(62705),r=n(29932),i=n(1469),s=n(33448),a=o?o.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},27561:(e,t,n)=>{var o=n(67990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(r,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},45652:(e,t,n)=>{var o=n(88668),r=n(47443),i=n(1196),s=n(74757),a=n(23593),l=n(21814);e.exports=function(e,t,n){var c=-1,u=r,d=e.length,h=!0,p=[],f=p;if(n)h=!1,u=i;else if(d>=200){var m=t?null:a(e);if(m)return l(m);h=!1,u=s,f=new o}else f=t?[]:p;e:for(;++c<d;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,h&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(g)}else u(f,v,n)||(f!==p&&f.push(v),p.push(g))}return p}},47415:(e,t,n)=>{var o=n(29932);e.exports=function(e,t){return o(t,(function(t){return e[t]}))}},1757:e=>{e.exports=function(e,t,n){for(var o=-1,r=e.length,i=t.length,s={};++o<r;){var a=o<i?t[o]:void 0;n(s,e[o],a)}return s}},74757:e=>{e.exports=function(e,t){return e.has(t)}},54290:(e,t,n)=>{var o=n(6557);e.exports=function(e){return"function"==typeof e?e:o}},71811:(e,t,n)=>{var o=n(1469),r=n(15403),i=n(55514),s=n(79833);e.exports=function(e,t){return o(e)?e:r(e,t)?[e]:i(s(e))}},74318:(e,t,n)=>{var o=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}},64626:(e,t,n)=>{e=n.nmd(e);var o=n(55639),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,s=i&&i.exports===r?o.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,o=a?a(n):new e.constructor(n);return e.copy(o),o}},57157:(e,t,n)=>{var o=n(74318);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:(e,t,n)=>{var o=n(62705),r=o?o.prototype:void 0,i=r?r.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},77133:(e,t,n)=>{var o=n(74318);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},26393:(e,t,n)=>{var o=n(33448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,s=o(e),a=void 0!==t,l=null===t,c=t==t,u=o(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}},85022:(e,t,n)=>{var o=n(26393);e.exports=function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,a=i.length,l=n.length;++r<a;){var c=o(i[r],s[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},278:e=>{e.exports=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}},98363:(e,t,n)=>{var o=n(34865),r=n(89465);e.exports=function(e,t,n,i){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?r(n,c,u):o(n,c,u)}return n}},18805:(e,t,n)=>{var o=n(98363),r=n(99551);e.exports=function(e,t){return o(e,r(e),t)}},1911:(e,t,n)=>{var o=n(98363),r=n(51442);e.exports=function(e,t){return o(e,r(e),t)}},14429:(e,t,n)=>{var o=n(55639)["__core-js_shared__"];e.exports=o},21463:(e,t,n)=>{var o=n(5976),r=n(16612);e.exports=function(e){return o((function(t,n){var o=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,a&&r(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++o<i;){var l=n[o];l&&e(t,l,o,s)}return t}))}},99291:(e,t,n)=>{var o=n(98612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&!1!==r(a[s],s,a););return n}}},25063:e=>{e.exports=function(e){return function(t,n,o){for(var r=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(i[l],l,i))break}return t}}},67740:(e,t,n)=>{var o=n(67206),r=n(98612),i=n(3674);e.exports=function(e){return function(t,n,s){var a=Object(t);if(!r(t)){var l=o(n,3);t=i(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}},47445:(e,t,n)=>{var o=n(40098),r=n(16612),i=n(18601);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&r(t,n,s)&&(n=s=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),s=void 0===s?t<n?1:-1:i(s),o(t,n,s,e)}}},23593:(e,t,n)=>{var o=n(58525),r=n(50308),i=n(21814),s=o&&1/i(new o([,-0]))[1]==1/0?function(e){return new o(e)}:r;e.exports=s},38777:(e,t,n)=>{var o=n(10852),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},67114:(e,t,n)=>{var o=n(88668),r=n(82908),i=n(74757);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new o:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(s)var w=c?s(y,v,f,t,e,l):s(v,y,f,e,t,l);if(void 0!==w){if(w)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!i(g,t)&&(v===e||a(v,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!a(v,y,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},18351:(e,t,n)=>{var o=n(62705),r=n(11149),i=n(77813),s=n(67114),a=n(68776),l=n(21814),c=o?o.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,o,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&o;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;o|=2,h.set(e,t);var g=s(p(e),p(t),o,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var o=n(58234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,a){var l=1&n,c=o(e),u=c.length;if(u!=o(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:r.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(i)var w=l?i(y,v,h,t,e,a):i(v,y,h,e,t,a);if(!(void 0===w?v===y||s(v,y,n,i,a):w)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,k=t.constructor;b==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof k&&k instanceof k||(m=!1)}return a.delete(e),a.delete(t),m}},99021:(e,t,n)=>{var o=n(85564),r=n(45357),i=n(30061);e.exports=function(e){return i(r(e,void 0,o),e+"")}},31957:(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},58234:(e,t,n)=>{var o=n(68866),r=n(99551),i=n(3674);e.exports=function(e){return o(e,i,r)}},46904:(e,t,n)=>{var o=n(68866),r=n(51442),i=n(81704);e.exports=function(e){return o(e,i,r)}},45050:(e,t,n)=>{var o=n(37019);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var o=n(89162),r=n(3674);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,o(s)]}return t}},10852:(e,t,n)=>{var o=n(28458),r=n(47801);e.exports=function(e,t){var n=r(e,t);return o(n)?n:void 0}},85924:(e,t,n)=>{var o=n(5569)(Object.getPrototypeOf,Object);e.exports=o},89607:(e,t,n)=>{var o=n(62705),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var o=!0}catch(e){}var r=s.call(e);return o&&(t?e[a]=n:delete e[a]),r}},99551:(e,t,n)=>{var o=n(34963),r=n(70479),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),o(s(e),(function(t){return i.call(e,t)})))}:r;e.exports=a},51442:(e,t,n)=>{var o=n(62488),r=n(85924),i=n(99551),s=n(70479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)o(t,i(e)),e=r(e);return t}:s;e.exports=a},64160:(e,t,n)=>{var o=n(18552),r=n(57071),i=n(53818),s=n(58525),a=n(70577),l=n(44239),c=n(80346),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(o),g=c(r),v=c(i),y=c(s),w=c(a),b=l;(o&&b(new o(new ArrayBuffer(1)))!=f||r&&b(new r)!=u||i&&b(i.resolve())!=d||s&&b(new s)!=h||a&&b(new a)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,o=n?c(n):"";if(o)switch(o){case m:return f;case g:return u;case v:return d;case y:return h;case w:return p}return t}),e.exports=b},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var o=n(71811),r=n(35694),i=n(1469),s=n(65776),a=n(41780),l=n(40327);e.exports=function(e,t,n){for(var c=-1,u=(t=o(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&a(u)&&s(h,u)&&(i(e)||r(e))}},62689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},51789:(e,t,n)=>{var o=n(94536);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var o=n(94536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var o=n(94536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)}},81866:(e,t,n)=>{var o=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(o.index=e.index,o.input=e.input),o}},29148:(e,t,n)=>{var o=n(74318),r=n(57157),i=n(93147),s=n(40419),a=n(77133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return o(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return s(e)}}},38517:(e,t,n)=>{var o=n(3118),r=n(85924),i=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:o(r(e))}},37285:(e,t,n)=>{var o=n(62705),r=n(35694),i=n(1469),s=o?o.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||r(e)||!!(s&&e&&e[s])}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var o=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:(e,t,n)=>{var o=n(77813),r=n(98612),i=n(65776),s=n(13218);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n)&&o(n[t],e)}},15403:(e,t,n)=>{var o=n(1469),r=n(33448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var o,r=n(14429),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!i&&i in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},89162:(e,t,n)=>{var o=n(13218);e.exports=function(e){return e==e&&!o(e)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var o=n(18470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},82117:(e,t,n)=>{var o=n(18470);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var o=n(18470);e.exports=function(e){return o(this.__data__,e)>-1}},54705:(e,t,n)=>{var o=n(18470);e.exports=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},24785:(e,t,n)=>{var o=n(1989),r=n(38407),i=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},11285:(e,t,n)=>{var o=n(45050);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var o=n(45050);e.exports=function(e){return o(this,e).get(e)}},49916:(e,t,n)=>{var o=n(45050);e.exports=function(e){return o(this,e).has(e)}},95265:(e,t,n)=>{var o=n(45050);e.exports=function(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}},42634:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},24523:(e,t,n)=>{var o=n(88306);e.exports=function(e){var t=o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},94536:(e,t,n)=>{var o=n(10852)(Object,"create");e.exports=o},86916:(e,t,n)=>{var o=n(5569)(Object.keys,Object);e.exports=o},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e);var o=n(31957),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,s=i&&i.exports===r&&o.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},45357:(e,t,n)=>{var o=n(96874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=r(i.length-t,0),l=Array(a);++s<a;)l[s]=i[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=i[s];return c[t]=n(l),o(e,this,c)}}},55639:(e,t,n)=>{var o=n(31957),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},36390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:(e,t,n)=>{var o=n(56560),r=n(21275)(o);e.exports=r},21275:e=>{var t=Date.now;e.exports=function(e){var n=0,o=0;return function(){var r=t(),i=16-(r-o);if(o=r,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:(e,t,n)=>{var o=n(38407);e.exports=function(){this.__data__=new o,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var o=n(38407),r=n(57071),i=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},42351:e=>{e.exports=function(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}},88016:(e,t,n)=>{var o=n(48983),r=n(62689),i=n(21903);e.exports=function(e){return r(e)?i(e):o(e)}},55514:(e,t,n)=>{var o=n(24523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=o((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,o,r){t.push(o?r.replace(i,"$1"):n||e)})),t}));e.exports=s},40327:(e,t,n)=>{var o=n(33448);e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},21903:e=>{var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+n+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",c=l+a+("(?:\\u200d(?:"+[r,i,s].join("|")+")"+l+a+")*"),u="(?:"+[r+n+"?",n,i,s,t].join("|")+")",d=RegExp(o+"(?="+o+")|"+u+c,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},66678:(e,t,n)=>{var o=n(85990);e.exports=function(e){return o(e,4)}},50361:(e,t,n)=>{var o=n(85990);e.exports=function(e){return o(e,5)}},75703:e=>{e.exports=function(e){return function(){return e}}},91747:(e,t,n)=>{var o=n(5976),r=n(77813),i=n(16612),s=n(81704),a=Object.prototype,l=a.hasOwnProperty,c=o((function(e,t){e=Object(e);var n=-1,o=t.length,c=o>2?t[2]:void 0;for(c&&i(t[0],t[1],c)&&(o=1);++n<o;)for(var u=t[n],d=s(u),h=-1,p=d.length;++h<p;){var f=d[h],m=e[f];(void 0===m||r(m,a[f])&&!l.call(e,f))&&(e[f]=u[f])}return e}));e.exports=c},66073:(e,t,n)=>{e.exports=n(84486)},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},63105:(e,t,n)=>{var o=n(34963),r=n(80760),i=n(67206),s=n(1469);e.exports=function(e,t){return(s(e)?o:r)(e,i(t,3))}},13311:(e,t,n)=>{var o=n(67740)(n(30998));e.exports=o},30998:(e,t,n)=>{var o=n(41848),r=n(67206),i=n(40554),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:i(n);return l<0&&(l=s(a+l,0)),o(e,r(t,3),l)}},85564:(e,t,n)=>{var o=n(21078);e.exports=function(e){return(null==e?0:e.length)?o(e,1):[]}},84486:(e,t,n)=>{var o=n(77412),r=n(89881),i=n(54290),s=n(1469);e.exports=function(e,t){return(s(e)?o:r)(e,i(t))}},62620:(e,t,n)=>{var o=n(28483),r=n(54290),i=n(81704);e.exports=function(e,t){return null==e?e:o(e,r(t),i)}},27361:(e,t,n)=>{var o=n(97786);e.exports=function(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}},18721:(e,t,n)=>{var o=n(78565),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,o)}},79095:(e,t,n)=>{var o=n(13),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,o)}},6557:e=>{e.exports=function(e){return e}},35694:(e,t,n)=>{var o=n(9454),r=n(37005),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var o=n(23560),r=n(41780);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},29246:(e,t,n)=>{var o=n(98612),r=n(37005);e.exports=function(e){return r(e)&&o(e)}},44144:(e,t,n)=>{e=n.nmd(e);var o=n(55639),r=n(95062),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?o.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l},41609:(e,t,n)=>{var o=n(280),r=n(64160),i=n(35694),s=n(1469),a=n(98612),l=n(44144),c=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||i(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!o(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},23560:(e,t,n)=>{var o=n(44239),r=n(13218);e.exports=function(e){if(!r(e))return!1;var t=o(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56688:(e,t,n)=>{var o=n(25588),r=n(7518),i=n(31167),s=i&&i.isMap,a=s?r(s):o;e.exports=a},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,n)=>{var o=n(44239),r=n(85924),i=n(37005),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=o(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},72928:(e,t,n)=>{var o=n(29221),r=n(7518),i=n(31167),s=i&&i.isSet,a=s?r(s):o;e.exports=a},47037:(e,t,n)=>{var o=n(44239),r=n(1469),i=n(37005);e.exports=function(e){return"string"==typeof e||!r(e)&&i(e)&&"[object String]"==o(e)}},33448:(e,t,n)=>{var o=n(44239),r=n(37005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},36719:(e,t,n)=>{var o=n(38749),r=n(7518),i=n(31167),s=i&&i.isTypedArray,a=s?r(s):o;e.exports=a},52353:e=>{e.exports=function(e){return void 0===e}},3674:(e,t,n)=>{var o=n(14636),r=n(280),i=n(98612);e.exports=function(e){return i(e)?o(e):r(e)}},81704:(e,t,n)=>{var o=n(14636),r=n(10313),i=n(98612);e.exports=function(e){return i(e)?o(e,!0):r(e)}},10928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},35161:(e,t,n)=>{var o=n(29932),r=n(67206),i=n(69199),s=n(1469);e.exports=function(e,t){return(s(e)?o:i)(e,r(t,3))}},66604:(e,t,n)=>{var o=n(89465),r=n(47816),i=n(67206);e.exports=function(e,t){var n={};return t=i(t,3),r(e,(function(e,r,i){o(n,r,t(e,r,i))})),n}},6162:(e,t,n)=>{var o=n(56029),r=n(53325),i=n(6557);e.exports=function(e){return e&&e.length?o(e,i,r):void 0}},88306:(e,t,n)=>{var o=n(83369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(r.Cache||o),n}r.Cache=o,e.exports=r},82492:(e,t,n)=>{var o=n(42980),r=n(21463)((function(e,t,n){o(e,t,n)}));e.exports=r},53632:(e,t,n)=>{var o=n(56029),r=n(70433),i=n(6557);e.exports=function(e){return e&&e.length?o(e,i,r):void 0}},22762:(e,t,n)=>{var o=n(56029),r=n(67206),i=n(70433);e.exports=function(e,t){return e&&e.length?o(e,r(t,2),i):void 0}},50308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var o=n(55639);e.exports=function(){return o.Date.now()}},78718:(e,t,n)=>{var o=n(25970),r=n(99021)((function(e,t){return null==e?{}:o(e,t)}));e.exports=r},39601:(e,t,n)=>{var o=n(40371),r=n(79152),i=n(15403),s=n(40327);e.exports=function(e){return i(e)?o(s(e)):r(e)}},96026:(e,t,n)=>{var o=n(47445)();e.exports=o},54061:(e,t,n)=>{var o=n(62663),r=n(89881),i=n(67206),s=n(10107),a=n(1469);e.exports=function(e,t,n){var l=a(e)?o:s,c=arguments.length<3;return l(e,i(t,4),n,c,r)}},84238:(e,t,n)=>{var o=n(280),r=n(64160),i=n(98612),s=n(47037),a=n(88016);e.exports=function(e){if(null==e)return 0;if(i(e))return s(e)?a(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},89734:(e,t,n)=>{var o=n(21078),r=n(82689),i=n(5976),s=n(16612),a=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,o(t,1),[])}));e.exports=a},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},18601:(e,t,n)=>{var o=n(14841),r=1/0;e.exports=function(e){return e?(e=o(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:(e,t,n)=>{var o=n(18601);e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var o=n(27561),r=n(13218),i=n(33448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},59881:(e,t,n)=>{var o=n(98363),r=n(81704);e.exports=function(e){return o(e,r(e))}},79833:(e,t,n)=>{var o=n(80531);e.exports=function(e){return null==e?"":o(e)}},68718:(e,t,n)=>{var o=n(77412),r=n(3118),i=n(47816),s=n(67206),a=n(85924),l=n(1469),c=n(44144),u=n(23560),d=n(13218),h=n(36719);e.exports=function(e,t,n){var p=l(e),f=p||c(e)||h(e);if(t=s(t,4),null==n){var m=e&&e.constructor;n=f?p?new m:[]:d(e)&&u(m)?r(a(e)):{}}return(f?o:i)(e,(function(e,o,r){return t(n,e,o,r)})),n}},93386:(e,t,n)=>{var o=n(21078),r=n(5976),i=n(45652),s=n(29246),a=r((function(e){return i(o(e,1,s,!0))}));e.exports=a},73955:(e,t,n)=>{var o=n(79833),r=0;e.exports=function(e){var t=++r;return o(e)+t}},52628:(e,t,n)=>{var o=n(47415),r=n(3674);e.exports=function(e){return null==e?[]:o(e,r(e))}},7287:(e,t,n)=>{var o=n(34865),r=n(1757);e.exports=function(e,t){return r(e||[],t||[],o)}},42441:(e,t,n)=>{var o;!function(r,i,s){if(r){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)l[111+h]="f"+h;for(h=0;h<=9;++h)l[h+96]=h.toString();w.prototype.bind=function(e,t,n){var o=this;return e=e instanceof Array?e:[e],o._bindMultiple.call(o,e,t,n),o},w.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},w.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},w.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},w.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},w.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},w.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);a=null},w.init=function(){var e=w(i);for(var t in e)"_"!==t.charAt(0)&&(w[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},w.init(),r.Mousetrap=w,e.exports&&(e.exports=w),void 0===(o=function(){return w}.call(t,n,t,e))||(e.exports=o)}function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t,n){return n||(n=function(){if(!a)for(var e in a={},l)e>95&&e<112||l.hasOwnProperty(e)&&(a[l[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e,t){var n,o,r,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<n.length;++r)o=n[r],d[o]&&(o=d[o]),t&&"keypress"!=t&&u[o]&&(o=u[o],i.push("shift")),m(o)&&i.push(o);return{key:o,modifiers:i,action:t=g(o,i,t)}}function y(e,t){return null!==e&&e!==i&&(e===t||y(e.parentNode,t))}function w(e){var t=this;if(e=e||i,!(t instanceof w))return new w(e);t.target=e,t._callbacks={},t._directMap={};var n,o={},r=!1,s=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in o)e[t]?n=!0:o[t]=0;n||(a=!1)}function c(e,n,r,i,s,a){var l,c,u,d,h=[],p=r.type;if(!t._callbacks[e])return[];for("keyup"==p&&m(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(i||!c.seq||o[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(u=n,d=c.modifiers,u.sort().join(",")===d.sort().join(",")))){var f=!i&&c.combo==s,g=i&&c.seq==i&&c.level==a;(f||g)&&t._callbacks[e].splice(l,1),h.push(c)}return h}function u(e,n,o,r){t.stopCallback(n,n.target||n.srcElement,o,r)||!1===e(n,o)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||r!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function h(e,t,i,s){function c(t){return function(){a=t,++o[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){u(i,t,e),"keyup"!==s&&(r=f(t)),setTimeout(l,10)}o[e]=0;for(var h=0;h<t.length;++h){var p=h+1===t.length?d:c(s||v(t[h+1]).action);g(t[h],p,s,e,h)}}function g(e,n,o,r,i){t._directMap[e+":"+o]=n;var s,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?h(e,a,n,o):(s=v(e,o),t._callbacks[s.key]=t._callbacks[s.key]||[],c(s.key,s.modifiers,{type:s.action},r,e,i),t._callbacks[s.key][r?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:r,level:i,combo:e}))}t._handleKey=function(e,t,n){var o,r=c(e,t,n),i={},d=0,h=!1;for(o=0;o<r.length;++o)r[o].seq&&(d=Math.max(d,r[o].level));for(o=0;o<r.length;++o)if(r[o].seq){if(r[o].level!=d)continue;h=!0,i[r[o].seq]=1,u(r[o].callback,n,r[o].combo,r[o].seq)}else h||u(r[o].callback,n,r[o].combo);var p="keypress"==n.type&&s;n.type!=a||m(e)||p||l(i),s=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)g(e[o],t,n)},p(e,"keypress",d),p(e,"keydown",d),p(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},31528:function(e,t){var n,o,r;!function(i,s){"use strict";"object"==typeof e.exports?e.exports=s():(o=[],void 0===(r="function"==typeof(n=s)?n.apply(t,o):n)||(e.exports=r))}(0,(function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(r(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function o(t){return e.call(t)}var r=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){var t=parseInt(e);return t.toString()===e?t:e}function s(e){var s,a,l=function(e){return Object.keys(l).reduce((function(t,n){return"create"===n||"function"==typeof l[n]&&(t[n]=l[n].bind(l,e)),t}),{})};function c(e,t){if(s(e,t))return e[t]}function u(e,t,n,o){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return u(e,t.split(".").map(i),n,o);var r=t[0],s=a(e,r);return 1===t.length?(void 0!==s&&o||(e[r]=n),s):(void 0===s&&("number"==typeof t[1]?e[r]=[]:e[r]={}),u(e[r],t.slice(1),n,o))}return s=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,n){return"number"==typeof n&&Array.isArray(e)||t(e,n)},a=e.includeInheritedProps?function(e,t){"string"!=typeof t&&"number"!=typeof t&&(t=String(t));var n=c(e,t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof n)throw new Error("For security reasons, object's magic properties cannot be set");return n}:function(e,t){return c(e,t)},l.has=function(n,o){if("number"==typeof o?o=[o]:"string"==typeof o&&(o=o.split(".")),!o||0===o.length)return!!n;for(var s=0;s<o.length;s++){var a=i(o[s]);if(!("number"==typeof a&&r(n)&&a<n.length||(e.includeInheritedProps?a in Object(n):t(n,a))))return!1;n=n[a]}return!0},l.ensureExists=function(e,t,n){return u(e,t,n,!0)},l.set=function(e,t,n,o){return u(e,t,n,o)},l.insert=function(e,t,n,o){var i=l.get(e,t);o=~~o,r(i)||(i=[],l.set(e,t,i)),i.splice(o,0,n)},l.empty=function(e,t){var i,a;if(!n(t)&&(null!=e&&(i=l.get(e,t)))){if("string"==typeof i)return l.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===o(e)}(i))return l.set(e,t,!1);if("number"==typeof i)return l.set(e,t,0);if(r(i))i.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===o(e)}(i))return l.set(e,t,null);for(a in i)s(i,a)&&delete i[a]}}},l.push=function(e,t){var n=l.get(e,t);r(n)||(n=[],l.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},l.coalesce=function(e,t,n){for(var o,r=0,i=t.length;r<i;r++)if(void 0!==(o=l.get(e,t[r])))return o;return n},l.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return l.get(e,t.split("."),n);var o=i(t[0]),r=a(e,o);return void 0===r?n:1===t.length?r:l.get(e[o],t.slice(1),n)},l.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return l.del(e,t.split("."));var o=i(t[0]);return a(e,o),s(e,o)?1!==t.length?l.del(e[o],t.slice(1)):(r(e)?e.splice(o,1):delete e[o],e):e},l}var a=s();return a.create=s,a.withInheritedProps=s({includeInheritedProps:!0}),a}))},57460:function(e,t){var n,o,r;
/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/o=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,o=n&&/blob:/i.test((t.location||{}).protocol),r={},i=0,s={parse:function(n,o){var a=(o=o||{}).dynamicTyping||!1;if(k(a)&&(o.dynamicTypingFunction=a,a={}),o.dynamicTyping=a,o.transform=!!k(o.transform)&&o.transform,o.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,o,a=(n=t.URL||t.webkitURL||null,o=e.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["(",o,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=g,l.id=i++,r[l.id]=l}();return l.userStep=o.step,l.userChunk=o.chunk,l.userComplete=o.complete,l.userError=o.error,o.step=k(o.step),o.chunk=k(o.chunk),o.complete=k(o.complete),o.error=k(o.error),delete o.worker,void l.postMessage({input:n,config:o,workerId:l.id})}var p=null;return s.NODE_STREAM_INPUT,"string"==typeof n?p=o.download?new c(o):new d(o):!0===n.readable&&k(n.read)&&k(n.on)?p=new h(o):(t.File&&n instanceof File||n instanceof Object)&&(p=new u(o)),p.stream(n)},unparse:function(e,t){var n=!1,o=!0,r=",",i="\r\n",a='"',l=a+a,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(r=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(o=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(f(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&o){for(var c=0;c<e.length;c++)0<c&&(s+=r),s+=m(e[c],c);0<t.length&&(s+=i)}for(var u=0;u<t.length;u++){var d=a?e.length:t[u].length,h=!1,p=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var f=[],g=0;g<d;g++){var v=l?e[g]:g;f.push(t[u][v])}h=""===f.join("").trim()}if(!h){for(var y=0;y<d;y++){0<y&&!p&&(s+=r);var w=a&&l?e[y]:y;s+=m(t[u][w],y)}u<t.length-1&&(!n||0<d&&!p)&&(s+=i)}}return s}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var o=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,o=!0);var i=e.toString().replace(h,l);return(o=o||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(i,s.BAD_DELIMITERS)||-1<i.indexOf(r)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?a+i+a:i}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=p,s.NetworkStreamer=c,s.FileStreamer=u,s.StringStreamer=d,s.ReadableStreamStreamer=h,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},o=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)o.push({file:this.files[r],inputElem:this,instanceConfig:a.extend({},n)})})),r(),this;function r(){if(0!==o.length){var t,n,r,l,c=o[0];if(k(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,r=c.inputElem,l=u.reason,void(k(e.error)&&e.error({name:t},n,r,l));if("skip"===u.action)return void i();"object"==typeof u.config&&(c.instanceConfig=a.extend(c.instanceConfig,u.config))}else if("skip"===u)return void i()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){k(d)&&d(e,c.file,c.inputElem),i()},s.parse(c.file,c.instanceConfig)}else k(e.complete)&&e.complete()}function i(){o.splice(0,1),r()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var a=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=i.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)t.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(k(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!k(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){k(this._config.error)?this._config.error(e):o&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var o in e)t.setRequestHeader(o,e[o])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var o="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,o?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,r)}var i=t.readAsText(e,this._config.encoding);o||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],n=!0,o=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){o&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),o=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,n,o,r=Math.pow(2,53),i=-r,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,c=this,u=0,d=0,h=!1,p=!1,g=[],v={data:[],errors:[],meta:{}};if(k(e.step)){var y=e.step;e.step=function(t){if(v=t,S())x();else{if(x(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],y(v,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function x(){return v&&o&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),o=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!b(e)}))),S()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;S()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){k(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var o,r=e.header?{}:[];for(o=0;o<t.length;o++){var i=o,s=t[o];e.header&&(i=o>=g.length?"__parsed_extra":g[o]),e.transform&&(s=e.transform(s,i)),s=_(i,s),"__parsed_extra"===i?(r[i]=r[i]||[],r[i].push(s)):r[i]=s}return e.header&&(o>g.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+o,d+n):o<g.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+o,d+n)),r}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),d+=n,v}()}function S(){return e.header&&0===g.length}function _(t,n){return o=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[o]&&(e.dynamicTyping[o]=e.dynamicTypingFunction(o)),!0===(e.dynamicTyping[o]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(i<t&&t<r)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var o}function C(e,t,n,o){var r={type:e,code:t,message:n};void 0!==o&&(r.row=o),v.errors.push(r)}this.parse=function(r,i,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),o=(e=e.replace(n,"")).split("\r"),r=e.split("\n"),i=1<r.length&&r[0].length<o[0].length;if(1===o.length||i)return"\n";for(var s=0,a=0;a<o.length;a++)"\n"===o[a][0]&&s++;return s>=o.length/2?"\r\n":"\r"}(r,l)),o=!1,e.delimiter)k(e.delimiter)&&(e.delimiter=e.delimiter(r),v.meta.delimiter=e.delimiter);else{var c=function(t,n,o,r,i){var a,l,c,u;i=i||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var d=0;d<i.length;d++){var h=i[d],p=0,f=0,g=0;c=void 0;for(var v=new m({comments:r,delimiter:h,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(o&&b(v.data[y]))g++;else{var w=v.data[y].length;f+=w,void 0!==c?0<w&&(p+=Math.abs(w-c),c=w):c=w}0<v.data.length&&(f/=v.data.length-g),(void 0===l||p<=l)&&(void 0===u||u<f)&&1.99<f&&(l=p,a=h,u=f)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(o=!0,e.delimiter=s.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=w(e);return e.preview&&e.header&&u.preview++,t=r,n=new m(u),v=n.parse(t,i,a),x(),h?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=k(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),v.meta.aborted=!0,k(e.complete)&&e.complete(v),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,o=e.newline,r=e.comments,i=e.step,a=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==o&&"\r"!==o&&"\r\n"!==o&&(o="\n");var u=0,d=!1;this.parse=function(e,s,h){if("string"!=typeof e)throw new Error("Input must be a string");var p=e.length,m=n.length,g=o.length,v=r.length,y=k(i),w=[],b=[],x=[],S=u=0;if(!e)return U();if(l||!1!==l&&-1===e.indexOf(t)){for(var _=e.split(o),C=0;C<_.length;C++){if(x=_[C],u+=x.length,C!==_.length-1)u+=o.length;else if(h)return U();if(!r||x.substring(0,v)!==r){if(y){if(w=[],L(x.split(n)),B(),d)return U()}else L(x.split(n));if(a&&a<=C)return w=w.slice(0,a),U(!0)}}return U()}for(var D=e.indexOf(n,u),E=e.indexOf(o,u),A=new RegExp(f(c)+f(t),"g"),O=e.indexOf(t,u);;)if(e[u]!==t)if(r&&0===x.length&&e.substring(u,u+v)===r){if(-1===E)return U();u=E+g,E=e.indexOf(o,u),D=e.indexOf(n,u)}else if(-1!==D&&(D<E||-1===E))x.push(e.substring(u,D)),u=D+m,D=e.indexOf(n,u);else{if(-1===E)break;if(x.push(e.substring(u,E)),P(E+g),y&&(B(),d))return U();if(a&&w.length>=a)return U(!0)}else for(O=u,u++;;){if(-1===(O=e.indexOf(t,O+1)))return h||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:u}),N();if(O===p-1)return N(e.substring(u,O).replace(A,t));if(t!==c||e[O+1]!==c){if(t===c||0===O||e[O-1]!==c){-1!==D&&D<O+1&&(D=e.indexOf(n,O+1)),-1!==E&&E<O+1&&(E=e.indexOf(o,O+1));var T=I(-1===E?D:Math.min(D,E));if(e.substr(O+1+T,m)===n){x.push(e.substring(u,O).replace(A,t)),e[u=O+1+T+m]!==t&&(O=e.indexOf(t,u)),D=e.indexOf(n,u),E=e.indexOf(o,u);break}var M=I(E);if(e.substring(O+1+M,O+1+M+g)===o){if(x.push(e.substring(u,O).replace(A,t)),P(O+1+M+g),D=e.indexOf(n,u),O=e.indexOf(t,u),y&&(B(),d))return U();if(a&&w.length>=a)return U(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:u}),O++}}else O++}return N();function L(e){w.push(e),S=u}function I(t){var n=0;if(-1!==t){var o=e.substring(O+1,t);o&&""===o.trim()&&(n=o.length)}return n}function N(t){return h||(void 0===t&&(t=e.substring(u)),x.push(t),u=p,L(x),y&&B()),U()}function P(t){u=t,L(x),x=[],E=e.indexOf(o,u)}function U(e){return{data:w,errors:b,meta:{delimiter:n,linebreak:o,aborted:d,truncated:!!e,cursor:S+(s||0)}}}function B(){i(U()),w=[],b=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=r[t.workerId],o=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){o=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(k(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!o);s++);delete t.results}else k(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!o&&v(t.workerId,t.results)}function v(e,t){var n=r[e];k(n.userComplete)&&n.userComplete(t),n.terminate(),delete r[e]}function y(){throw new Error("Not implemented.")}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function k(e){return"function"==typeof e}return o&&(t.onmessage=function(e){var n=e.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var o=s.parse(n.input,n.config);o&&t.postMessage({workerId:s.WORKER_ID,results:o,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,s},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)},95684:(e,t,n)=>{"use strict";n.d(t,{Q_:()=>ee,WB:()=>W});var o=n(2262),r=n(66252),i=n(86121),s=n(73412);
/*!
  * pinia v2.0.18
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
let a;const l=e=>a=e,c=Symbol("pinia");function u(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var d;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(d||(d={}));const h="undefined"!=typeof window,p=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function f(e,t,n){const o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){w(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function m(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function g(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const v="object"==typeof navigator?navigator:{userAgent:""},y=(()=>/Macintosh/.test(v.userAgent)&&/AppleWebKit/.test(v.userAgent)&&!/Safari/.test(v.userAgent))(),w=h?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!y?function(e,t="download",n){const o=document.createElement("a");o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin!==location.origin?m(o.href)?f(e,t,n):(o.target="_blank",g(o)):g(o)):(o.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(o.href)}),4e4),setTimeout((function(){g(o)}),0))}:"msSaveOrOpenBlob"in v?function(e,t="download",n){if("string"==typeof e)if(m(e))f(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){g(t)}))}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,o){(o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading...");if("string"==typeof e)return f(e,t,n);const r="application/octet-stream"===e.type,i=/constructor/i.test(String(p.HTMLElement))||"safari"in p,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&i||y)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw o=null,new Error("Wrong reader.result type");e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location.assign(e),o=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);o?o.location.assign(t):location.href=t,o=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}:()=>{};function b(e,t){const n="🍍 "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function k(e){return"_a"in e&&"install"in e}function x(){if(!("clipboard"in navigator))return b("Your browser doesn't support the Clipboard API","error"),!0}function S(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(b('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let _;async function C(e){try{const t=await(_||(_=document.createElement("input"),_.type="file",_.accept=".json"),function(){return new Promise(((e,t)=>{_.onchange=async()=>{const t=_.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},_.oncancel=()=>e(null),_.onerror=t,_.click()}))}),n=await t();if(!n)return;const{text:o,file:r}=n;e.state.value=JSON.parse(o),b(`Global state imported from "${r.name}".`)}catch(e){b("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}function D(e){return{_custom:{display:e}}}const E="🍍 Pinia (root)",A="_root";function O(e){return k(e)?{id:A,label:E}:{id:e.$id,label:e.$id}}function T(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:D(e.type),key:D(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function M(e){switch(e){case d.direct:return"mutation";case d.patchFunction:case d.patchObject:return"$patch";default:return"unknown"}}let L=!0;const I=[],N="pinia:mutations",P="pinia",U=e=>"🍍 "+e;function B(e,t){(0,s.F1)({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:I,app:e},(n=>{"function"!=typeof n.now&&b("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:N,label:"Pinia 🍍",color:15064968}),n.addInspector({id:P,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(e){if(!x())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),b("Global state copied to clipboard.")}catch(e){if(S(e))return;b("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(e){if(!x())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),b("Global state pasted from clipboard.")}catch(e){if(S(e))return;b("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}(t),n.sendInspectorTree(P),n.sendInspectorState(P)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(e){try{w(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){b("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await C(t),n.sendInspectorTree(P),n.sendInspectorState(P)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:e=>{const n=t._s.get(e);n?n._isOptionsAPI?(n.$reset(),b(`Store "${e}" reset.`)):b(`Cannot reset "${e}" store because it's a setup store.`,"warn"):b(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:U(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,o.IU)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:U(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(t){e[n]=t}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===P){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):E.toLowerCase().includes(n.filter.toLowerCase()))):e).map(O)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===P){const e=n.nodeId===A?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=function(e){if(k(e)){const t=Array.from(e._s.keys()),n=e._s,o={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return o}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}(e))}})),n.on.editInspectorState(((n,o)=>{if(n.app===e&&n.inspectorId===P){const e=n.nodeId===A?t:t._s.get(n.nodeId);if(!e)return b(`store "${n.nodeId}" not found`,"error");const{path:o}=n;k(e)?o.unshift("state"):1===o.length&&e._customProperties.has(o[0])&&!(o[0]in e.$state)||o.unshift("$state"),L=!1,n.set(e,o,n.state.value),L=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const n=e.type.replace(/^🍍\s*/,""),o=t._s.get(n);if(!o)return b(`store "${n}" not found`,"error");const{path:r}=e;if("state"!==r[0])return b(`Invalid path for store "${n}":\n${r}\nOnly state can be modified.`);r[0]="$state",L=!1,e.set(o,r,e.state.value),L=!0}}))}))}let j,R=0;function V(e,t){const n=t.reduce(((t,n)=>(t[n]=(0,o.IU)(e)[n],t)),{});for(const t in n)e[t]=function(){const o=R,r=new Proxy(e,{get:(...e)=>(j=o,Reflect.get(...e)),set:(...e)=>(j=o,Reflect.set(...e))});return n[t].apply(r,arguments)}}function F({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),"function"==typeof n.state){V(t,Object.keys(n.actions));const e=t._hotUpdate;(0,o.IU)(t)._hotUpdate=function(n){e.apply(this,arguments),V(t,Object.keys(n._hmrPayload.actions))}}!function(e,t){I.includes(U(t.$id))||I.push(U(t.$id)),(0,s.F1)({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:I,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"==typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:o,onError:r,name:i,args:s})=>{const a=R++;e.addTimelineEvent({layerId:N,event:{time:n(),title:"🛫 "+i,subtitle:"start",data:{store:D(t.$id),action:D(i),args:s},groupId:a}}),o((o=>{j=void 0,e.addTimelineEvent({layerId:N,event:{time:n(),title:"🛬 "+i,subtitle:"end",data:{store:D(t.$id),action:D(i),args:s,result:o},groupId:a}})})),r((o=>{j=void 0,e.addTimelineEvent({layerId:N,event:{time:n(),logType:"error",title:"💥 "+i,subtitle:"end",data:{store:D(t.$id),action:D(i),args:s,error:o},groupId:a}})}))}),!0),t._customProperties.forEach((i=>{(0,r.YP)((()=>(0,o.SU)(t[i])),((t,o)=>{e.notifyComponentUpdate(),e.sendInspectorState(P),L&&e.addTimelineEvent({layerId:N,event:{time:n(),title:"Change",subtitle:i,data:{newValue:t,oldValue:o},groupId:j}})}),{deep:!0})})),t.$subscribe((({events:o,type:r},i)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(P),!L)return;const s={time:n(),title:M(r),data:{store:D(t.$id),...T(o)},groupId:j};j=void 0,r===d.patchFunction?s.subtitle="⤵️":r===d.patchObject?s.subtitle="🧩":o&&!Array.isArray(o)&&(s.subtitle=o.type),o&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),e.addTimelineEvent({layerId:N,event:s})}),{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=(0,o.Xl)((o=>{i(o),e.addTimelineEvent({layerId:N,event:{time:n(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:D(t.$id),info:D("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(P),e.sendInspectorState(P)}));const{$dispose:s}=t;t.$dispose=()=>{s(),e.notifyComponentUpdate(),e.sendInspectorTree(P),e.sendInspectorState(P),e.getSettings().logStoreChanges&&b(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(P),e.sendInspectorState(P),e.getSettings().logStoreChanges&&b(`"${t.$id}" store installed 🆕`)}))}(e,t)}}function W(){const e=(0,o.B)(!0),t=e.run((()=>(0,o.iH)({})));let n=[],r=[];const s=(0,o.Xl)({install(e){l(s),i.$Q||(s._a=e,e.provide(c,s),e.config.globalProperties.$pinia=s,h&&B(e,s),r.forEach((e=>n.push(e))),r=[])},use(e){return this._a||i.$Q?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return h&&"undefined"!=typeof Proxy&&s.use(F),s}function H(e,t){for(const n in t){const r=t[n];if(!(n in e))continue;const s=e[n];u(s)&&u(r)&&!(0,o.dq)(r)&&!(0,o.PG)(r)?e[n]=H(s,r):i.$Q?(0,i.t8)(e,n,r):e[n]=r}return e}const z=()=>{};function $(e,t,n,o=z){e.push(t);const i=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),o())};return!n&&(0,r.FN)()&&(0,r.Ah)(i),i}function K(e,...t){e.slice().forEach((e=>{e(...t)}))}function q(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];u(i)&&u(r)&&e.hasOwnProperty(n)&&!(0,o.dq)(r)&&!(0,o.PG)(r)?e[n]=q(i,r):e[n]=r}return e}const Y=Symbol("pinia:skipHydration"),G=new WeakMap;const{assign:X}=Object;function J(e){return!(!(0,o.dq)(e)||!e.effect)}function Z(e,t,n,s){const{state:a,actions:c,getters:u}=t,d=n.state.value[e];let h;return h=Q(e,(function(){d||s||(i.$Q?(0,i.t8)(n.state.value,e,a?a():{}):n.state.value[e]=a?a():{});const t=s?(0,o.BK)((0,o.iH)(a?a():{}).value):(0,o.BK)(n.state.value[e]);return X(t,c,Object.keys(u||{}).reduce(((s,a)=>(a in t&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${a}" in store "${e}".`),s[a]=(0,o.Xl)((0,r.Fl)((()=>{l(n);const t=n._s.get(e);if(!i.$Q||t._r)return u[a].call(t,t)}))),s)),{}))}),t,n,s,!0),h.$reset=function(){const e=a?a():{};this.$patch((t=>{X(t,e)}))},h}function Q(e,t,n={},s,a,c){let p;const f=X({actions:{}},n);if(!s._e.active)throw new Error("Pinia destroyed");const m={deep:!0};let g,v;i.$Q||(m.onTrigger=e=>{g?y=e:0!=g||A._hotUpdating||(Array.isArray(y)?y.push(e):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let y,w=(0,o.Xl)([]),b=(0,o.Xl)([]);const k=s.state.value[e];c||k||a||(i.$Q?(0,i.t8)(s.state.value,e,{}):s.state.value[e]={});const x=(0,o.iH)({});let S;function _(t){let n;g=v=!1,y=[],"function"==typeof t?(t(s.state.value[e]),n={type:d.patchFunction,storeId:e,events:y}):(q(s.state.value[e],t),n={type:d.patchObject,payload:t,storeId:e,events:y});const o=S=Symbol();(0,r.Y3)().then((()=>{S===o&&(g=!0)})),v=!0,K(w,n,s.state.value[e])}function C(t,n){return function(){l(s);const o=Array.from(arguments),r=[],i=[];function a(e){r.push(e)}function c(e){i.push(e)}let u;K(b,{args:o,name:t,store:A,after:a,onError:c});try{u=n.apply(this&&this.$id===e?this:A,o)}catch(e){throw K(i,e),e}return u instanceof Promise?u.then((e=>(K(r,e),e))).catch((e=>(K(i,e),Promise.reject(e)))):(K(r,u),u)}}const D=(0,o.Xl)({actions:{},getters:{},state:[],hotState:x}),E={_p:s,$id:e,$onAction:$.bind(null,b),$patch:_,$reset:()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)},$subscribe(t,n={}){const o=$(w,t,n.detached,(()=>i())),i=p.run((()=>(0,r.YP)((()=>s.state.value[e]),(o=>{("sync"===n.flush?v:g)&&t({storeId:e,type:d.direct,events:y},o)}),X({},m,n))));return o},$dispose:function(){p.stop(),w=[],b=[],s._s.delete(e)}};i.$Q&&(E._r=!1);const A=(0,o.qj)(X(h?{_customProperties:(0,o.Xl)(new Set),_hmrPayload:D}:{},E));s._s.set(e,A);const O=s._e.run((()=>(p=(0,o.B)(),p.run((()=>t())))));for(const t in O){const r=O[t];if((0,o.dq)(r)&&!J(r)||(0,o.PG)(r))a?(0,i.t8)(x.value,t,(0,o.Vh)(O,t)):c||(!k||(T=r,i.$Q?G.has(T):u(T)&&T.hasOwnProperty(Y))||((0,o.dq)(r)?r.value=k[t]:q(r,k[t])),i.$Q?(0,i.t8)(s.state.value[e],t,r):s.state.value[e][t]=r),D.state.push(t);else if("function"==typeof r){const e=a?r:C(t,r);i.$Q?(0,i.t8)(O,t,e):O[t]=e,D.actions[t]=r,f.actions[t]=r}else if(J(r)&&(D.getters[t]=c?n.getters[t]:r,h)){(O._getters||(O._getters=(0,o.Xl)([]))).push(t)}}var T;i.$Q?Object.keys(O).forEach((e=>{(0,i.t8)(A,e,O[e])})):(X(A,O),X((0,o.IU)(A),O)),Object.defineProperty(A,"$state",{get:()=>a?x.value:s.state.value[e],set:e=>{if(a)throw new Error("cannot set hotState");_((t=>{X(t,e)}))}});{A._hotUpdate=(0,o.Xl)((t=>{A._hotUpdating=!0,t._hmrPayload.state.forEach((e=>{if(e in A.$state){const n=t.$state[e],o=A.$state[e];"object"==typeof n&&u(n)&&u(o)?H(n,o):t.$state[e]=o}(0,i.t8)(A,e,(0,o.Vh)(t.$state,e))})),Object.keys(A.$state).forEach((e=>{e in t.$state||(0,i.IV)(A,e)})),g=!1,v=!1,s.state.value[e]=(0,o.Vh)(t._hmrPayload,"hotState"),v=!0,(0,r.Y3)().then((()=>{g=!0}));for(const e in t._hmrPayload.actions){const n=t[e];(0,i.t8)(A,e,C(e,n))}for(const e in t._hmrPayload.getters){const n=t._hmrPayload.getters[e],o=c?(0,r.Fl)((()=>(l(s),n.call(A,A)))):n;(0,i.t8)(A,e,o)}Object.keys(A._hmrPayload.getters).forEach((e=>{e in t._hmrPayload.getters||(0,i.IV)(A,e)})),Object.keys(A._hmrPayload.actions).forEach((e=>{e in t._hmrPayload.actions||(0,i.IV)(A,e)})),A._hmrPayload=t._hmrPayload,A._getters=t._getters,A._hotUpdating=!1}));const t={writable:!0,configurable:!0,enumerable:!1};h&&["_p","_hmrPayload","_getters","_customProperties"].forEach((e=>{Object.defineProperty(A,e,{value:A[e],...t})}))}return i.$Q&&(A._r=!0),s._p.forEach((e=>{if(h){const t=p.run((()=>e({store:A,app:s._a,pinia:s,options:f})));Object.keys(t||{}).forEach((e=>A._customProperties.add(e))),X(A,t)}else X(A,p.run((()=>e({store:A,app:s._a,pinia:s,options:f}))))})),A.$state&&"object"==typeof A.$state&&"function"==typeof A.$state.constructor&&!A.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be\n\tstate: () => new MyClass()\nFound in store "${A.$id}".`),k&&c&&n.hydrate&&n.hydrate(A.$state,k),g=!0,v=!0,A}function ee(e,t,n){let o,i;const s="function"==typeof t;function u(e,n){const d=(0,r.FN)();if((e=e||d&&(0,r.f3)(c))&&l(e),!a)throw new Error("[🍍]: getActivePinia was called with no active Pinia. Did you forget to install pinia?\n\tconst pinia = createPinia()\n\tapp.use(pinia)\nThis will fail in production.");(e=a)._s.has(o)||(s?Q(o,t,i,e):Z(o,i,e),u._pinia=e);const p=e._s.get(o);if(n){const r="__hot:"+o,a=s?Q(r,t,i,e,!0):Z(r,X({},i),e,!0);n._hotUpdate(a),delete e.state.value[r],e._s.delete(r)}if(h&&d&&d.proxy&&!n){const e=d.proxy;("_pStores"in e?e._pStores:e._pStores={})[o]=p}return p}return"string"==typeof e?(o=e,i=s?n:t):(i=e,o=e.id),u.$id=o,u}},51474:(e,t,n)=>{"use strict";
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.r(t),n.d(t,{MultiDrag:()=>xt,Sortable:()=>He,Swap:()=>dt,default:()=>Ct});function d(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var h=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p=d(/Edge/i),f=d(/firefox/i),m=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),g=d(/iP(ad|od|hone)/i),v=d(/chrome/i)&&d(/android/i),y={capture:!1,passive:!1};function w(e,t,n){e.addEventListener(t,n,!h&&y)}function b(e,t,n){e.removeEventListener(t,n,!h&&y)}function k(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function x(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function S(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&k(e,t):k(e,t))||o&&e===n)return e;if(e===n)break}while(e=x(e))}return null}var _,C=/\s+/g;function D(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(C," ")}}function E(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function A(e,t){var n="";if("string"==typeof e)n=e;else do{var o=E(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function O(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function T(){var e=document.scrollingElement;return e||document.documentElement}function M(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var i,s,a,l,c,u,d;if(e!==window&&e.parentNode&&e!==T()?(s=(i=e.getBoundingClientRect()).top,a=i.left,l=i.bottom,c=i.right,u=i.height,d=i.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!h))do{if(r&&r.getBoundingClientRect&&("none"!==E(r,"transform")||n&&"static"!==E(r,"position"))){var p=r.getBoundingClientRect();s-=p.top+parseInt(E(r,"border-top-width")),a-=p.left+parseInt(E(r,"border-left-width")),l=s+i.height,c=a+i.width;break}}while(r=r.parentNode);if(o&&e!==window){var f=A(r||e),m=f&&f.a,g=f&&f.d;f&&(l=(s/=g)+(u/=g),c=(a/=m)+(d/=m))}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function L(e,t,n){for(var o=B(e,!0),r=M(e)[t];o;){var i=M(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===T())break;o=B(o,!1)}return!1}function I(e,t,n,o){for(var r=0,i=0,s=e.children;i<s.length;){if("none"!==s[i].style.display&&s[i]!==He.ghost&&(o||s[i]!==He.dragged)&&S(s[i],n.draggable,e,!1)){if(r===t)return s[i];r++}i++}return null}function N(e,t){for(var n=e.lastElementChild;n&&(n===He.ghost||"none"===E(n,"display")||t&&!k(n,t));)n=n.previousElementSibling;return n||null}function P(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===He.clone||t&&!k(e,t)||n++;return n}function U(e){var t=0,n=0,o=T();if(e)do{var r=A(e),i=r.a,s=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*s}while(e!==o&&(e=e.parentNode));return[t,n]}function B(e,t){if(!e||!e.getBoundingClientRect)return T();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=E(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return T();if(o||t)return n;o=!0}}}while(n=n.parentNode);return T()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!_){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),_=setTimeout((function(){_=void 0}),t)}}}function V(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function W(e,t){E(e,"position","absolute"),E(e,"top",t.top),E(e,"left",t.left),E(e,"width",t.width),E(e,"height",t.height)}function H(e){E(e,"position",""),E(e,"top",""),E(e,"left",""),E(e,"width",""),E(e,"height","")}var z="Sortable"+(new Date).getTime();function $(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==E(e,"display")&&e!==He.ghost){t.push({target:e,rect:M(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=A(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,i=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,a=M(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=A(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&j(l,a)&&!j(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(u,l,c,o.options)),j(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=o.options.animation),o.animate(n,u,a,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){E(e,"transition",""),E(e,"transform","");var r=A(this.el),i=r&&r.a,s=r&&r.d,a=(t.left-n.left)/(i||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,E(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),E(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var K=[],q={initializeByDefault:!0},Y={mount:function(e){for(var t in q)q.hasOwnProperty(t)&&!(t in e)&&(e[t]=q[t]);K.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),K.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";K.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](r({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](r({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in K.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[r]=i,a(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);void 0!==i&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return K.forEach((function(o){"function"==typeof o.eventProperties&&a(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return K.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};function G(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[z]){var y,w=t.options,b="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||h||p?(y=document.createEvent("Event")).initEvent(o,!0,!0):y=new CustomEvent(o,{bubbles:!0,cancelable:!0}),y.to=a||n,y.from=l||n,y.item=i||n,y.clone=s,y.oldIndex=c,y.newIndex=u,y.oldDraggableIndex=d,y.newDraggableIndex=f,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var k=r(r({},v),Y.getEventProperties(o,t));for(var x in k)y[x]=k[x];n&&n.dispatchEvent(y),w[b]&&w[b].call(t,y)}}var X=["evt"],J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,i=l(n,X);Y.pluginEvent.bind(He)(e,t,r({dragEl:Q,parentEl:ee,ghostEl:te,rootEl:ne,nextEl:oe,lastDownEl:re,cloneEl:ie,cloneHidden:se,dragStarted:we,putSortable:he,activeSortable:He.active,originalEvent:o,oldIndex:ae,oldDraggableIndex:ce,newIndex:le,newDraggableIndex:ue,hideGhostForTarget:Re,unhideGhostForTarget:Ve,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(e){Z({sortable:t,name:e,originalEvent:o})}},i))};function Z(e){G(r({putSortable:he,cloneEl:ie,targetEl:Q,rootEl:ne,oldIndex:ae,oldDraggableIndex:ce,newIndex:le,newDraggableIndex:ue},e))}var Q,ee,te,ne,oe,re,ie,se,ae,le,ce,ue,de,he,pe,fe,me,ge,ve,ye,we,be,ke,xe,Se,_e=!1,Ce=!1,De=[],Ee=!1,Ae=!1,Oe=[],Te=!1,Me=[],Le="undefined"!=typeof document,Ie=g,Ne=p||h?"cssFloat":"float",Pe=Le&&!v&&!g&&"draggable"in document.createElement("div"),Ue=function(){if(Le){if(h)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Be=function(e,t){var n=E(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=I(e,0,t),i=I(e,1,t),s=r&&E(r),a=i&&E(i),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+M(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!i||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=o&&"none"===n[Ne]||i&&"none"===n[Ne]&&l+c>o)?"vertical":"horizontal"},je=function(e){function t(e,n){return function(o,r,i,s){var a=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,s),n)(o,r,i,s);var l=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},o=e.group;o&&"object"==i(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Re=function(){!Ue&&te&&E(te,"display","none")},Ve=function(){!Ue&&te&&E(te,"display","")};Le&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var Fe=function(e){if(Q){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,i=e.clientY,De.some((function(e){var t=e[z].options.emptyInsertThreshold;if(t&&!N(e)){var n=M(e),o=r>=n.left-t&&r<=n.right+t,a=i>=n.top-t&&i<=n.bottom+t;return o&&a?s=e:void 0}})),s);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[z]._onDragOver(n)}}var r,i,s},We=function(e){Q&&Q.parentNode[z]._isOutsideThisEl(e.target)};function He(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Be(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==He.supportPointer&&"PointerEvent"in window&&!m,emptyInsertThreshold:5};for(var o in Y.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in je(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Pe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?w(e,"pointerdown",this._onTapStart):(w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),De.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,$())}function ze(e,t,n,o,r,i,s,a){var l,c,u=e[z],d=u.options.onMove;return!window.CustomEvent||h||p?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=r||t,l.relatedRect=i||M(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function $e(e){e.draggable=!1}function Ke(){Te=!1}function qe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Ye(e){return setTimeout(e,0)}function Ge(e){return clearTimeout(e)}He.prototype={constructor:He,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(be=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=o.filter;if(function(e){Me.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&Me.push(o)}}(n),!Q&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!m||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=S(a,o.draggable,n,!1))&&a.animated||re===a)){if(ae=P(a),ce=P(a,o.draggable),"function"==typeof c){if(c.call(this,e,a,this))return Z({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),J("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=S(l,o.trim(),n,!1))return Z({sortable:t,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),J("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!S(l,o.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var o,r=this,i=r.el,s=r.options,a=i.ownerDocument;if(n&&!Q&&n.parentNode===i){var l=M(n);if(ne=i,ee=(Q=n).parentNode,oe=Q.nextSibling,re=n,de=s.group,He.dragged=Q,pe={target:Q,clientX:(t||e).clientX,clientY:(t||e).clientY},ve=pe.clientX-l.left,ye=pe.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Q.style["will-change"]="all",o=function(){J("delayEnded",r,{evt:e}),He.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!f&&r.nativeDraggable&&(Q.draggable=!0),r._triggerDragStart(e,t),Z({sortable:r,name:"choose",originalEvent:e}),D(Q,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){O(Q,e.trim(),$e)})),w(a,"dragover",Fe),w(a,"mousemove",Fe),w(a,"touchmove",Fe),w(a,"mouseup",r._onDrop),w(a,"touchend",r._onDrop),w(a,"touchcancel",r._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),J("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(p||h))o();else{if(He.eventCanceled)return void this._onDrop();w(a,"mouseup",r._disableDelayedDrag),w(a,"touchend",r._disableDelayedDrag),w(a,"touchcancel",r._disableDelayedDrag),w(a,"mousemove",r._delayedDragTouchMoveHandler),w(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&w(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&$e(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,t?"touchmove":"mousemove",this._onTouchMove):(w(Q,"dragend",this),w(ne,"dragstart",this._onDragStart));try{document.selection?Ye((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(_e=!1,ne&&Q){J("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",We);var n=this.options;!e&&D(Q,n.dragClass,!1),D(Q,n.ghostClass,!0),He.active=this,e&&this._appendGhost(),Z({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(fe){this._lastX=fe.clientX,this._lastY=fe.clientY,Re();for(var e=document.elementFromPoint(fe.clientX,fe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(fe.clientX,fe.clientY))!==t;)t=e;if(Q.parentNode[z]._isOutsideThisEl(e),t)do{if(t[z]){if(t[z]._onDragOver({clientX:fe.clientX,clientY:fe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ve()}},_onTouchMove:function(e){if(pe){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=te&&A(te,!0),s=te&&i&&i.a,a=te&&i&&i.d,l=Ie&&Se&&U(Se),c=(r.clientX-pe.clientX+o.x)/(s||1)+(l?l[0]-Oe[0]:0)/(s||1),u=(r.clientY-pe.clientY+o.y)/(a||1)+(l?l[1]-Oe[1]:0)/(a||1);if(!He.active&&!_e){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(te){i?(i.e+=c-(me||0),i.f+=u-(ge||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");E(te,"webkitTransform",d),E(te,"mozTransform",d),E(te,"msTransform",d),E(te,"transform",d),me=c,ge=u,fe=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!te){var e=this.options.fallbackOnBody?document.body:ne,t=M(Q,!0,Ie,!0,e),n=this.options;if(Ie){for(Se=e;"static"===E(Se,"position")&&"none"===E(Se,"transform")&&Se!==document;)Se=Se.parentNode;Se!==document.body&&Se!==document.documentElement?(Se===document&&(Se=T()),t.top+=Se.scrollTop,t.left+=Se.scrollLeft):Se=T(),Oe=U(Se)}D(te=Q.cloneNode(!0),n.ghostClass,!1),D(te,n.fallbackClass,!0),D(te,n.dragClass,!0),E(te,"transition",""),E(te,"transform",""),E(te,"box-sizing","border-box"),E(te,"margin",0),E(te,"top",t.top),E(te,"left",t.left),E(te,"width",t.width),E(te,"height",t.height),E(te,"opacity","0.8"),E(te,"position",Ie?"absolute":"fixed"),E(te,"zIndex","100000"),E(te,"pointerEvents","none"),He.ghost=te,e.appendChild(te),E(te,"transform-origin",ve/parseInt(te.style.width)*100+"% "+ye/parseInt(te.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;J("dragStart",this,{evt:e}),He.eventCanceled?this._onDrop():(J("setupClone",this),He.eventCanceled||((ie=F(Q)).draggable=!1,ie.style["will-change"]="",this._hideClone(),D(ie,this.options.chosenClass,!1),He.clone=ie),n.cloneId=Ye((function(){J("clone",n),He.eventCanceled||(n.options.removeCloneOnHide||ne.insertBefore(ie,Q),n._hideClone(),Z({sortable:n,name:"clone"}))})),!t&&D(Q,r.dragClass,!0),t?(Ce=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,Q)),w(document,"drop",n),E(Q,"transform","translateZ(0)")),_e=!0,n._dragStartId=Ye(n._dragStarted.bind(n,t,e)),w(document,"selectstart",n),we=!0,m&&E(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,i,s=this.el,a=e.target,l=this.options,c=l.group,u=He.active,d=de===c,h=l.sort,p=he||u,f=this,m=!1;if(!Te){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=S(a,l.draggable,s,!0),j("dragOver"),He.eventCanceled)return m;if(Q.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return F(!1);if(Ce=!1,u&&!l.disabled&&(d?h||(o=ee!==ne):he===this||(this.lastPutMode=de.checkPull(this,u,Q,e))&&c.checkPut(this,u,Q,e))){if(i="vertical"===this._getDirection(e,a),t=M(Q),j("dragOverValid"),He.eventCanceled)return m;if(o)return ee=ne,R(),this._hideClone(),j("revert"),He.eventCanceled||(oe?ne.insertBefore(Q,oe):ne.appendChild(Q)),F(!0);var g=N(s,l.draggable);if(!g||function(e,t,n){var o=M(N(n.el,n.options.draggable)),r=10;return t?e.clientX>o.right+r||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+r}(e,i,this)&&!g.animated){if(g===Q)return F(!1);if(g&&s===e.target&&(a=g),a&&(n=M(a)),!1!==ze(ne,s,Q,t,a,n,e,!!a))return R(),s.appendChild(Q),ee=s,W(),F(!0)}else if(g&&function(e,t,n){var o=M(I(n.el,0,n.options,!0)),r=10;return t?e.clientX<o.left-r||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-r||e.clientY<o.bottom&&e.clientX<o.left}(e,i,this)){var v=I(s,0,l,!0);if(v===Q)return F(!1);if(n=M(a=v),!1!==ze(ne,s,Q,t,a,n,e,!1))return R(),s.insertBefore(Q,v),ee=s,W(),F(!0)}else if(a.parentNode===s){n=M(a);var y,w,b,k=Q.parentNode!==s,x=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return o===s||r===a||o+i/2===s+l/2}(Q.animated&&Q.toRect||t,a.animated&&a.toRect||n,i),_=i?"top":"left",C=L(a,"top","top")||L(Q,"top","top"),A=C?C.scrollTop:void 0;if(be!==a&&(w=n[_],Ee=!1,Ae=!x&&l.invertSwap||k),y=function(e,t,n,o,r,i,s,a){var l=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,h=!1;if(!s)if(a&&xe<c*r){if(!Ee&&(1===ke?l>u+c*i/2:l<d-c*i/2)&&(Ee=!0),Ee)h=!0;else if(1===ke?l<u+xe:l>d-xe)return-ke}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return function(e){return P(Q)<P(e)?1:-1}(t);if((h=h||s)&&(l<u+c*i/2||l>d-c*i/2))return l>u+c/2?1:-1;return 0}(e,a,n,i,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ae,be===a),0!==y){var O=P(Q);do{O-=y,b=ee.children[O]}while(b&&("none"===E(b,"display")||b===te))}if(0===y||b===a)return F(!1);be=a,ke=y;var T=a.nextElementSibling,U=!1,B=ze(ne,s,Q,t,a,n,e,U=1===y);if(!1!==B)return 1!==B&&-1!==B||(U=1===B),Te=!0,setTimeout(Ke,30),R(),U&&!T?s.appendChild(Q):a.parentNode.insertBefore(Q,U?T:a),C&&V(C,0,A-C.scrollTop),ee=Q.parentNode,void 0===w||Ae||(xe=Math.abs(w-M(a)[_])),W(),F(!0)}if(s.contains(Q))return F(!1)}return!1}function j(l,c){J(l,f,r({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:h,fromSortable:p,target:a,completed:F,onMove:function(n,o){return ze(ne,s,Q,t,n,M(n),e,o)},changed:W},c))}function R(){j("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function F(t){return j("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==p&&(D(Q,he?he.options.ghostClass:u.options.ghostClass,!1),D(Q,l.ghostClass,!0)),he!==f&&f!==He.active?he=f:f===He.active&&he&&(he=null),p===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){j("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===Q&&!Q.animated||a===s&&!a.animated)&&(be=null),l.dragoverBubble||e.rootEl||a===document||(Q.parentNode[z]._isOutsideThisEl(e.target),!t&&Fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function W(){le=P(Q),ue=P(Q,l.draggable),Z({sortable:f,name:"change",toEl:s,newIndex:le,newDraggableIndex:ue,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Fe),b(document,"mousemove",Fe),b(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;le=P(Q),ue=P(Q,n.draggable),J("drop",this,{evt:e}),ee=Q&&Q.parentNode,le=P(Q),ue=P(Q,n.draggable),He.eventCanceled||(_e=!1,Ae=!1,Ee=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ge(this.cloneId),Ge(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&E(document.body,"user-select",""),E(Q,"transform",""),e&&(we&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(ne===ee||he&&"clone"!==he.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),Q&&(this.nativeDraggable&&b(Q,"dragend",this),$e(Q),Q.style["will-change"]="",we&&!_e&&D(Q,he?he.options.ghostClass:this.options.ghostClass,!1),D(Q,this.options.chosenClass,!1),Z({sortable:this,name:"unchoose",toEl:ee,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==ee?(le>=0&&(Z({rootEl:ee,name:"add",toEl:ee,fromEl:ne,originalEvent:e}),Z({sortable:this,name:"remove",toEl:ee,originalEvent:e}),Z({rootEl:ee,name:"sort",toEl:ee,fromEl:ne,originalEvent:e}),Z({sortable:this,name:"sort",toEl:ee,originalEvent:e})),he&&he.save()):le!==ae&&le>=0&&(Z({sortable:this,name:"update",toEl:ee,originalEvent:e}),Z({sortable:this,name:"sort",toEl:ee,originalEvent:e})),He.active&&(null!=le&&-1!==le||(le=ae,ue=ce),Z({sortable:this,name:"end",toEl:ee,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){J("nulling",this),ne=Q=ee=te=oe=ie=re=se=pe=fe=we=le=ue=ae=ce=be=ke=he=de=He.dragged=He.ghost=He.clone=He.active=null,Me.forEach((function(e){e.checked=!0})),Me.length=me=ge=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Q&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)S(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||qe(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];S(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=Y.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&je(n)},destroy:function(){J("destroy",this);var e=this.el;e[z]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),De.splice(De.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(J("hideClone",this),He.eventCanceled)return;E(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),se=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(se){if(J("showClone",this),He.eventCanceled)return;Q.parentNode!=ne||this.options.group.revertClone?oe?ne.insertBefore(ie,oe):ne.appendChild(ie):ne.insertBefore(ie,Q),this.options.group.revertClone&&this.animate(Q,ie),E(ie,"display",""),se=!1}}else this._hideClone()}},Le&&w(document,"touchmove",(function(e){(He.active||_e)&&e.cancelable&&e.preventDefault()})),He.utils={on:w,off:b,css:E,find:O,is:function(e,t){return!!S(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:R,closest:S,toggleClass:D,clone:F,index:P,nextTick:Ye,cancelNextTick:Ge,detectDirection:Be,getChild:I},He.get=function(e){return e[z]},He.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(He.utils=r(r({},He.utils),e.utils)),Y.mount(e)}))},He.create=function(e,t){return new He(e,t)},He.version="1.14.0";var Xe,Je,Ze,Qe,et,tt,nt=[],ot=!1;function rt(){nt.forEach((function(e){clearInterval(e.pid)})),nt=[]}function it(){clearInterval(tt)}var st,at=R((function(e,t,n,o){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=T(),u=!1;Je!==n&&(Je=n,rt(),Xe=t.scroll,r=t.scrollFn,!0===Xe&&(Xe=B(n,!0)));var d=0,h=Xe;do{var p=h,f=M(p),m=f.top,g=f.bottom,v=f.left,y=f.right,w=f.width,b=f.height,k=void 0,x=void 0,S=p.scrollWidth,_=p.scrollHeight,C=E(p),D=p.scrollLeft,A=p.scrollTop;p===c?(k=w<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),x=b<_&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(k=w<S&&("auto"===C.overflowX||"scroll"===C.overflowX),x=b<_&&("auto"===C.overflowY||"scroll"===C.overflowY));var O=k&&(Math.abs(y-i)<=a&&D+w<S)-(Math.abs(v-i)<=a&&!!D),L=x&&(Math.abs(g-s)<=a&&A+b<_)-(Math.abs(m-s)<=a&&!!A);if(!nt[d])for(var I=0;I<=d;I++)nt[I]||(nt[I]={});nt[d].vx==O&&nt[d].vy==L&&nt[d].el===p||(nt[d].el=p,nt[d].vx=O,nt[d].vy=L,clearInterval(nt[d].pid),0==O&&0==L||(u=!0,nt[d].pid=setInterval(function(){o&&0===this.layer&&He.active._onTouchMove(et);var t=nt[this.layer].vy?nt[this.layer].vy*l:0,n=nt[this.layer].vx?nt[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(He.dragged.parentNode[z],n,t,e,et,nt[this.layer].el)||V(nt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=B(h,!1)));ot=u}}),30),lt=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||r;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function ct(){}function ut(){}function dt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;st=t},dragOverValid:function(e){var t=e.completed,n=e.target,o=e.onMove,r=e.activeSortable,i=e.changed,s=e.cancel;if(r.options.swap){var a=this.sortable.el,l=this.options;if(n&&n!==a){var c=st;!1!==o(n)?(D(n,l.swapClass,!0),st=n):st=null,c&&c!==st&&D(c,l.swapClass,!1)}i(),t(!0),s()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,o=e.dragEl,r=n||this.sortable,i=this.options;st&&D(st,i.swapClass,!1),st&&(i.swap||n&&n.options.swap)&&o!==st&&(r.captureAnimationState(),r!==t&&t.captureAnimationState(),function(e,t){var n,o,r=e.parentNode,i=t.parentNode;if(!r||!i||r.isEqualNode(t)||i.isEqualNode(e))return;n=P(e),o=P(t),r.isEqualNode(i)&&n<o&&o++;r.insertBefore(t,r.children[n]),i.insertBefore(e,i.children[o])}(o,st),r.animateAll(),r!==t&&t.animateAll())},nulling:function(){st=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:st}}})}ct.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=I(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:lt},a(ct,{pluginName:"revertOnSpill"}),ut.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:lt},a(ut,{pluginName:"removeOnSpill"});var ht,pt,ft,mt,gt,vt=[],yt=[],wt=!1,bt=!1,kt=!1;function xt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?w(document,"pointerup",this._deselectMultiDrag):(w(document,"mouseup",this._deselectMultiDrag),w(document,"touchend",this._deselectMultiDrag)),w(document,"keydown",this._checkKeyDown),w(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var o="";vt.length&&pt===e?vt.forEach((function(e,t){o+=(t?", ":"")+e.textContent})):o=n.textContent,t.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ft=t},delayEnded:function(){this.isMultiDrag=~vt.indexOf(ft)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var o=0;o<vt.length;o++)yt.push(F(vt[o])),yt[o].sortableIndex=vt[o].sortableIndex,yt[o].draggable=!1,yt[o].style["will-change"]="",D(yt[o],this.options.selectedClass,!1),vt[o]===ft&&D(yt[o],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,o=e.dispatchSortableEvent,r=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||vt.length&&pt===t&&(St(!0,n),o("clone"),r()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,o=e.cancel;this.isMultiDrag&&(St(!1,n),yt.forEach((function(e){E(e,"display","")})),t(),gt=!1,o())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),o=e.cancel;this.isMultiDrag&&(yt.forEach((function(e){E(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),gt=!0,o())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&pt&&pt.multiDrag._deselectMultiDrag(),vt.forEach((function(e){e.sortableIndex=P(e)})),vt=vt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),kt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){vt.forEach((function(e){e!==ft&&E(e,"position","absolute")}));var o=M(ft,!1,!0,!0);vt.forEach((function(e){e!==ft&&W(e,o)})),bt=!0,wt=!0}n.animateAll((function(){bt=!1,wt=!1,t.options.animation&&vt.forEach((function(e){H(e)})),t.options.sort&&_t()}))}},dragOver:function(e){var t=e.target,n=e.completed,o=e.cancel;bt&&~vt.indexOf(t)&&(n(!1),o())},revert:function(e){var t=e.fromSortable,n=e.rootEl,o=e.sortable,r=e.dragRect;vt.length>1&&(vt.forEach((function(e){o.addAnimationState({target:e,rect:bt?M(e):r}),H(e),e.fromRect=r,t.removeAnimationState(e)})),bt=!1,function(e,t){vt.forEach((function(n,o){var r=t.children[n.sortableIndex+(e?Number(o):0)];r?t.insertBefore(n,r):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,o=e.insertion,r=e.activeSortable,i=e.parentEl,s=e.putSortable,a=this.options;if(o){if(n&&r._hideClone(),wt=!1,a.animation&&vt.length>1&&(bt||!n&&!r.options.sort&&!s)){var l=M(ft,!1,!0,!0);vt.forEach((function(e){e!==ft&&(W(e,l),i.appendChild(e))})),bt=!0}if(!n)if(bt||_t(),vt.length>1){var c=gt;r._showClone(t),r.options.animation&&!gt&&c&&yt.forEach((function(e){r.addAnimationState({target:e,rect:mt}),e.fromRect=mt,e.thisAnimationDuration=null}))}else r._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,o=e.activeSortable;if(vt.forEach((function(e){e.thisAnimationDuration=null})),o.options.animation&&!n&&o.multiDrag.isMultiDrag){mt=a({},t);var r=A(ft,!0);mt.top-=r.f,mt.left-=r.e}},dragOverAnimationComplete:function(){bt&&(bt=!1,_t())},drop:function(e){var t=e.originalEvent,n=e.rootEl,o=e.parentEl,r=e.sortable,i=e.dispatchSortableEvent,s=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var c=this.options,u=o.children;if(!kt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),D(ft,c.selectedClass,!~vt.indexOf(ft)),~vt.indexOf(ft))vt.splice(vt.indexOf(ft),1),ht=null,G({sortable:r,rootEl:n,name:"deselect",targetEl:ft,originalEvt:t});else{if(vt.push(ft),G({sortable:r,rootEl:n,name:"select",targetEl:ft,originalEvt:t}),t.shiftKey&&ht&&r.el.contains(ht)){var d,h,p=P(ht),f=P(ft);if(~p&&~f&&p!==f)for(f>p?(h=p,d=f):(h=f,d=p+1);h<d;h++)~vt.indexOf(u[h])||(D(u[h],c.selectedClass,!0),vt.push(u[h]),G({sortable:r,rootEl:n,name:"select",targetEl:u[h],originalEvt:t}))}else ht=ft;pt=l}if(kt&&this.isMultiDrag){if(bt=!1,(o[z].options.sort||o!==n)&&vt.length>1){var m=M(ft),g=P(ft,":not(."+this.options.selectedClass+")");if(!wt&&c.animation&&(ft.thisAnimationDuration=null),l.captureAnimationState(),!wt&&(c.animation&&(ft.fromRect=m,vt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ft){var t=bt?M(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),_t(),vt.forEach((function(e){u[g]?o.insertBefore(e,u[g]):o.appendChild(e),g++})),s===P(ft))){var v=!1;vt.forEach((function(e){e.sortableIndex===P(e)||(v=!0)})),v&&i("update")}vt.forEach((function(e){H(e)})),l.animateAll()}pt=l}(n===o||a&&"clone"!==a.lastPutMode)&&yt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=kt=!1,yt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==kt&&kt||pt!==this.sortable||e&&S(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;vt.length;){var t=vt[0];D(t,this.options.selectedClass,!1),vt.shift(),G({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[z];t&&t.options.multiDrag&&!~vt.indexOf(e)&&(pt&&pt!==t&&(pt.multiDrag._deselectMultiDrag(),pt=t),D(e,t.options.selectedClass,!0),vt.push(e))},deselect:function(e){var t=e.parentNode[z],n=vt.indexOf(e);t&&t.options.multiDrag&&~n&&(D(e,t.options.selectedClass,!1),vt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return vt.forEach((function(o){var r;t.push({multiDragElement:o,index:o.sortableIndex}),r=bt&&o!==ft?-1:bt?P(o,":not(."+e.options.selectedClass+")"):P(o),n.push({multiDragElement:o,index:r})})),{items:c(vt),clones:[].concat(yt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function St(e,t){yt.forEach((function(n,o){var r=t.children[n.sortableIndex+(e?Number(o):0)];r?t.insertBefore(n,r):t.appendChild(n)}))}function _t(){vt.forEach((function(e){e!==ft&&e.parentNode&&e.parentNode.removeChild(e)}))}He.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):t.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),it(),rt(),clearTimeout(_),_=void 0},nulling:function(){et=Je=Xe=ot=tt=Ze=Qe=null,nt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,r);if(et=e,t||this.options.forceAutoScrollFallback||p||h||m){at(e,this.options,i,t);var s=B(i,!0);!ot||tt&&o===Ze&&r===Qe||(tt&&it(),tt=setInterval((function(){var i=B(document.elementFromPoint(o,r),!0);i!==s&&(s=i,rt()),at(e,n.options,i,t)}),10),Ze=o,Qe=r)}else{if(!this.options.bubbleScroll||B(i,!0)===T())return void rt();at(e,this.options,B(i,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),He.mount(ut,ct);const Ct=He},19109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(2262),i=n(31528),s=n.n(i);const a={__name:"EditAutocomplete",props:{disabled:Boolean},setup(e){const t=(0,o.f3)("autocompleteData",{}),n=(0,r.Um)({path:"",pathLen:-1}),i=new Map;function a({text:e,item:t}){const n=e.replace("@",".").split(".").pop();return t.toLocaleLowerCase().includes(n)}function l(e){const t=(e??"").replace("@","."),o=t.split(".");if(o.length<=1)return n.path="",void(n.pathLen=0);o.length!==n.pathLen&&(n.path=t.endsWith(".")?t.slice(0,-1):t,n.pathLen=o.length)}const c=(0,o.Fl)((()=>{if(i.has(n.path))return i.get(n.path);const e=!n.path||n.pathLen<1?t.value:s().get(t.value,n.path),o="string"==typeof e?[]:Object.keys(e||{});return i.set(n.path,o),o}));return(e,t)=>{const n=(0,o.up)("ui-autocomplete");return(0,o.wg)(),(0,o.j4)(n,{items:(0,r.SU)(c),"trigger-char":["{{","}}"],"custom-filter":a,"replace-after":["@","."],block:"",onSearch:l},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["items","replace-after"])}}}},47403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(66252),r=n(3577),i=n(2262),s=n(7043),a=n(89997),l=n(87661),c=n(79735);const u=(0,o._)("hr",null,null,-1),d=["value"],h=(0,o._)("option",{value:"value"},"The value",-1),p=(0,o._)("optgroup",{label:"The position"},[(0,o._)("option",{value:"first-option"},"First option"),(0,o._)("option",{value:"last-option"},"Last option"),(0,o._)("option",{value:"custom-position"},"Custom")],-1),f={key:0,class:"mt-2"},m={__name:"EditForms",props:{data:{type:Object,default:()=>({})},hideBase:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:m}=(0,s.QT)(),g=["text-field","select","checkbox","radio"];function v(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-checkbox"),y=(0,o.up)("ui-select"),w=(0,o.up)("ui-textarea"),b=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.j4)(l.default,(0,o.dG)({data:e.data,hide:e.hideBase},{onChange:v}),{default:(0,o.w5)((()=>[u,(0,o.Wm)(s,{"model-value":e.data.getValue,onChange:n[0]||(n[0]=e=>v({getValue:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(m)("workflow.blocks.forms.getValue")),1)])),_:1},8,["model-value"]),e.data.getValue&&!e.hideBase?((0,o.wg)(),(0,o.j4)(a.Z,{key:0,data:e.data,variables:"",onUpdate:v},null,8,["data"])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(y,{"model-value":e.data.type,class:"block w-full mb-2 mt-4",placeholder:(0,i.SU)(m)("workflow.blocks.forms.type"),onChange:n[1]||(n[1]=e=>v({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(g,(e=>(0,o._)("option",{key:e,value:e},(0,r.toDisplayString)((0,i.SU)(m)(`workflow.blocks.forms.${e}.name`)),9,d))),64))])),_:1},8,["model-value","placeholder"]),"checkbox"===e.data.type||"radio"===e.data.type?((0,o.wg)(),(0,o.j4)(s,{key:0,"model-value":e.data.selected,onChange:n[2]||(n[2]=e=>v({selected:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(m)("workflow.blocks.forms.selected")),1)])),_:1},8,["model-value"])):(0,o.kq)("",!0),"text-field"===e.data.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(c.default,{class:"w-full mb-1"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{"model-value":e.data.value,placeholder:(0,i.SU)(m)("workflow.blocks.forms.text-field.value"),class:"w-full",onChange:n[3]||(n[3]=e=>v({value:e}))},null,8,["model-value","placeholder"])])),_:1}),(0,o.Wm)(s,{"model-value":e.data.clearValue,onChange:n[4]||(n[4]=e=>v({clearValue:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(m)("workflow.blocks.forms.text-field.clearValue")),1)])),_:1},8,["model-value"])],64)):(0,o.kq)("",!0),"select"===e.data.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Wm)(y,{"model-value":e.data.selectOptionBy,label:"Select an option by",class:"w-full",onChange:n[5]||(n[5]=e=>v({selectOptionBy:e}))},{default:(0,o.w5)((()=>[h,p])),_:1},8,["model-value"]),"value"===e.data.selectOptionBy?((0,o.wg)(),(0,o.iD)("div",f,[(0,o.Wm)(c.default,{class:"w-full mb-1"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{"model-value":e.data.value,placeholder:(0,i.SU)(m)("workflow.blocks.forms.text-field.value"),class:"w-full",onChange:n[6]||(n[6]=e=>v({value:e}))},null,8,["model-value","placeholder"])])),_:1}),(0,o.Wm)(s,{"model-value":e.data.clearValue,onChange:n[7]||(n[7]=e=>v({clearValue:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(m)("workflow.blocks.forms.text-field.clearValue")),1)])),_:1},8,["model-value"])])):"custom-position"===e.data.selectOptionBy?((0,o.wg)(),(0,o.j4)(b,{key:1,"model-value":e.data.optionPosition,label:"Option position",placeholder:"0",class:"mt-2 w-full",onChange:n[8]||(n[8]=e=>v({optionPosition:e}))},null,8,["model-value"])):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),"text-field"===e.data.type?((0,o.wg)(),(0,o.j4)(b,{key:3,"model-value":e.data.delay,label:(0,i.SU)(m)("workflow.blocks.forms.text-field.delay.label"),placeholder:(0,i.SU)(m)("workflow.blocks.forms.text-field.delay.placeholder"),class:"w-full mt-1",min:"0",type:"number",onChange:n[9]||(n[9]=e=>v({delay:+e}))},null,8,["model-value","label","placeholder"])):(0,o.kq)("",!0)],64))])),_:1},16)}}}},76347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l=["value"],c={class:"mt-1"},u={__name:"EditInteractionBase",props:{data:{type:Object,default:()=>({})},hide:{type:Boolean,default:!1},hideMarkEl:{type:Boolean,default:!1},hideSelector:{type:Boolean,default:!1},hideMultiple:{type:Boolean,default:!1}},emits:["update:data","change"],setup(e,{emit:t}){const n=e,{t:u}=(0,s.QT)(),d=["cssSelector","xpath"];function h(e){const o={...n.data,...e};t("update:data",o),t("change",o)}return(0,o.bv)((()=>{n.data.findBy||h({findBy:"cssSelector"})})),(t,n)=>{const s=(0,o.up)("ui-textarea"),p=(0,o.up)("ui-select"),f=(0,o.up)("ui-input"),m=(0,o.up)("v-remixicon"),g=(0,o.up)("ui-checkbox"),v=(0,o.up)("ui-expand");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.WI)(t.$slots,"prepend"),e.hide?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(u)("common.description"),class:"w-full mb-2",onChange:n[0]||(n[0]=e=>h({description:e}))},null,8,["model-value","placeholder"]),(0,o.WI)(t.$slots,"prepend:selector"),e.hideSelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(p,{key:0,"model-value":e.data.findBy||"cssSelector",placeholder:(0,r.SU)(u)("workflow.blocks.base.findElement.placeholder"),class:"w-full mb-2",onChange:n[1]||(n[1]=e=>h({findBy:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(d,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(u)(`workflow.blocks.base.findElement.options.${e}`)),9,l))),64))])),_:1},8,["model-value","placeholder"])),e.hideSelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(a.default,{key:1,class:"mb-1"},{default:(0,o.w5)((()=>[e.hideSelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(f,{key:0,"model-value":e.data.selector,placeholder:(0,r.SU)(u)("workflow.blocks.base.selector"),autocomplete:"off",class:"w-full",onChange:n[2]||(n[2]=e=>h({selector:e}))},null,8,["model-value","placeholder"]))])),_:1})),e.hideSelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(v,{key:2,"hide-header-icon":"","header-class":"flex items-center w-full focus:ring-0"},{header:(0,o.w5)((({show:e})=>[(0,o.Wm)(m,{name:"riArrowLeftSLine",rotate:e?270:180,class:"mr-1 transition-transform -ml-1"},null,8,["rotate"]),(0,o.Uk)(" "+(0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.base.selectorOptions")),1)])),default:(0,o.w5)((()=>[(0,o._)("div",c,[e.data.disableMultiple||e.hideMultiple?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(g,{key:0,title:(0,r.SU)(u)("workflow.blocks.base.multiple.title"),"model-value":e.data.multiple,class:"mr-6",onChange:n[3]||(n[3]=e=>h({multiple:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.base.multiple.text")),1)])),_:1},8,["title","model-value"])),e.hideMarkEl||"cssSelector"!==(e.data.findBy||"cssSelector")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(g,{key:1,"model-value":e.data.markEl,title:(0,r.SU)(u)("workflow.blocks.base.markElement.title"),onChange:n[4]||(n[4]=e=>h({markEl:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.base.markElement.text")),1)])),_:1},8,["model-value","title"]))]),(0,o.Wm)(g,{"model-value":e.data.waitForSelector,block:"",class:"mt-1",onChange:n[5]||(n[5]=e=>h({waitForSelector:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.base.waitSelector.title")),1)])),_:1},8,["model-value"]),e.data.waitForSelector?((0,o.wg)(),(0,o.j4)(f,{key:0,"model-value":e.data.waitSelectorTimeout,label:(0,r.SU)(u)("workflow.blocks.base.waitSelector.timeout"),class:"mt-1 w-full",onChange:n[6]||(n[6]=e=>h({waitSelectorTimeout:+e}))},null,8,["model-value","label"])):(0,o.kq)("",!0)])),_:1}))],64)),(0,o.WI)(t.$slots,"default")])}}}},1502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(87661);const l={key:0,class:"flex items-center mt-3 space-x-2"},c={class:"mt-3 space-y-2"},u={__name:"EditScrollElement",props:{data:{type:Object,default:()=>({})},hideBase:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:u}=(0,s.QT)();function d(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-input"),h=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.j4)(a.default,(0,o.dG)({data:e.data,hide:e.hideBase},{onChange:d}),{default:(0,o.w5)((()=>[e.data.scrollIntoView?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(s,{"model-value":e.data.scrollX||0,label:(0,r.SU)(u)("workflow.blocks.element-scroll.scrollX"),type:"number",onChange:n[0]||(n[0]=e=>d({scrollX:+e}))},null,8,["model-value","label"]),(0,o.Wm)(s,{"model-value":e.data.scrollY||0,label:(0,r.SU)(u)("workflow.blocks.element-scroll.scrollY"),type:"number",onChange:n[1]||(n[1]=e=>d({scrollY:+e}))},null,8,["model-value","label"])])),(0,o._)("div",c,[(0,o.Wm)(h,{class:"w-full","model-value":e.data.scrollIntoView,onChange:n[2]||(n[2]=e=>d({scrollIntoView:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.element-scroll.intoView")),1)])),_:1},8,["model-value"]),(0,o.Wm)(h,{"model-value":e.data.smooth,onChange:n[3]||(n[3]=e=>d({smooth:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.element-scroll.smooth")),1)])),_:1},8,["model-value"]),e.data.scrollIntoView?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(h,{"model-value":e.data.incX,onChange:n[4]||(n[4]=e=>d({incX:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.element-scroll.incScrollX")),1)])),_:1},8,["model-value"]),(0,o.Wm)(h,{"model-value":e.data.incY,onChange:n[5]||(n[5]=e=>d({incY:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.element-scroll.incScrollY")),1)])),_:1},8,["model-value"])],64))])])),_:1},16)}}}},33238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(7043),l=n(64989),c=n(31263),u=n(87661),d=n(93901),h=n(83040),p=n(39747),f=n(76829),m=n(3442);const g=["value"],v={class:"flex-1"},y=["href"],w={key:0},b={class:"grid grid-cols-2 gap-2 mb-4"},k=(0,o.Uk)(" Bubbles "),x=(0,o.Uk)(" Cancelable "),S={__name:"EditTriggerEvent",props:{data:{type:Object,default:()=>({})},hideBase:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:S}=(0,a.QT)(),_={"mouse-event":d.Z,"focus-event":"",event:"","touch-event":h.Z,"keyboard-event":m.Z,"wheel-event":p.Z,"input-event":f.Z},C=(0,r.iH)(n.data.eventParams),D=(0,r.iH)(!1);function E(){const e=(0,c.zW)(n.data.eventType);return`https://developer.mozilla.org/en-US/docs/Web/API/${e}/${e}`}function A(e){t("update:data",{...n.data,...e})}function O(e){C.value=e,A({eventParams:e})}function T(e){const t=l.oQ.find((({id:t})=>t===e)).type,o={eventName:e,eventType:t};if(t!==n.eventType){const e={bubbles:!0,cancelable:!0};o.eventParams=e,C.value=e}A(o)}return(t,n)=>{const a=(0,o.up)("ui-select"),c=(0,o.up)("v-remixicon"),d=(0,o.up)("ui-checkbox"),h=(0,o.up)("transition-expand");return(0,o.wg)(),(0,o.j4)(u.default,(0,o.dG)({data:e.data,hide:e.hideBase},{onChange:A}),{default:(0,o.w5)((()=>[(0,o.Wm)(a,{"model-value":e.data.eventName,placeholder:(0,r.SU)(S)("workflow.blocks.trigger-event.selectEvent"),class:"w-full mt-4",onChange:T},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(l.oQ),(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,g)))),128))])),_:1},8,["model-value","placeholder"]),(0,o._)("button",{class:"mb-2 block flex items-center w-full text-left mt-1 focus:ring-0",onClick:n[1]||(n[1]=e=>D.value=!D.value)},[(0,o.Wm)(c,{name:"riArrowLeftSLine",class:"mr-1 transition-transform -ml-1",rotate:D.value?270:180},null,8,["rotate"]),(0,o._)("span",v,(0,i.toDisplayString)((0,r.SU)(S)("common.options")),1),e.data.eventName?((0,o.wg)(),(0,o.iD)("a",{key:0,href:E(),rel:"noopener",target:"_blank",onClick:n[0]||(n[0]=(0,s.withModifiers)((()=>{}),["stop"]))},[(0,o.Wm)(c,{name:"riInformationLine",size:"20"})],8,y)):(0,o.kq)("",!0)]),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[D.value?((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",b,[(0,o.Wm)(d,{"model-value":C.value.bubbles,onChange:n[2]||(n[2]=e=>O({...C.value,bubbles:e}))},{default:(0,o.w5)((()=>[k])),_:1},8,["model-value"]),(0,o.Wm)(d,{"model-value":C.value.cancelable,onChange:n[3]||(n[3]=e=>O({...C.value,cancelable:e}))},{default:(0,o.w5)((()=>[x])),_:1},8,["model-value"])]),_[e.data.eventType]?((0,o.wg)(),(0,o.j4)((0,o.LL)(_[e.data.eventType]),{key:e.data.eventName,params:C.value,onUpdate:n[4]||(n[4]=e=>O({...C.value,...e}))},null,40,["params"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])),_:1})])),_:1},16)}}}},7785:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r=n(3577),i=n(2262),s=n(7043);const a=["value"],l=["value"],c={__name:"InsertWorkflowData",props:{data:{type:Object,default:()=>({})},extraRow:Boolean,variables:Boolean,columns:{type:Array,default:()=>[]}},emits:["update"],setup(e,{emit:t}){const{t:n}=(0,s.QT)(),c=(0,o.f3)("workflow",{});function u(e){t("update",e)}return(t,s)=>{const d=(0,o.up)("ui-checkbox"),h=(0,o.up)("ui-input"),p=(0,o.up)("ui-select");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.variables?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(d,{"model-value":e.data.assignVariable,block:"",class:"mt-4 block-variable",onChange:s[0]||(s[0]=e=>u({assignVariable:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(n)("workflow.variables.assign")),1)])),_:1},8,["model-value"]),e.data.assignVariable?((0,o.wg)(),(0,o.j4)(h,{key:0,"model-value":e.data.variableName,placeholder:(0,i.SU)(n)("workflow.variables.name"),title:(0,i.SU)(n)("workflow.variables.name"),class:"mt-2 w-full",onChange:s[1]||(s[1]=e=>u({variableName:e}))},null,8,["model-value","placeholder","title"])):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),(0,o.Wm)(d,{"model-value":e.data.saveData,block:"",class:"mt-4",onChange:s[2]||(s[2]=e=>u({saveData:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(n)("workflow.blocks.base.table.checkbox")),1)])),_:1},8,["model-value"]),e.data.saveData?((0,o.wg)(),(0,o.j4)(p,{key:1,"model-value":e.data.dataColumn,placeholder:(0,i.SU)(n)("workflow.blocks.base.table.select"),class:"w-full mt-2",onChange:s[3]||(s[3]=e=>u({dataColumn:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)([...e.columns,...(0,i.SU)(c).columns.value],(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,a)))),128))])),_:1},8,["model-value","placeholder"])):(0,o.kq)("",!0),e.extraRow?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Wm)(d,{"model-value":e.data.addExtraRow,class:"mt-4",block:"",onChange:s[4]||(s[4]=e=>u({addExtraRow:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(n)("workflow.blocks.base.table.extraRow.checkbox")),1)])),_:1},8,["model-value"]),e.data.addExtraRow?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(h,{"model-value":e.data.extraRowValue,title:(0,i.SU)(n)("workflow.blocks.base.table.extraRow.title"),placeholder:(0,i.SU)(n)("workflow.blocks.base.table.extraRow.placeholder"),class:"w-full mt-2 mb-2",onChange:s[5]||(s[5]=e=>u({extraRowValue:e}))},null,8,["model-value","title","placeholder"]),(0,o.Wm)(p,{"model-value":e.data.extraRowDataColumn,placeholder:"Select column",class:"mt-1 w-full",onChange:s[6]||(s[6]=e=>u({extraRowDataColumn:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)([...e.columns,...(0,i.SU)(c).columns.value],(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,l)))),128))])),_:1},8,["model-value"])],64)):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0)],64)}}}},55174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(2262),i=n(31263);const s={class:"grid gap-2 grid-cols-2"},a={__name:"TriggerEventInput",props:{params:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,a=(0,r.Um)({data:"",inputType:"insertText"});return(0,o.YP)(a,(e=>{t("update",e)}),{deep:!0}),(0,o.bv)((()=>{Object.entries(n.params).forEach((([e,t])=>{(0,i.aX)(a,e)&&(a[e]=t)}))})),(e,t)=>{const n=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(n,{modelValue:(0,r.SU)(a).data,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.SU)(a).data=e),label:"Data"},null,8,["modelValue"]),(0,o.Wm)(n,{modelValue:(0,r.SU)(a).inputType,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.SU)(a).inputType=e),label:"Input type"},null,8,["modelValue"])])}}}},71243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(31263),a=n(92198);const l={class:"grid gap-2 grid-cols-2"},c={class:"flex items-center mt-1 space-x-2"},u=(0,o.Uk)(" Repeat "),d={__name:"TriggerEventKeyboard",props:{params:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,d=(0,r.Um)({altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,code:"",key:"",keyCode:0,repeat:!1});function h(e){a.y[e]&&(d.code=a.y[e].code,d.keyCode=a.y[e].keyCode)}return(0,o.YP)(d,(e=>{t("update",e)}),{deep:!0}),(0,o.bv)((()=>{Object.entries(n.params).forEach((([e,t])=>{(0,s.aX)(d,e)&&(d[e]=t)}))})),(e,t)=>{const n=(0,o.up)("ui-checkbox"),s=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",l,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["altKey","ctrlKey","metaKey","shiftKey"],(e=>(0,o.Wm)(n,{key:e,modelValue:(0,r.SU)(d)[e],"onUpdate:modelValue":t=>(0,r.SU)(d)[e]=t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)(e),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]))),64))]),(0,o.Wm)(s,{modelValue:(0,r.SU)(d).key,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.SU)(d).key=e),class:"w-full mt-2",label:"key",placeholder:"a",onChange:h},null,8,["modelValue"]),(0,o._)("div",c,[(0,o.Wm)(s,{modelValue:(0,r.SU)(d).code,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.SU)(d).code=e),class:"flex-1",label:"code",placeholder:"KeyA"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:(0,r.SU)(d).keyCode,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.SU)(d).keyCode=e),modelModifiers:{number:!0},type:"number",class:"flex-1",label:"keyCode"},null,8,["modelValue"])]),(0,o.Wm)(n,{modelValue:(0,r.SU)(d).repeat,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,r.SU)(d).repeat=e),class:"mt-4"},{default:(0,o.w5)((()=>[u])),_:1},8,["modelValue"])],64)}}}},95718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r=n(2262),i=n(3577),s=n(31263);const a={class:"grid gap-2 grid-cols-2"},l=["value"],c={__name:"TriggerEventMouse",props:{params:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,c=[{id:0,name:"Left click"},{id:1,name:"Middle click"},{id:2,name:"Right click"}],u=[["clientX","clientY"],["movementX","movementY"],["offsetX","offsetY"],["pageX","pageY"],["screenX","screenY"]],d=(0,r.Um)({altKey:!1,button:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,shiftKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,screenX:0,screenY:0});return(0,o.YP)(d,(e=>{t("update",e)}),{deep:!0}),(0,o.bv)((()=>{Object.entries(n.params).forEach((([e,t])=>{(0,s.aX)(d,e)&&(d[e]=t)}))})),(e,t)=>{const n=(0,o.up)("ui-checkbox"),s=(0,o.up)("ui-select"),h=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",a,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["altKey","ctrlKey","metaKey","shiftKey"],(e=>(0,o.Wm)(n,{key:e,modelValue:(0,r.SU)(d)[e],"onUpdate:modelValue":t=>(0,r.SU)(d)[e]=t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)(e),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]))),64))]),(0,o.Wm)(s,{modelValue:(0,r.SU)(d).button,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.SU)(d).button=e),modelModifiers:{number:!0},class:"mt-2 w-full",label:"Button"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(c,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,l))),64))])),_:1},8,["modelValue"]),((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(u,(e=>(0,o._)("div",{key:e[0],class:"flex items-center space-x-2 mt-2"},[e[0].startsWith("client")?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.j4)(h,{key:e,"model-value":(0,r.SU)(d)[e],label:e,class:"flex-1",onChange:t=>(0,r.SU)(d)[e]=+t||t},null,8,["model-value","label","onChange"])))),128)):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.j4)(h,{key:e,modelValue:(0,r.SU)(d)[e],"onUpdate:modelValue":t=>(0,r.SU)(d)[e]=t,modelModifiers:{number:!0},type:"number",class:"flex-1",label:e},null,8,["modelValue","onUpdate:modelValue","label"])))),128))]))),64))],64)}}}},49376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(66252),r=n(2262),i=n(3577),s=n(31263);const a={class:"grid gap-2 grid-cols-2"},l={__name:"TriggerEventTouch",props:{params:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,l=(0,r.Um)({altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1});return(0,o.YP)(l,(e=>{t("update",e)}),{deep:!0}),(0,o.bv)((()=>{Object.entries(n.params).forEach((([e,t])=>{(0,s.aX)(l,e)&&(l[e]=t)}))})),(e,t)=>{const n=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",a,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["altKey","ctrlKey","metaKey","shiftKey"],(e=>(0,o.Wm)(n,{key:e,modelValue:(0,r.SU)(l)[e],"onUpdate:modelValue":t=>(0,r.SU)(l)[e]=t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)(e),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]))),64))])}}}},31261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(2262),i=n(31263);const s={class:"grid gap-2 grid-cols-2"},a={__name:"TriggerEventWheel",props:{params:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,a=(0,r.Um)({deltaX:0,deltaY:0,deltaZ:0});return(0,o.YP)(a,(e=>{t("update",e)}),{deep:!0}),(0,o.bv)((()=>{Object.entries(n.params).forEach((([e,t])=>{(0,i.aX)(a,e)&&(a[e]=t)}))})),(e,t)=>{const n=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(n,{modelValue:(0,r.SU)(a).deltaX,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.SU)(a).deltaX=e),modelModifiers:{number:!0},type:"number",label:"deltaX"},null,8,["modelValue"]),(0,o.Wm)(n,{modelValue:(0,r.SU)(a).deltaY,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.SU)(a).deltaY=e),modelModifiers:{number:!0},type:"number",label:"deltaY"},null,8,["modelValue"]),(0,o.Wm)(n,{modelValue:(0,r.SU)(a).deltaZ,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,r.SU)(a).deltaZ=e),modelModifiers:{number:!0},type:"number",class:"col-span-2",label:"deltaZ"},null,8,["modelValue"])])}}}},13817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(66252),r=n(49963);const i={props:{group:Boolean},setup(e,{slots:t,attrs:n}){function i(e){const{width:t}=getComputedStyle(e);e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const{height:n}=getComputedStyle(e);e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame((()=>{e.style.height=n}))}function s(e){e.style.height="auto"}function a(e){const{height:t}=getComputedStyle(e);e.style.height=t,getComputedStyle(e).height,requestAnimationFrame((()=>{e.style.height=0}))}return()=>(0,o.h)(e.group?r.TransitionGroup:r.Transition,{...n,name:"expand",onEnter:i,onAfterEnter:s,onLeave:a},t.default)}}},46892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={components:{UiSpinner:n(9416).default},props:{icon:Boolean,disabled:Boolean,loading:Boolean,circle:Boolean,color:{type:String,default:""},tag:{type:String,default:"button"},variant:{type:String,default:"default"}},setup:()=>({variants:{default:"bg-input",accent:"bg-accent hover:bg-gray-700 dark:bg-gray-100 dark:hover:bg-gray-200 dark:text-black text-white",primary:"bg-primary text-white dark:bg-secondary dark:hover:bg-primary hover:bg-secondary",danger:"bg-red-400 text-white dark:bg-red-500 dark:hover:bg-red-500 hover:bg-red-400"}})}},63991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={props:{hover:{type:Boolean,default:!1},padding:{type:String,default:"p-4"},tag:{type:String,default:"div"}}}},83384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={props:{modelValue:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},disabled:{type:Boolean,default:null},block:{type:Boolean,default:null}},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({changeHandler:function({target:{checked:e}}){t("update:modelValue",e),t("change",e)}})}},66013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(3577),i=n(2262);const s=["aria-expanded"],a={__name:"UiExpand",props:{modelValue:{type:Boolean,default:!1},panelClass:{type:String,default:""},headerClass:{type:String,default:"px-4 py-2 w-full flex items-center h-full"},headerActiveClass:{type:String,default:""},activeClass:{type:String,default:""},hideHeaderIcon:{type:Boolean,default:!1},disabled:Boolean,appendIcon:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=(0,i.iH)(!1);function l(){n.disabled||(a.value=!a.value,t("update:modelValue",a.value))}return(0,o.YP)((()=>n.modelValue),(e=>{e!==a.value&&(a.value=e)}),{immediate:!0}),(0,o.YP)((()=>n.disabled),(()=>{a.value=!1})),(t,n)=>{const i=(0,o.up)("v-remixicon"),c=(0,o.up)("transition-expand");return(0,o.wg)(),(0,o.iD)("div",{"aria-expanded":a.value,class:(0,r.normalizeClass)([{[e.activeClass]:a.value},"ui-expand"])},[(0,o._)("button",{class:(0,r.normalizeClass)([e.headerClass,{[e.headerActiveClass]:a.value}]),onClick:l},[e.hideHeaderIcon||e.appendIcon?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(i,{key:0,rotate:a.value?90:-90,name:"riArrowLeftSLine",class:"mr-2 transition-transform -ml-1"},null,8,["rotate"])),(0,o.WI)(t.$slots,"header",(0,r.normalizeProps)((0,o.F4)({show:a.value}))),e.appendIcon?((0,o.wg)(),(0,o.j4)(i,{key:1,rotate:a.value?90:-90,name:"riArrowLeftSLine",class:"transition-transform -mr-1 ml-2"},null,8,["rotate"])):(0,o.kq)("",!0)],2),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[a.value?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.normalizeClass)([e.panelClass,"ui-expand__panel"])},[(0,o.WI)(t.$slots,"default")],2)):(0,o.kq)("",!0)])),_:3})],10,s)}}}},11502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(73398);const r={props:{modelModifiers:{default:()=>({})},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:""},inputClass:{type:String,default:""},prependIcon:{type:String,default:""},label:{type:String,default:""},list:{type:String,default:null},type:{type:String,default:"text"},placeholder:{type:String,default:""},max:{type:[String,Number],default:null},min:{type:[String,Number],default:null},autocomplete:{type:String,default:null}},emits:["update:modelValue","change","keydown","blur","keyup","focus"],setup:(e,{emit:t})=>({emitValue:function(n){let{value:o}=n.target;e.modelModifiers.lowercase?o=o.toLocaleLowerCase():e.modelModifiers.number&&(o=+o),t("update:modelValue",o),t("change",o)},componentId:(0,o.G)("ui-input")})}},59507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={props:{disabled:Boolean}}},95372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={props:{active:Boolean,disabled:Boolean,small:Boolean,tag:{type:String,default:"div"},color:{type:String,default:"bg-primary text-primary dark:bg-secondary dark:text-secondary bg-opacity-10 dark:bg-opacity-10"}}}},43180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(73398);const r={props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},prependIcon:{type:String,default:""},placeholder:{type:String,default:""},modelModifiers:{type:Object,default:()=>({})},block:Boolean,disabled:Boolean,showDetail:Boolean},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({selectId:(0,o.G)("select"),emitValue:function(n){let{value:o}=n.target;e.modelModifiers.number&&(o=+o),t("update:modelValue",o),t("change",o)}})}},33278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={props:{size:{type:[String,Number],default:"24"},color:{type:String,default:"text-primary"}}}},85998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={props:{modelValue:{type:Boolean,default:!1},disabled:Boolean},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({emitEvent:()=>{const n=!e.modelValue;t("change",n),t("update:modelValue",n)}})}},46328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(2262),i=n(3577);const s=["aria-selected","tabIndex"],a={__name:"UiTab",props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:""}},setup(e){const t=(0,o.f3)("ui-tabs",{});return(n,a)=>((0,o.wg)(),(0,o.iD)("button",{"aria-selected":(0,r.SU)(t).modelValue.value===e.value,class:(0,i.normalizeClass)([[(0,r.SU)(t).type.value,{"pointer-events-none opacity-75":e.disabled,small:(0,r.SU)(t).small.value,"flex-1":(0,r.SU)(t).fill.value,"is-active":(0,r.SU)(t).modelValue.value===e.value}],"transition-colors z-[1] ui-tab focus:ring-0 ui-tab"]),tabIndex:(0,r.SU)(t).modelValue.value===e.value?0:-1,"aria-role":"tab",onMouseenter:a[0]||(a[0]=(...e)=>(0,r.SU)(t).hoverHandler&&(0,r.SU)(t).hoverHandler(...e)),onClick:a[1]||(a[1]=n=>(0,r.SU)(t).updateActive(e.value))},[(0,o.WI)(n.$slots,"default")],42,s))}}},45895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(66252);const r={__name:"UiTabPanel",props:{value:{type:[String,Number],default:""},activeClass:{type:String,default:"ui-tab-panel--active"},cache:Boolean},setup(e){const t=e,n=(0,o.Rr)(),r=(0,o.f3)("ui-tab-panels",{}),i=()=>{const e=t.value===r.modelValue.value,i=t.cache||r.cache.value,s=(0,o.h)("div",{class:[t.activeClass,"ui-tab-panel"],style:{display:i&&!e?"none":null}},n);return t.cache||e?s:null};return(e,t)=>((0,o.wg)(),(0,o.j4)(i))}}},59503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(66252),r=n(2262);const i={class:"ui-tab-panels"},s={__name:"UiTabPanels",props:{modelValue:{type:[String,Number],default:""},cache:{type:Boolean,default:!1}},setup(e){const t=e;return(0,o.JJ)("ui-tab-panels",(0,r.BK)(t)),(e,t)=>((0,o.wg)(),(0,o.iD)("div",i,[(0,o.WI)(e.$slots,"default")]))}}},83379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(3577),i=n(49963),s=n(2262);const a={__name:"UiTabs",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"default",validator:e=>["default","fill"].includes(e)},color:{type:String,default:"bg-box-transparent"},small:Boolean,fill:Boolean},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,a={default:"border-b",fill:"p-2 rounded-lg"},l=(0,s.iH)(null),c=(0,s.iH)(!1);return(0,o.JJ)("ui-tabs",{updateActive:function(e){t("change",e),t("update:modelValue",e)},hoverHandler:function({target:e}){const t="fill"===n.type;if(e.classList.contains("is-active")&&t)return void(l.value.style.display="none");const{height:o,width:r}=e.getBoundingClientRect(),i=t?o+3:o-11;c.value=!0,l.value.style.width=`${r}px`,l.value.style.height=`${i}px`,l.value.style.display="inline-block",l.value.style.transform=`translate(${e.offsetLeft}px, -50%)`},...(0,s.BK)(n)}),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,r.normalizeClass)([[a[e.type]||a.default,{[e.color]:"fill"===e.type}],"ui-tabs text-gray-600 dark:text-gray-200 flex space-x-1 items-center relative"]),"aria-role":"tablist",onMouseleave:n[0]||(n[0]=e=>c.value=!1)},[(0,o.wy)((0,o._)("div",{ref_key:"hoverIndicator",ref:l,class:"ui-tabs__indicator z-0 absolute left-0 rounded-lg bg-box-transparent",style:{top:"50%",transform:"translate(0, -50%)"}},null,512),[[i.vShow,c.value]]),(0,o.WI)(t.$slots,"default")],34))}}},7662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(2262),r=n(66252),i=n(73398);const s={props:{modelValue:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""},autoresize:{type:Boolean,default:!1},max:{type:[Number,String],default:null},block:Boolean},emits:["update:modelValue","change","focus","blur","keyup","keydown"],setup(e,{emit:t}){const n=(0,i.G)("textarea"),s=(0,o.iH)(null);return(0,r.bv)((function(){e.autoresize&&(s.value.style.height="auto",s.value.style.height=`${s.value.scrollHeight}px`)})),{textarea:s,emitValue:function(n){let{value:o}=n.target;const r=Math.abs(e.max)||1/0;o.length>r&&(o=o.slice(0,r)),t("update:modelValue",o),t("change",o)},textareaId:n}}}},15778:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var o=n(66252),r=n(3577);const i={key:0,class:"button-loading"};function s(e,t,n,s,a,l){const c=(0,o.up)("ui-spinner");return(0,o.wg)(),(0,o.j4)((0,o.LL)(n.tag),(0,o.dG)({role:"button",class:["ui-button h-10 relative transition",[n.color?n.color:s.variants[n.variant],n.icon?"p-2":"py-2 px-4",n.circle?"rounded-full":"rounded-lg",{"opacity-70":n.disabled,"pointer-events-none":n.loading||n.disabled}]]},{disabled:n.loading||n.disabled,...e.$attrs}),{default:(0,o.w5)((()=>[(0,o._)("span",{class:(0,r.normalizeClass)(["flex justify-center h-full items-center",{"opacity-25":n.loading}])},[(0,o.WI)(e.$slots,"default")],2),n.loading?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(c,{color:"default"===n.variant?"text-primary":"text-white dark:text-gray-900"},null,8,["color"])])):(0,o.kq)("",!0)])),_:3},16,["class"])}},92601:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var o=n(66252);function r(e,t,n,r,i,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(n.tag),(0,o.dG)(e.$attrs,{class:["bg-white dark:bg-gray-800 transform rounded-lg ui-card",[n.padding,{"hover:shadow-xl hover:-translate-y-1":n.hover}]]}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class"])}},53421:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var o=n(66252),r=n(3577);const i=["value"],s={class:"border dark:border-gray-700 rounded absolute top-0 left-0 bg-input checkbox-ui__mark cursor-pointer"},a={key:0,class:"ml-2 inline-block"};function l(e,t,n,l,c,u){const d=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.iD)("label",{class:(0,r.normalizeClass)(["checkbox-ui items-center",[n.block?"flex":"inline-flex"]])},[(0,o._)("div",{class:(0,r.normalizeClass)([{"pointer-events-none opacity-75":n.disabled},"relative h-5 w-5 inline-block focus-within:ring-2 focus-within:ring-accent rounded"])},[(0,o._)("input",(0,o.dG)({class:[{indeterminate:n.indeterminate},"opacity-0 checkbox-ui__input"],type:"checkbox",value:n.modelValue},{checked:n.modelValue,disabled:n.disabled},{onChange:t[0]||(t[0]=(...e)=>l.changeHandler&&l.changeHandler(...e))}),null,16,i),(0,o._)("div",s,[(0,o.Wm)(d,{name:n.indeterminate?"riSubtractLine":"riCheckLine",size:"20",class:"text-white dark:text-black"},null,8,["name"])])],2),e.$slots.default?((0,o.wg)(),(0,o.iD)("span",a,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])):(0,o.kq)("",!0)],2)}},71627:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var o=n(66252),r=n(3577);const i={class:"inline-block input-ui"},s=["for"],a={class:"flex items-center relative w-full"},l=["id","value"];function c(e,t,n,c,u,d){const h=(0,o.up)("v-remixicon"),p=(0,o.Q2)("autofocus");return(0,o.wg)(),(0,o.iD)("div",i,[n.label||e.$slots.label?((0,o.wg)(),(0,o.iD)("label",{key:0,for:c.componentId,class:"text-sm dark:text-gray-200 text-gray-600 ml-1 inline-block leading-none"},[(0,o.WI)(e.$slots,"label",{},(()=>[(0,o.Uk)((0,r.toDisplayString)(n.label),1)]))],8,s)):(0,o.kq)("",!0),(0,o._)("div",a,[(0,o.WI)(e.$slots,"prepend",{},(()=>[n.prependIcon?((0,o.wg)(),(0,o.j4)(h,{key:0,class:"ml-2 dark:text-gray-200 text-gray-600 absolute left-0",name:n.prependIcon},null,8,["name"])):(0,o.kq)("",!0)])),(0,o.wy)((0,o._)("input",(0,o.dG)({readonly:n.disabled||n.readonly||null,placeholder:n.placeholder,type:n.type,autocomplete:n.autocomplete,autofocus:n.autofocus,min:n.min,max:n.max,list:n.list},{id:c.componentId,class:[[n.inputClass,{"opacity-75 pointer-events-none":n.disabled,"pl-10":n.prependIcon||e.$slots.prepend,"appearance-none":n.list}],"py-2 px-4 rounded-lg w-full bg-input bg-transparent transition"],value:n.modelValue,onKeydown:t[0]||(t[0]=t=>e.$emit("keydown",t)),onKeyup:t[1]||(t[1]=t=>e.$emit("keyup",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t)),onInput:t[4]||(t[4]=(...e)=>c.emitValue&&c.emitValue(...e))}),null,16,l),[[p,n.autofocus]]),(0,o.WI)(e.$slots,"append")])])}},55940:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var o=n(66252),r=n(3577);function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",{role:"listbox",class:(0,r.normalizeClass)(["ui-list",{"pointer-events-none":n.disabled}])},[(0,o.WI)(e.$slots,"default")],2)}},10123:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var o=n(66252),r=n(3577);function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.j4)((0,o.LL)(n.tag),{class:(0,r.normalizeClass)(["ui-list-item rounded-lg flex items-center transition w-full focus:outline-none",[n.active?n.color:"hoverable",n.small?"p-2":"py-2 px-4",{"pointer-events-none bg-opacity-75":n.disabled}]]),role:"listitem"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"])}},94855:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var o=n(66252),r=n(3577);const i=["for"],s={class:"ui-select__content flex items-center w-full block relative"},a=["id","disabled","value"],l={key:0,value:"",disabled:"",selected:""};function c(e,t,n,c,u,d){const h=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.normalizeClass)([{"inline-block":!n.block},"ui-select cursor-pointer"])},[n.label||e.$slots.label?((0,o.wg)(),(0,o.iD)("label",{key:0,for:c.selectId,class:"text-gray-600 dark:text-gray-200 text-sm ml-1"},[(0,o.WI)(e.$slots,"label",{},(()=>[(0,o.Uk)((0,r.toDisplayString)(n.label),1)]))],8,i)):(0,o.kq)("",!0),(0,o._)("div",s,[n.prependIcon?((0,o.wg)(),(0,o.j4)(h,{key:0,size:"20",name:n.prependIcon,class:"absolute text-gray-600 dark:text-gray-200 left-0 ml-2"},null,8,["name"])):(0,o.kq)("",!0),(0,o._)("select",{id:c.selectId,disabled:n.disabled,class:(0,r.normalizeClass)([{"pl-8":n.prependIcon,"opacity-75 pointer-events-none":n.disabled},"px-4 pr-10 transition rounded-lg bg-input bg-transparent py-2 z-10 appearance-none w-full h-full appearance-none"]),value:n.modelValue,onChange:t[0]||(t[0]=(...e)=>c.emitValue&&c.emitValue(...e))},[n.placeholder?((0,o.wg)(),(0,o.iD)("option",l,(0,r.toDisplayString)(n.placeholder),1)):(0,o.kq)("",!0),(0,o.WI)(e.$slots,"default")],42,a),(0,o.Wm)(h,{size:"28",name:"riArrowDropDownLine",class:"absolute text-gray-600 dark:text-gray-200 mr-2 right-0"})])],2)}},62061:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var o=n(66252),r=n(3577);const i=["width","height"],s=[(0,o._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,o._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];function a(e,t,n,a,l,c){return(0,o.wg)(),(0,o.iD)("svg",{class:(0,r.normalizeClass)(["animate-spin inline-block",[n.color]]),xmlns:"http://www.w3.org/2000/svg",fill:"none",width:n.size,height:n.size,viewBox:"0 0 24 24"},s,10,i)}},66249:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var o=n(66252),r=n(3577);const i=["checked"],s={class:"ui-switch__ball z-40 rounded-full absolute h-4 w-4 shadow-xl bg-white flex justify-center items-center"},a=(e=>((0,o.dD)("data-v-36256925"),e=e(),(0,o.Cn)(),e))((()=>(0,o._)("div",{class:"ui-switch__background absolute h-full rounded-md w-full left-0 top-0 bg-accent"},null,-1)));function l(e,t,n,l,c,u){return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.normalizeClass)(["ui-switch relative inline-flex h-6 w-12 justify-center items-center bg-input p-1 rounded-full",{"pointer-events-none opacity-50":n.disabled}])},[(0,o._)("input",(0,o.dG)({checked:n.modelValue,type:"checkbox",class:"absolute h-full w-full opacity-0 cursor-pointer left-0 top-0 z-50"},{disabled:n.disabled,readonly:n.disabled||null},{onInput:t[0]||(t[0]=(...e)=>l.emitEvent&&l.emitEvent(...e))}),null,16,i),(0,o._)("div",s,[e.$slots.ball?(0,o.WI)(e.$slots,"ball",{key:0},void 0,!0):(0,o.kq)("",!0)]),a],2)}},74197:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var o=n(66252);const r=["id","value"];function i(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("textarea",(0,o.dG)({placeholder:n.placeholder,maxlength:n.max},{id:i.textareaId,ref:"textarea",value:n.modelValue,class:["ui-textarea w-full ui-input rounded-lg px-4 py-2 transition bg-input",{"overflow-hidden resize-none":n.autoresize}],onInput:t[0]||(t[0]=(...e)=>i.emitValue&&i.emitValue(...e)),onKeyup:t[1]||(t[1]=t=>e.$emit("keyup",t)),onKeydown:t[2]||(t[2]=t=>e.$emit("keydown",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t)),onBlur:t[4]||(t[4]=t=>e.$emit("blur",t))}),null,16,r)}},32957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={webOrigin:["https://www.automa.site","https://www.automa.vercel.app","http://localhost:3000"],baseApiUrl:"https://api.automa.site/v1"}},64747:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});const o=(0,n(2262).qj)({whiteSpace:"pre",statePrettier:Math.random()})},73398:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});let o=0;function r(e){return o+=1,e?`${e}--${o}`:o}},83429:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var o=n(2262),r=n(66252),i=n(64989);function s(e){const t=(0,o.qj)({details:{},category:{}});return(0,r.bv)((()=>{if(!e)return;const n=i.wq[e];t.details={id:e,...n},t.category=i.bd[n.category]})),t}},58958:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var o=n(2262),r=n(66252),i=n(93150),s=n.n(i);function a(e){const t=(0,o.Um)({});function n(e,n){t[e]=n}return(0,r.bv)((()=>{e.forEach((e=>{s().permissions.contains({permissions:[e]}).then((t=>{n(e,t)}))}))})),{request:function(o=!1){const r=e.filter((e=>!t[e]));s().permissions.request({permissions:r}).then((e=>{e&&(r.forEach((e=>{n(e,!0)})),"boolean"==typeof o&&o&&(alert("Automa needs to reload to make this feature work"),s().runtime.getBackgroundPage().then((e=>{e.location.reload()}))))})).catch((e=>{console.error(e)}))},has:t}}},97710:(e,t,n)=>{"use strict";n.d(t,{KM:()=>h,bx:()=>p,j3:()=>c,v3:()=>d});var o=n(66252),r=n(73048),i=n(42441),s=n.n(i),a=n(31263);const l=(0,a.Rx)(localStorage.getItem("shortcuts",{}))||{},c=(0,r.ZP)(l,{"page:dashboard":{id:"page:dashboard",combo:"option+1"},"page:workflows":{id:"page:workflows",combo:"option+w"},"page:schedule":{id:"page:schedule",combo:"option+t"},"page:logs":{id:"page:logs",combo:"option+l"},"page:storage":{id:"page:storage",combo:"option+a"},"page:settings":{id:"page:settings",combo:"option+s"},"action:search":{id:"action:search",combo:"mod+f"},"action:new":{id:"action:new",combo:"mod+option+n"},"editor:duplicate-block":{id:"editor:duplicate-block",combo:"mod+option+d"},"editor:search-blocks":{id:"editor:search-blocks",combo:"mod+b"},"editor:save":{id:"editor:save",combo:"mod+shift+s"},"editor:execute-workflow":{id:"editor:execute-workflow",combo:"option+enter"},"editor:toggle-sidebar":{id:"editor:toggle-sidebar",combo:"mod+["}}),u=-1!==navigator.appVersion.indexOf("Mac")?"mac":"win";function d(e){const t={option:{win:"alt",mac:"option"},mod:{win:"ctrl",mac:"⌘"}};return e.replace(/option|mod/g,(e=>t[e][u]))}function h(e,t){const n=c[e]||{};return t&&(n.data=t),n.readable||(n.readable=d(n.combo)),n}function p(e,t){s().prototype.stopCallback=()=>!1;const n={ids:{},keys:[],data:{}},r=(e,o)=>{const r=n.ids[o],i={event:e,...n.data[r]};r&&e.preventDefault(),"function"==typeof i.data?i.data(i,e):t&&t(i,e)},i=({combo:e,id:t,readable:o,...r})=>{n.ids[e]=t,n.keys.push(e),n.data[t]={combo:e,id:t,readable:o,...r}};return(0,a.Kn)(e)?i(h(e.id,e.data)):"string"==typeof e?i(h(e)):e.forEach((e=>{const t="string"==typeof e?h(e):e;i(t)})),(0,o.bv)((()=>{s().bind(n.keys,r)})),(0,o.Ah)((()=>{s().unbind(n.keys)})),n.data}},80841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(27484),r=n.n(o),i=n(84110),s=n.n(i);n(32009),n(43901),n(37553),n(96023);r().extend(s());const a=r()},32364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o;const r={all:o=o||new Map,on:function(e,t){var n=o.get(e);n?n.push(t):o.set(e,[t])},off:function(e,t){var n=o.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):o.set(e,[]))},emit:function(e,t){var n=o.get(e);n&&n.slice().map((function(e){e(t)})),(n=o.get("*"))&&n.slice().map((function(n){n(e,t)}))}}},85595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,v:()=>r});var o=n(13861);const r={animation:"shift-toward-subtle",theme:"my-theme"};function i(e,t={}){e?.setAttribute("vtooltip","");return(0,o.ZP)(e,{...r,...t})}},18154:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var o=n(95684),r=n(93150),i=n.n(r),s=n(9924);const a=(0,o.Q_)("user",{state:()=>({user:null,backupIds:[],retrieved:!1,hostedWorkflows:{}}),getters:{getHostedWorkflows:e=>Object.values(e.hostedWorkflows),validateTeamAccess:e=>(t,n=[])=>{const o=e.user?.teams?.find((({id:e})=>t===e||+t===e));return!!o&&n.some((e=>o.access.includes(e)))}},actions:{async loadUser(e=!1){try{const t=await(0,s.tO)("user-profile",(async()=>{try{const e=await(0,s.a8)("/me"),t=await e.json();if(!e.ok)throw new Error(e.message);return t}catch(e){return console.error(e),null}}),e),n=localStorage.getItem("username");if(!(t&&n===t.username||(sessionStorage.removeItem("shared-workflows"),sessionStorage.removeItem("user-workflows"),sessionStorage.removeItem("backup-workflows"),await i().storage.local.remove(["backupIds","lastSync","lastBackup"]),t)))return void(this.retrieved=!0);localStorage.setItem("username",t?.username);const{backupIds:o}=await i().storage.local.get("backupIds");this.backupIds=o||[],this.user=t,this.retrieved=!0}catch(e){this.retrieved=!0,console.error(e)}}}})},42822:(e,t,n)=>{"use strict";n.d(t,{I:()=>w});var o=n(95684),r=n(53416),i=n(73048),s=n(72378),a=n.n(s),l=n(93150),c=n.n(l),u=n(27484),d=n.n(u),h=n(9924),p=n(64989),f=n(34109),m=n(8355),g=n(31263),v=n(18154);const y=(e=null,t={})=>{let n={id:(0,r.x0)(),name:"",icon:"riGlobalLine",folderId:null,content:null,connectedTable:null,drawflow:{edges:[],zoom:1.3,nodes:[{position:{x:100,y:window.innerHeight/2},id:(0,r.x0)(),label:"trigger",data:p.wq.trigger.data,type:p.wq.trigger.component}]},table:[],dataColumns:[],description:"",trigger:null,createdAt:Date.now(),updatedAt:Date.now(),isDisabled:!1,settings:{publicId:"",blockDelay:0,saveLog:!0,debugMode:!1,restartTimes:3,notification:!0,reuseLastState:!1,inputAutocomplete:!0,onError:"stop-workflow",executedBlockOnWeb:!1,insertDefaultColumn:!1,defaultColumnName:"column"},version:c().runtime.getManifest().version,globalData:'{\n\t"key": "value"\n}'};return e&&(t.duplicateId&&e.id&&delete n.id,e.drawflow?.nodes?.length>0&&(n.drawflow.nodes=[]),n=(0,i.ZP)(e,n)),n};const w=(0,o.Q_)("workflow",{storageMap:{workflows:"workflows"},state:()=>({states:[],workflows:{},retrieved:!1}),getters:{getById:e=>t=>e.workflows[t],getWorkflows:e=>Object.values(e.workflows),getWorkflowStates:e=>t=>e.states.filter((({workflowId:e})=>e===t))},actions:{async loadData(){const{workflows:e,isFirstTime:t}=await c().storage.local.get(["workflows","isFirstTime"]);let n=e||{};t&&(n=f.Z.map((e=>y(e))),await c().storage.local.set({isFirstTime:!1,workflows:n})),this.workflows=function(e){return Array.isArray(e)?e.reduce(((e,t)=>(e[t.id]=t,e)),{}):e}(n);const o=localStorage.getItem("workflowState")||"{}",r=(0,g.Rx)(o,{});this.states=Object.values(r).filter((({isDestroyed:e})=>!e)),this.retrieved=!0},async insert(e={},t={}){const n={};if(Array.isArray(e))e.forEach((e=>{t.duplicateId||delete e.id;const o=y(e,t);this.workflows[o.id]=o,n[o.id]=o}));else{t.duplicateId||delete e.id;const o=y(e,t);this.workflows[o.id]=o,n[o.id]=o}return await this.saveToStorage("workflows"),n},async update({id:e,data:t={},deep:n=!1}){const o="function"==typeof e;if(!o&&!this.workflows[e])return null;const r={},i=e=>{n?this.workflows[e]=a()(this.workflows[e],t):Object.assign(this.workflows[e],t),this.workflows[e].updatedAt=Date.now(),r[e]=this.workflows[e]};return o?this.getWorkflows.forEach((t=>{(e(t)??!1)&&i(t.id)})):i(e),await this.saveToStorage("workflows"),r},async insertOrUpdate(e=[],{checkUpdateDate:t=!1}={}){const n={};return e.forEach((e=>{const o=this.workflows[e.id];if(o){let r=!0;if(t&&o.createdAt&&e.updatedAt&&(r=d()(o.updatedAt).isBefore(e.updatedAt)),r){const t=a()(this.workflows[e.id],e);this.workflows[e.id]=t,n[e.id]=t}}else{const t=y(e);this.workflows[t.id]=t,n[t.id]=t}})),await this.saveToStorage("workflows"),n},async delete(e){Array.isArray(e)?e.forEach((e=>{delete this.workflows[e]})):delete this.workflows[e],await(0,m.BV)(e);const t=(0,v.L)(),n=t.hostedWorkflows[e],o=t.backupIds.indexOf(e);if(n||-1!==o){const n=await(0,h.a8)(`/me/workflows?id=${e}`,{method:"DELETE"}),r=await n.json();if(!n.ok)throw new Error(r.message);-1!==o&&(t.backupIds.splice(o,1),await c().storage.local.set({backupIds:t.backupIds}))}return await c().storage.local.remove([`state:${e}`,`draft:${e}`,`draft-team:${e}`]),await this.saveToStorage("workflows"),e}}})},92198:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});const o={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}}},9924:(e,t,n)=>{"use strict";n.d(t,{_i:()=>u,a8:()=>a,qH:()=>l,tO:()=>c});var o=n(32957),r=n(93150),i=n.n(r),s=n(31263);async function a(e,t){const n=e.startsWith("/")?e:`/${e}`;return fetch(`${o.Z.baseApiUrl}${n}`,{headers:{"Content-Type":"application/json"},...t})}const l={getUrl:(e,t)=>`/services/google-sheets?spreadsheetId=${e}&range=${t}`,getValues({spreadsheetId:e,range:t}){return a(this.getUrl(e,t))},getRange:({spreadsheetId:e,range:t})=>l.updateValues({range:t,append:!0,spreadsheetId:e,options:{body:JSON.stringify({values:[]}),queries:{valueInputOption:"RAW",includeValuesInResponse:!1,insertDataOption:"INSERT_ROWS"}}}),updateValues({spreadsheetId:e,range:t,options:n={},append:o}){return a(`${this.getUrl(e,t)}&${function(e){let t="";return Object.entries(e).forEach((([e,n],o)=>{0!==o&&(t+="&"),t+=`${e}=${n}`})),t}(n?.queries||{})}`,{...n,method:o?"POST":"PUT"})}};async function c(e,t,n=!0){const o="boolean"==typeof n,r={ttl:1e5,storage:sessionStorage,useCache:!o||n};!o&&(0,s.Kn)(n)&&Object.assign(r,n);const i=r.ttl,a=Date.now()-i,l=`cache-time:${e}`,c=(0,s.Rx)(r.storage.getItem(e),null),u=+r.storage.getItem(l)||Date.now();if(r.useCache&&c&&a<u)return c;const d=await t();let h=d;return d?.cacheData&&(h=d?.cacheData),r.storage.setItem(l,Date.now()),r.storage.setItem(e,JSON.stringify(h)),d}async function u(e=!0){return c("user-workflows",(async()=>{try{const{lastBackup:t}=await i().storage.local.get("lastBackup"),n=await a(`/me/workflows?lastBackup=${e&&t||null}`);if(!n.ok)throw new Error(n.statusText);const o=(await n.json()).reduce(((e,t)=>(t.isHost&&(e.hosted[t.id]={id:t.id,hostId:t.hostId}),e.backup.push(t),e)),{hosted:{},backup:[]});return o.cacheData={backup:[],hosted:o.hosted},o}catch(e){return console.error(e),{}}}),e)}},26541:(e,t,n)=>{"use strict";n.d(t,{$$:()=>d,cF:()=>c,rm:()=>u});var o=n(34790),r=n(59119);const i=["PropertyName",".","?."],s=["chrome","Mousetrap"];function a(e,t){const n=[];for(const e in t)e.startsWith("__")||e.startsWith("webpack")||s.includes(e)||n.push({label:e,type:"function"==typeof t[e]?"function":"variable"});return{from:e,options:n,validFor:/^[\w$]*$/}}const l=["String","TemplateString","LineComment","BlockComment","VariableDefinition","PropertyDefinition"];function c(e){const t=(0,r.qz)(e.state).resolveInner(e.pos,-1);if(i.includes(t.name)&&"MemberExpression"===t.parent?.name){const n=t.parent.getChild("Expression");if("VariableName"===n?.name){const o=/\./.test(t.name)?t.to:t.from,r=e.state.sliceDoc(n.from,n.to);if("object"==typeof window[r])return a(o,window[r])}}else{if("VariableName"===t.name)return a(t.from,window);if(e.explicit&&!l.includes(t.name))return a(e.pos,window)}return null}function u(e){return function(t){const n=t.matchBefore(/\w*/),o=(0,r.qz)(t.state).resolveInner(t.pos,-1);return n.from===n.to&&!t.explicit||l.includes(o.name)?null:{from:n.from,options:e}}}const d={automaNextBlock:{label:"automaNextBlock",type:"function",apply:(0,o.DB)("automaNextBlock(${data})"),info:()=>{const e=document.createElement("div");return e.innerHTML='\n        <code>automaNextBlock(<i>data</i>, <i>insert?</i>)</code>\n        <p class="mt-2">\n          Execute the next block\n          <a href="https://docs.automa.site/blocks/javascript-code.html#automanextblock-data" target="_blank" class="underline">\n            Read more\n          </a>\n        </p>\n      ',e}},automaSetVariable:{label:"automaSetVariable",type:"function",apply:(0,o.DB)("automaSetVariable('${name}', ${value})"),info:()=>{const e=document.createElement("div");return e.innerHTML='\n        <code>automaRefData(<i>name</i>, <i>value</i>)</code>\n        <p class="mt-2">\n          Set the value of a variable\n        </p>\n      ',e}},automaRefData:{label:"automaRefData",type:"function",apply:(0,o.DB)("automaRefData('${keyword}', '${path}')"),info:()=>{const e=document.createElement("div");return e.innerHTML='\n        <code>automaRefData(<i>keyword</i>, <i>path</i>)</code>\n        <p class="mt-2">\n          Use this function to\n          <a href="https://docs.automa.site/api-reference/reference-data.html" target="_blank" class="underline">\n            reference data\n          </a>\n        </p>\n      ',e}},automaResetTimeout:{label:"automaResetTimeout",type:"function",info:"Reset javascript execution timeout",apply:"automaResetTimeout()"},automaExecWorkflow:{label:"automaExecWorkflow",type:"function",apply:(0,o.DB)("automaExecWorkflow({ id: '${workflowId}' })"),info:()=>{const e=document.createElement("div");return e.innerHTML='\n        <code>automaRefData(<i>options</i>)</code>\n        <p class="mt-2">\n          Execute a workflow\n        </p>\n      ',e}}}},34109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(53416);const r=[{id:(0,o.x0)(),name:"Google search",createdAt:Date.now(),drawflow:{nodes:[{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"d634ff22-5dfe-44dc-83d2-842412bd9fbf-output-1",position:"right",x:196.00000657196182,y:28.000021560199762,width:16,height:16}]},computedPosition:{x:50,y:300,z:0},id:"d634ff22-5dfe-44dc-83d2-842412bd9fbf",label:"trigger",position:{x:50,y:300},data:{type:"manual",interval:10},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"b9e7e0d4-e86a-4635-a352-31c63723fef4-output-1",position:"right",x:196.00006103515628,y:27.999992370605472,width:16,height:16}],target:[{id:"b9e7e0d4-e86a-4635-a352-31c63723fef4-input-1",position:"left",x:-20,y:27.999992370605472,width:16,height:16}]},computedPosition:{x:353,y:298,z:0},id:"b9e7e0d4-e86a-4635-a352-31c63723fef4",label:"new-tab",position:{x:353,y:298},data:{disableBlock:!1,description:"",url:"https://google.com",userAgent:"",active:!0,inGroup:!1,waitTabLoaded:!1,updatePrevTab:!1,customUserAgent:!1,onError:{}},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"09f3a14c-0514-4287-93b0-aa92b0064fba-output-1",position:"right",x:195.99997405489208,y:28.00001941411291,width:16,height:16}],target:[{id:"09f3a14c-0514-4287-93b0-aa92b0064fba-input-1",position:"left",x:-20.000021574075806,y:28.00001941411291,width:16,height:16}]},computedPosition:{x:641,y:290,z:0},id:"09f3a14c-0514-4287-93b0-aa92b0064fba",label:"forms",position:{x:641,y:290},data:{description:"Type query",selector:"[name='q']",markEl:!1,multiple:!1,selected:!0,type:"text-field",value:"Automa Extension",delay:"120",events:[]},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"5f76370d-aa3d-4258-8319-230fcfc49a3a-output-1",position:"right",x:196.00006103515628,y:27.999992370605472,width:16,height:16}],target:[{id:"5f76370d-aa3d-4258-8319-230fcfc49a3a-input-1",position:"left",x:-20,y:27.999992370605472,width:16,height:16}]},computedPosition:{x:929,y:293,z:0},id:"5f76370d-aa3d-4258-8319-230fcfc49a3a",label:"event-click",position:{x:929,y:293},data:{description:"Click search",selector:"center:nth-child(1) > .gNO89b",markEl:!1,multiple:!1},selected:!1}],edges:[{id:"edge-0",sourceHandle:"d634ff22-5dfe-44dc-83d2-842412bd9fbf-output-1",targetHandle:"b9e7e0d4-e86a-4635-a352-31c63723fef4-input-1",source:"d634ff22-5dfe-44dc-83d2-842412bd9fbf",target:"b9e7e0d4-e86a-4635-a352-31c63723fef4",class:"source-d634ff22-5dfe-44dc-83d2-842412bd9fbf-output-1 target-b9e7e0d4-e86a-4635-a352-31c63723fef4-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-1",sourceHandle:"b9e7e0d4-e86a-4635-a352-31c63723fef4-output-1",targetHandle:"09f3a14c-0514-4287-93b0-aa92b0064fba-input-1",source:"b9e7e0d4-e86a-4635-a352-31c63723fef4",target:"09f3a14c-0514-4287-93b0-aa92b0064fba",class:"source-b9e7e0d4-e86a-4635-a352-31c63723fef4-output-1 target-09f3a14c-0514-4287-93b0-aa92b0064fba-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed",animated:!1},{id:"edge-2",sourceHandle:"09f3a14c-0514-4287-93b0-aa92b0064fba-output-1",targetHandle:"5f76370d-aa3d-4258-8319-230fcfc49a3a-input-1",source:"09f3a14c-0514-4287-93b0-aa92b0064fba",target:"5f76370d-aa3d-4258-8319-230fcfc49a3a",class:"source-09f3a14c-0514-4287-93b0-aa92b0064fba-output-1 target-5f76370d-aa3d-4258-8319-230fcfc49a3a-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"}],position:[-1.538468549623417,35.22407674532957],zoom:.7999999999999999}},{id:(0,o.x0)(),name:"Generate lorem ipsum",createdAt:Date.now(),drawflow:{nodes:[{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"c5774692-0be4-457f-82be-d5e4b3344ad7-output-1",position:"right",x:195.99998474121094,y:27.99999237060547,width:16,height:16}]},computedPosition:{x:50,y:300,z:0},id:"c5774692-0be4-457f-82be-d5e4b3344ad7",label:"trigger",position:{x:50,y:300},data:{disableBlock:!1,description:"",type:"manual",interval:60,delay:5,date:"",time:"00:00",url:"",shortcut:"",activeInInput:!1,isUrlRegex:!1,days:[]}},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"10a0429e-b8c4-4c04-9ea3-df169cea78e4-output-1",position:"right",x:195.9999744943092,y:28.000021560199755,width:16,height:16}],target:[{id:"10a0429e-b8c4-4c04-9ea3-df169cea78e4-input-1",position:"left",x:-19.999903128358724,y:28.000021560199755,width:16,height:16}]},computedPosition:{x:315,y:297,z:0},id:"10a0429e-b8c4-4c04-9ea3-df169cea78e4",label:"new-tab",position:{x:315,y:297},data:{disableBlock:!1,description:"",url:"http://lipsum.com",userAgent:"",active:!0,inGroup:!1,waitTabLoaded:!1,updatePrevTab:!0,customUserAgent:!1},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"24bdec44-1e80-4cee-9139-00545b8d33d9-output-1",position:"right",x:195.99997198037403,y:28.000015439189703,width:16,height:16}],target:[{id:"24bdec44-1e80-4cee-9139-00545b8d33d9-input-1",position:"left",x:-20.000004547328174,y:28.000015439189703,width:16,height:16}]},computedPosition:{x:596,y:302,z:0},id:"24bdec44-1e80-4cee-9139-00545b8d33d9",label:"element-scroll",position:{x:596,y:302},data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!0,waitSelectorTimeout:5e3,selector:"#amount",markEl:!1,multiple:!1,scrollY:0,scrollX:0,incX:!1,incY:!1,smooth:!0,scrollIntoView:!0},selected:!1},{type:"BlockDelay",dimensions:{width:192,height:117},handleBounds:{source:[{id:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae-output-1",position:"right",x:196.00015343897923,y:50.687512658751125,width:16,height:16}],target:[{id:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae-input-1",position:"left",x:-19.999913818025576,y:50.687512658751125,width:16,height:16}]},computedPosition:{x:878,y:282,z:0},id:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae",label:"delay",position:{x:878,y:282},data:{time:"1000"},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"2d93c1de-42ca-4f39-8e61-e3e55529fbba-output-1",position:"right",x:195.99997198037403,y:28.000015439189703,width:16,height:16}],target:[{id:"2d93c1de-42ca-4f39-8e61-e3e55529fbba-input-1",position:"left",x:-20.000004547328174,y:28.000015439189703,width:16,height:16}]},computedPosition:{x:1148,y:297,z:0},id:"2d93c1de-42ca-4f39-8e61-e3e55529fbba",label:"forms",position:{x:1148,y:297},data:{disableBlock:!1,description:"Lipsum length",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"#amount",markEl:!1,multiple:!1,selected:!0,clearValue:!0,getValue:!1,saveData:!1,dataColumn:"",assignVariable:!1,variableName:"",type:"text-field",value:"3",delay:0,events:[]},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb-output-1",position:"right",x:195.99997198037403,y:27.999992756864053,width:16,height:16}],target:[{id:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb-input-1",position:"left",x:-20.00009527663077,y:27.999992756864053,width:16,height:16}]},computedPosition:{x:1414,y:299,z:0},id:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb",label:"event-click",position:{x:1414,y:299},data:{disableBlock:!1,description:"Generate button",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"#generate",markEl:!1,multiple:!1},selected:!1},{type:"BlockDelay",dimensions:{width:192,height:117},handleBounds:{source:[{id:"fb9be12f-8995-4876-8bfe-79323769474b-output-1",position:"right",x:195,y:50.68748474121094,width:16,height:16}],target:[{id:"fb9be12f-8995-4876-8bfe-79323769474b-input-1",position:"left",x:-20,y:50.68748474121094,width:16,height:16}]},computedPosition:{x:1686,y:280,z:0},id:"fb9be12f-8995-4876-8bfe-79323769474b",label:"delay",position:{x:1686,y:280},data:{disableBlock:!1,time:2e3},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"7205fcf2-deda-445e-9690-4e36adb52585-output-1",position:"right",x:195.99997449430924,y:28.00000552137348,width:16,height:16}],target:[{id:"7205fcf2-deda-445e-9690-4e36adb52585-input-1",position:"left",x:-20.000031438968968,y:28.00000552137348,width:16,height:16}]},computedPosition:{x:1973,y:307,z:0},id:"7205fcf2-deda-445e-9690-4e36adb52585",label:"get-text",position:{x:1973,y:307},data:{disableBlock:!1,description:"Get text result",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"#lipsum",markEl:!1,multiple:!1,regex:"",prefixText:"",suffixText:"",regexExp:["g","g"],dataColumn:"",saveData:!0,includeTags:!1,addExtraRow:!1,assignVariable:!1,variableName:"",extraRowValue:"",extraRowDataColumn:""},selected:!1},{type:"BlockRepeatTask",dimensions:{width:193,height:149},handleBounds:{source:[{id:"3d3e8fac-97fa-4c3d-84bc-a3db18740184-output-1",position:"right",x:197.2124006448874,y:66.6874815732158,width:16,height:16},{id:"3d3e8fac-97fa-4c3d-84bc-a3db18740184-output-2",position:"right",x:197.2124006448874,y:113.3875114484557,width:16,height:16}],target:[{id:"3d3e8fac-97fa-4c3d-84bc-a3db18740184-input-1",position:"left",x:-20.000129470007995,y:66.6874815732158,width:16,height:16}]},computedPosition:{x:2253,y:263.5,z:0},id:"3d3e8fac-97fa-4c3d-84bc-a3db18740184",label:"repeat-task",position:{x:2253,y:263.5},data:{disableBlock:!1,repeatFor:2},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"4d39ecd5-f33f-4e57-b11d-2f26b1076334-output-1",position:"right",x:195.9998661589599,y:27.999992440129862,width:16,height:16}],target:[{id:"4d39ecd5-f33f-4e57-b11d-2f26b1076334-input-1",position:"left",x:-20.00023736594018,y:27.999992440129862,width:16,height:16}]},computedPosition:{x:2529.75,y:304,z:0},id:"4d39ecd5-f33f-4e57-b11d-2f26b1076334",label:"export-data",position:{x:2529.75,y:304},data:{disableBlock:!1,name:"Lipsum",refKey:"",type:"plain-text",description:"",variableName:"",addBOMHeader:!1,onConflict:"uniquify",dataToExport:"data-columns"},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:96},handleBounds:{source:[{id:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c-output-1",position:"right",x:196.00006103515625,y:40.000038146972656,width:16,height:16},{id:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c-output-fallback",position:"right",x:196.00006103515625,y:62.00000762939453,width:16,height:16}],target:[{id:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c-input-1",position:"left",x:-20,y:40.000038146972656,width:16,height:16}]},computedPosition:{x:1135.5,y:628,z:0},id:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c",label:"go-back",position:{x:1135.5,y:628},data:{disableBlock:!1,onError:{retry:!1,enable:!0,retryTimes:1,retryInterval:2,toDo:"fallback"}}}],edges:[{id:"edge-0",sourceHandle:"c5774692-0be4-457f-82be-d5e4b3344ad7-output-1",targetHandle:"10a0429e-b8c4-4c04-9ea3-df169cea78e4-input-1",source:"c5774692-0be4-457f-82be-d5e4b3344ad7",target:"10a0429e-b8c4-4c04-9ea3-df169cea78e4",class:"source-c5774692-0be4-457f-82be-d5e4b3344ad7-output-1 target-10a0429e-b8c4-4c04-9ea3-df169cea78e4-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-1",sourceHandle:"10a0429e-b8c4-4c04-9ea3-df169cea78e4-output-1",targetHandle:"24bdec44-1e80-4cee-9139-00545b8d33d9-input-1",source:"10a0429e-b8c4-4c04-9ea3-df169cea78e4",target:"24bdec44-1e80-4cee-9139-00545b8d33d9",class:"source-10a0429e-b8c4-4c04-9ea3-df169cea78e4-output-1 target-24bdec44-1e80-4cee-9139-00545b8d33d9-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-2",sourceHandle:"24bdec44-1e80-4cee-9139-00545b8d33d9-output-1",targetHandle:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae-input-1",source:"24bdec44-1e80-4cee-9139-00545b8d33d9",target:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae",class:"source-24bdec44-1e80-4cee-9139-00545b8d33d9-output-1 target-df24edcc-4c29-49f5-8a29-0e572a4bc6ae-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-3",sourceHandle:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae-output-1",targetHandle:"2d93c1de-42ca-4f39-8e61-e3e55529fbba-input-1",source:"df24edcc-4c29-49f5-8a29-0e572a4bc6ae",target:"2d93c1de-42ca-4f39-8e61-e3e55529fbba",class:"source-df24edcc-4c29-49f5-8a29-0e572a4bc6ae-output-1 target-2d93c1de-42ca-4f39-8e61-e3e55529fbba-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-4",sourceHandle:"2d93c1de-42ca-4f39-8e61-e3e55529fbba-output-1",targetHandle:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb-input-1",source:"2d93c1de-42ca-4f39-8e61-e3e55529fbba",target:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb",class:"source-2d93c1de-42ca-4f39-8e61-e3e55529fbba-output-1 target-0f3e2baa-8d6d-4323-8ac7-362f1be39ecb-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-5",sourceHandle:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb-output-1",targetHandle:"fb9be12f-8995-4876-8bfe-79323769474b-input-1",source:"0f3e2baa-8d6d-4323-8ac7-362f1be39ecb",target:"fb9be12f-8995-4876-8bfe-79323769474b",class:"source-0f3e2baa-8d6d-4323-8ac7-362f1be39ecb-output-1 target-fb9be12f-8995-4876-8bfe-79323769474b-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-6",sourceHandle:"fb9be12f-8995-4876-8bfe-79323769474b-output-1",targetHandle:"7205fcf2-deda-445e-9690-4e36adb52585-input-1",source:"fb9be12f-8995-4876-8bfe-79323769474b",target:"7205fcf2-deda-445e-9690-4e36adb52585",class:"source-fb9be12f-8995-4876-8bfe-79323769474b-output-1 target-7205fcf2-deda-445e-9690-4e36adb52585-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-7",sourceHandle:"7205fcf2-deda-445e-9690-4e36adb52585-output-1",targetHandle:"3d3e8fac-97fa-4c3d-84bc-a3db18740184-input-1",source:"7205fcf2-deda-445e-9690-4e36adb52585",target:"3d3e8fac-97fa-4c3d-84bc-a3db18740184",class:"source-7205fcf2-deda-445e-9690-4e36adb52585-output-1 target-3d3e8fac-97fa-4c3d-84bc-a3db18740184-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-8",sourceHandle:"3d3e8fac-97fa-4c3d-84bc-a3db18740184-output-1",targetHandle:"4d39ecd5-f33f-4e57-b11d-2f26b1076334-input-1",source:"3d3e8fac-97fa-4c3d-84bc-a3db18740184",target:"4d39ecd5-f33f-4e57-b11d-2f26b1076334",class:"source-3d3e8fac-97fa-4c3d-84bc-a3db18740184-output-1 target-4d39ecd5-f33f-4e57-b11d-2f26b1076334-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-9",sourceHandle:"3d3e8fac-97fa-4c3d-84bc-a3db18740184-output-2",targetHandle:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c-input-1",source:"3d3e8fac-97fa-4c3d-84bc-a3db18740184",target:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c",class:"source-3d3e8fac-97fa-4c3d-84bc-a3db18740184-output-2 target-2f5fec61-a318-4e2b-b7d3-bc7328bd282c-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-10",sourceHandle:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c-output-1",targetHandle:"24bdec44-1e80-4cee-9139-00545b8d33d9-input-1",source:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c",target:"24bdec44-1e80-4cee-9139-00545b8d33d9",class:"source-2f5fec61-a318-4e2b-b7d3-bc7328bd282c-output-1 target-24bdec44-1e80-4cee-9139-00545b8d33d9-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"},{id:"edge-11",sourceHandle:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c-output-fallback",targetHandle:"10a0429e-b8c4-4c04-9ea3-df169cea78e4-input-1",source:"2f5fec61-a318-4e2b-b7d3-bc7328bd282c",target:"10a0429e-b8c4-4c04-9ea3-df169cea78e4",class:"source-2f5fec61-a318-4e2b-b7d3-bc7328bd282c-output-fallback target-10a0429e-b8c4-4c04-9ea3-df169cea78e4-input-1",type:"default",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,markerEnd:"arrowclosed"}],position:[29,97],zoom:.5}},{id:(0,o.x0)(),name:"Search in ProductHunt",createdAt:Date.now(),icon:"https://res.cloudinary.com/chat-story/image/upload/v1648549611/61f54ef11c566274507d4070_Product_Hunt_j4hpfe.svg",drawflow:{nodes:[{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"MeMnYgI8DFrfORUfmREmq-output-1",position:"right",x:196.00003756009605,y:28.000018780048062,width:16,height:16}]},computedPosition:{x:96,y:36,z:0},position:{x:96,y:36},id:"MeMnYgI8DFrfORUfmREmq",label:"trigger",data:{disableBlock:!1,description:"",type:"context-menu",interval:60,delay:5,date:"",time:"00:00",url:"",shortcut:"",activeInInput:!1,isUrlRegex:!1,days:[],contextMenuName:"Search in ProductHunt",contextTypes:["selection"],parameters:[],observeElement:{selector:"",baseSelector:"",matchPattern:"",targetOptions:{subtree:!1,childList:!0,attributes:!1,attributeFilter:[],characterData:!1},baseElOptions:{subtree:!1,childList:!0,attributes:!1,attributeFilter:[],characterData:!1}}},selected:!1},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"pdeg5g8-output-1",position:"right",x:196.00003756009605,y:28.000018780048062,width:16,height:16}],target:[{id:"pdeg5g8-input-1",position:"left",x:-19.99999999999999,y:28.000018780048062,width:16,height:16}]},computedPosition:{x:388,y:36,z:0},position:{x:388,y:36},label:"new-tab",data:{disableBlock:!1,description:"",url:"https://www.producthunt.com/search?q={{variables@$ctxTextSelection}}",userAgent:"",active:!0,inGroup:!1,waitTabLoaded:!1,updatePrevTab:!1,customUserAgent:!1},id:"pdeg5g8",selected:!1}],edges:[{id:"vueflow__edge-MeMnYgI8DFrfORUfmREmqMeMnYgI8DFrfORUfmREmq-output-1-pdeg5g8pdeg5g8-input-1",source:"MeMnYgI8DFrfORUfmREmq",target:"pdeg5g8",sourceHandle:"MeMnYgI8DFrfORUfmREmq-output-1",targetHandle:"pdeg5g8-input-1",updatable:!0,selectable:!0,type:"default",markerEnd:"",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0}],position:[136.59999999999997,279.20001831054685],zoom:1.3}},{id:(0,o.x0)(),createdAt:Date.now(),name:"Google Keyword Research",icon:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",table:[{id:"25D2q",name:"keyword",type:"string"},{id:"38NQr",name:"related",type:"string"}],drawflow:{nodes:[{computedPosition:{x:96,y:36,z:0},data:{activeInInput:!1,contextMenuName:"",contextTypes:[],date:"",days:[],delay:5,description:"",disableBlock:!1,interval:60,isUrlRegex:!1,observeElement:{baseElOptions:{attributeFilter:[],attributes:!1,characterData:!1,childList:!0,subtree:!1},baseSelector:"",matchPattern:"",selector:"",targetOptions:{attributeFilter:[],attributes:!1,characterData:!1,childList:!0,subtree:!1}},parameters:[{defaultValue:"",name:"keywords",placeholder:"keyword 1,keyword 2",type:"string"}],shortcut:"",time:"00:00",type:"manual",url:""},dimensions:{width:192,height:72},handleBounds:{source:[{id:"2VtN_ZVBleyrXpIe6hHqm-output-1",position:"right",x:196.000030930837,y:28.00001817279392,width:16,height:16}]},id:"2VtN_ZVBleyrXpIe6hHqm",label:"trigger",position:{x:96,y:36},selected:!1,type:"BlockBasic"},{computedPosition:{x:388,y:36,z:0},data:{active:!0,customUserAgent:!1,description:"",disableBlock:!1,inGroup:!1,updatePrevTab:!1,url:"https://www.google.com/",userAgent:"",waitTabLoaded:!1},dimensions:{width:192,height:72},handleBounds:{source:[{id:"q2ayq0p-output-1",position:"right",x:195.99998279147678,y:28.00001817279392,width:16,height:16}],target:[{id:"q2ayq0p-input-1",position:"left",x:-19.999978595309788,y:28.00001817279392,width:16,height:16}]},id:"q2ayq0p",label:"new-tab",position:{x:388,y:36},selected:!1,type:"BlockBasic"},{computedPosition:{x:680,y:36,z:0},data:{code:"const keywords = automaRefData('variables', 'keywords');\nautomaSetVariable(\n  'keywords', \n  keywords.split(',').map((keyword) => keyword.trim())\n)",description:"",disableBlock:!1,everyNewTab:!1,preloadScripts:[],runBeforeLoad:!1,timeout:2e4},dimensions:{width:192,height:72},handleBounds:{source:[{id:"ls02uyr-output-1",position:"right",x:196.00007907019722,y:28.00001817279392,width:16,height:16}],target:[{id:"ls02uyr-input-1",position:"left",x:-19.999882316589357,y:28.00001817279392,width:16,height:16}]},id:"ls02uyr",label:"javascript-code",position:{x:680,y:36},selected:!1,type:"BlockBasic"},{computedPosition:{x:972,y:36,z:0},data:{description:"",disableBlock:!1,elementSelector:"",fromNumber:1,loopData:"[]",loopId:"keywords",loopThrough:"variable",maxLoop:0,referenceKey:"",resumeLastWorkflow:!1,startIndex:0,toNumber:10,variableName:"keywords",waitForSelector:!1,waitSelectorTimeout:5e3},dimensions:{width:192,height:72},handleBounds:{source:[{id:"xk53h8i-output-1",position:"right",x:196.00007907019722,y:28.00001817279392,width:16,height:16}],target:[{id:"xk53h8i-input-1",position:"left",x:-19.999978595309788,y:28.00001817279392,width:16,height:16}]},id:"xk53h8i",label:"loop-data",position:{x:972,y:36},selected:!1,type:"BlockBasic"},{computedPosition:{x:680,y:158,z:0},data:{dataList:[{name:"25D2q",type:"table",value:"{{loopData@keywords}}"}],description:"",disableBlock:!1},dimensions:{width:192,height:72},handleBounds:{source:[{id:"f1fo1xh-output-1",position:"right",x:196.00007907019722,y:28.00001817279392,width:16,height:16}],target:[{id:"f1fo1xh-input-1",position:"left",x:-19.999882316589357,y:28.00001817279392,width:16,height:16}]},id:"f1fo1xh",label:"insert-data",position:{x:680,y:158},selected:!1,type:"BlockBasic"},{computedPosition:{x:103.18645833333312,y:284.19444444444446,z:0},data:{disableBlock:!1,loopId:"keywords"},dimensions:{width:192,height:117},handleBounds:{source:[{id:"xcsy0gj-output-1",position:"right",x:196.00007907019722,y:50.68752097023858,width:16,height:16}],target:[{id:"xcsy0gj-input-1",position:"left",x:-20.000026734670005,y:50.68752097023858,width:16,height:16}]},id:"xcsy0gj",label:"loop-breakpoint",position:{x:103.18645833333312,y:284.19444444444446},selected:!1,type:"BlockLoopBreakpoint"},{computedPosition:{x:96,y:158,z:0},data:{assignVariable:!1,clearValue:!0,dataColumn:"",delay:70,description:"",disableBlock:!1,events:[],findBy:"cssSelector",getValue:!1,markEl:!1,multiple:!1,optionPosition:"1",saveData:!1,selectOptionBy:"value",selected:!0,selector:'input[name="q"]',type:"text-field",value:"{{loopData@keywords}}",variableName:"",waitForSelector:!1,waitSelectorTimeout:5e3},dimensions:{width:192,height:72},handleBounds:{source:[{id:"uoxxd4x-output-1",position:"right",x:196.000030930837,y:28.00001817279392,width:16,height:16}],target:[{id:"uoxxd4x-input-1",position:"left",x:-19.999978595309788,y:28.00001817279392,width:16,height:16}]},id:"uoxxd4x",label:"forms",position:{x:96,y:158},selected:!1,type:"BlockBasic"},{computedPosition:{x:388,y:158,z:0},data:{disableBlock:!1,loopId:"options",maxLoop:0,toNumber:10,fromNumber:1,startIndex:0,loopData:"[]",description:"",variableName:"",referenceKey:"",elementSelector:'[role="listbox"] [role="option"]',waitForSelector:!1,waitSelectorTimeout:5e3,resumeLastWorkflow:!1,loopThrough:"elements"},dimensions:{width:192,height:72},handleBounds:{source:[{id:"kz3rbur-output-1",position:"right",x:195.99998279147678,y:28.00001817279392,width:16,height:16}],target:[{id:"kz3rbur-input-1",position:"left",x:-19.999978595309788,y:28.00001817279392,width:16,height:16}]},id:"kz3rbur",label:"loop-data",position:{x:388,y:158},selected:!1,type:"BlockBasic"},{computedPosition:{x:972,y:158,z:0},data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"{{loopData@options}}",markEl:!1,multiple:!1,regex:"",prefixText:"",suffixText:"",regexExp:["g","g","g"],dataColumn:"38NQr",saveData:!0,includeTags:!1,addExtraRow:!1,assignVariable:!1,useTextContent:!1,variableName:"",extraRowValue:"",extraRowDataColumn:""},dimensions:{width:192,height:72},handleBounds:{source:[{id:"5odnjn3-output-1",position:"right",x:196.00007907019722,y:28.00001817279392,width:16,height:16}],target:[{id:"5odnjn3-input-1",position:"left",x:-19.999978595309788,y:28.00001817279392,width:16,height:16}]},id:"5odnjn3",label:"get-text",position:{x:972,y:158},selected:!1,type:"BlockBasic"},{computedPosition:{x:1227.7190972222222,y:134.33854166666666,z:1e3},data:{disableBlock:!1,loopId:"options"},dimensions:{width:192,height:117},handleBounds:{source:[{id:"th64xxb-output-1",position:"right",x:195.99998279147678,y:50.68747283087836,width:16,height:16}],target:[{id:"th64xxb-input-1",position:"left",x:-19.999978595309788,y:50.68747283087836,width:16,height:16}]},id:"th64xxb",label:"loop-breakpoint",position:{x:1227.7190972222222,y:134.33854166666666},selected:!0,type:"BlockLoopBreakpoint"},{type:"BlockBasic",dimensions:{width:192,height:72},handleBounds:{source:[{id:"tts9dbc-output-1",position:"right",x:196.00007907019722,y:28.00001817279392,width:16,height:16}],target:[{id:"tts9dbc-input-1",position:"left",x:-19.999882316589357,y:28.00001817279392,width:16,height:16}]},computedPosition:{x:376.2090277777778,y:307.24879056082835,z:0},position:{x:376.2090277777778,y:307.24879056082835},label:"export-data",data:{disableBlock:!1,name:"google-keywords",refKey:"",type:"csv",description:"",variableName:"",csvDelimiter:",",addBOMHeader:!0,onConflict:"uniquify",dataToExport:"data-columns"},id:"tts9dbc",selected:!1}],edges:[{id:"vueflow__edge-2VtN_ZVBleyrXpIe6hHqm2VtN_ZVBleyrXpIe6hHqm-output-1-q2ayq0pq2ayq0p-input-1",class:"source-2VtN_ZVBleyrXpIe6hHqm-output-1 target-q2ayq0p-input-1",markerEnd:"",selectable:!0,source:"2VtN_ZVBleyrXpIe6hHqm",sourceHandle:"2VtN_ZVBleyrXpIe6hHqm-output-1",sourceX:0,sourceY:0,target:"q2ayq0p",targetHandle:"q2ayq0p-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-q2ayq0pq2ayq0p-output-1-ls02uyrls02uyr-input-1",markerEnd:"",selectable:!0,selected:!1,source:"q2ayq0p",sourceHandle:"q2ayq0p-output-1",sourceX:0,sourceY:0,target:"ls02uyr",targetHandle:"ls02uyr-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-ls02uyrls02uyr-output-1-xk53h8ixk53h8i-input-1",markerEnd:"",selectable:!0,source:"ls02uyr",sourceHandle:"ls02uyr-output-1",sourceX:0,sourceY:0,target:"xk53h8i",targetHandle:"xk53h8i-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"edge-6k9nnc2",class:"source-uoxxd4x-output-1 target-kz3rbur-input-1",markerEnd:"",selectable:!0,selected:!1,source:"uoxxd4x",sourceHandle:"uoxxd4x-output-1",sourceX:0,sourceY:0,target:"kz3rbur",targetHandle:"kz3rbur-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-kz3rburkz3rbur-output-1-f1fo1xhf1fo1xh-input-1",class:"source-kz3rbur-output-1 target-f1fo1xh-input-1",markerEnd:"",selectable:!0,selected:!1,source:"kz3rbur",sourceHandle:"kz3rbur-output-1",sourceX:0,sourceY:0,target:"f1fo1xh",targetHandle:"f1fo1xh-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-f1fo1xhf1fo1xh-output-1-5odnjn35odnjn3-input-1",class:"source-f1fo1xh-output-1 target-5odnjn3-input-1",markerEnd:"",selectable:!0,selected:!1,source:"f1fo1xh",sourceHandle:"f1fo1xh-output-1",sourceX:0,sourceY:0,target:"5odnjn3",targetHandle:"5odnjn3-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-5odnjn35odnjn3-output-1-th64xxbth64xxb-input-1",class:"source-5odnjn3-output-1 target-th64xxb-input-1",markerEnd:"",selectable:!0,source:"5odnjn3",sourceHandle:"5odnjn3-output-1",sourceX:0,sourceY:0,target:"th64xxb",targetHandle:"th64xxb-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-th64xxbth64xxb-output-1-xcsy0gjxcsy0gj-input-1",class:"source-th64xxb-output-1 target-xcsy0gj-input-1",markerEnd:"",selectable:!0,source:"th64xxb",sourceHandle:"th64xxb-output-1",sourceX:0,sourceY:0,target:"xcsy0gj",targetHandle:"xcsy0gj-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-xk53h8ixk53h8i-output-1-uoxxd4xuoxxd4x-input-1",class:"source-xk53h8i-output-1 target-uoxxd4x-input-1",markerEnd:"",selectable:!0,source:"xk53h8i",sourceHandle:"xk53h8i-output-1",sourceX:0,sourceY:0,target:"uoxxd4x",targetHandle:"uoxxd4x-input-1",targetX:0,targetY:0,type:"default",updatable:!0,z:0},{id:"vueflow__edge-xcsy0gjxcsy0gj-output-1-tts9dbctts9dbc-input-1",source:"xcsy0gj",target:"tts9dbc",sourceHandle:"xcsy0gj-output-1",targetHandle:"tts9dbc-input-1",updatable:!0,selectable:!0,type:"default",markerEnd:"",z:0,sourceX:0,sourceY:0,targetX:0,targetY:0}],position:[-7.494827206691525,274.2219861731927],zoom:.6339423288575831}}]},31263:(e,t,n)=>{"use strict";n.d(t,{AG:()=>h,Ac:()=>c,Ds:()=>y,Kn:()=>m,LK:()=>w,No:()=>s,P2:()=>a,Rx:()=>u,_v:()=>i,aX:()=>g,cb:()=>v,e8:()=>b,ex:()=>l,g9:()=>p,y:()=>d,zW:()=>f});var o=n(93150),r=n.n(o);function i(e=500){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function s(e={}){if(!e)return null;if(e.drawflow){const t=Object.values(e.drawflow?.Home?.data);return t?t.find((({name:e})=>"trigger"===e)):null}return e.nodes?e.nodes.find((e=>"trigger"===e.label)):null}function a(e,t){let n=!1;return(...o)=>{n||(e.apply(this,o),n=!0,setTimeout((()=>{n=!1}),t))}}function l(e){const t=new Map,n=[[]];return e.forEach((e=>{const o=Object.keys(e),r=[];o.forEach((o=>{t.has(o)||(t.set(o,t.size),n[0].push(o));const i=e[o],s=t.get(o);r[s]="object"==typeof i?JSON.stringify(i):i})),n.push([...r])})),n}function c(e){let t=0;const n=e.shift(),o=[];for(let r=0;r<e.length;r+=1){const i={};for(let o=0;o<e[r].length;o+=1){let s=n[o];s||(t+=1,s=`_row${t}`,n.push(s)),i[s]=e[r][o]}o.push(i)}return o}function u(e,t){try{return JSON.parse(e)}catch(e){return t}}function d(e=[],t={}){return new Promise((n=>{const o=document.createElement("input");o.type="file",o.accept=Array.isArray(e)?e.join(","):e,Object.entries(t).forEach((([e,t])=>{o[e]=t})),o.onchange=t=>{const{files:o}=t.target,r=[];Array.from(o).forEach((t=>{e.includes(t.type)&&r.push(t)})),n(r)},o.click()}))}function h(e,t){const n=document.createElement("a");n.download=e,n.href=t,n.dispatchEvent(new MouseEvent("click")),n.remove()}function p(e,t){const n=Math.round((t-e)/1e3),o=parseInt(n/60%60,10),r=parseInt(n%60,10);return`${i=o,s="m",i>0?`${i}${s}`:""} ${r}s`;var i,s}function f(e,t=!1){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,n)=>0!==n||t?e.toUpperCase():e.toLowerCase())).replace(/\s+|[-]/g,"")}function m(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return!/\S/.test(e)}function y(e,t=200){let n;return(...o)=>(clearTimeout(n),new Promise((r=>{n=setTimeout((()=>{n=null,e(...o),r()}),t)})))}async function w(e){try{await r().storage.local.remove(`state:${e.id}`);const t=u(e.drawflow,null),n=t&&t.drawflow.Home.data;return n&&Object.values(n).forEach((({name:e,id:t})=>{"loop-data"===e&&localStorage.removeItem(`index:${t}`)})),!0}catch(e){return console.error(e),!1}}function b({data:e,key:t,order:n="asc"}){return e.slice().sort(((e,o)=>{let r=0;const i=e[t]||e,s=o[t]||o;return i>s?r=1:i<s&&(r=-1),"desc"===n?-1*r:r}))}},31647:(e,t,n)=>{"use strict";n.d(t,{X:()=>a,d:()=>i});var o=n(31263);const r=["Control","Alt","Shift","Meta"];function i({repeat:e,shiftKey:t,metaKey:n,altKey:i,ctrlKey:s,key:a},l){if(e||r.includes(a))return;let c=a.length>1||t?(0,o.zW)(a,!0):a;" "===c?c="Space":"+"===c&&(c="NumpadAdd");const u=[c];t&&u.unshift("Shift"),n&&u.unshift("Meta"),i&&u.unshift("Alt"),s&&u.unshift("Control"),l&&l(u)}const s={"+":"plus",Delete:"del",Insert:"ins",ArrowDown:"down",ArrowLeft:"left",ArrowUp:"up",ArrowRight:"right",Escape:"escape",Enter:"enter"};function a({ctrlKey:e,altKey:t,metaKey:n,shiftKey:o,key:r,repeat:i},a){if(i)return;const l=[];(e||n)&&l.push("mod"),t&&l.push("option"),o&&l.push("shift");(!!s[r]||/^[a-z0-9,./;'[\]\-=`]$/i.test(r))&&(l.push(s[r]||r.toLowerCase()),a(l))}},64989:(e,t,n)=>{"use strict";n.d(t,{A_:()=>a,Pz:()=>h,QB:()=>i,Tr:()=>u,YK:()=>p,Zv:()=>d,bd:()=>r,oQ:()=>s,qZ:()=>l,wq:()=>o,xh:()=>c});const o={trigger:{name:"Trigger",description:"Block where workflow will start executing",icon:"riFlashlightLine",component:"BlockBasic",editComponent:"EditTrigger",category:"general",inputs:0,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url"],data:{disableBlock:!1,description:"",type:"manual",interval:60,delay:5,date:"",time:"00:00",url:"",shortcut:"",activeInInput:!1,isUrlRegex:!1,days:[],contextMenuName:"",contextTypes:[],parameters:[],observeElement:{selector:"",baseSelector:"",matchPattern:"",targetOptions:{subtree:!1,childList:!0,attributes:!1,attributeFilter:[],characterData:!1},baseElOptions:{subtree:!1,childList:!0,attributes:!1,attributeFilter:[],characterData:!1}}}},"execute-workflow":{name:"Execute workflow",description:"",icon:"riFlowChart",component:"BlockBasic",category:"general",editComponent:"EditExecuteWorkflow",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["globalData"],data:{disableBlock:!1,executeId:"",workflowId:"",globalData:"",description:"",insertAllVars:!1}},"active-tab":{name:"Active tab",description:"Set current tab that you're in as an active tab",icon:"riWindowLine",component:"BlockBasic",category:"browser",disableEdit:!0,inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1}},"new-tab":{name:"New tab",description:"Create a new tab",icon:"riGlobalLine",component:"BlockBasic",editComponent:"EditNewTab",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url","userAgent"],data:{disableBlock:!1,description:"",url:"",userAgent:"",active:!0,inGroup:!1,waitTabLoaded:!1,updatePrevTab:!1,customUserAgent:!1}},"switch-tab":{name:"Switch tab",description:"Switch active tab",icon:"riArrowLeftRightLine",component:"BlockBasic",editComponent:"EditSwitchTab",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url","matchPattern"],data:{disableBlock:!1,description:"",url:"",tabIndex:0,matchPattern:"",activeTab:!0,createIfNoMatch:!1,findTabBy:"match-patterns"}},"new-window":{name:"New window",description:"Create a new window",icon:"riWindow2Line",component:"BlockBasic",editComponent:"EditNewWindow",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url"],data:{disableBlock:!1,description:"",top:0,left:0,width:0,url:"",height:0,type:"normal",incognito:!1,windowState:"normal"}},proxy:{name:"Proxy",description:"Set the proxy of the browser",icon:"riShieldKeyholeLine",component:"BlockBasic",category:"browser",editComponent:"EditProxy",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,refDataKeys:["host","port","scheme"],data:{description:"",disableBlock:!1,scheme:"https",host:"",port:443,bypassList:"",clearProxy:!1}},"go-back":{name:"Go back",description:"Go back to the previous page",icon:"riArrowGoBackLine",component:"BlockBasic",category:"browser",inputs:1,outputs:1,maxConnection:1,disableEdit:!0,allowedInputs:!0,data:{disableBlock:!1}},"forward-page":{name:"Go forward",description:"Go forward to the next page",icon:"riArrowGoForwardLine",component:"BlockBasic",category:"browser",inputs:1,outputs:1,maxConnection:1,disableEdit:!0,allowedInputs:!0,data:{disableBlock:!1}},"close-tab":{name:"Close tab/window",icon:"riCloseCircleLine",component:"BlockBasic",category:"browser",editComponent:"EditCloseTab",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,refDataKeys:["url"],data:{disableBlock:!1,url:"",description:"",activeTab:!0,closeType:"tab",allWindows:!1}},"take-screenshot":{name:"Take screenshot",description:"Take a screenshot of current active tab",icon:"riImageLine",component:"BlockBasic",category:"browser",editComponent:"EditTakeScreenshot",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,refDataKeys:["fileName"],autocomplete:["variableName"],data:{description:"",disableBlock:!1,fileName:"",ext:"png",quality:100,dataColumn:"",variableName:"",selector:"",fullPage:!1,saveToColumn:!1,saveToComputer:!0,assignVariable:!1,captureActiveTab:!0}},"browser-event":{name:"Browser event",description:"Wait until the selected event is triggered",icon:"riLightbulbLine",component:"BlockBasic",category:"browser",editComponent:"EditBrowserEvent",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,data:{disableBlock:!1,description:"",timeout:1e4,eventName:"tab:loaded",setAsActiveTab:!0,activeTabLoaded:!0,tabLoadedUrl:"",tabUrl:"",fileQuery:""}},"event-click":{name:"Click element",icon:"riCursorLine",component:"BlockBasic",editComponent:"EditInteractionBase",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1}},delay:{name:"Delay",description:"Add delay before executing the next block",icon:"riTimerLine",component:"BlockDelay",editComponent:"EditDelay",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["time"],data:{disableBlock:!1,time:500}},"get-text":{name:"Get text",description:"Get text from an element",icon:"riParagraph",component:"BlockBasic",editComponent:"EditGetText",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","prefixText","suffixText","extraRowValue"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,regex:"",prefixText:"",suffixText:"",regexExp:["g"],dataColumn:"",saveData:!0,includeTags:!1,addExtraRow:!1,assignVariable:!1,useTextContent:!1,variableName:"",extraRowValue:"",extraRowDataColumn:""}},"export-data":{name:"Export data",icon:"riDownloadLine",component:"BlockBasic",editComponent:"EditExportData",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["name"],data:{disableBlock:!1,name:"",refKey:"",type:"json",description:"",variableName:"",csvDelimiter:",",addBOMHeader:!0,onConflict:"uniquify",dataToExport:"data-columns"}},"element-scroll":{name:"Scroll element",icon:"riMouseLine",component:"BlockBasic",editComponent:"EditScrollElement",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"html",markEl:!1,multiple:!1,scrollY:0,scrollX:0,incX:!1,incY:!1,smooth:!1,scrollIntoView:!1}},link:{name:"Link",description:"Open link element",icon:"riLink",component:"BlockBasic",editComponent:"EditInteractionBase",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,disableMultiple:!0}},"attribute-value":{name:"Attribute value",description:"Get attribute value of an element",icon:"riBracketsLine",component:"BlockBasic",editComponent:"EditAttributeValue",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","attributeName","extraRowValue"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,attributeName:"",assignVariable:!1,variableName:"",dataColumn:"",saveData:!0,addExtraRow:!1,extraRowValue:"",extraRowDataColumn:""}},forms:{name:"Forms",icon:"riInputCursorMove",description:"Manipulate form(input, select, checkbox, and radio) element",component:"BlockBasic",editComponent:"EditForms",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","value","optionPosition"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,selected:!0,clearValue:!0,getValue:!1,saveData:!1,dataColumn:"",selectOptionBy:"value",optionPosition:"1",assignVariable:!1,variableName:"",type:"text-field",value:"",delay:0,events:[]}},"repeat-task":{name:"Repeat task",icon:"riRepeat2Line",component:"BlockRepeatTask",category:"general",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,repeatFor:1}},"javascript-code":{name:"JavaScript code",description:"Execute your custom javascript code in a webpage",icon:"riCodeSSlashLine",component:"BlockBasic",editComponent:"EditJavascriptCode",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",timeout:2e4,code:'console.log("Hello world!");\nautomaNextBlock()',preloadScripts:[],everyNewTab:!1,runBeforeLoad:!1}},"trigger-event":{name:"Trigger event",description:"Trigger event",icon:"riLightbulbFlashLine",component:"BlockBasic",editComponent:"EditTriggerEvent",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","eventParams.clientX","eventParams.clientY"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"html",markEl:!1,multiple:!1,eventName:"",eventType:"",eventParams:{bubbles:!0,cancelable:!1}}},"google-sheets":{name:"Google sheets",description:"Read Google Sheets data",icon:"mdiGoogleSheet",component:"BlockBasic",editComponent:"EditGoogleSheets",category:"onlineServices",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["customData","range","spreadsheetId"],autocomplete:["refKey"],data:{disableBlock:!1,range:"",refKey:"",type:"get",customData:"",description:"",spreadsheetId:"",dataColumn:"",saveData:!0,assignVariable:!1,variableName:"",firstRowAsKey:!1,keysAsFirstRow:!0,valueInputOption:"RAW",InsertDataOption:"INSERT_ROWS",dataFrom:"data-columns"}},conditions:{name:"Conditions",description:"Conditional block",icon:"riAB",component:"BlockConditions",editComponent:"EditConditions",category:"conditions",inputs:1,outputs:0,allowedInputs:!0,maxConnection:1,data:{description:"",disableBlock:!1,conditions:[],retryConditions:!1,retryCount:10,retryTimeout:1e3}},"element-exists":{name:"Element exists",description:"Check if an element is exists",icon:"riFocus3Line",component:"BlockElementExists",editComponent:"EditElementExists",category:"conditions",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",selector:"",tryCount:1,timeout:500,markEl:!1,throwError:!1}},webhook:{name:"HTTP Request",description:"make an HTTP request",icon:"riEarthLine",component:"BlockBasicWithFallback",editComponent:"EditWebhook",category:"general",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,refDataKeys:["body","url"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",url:"",body:"{}",headers:[],method:"POST",timeout:1e4,dataPath:"",contentType:"json",variableName:"",assignVariable:!1,saveData:!1,dataColumn:"",responseType:"json"}},"while-loop":{name:"While loop",description:"Execute blocks while the condition is met",icon:"riRefreshFill",component:"BlockBasicWithFallback",editComponent:"EditWhileLoop",category:"general",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",conditions:null}},"loop-data":{name:"Loop data",icon:"riRefreshLine",component:"BlockBasic",editComponent:"EditLoopData",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["maxLoop","loopData","variableName","referenceKey","elementSelector"],autocomplete:["variableName","loopId"],data:{disableBlock:!1,loopId:"",maxLoop:0,toNumber:10,fromNumber:1,startIndex:0,loopData:"[]",description:"",variableName:"",referenceKey:"",elementSelector:"",waitForSelector:!1,waitSelectorTimeout:5e3,resumeLastWorkflow:!1,loopThrough:"data-columns"}},"loop-breakpoint":{name:"Loop breakpoint",description:"To tell where loop data must stop",icon:"riStopLine",component:"BlockLoopBreakpoint",category:"general",disableEdit:!0,inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,loopId:""}},"blocks-group":{name:"Blocks group",description:"Grouping blocks",icon:"riFolderZipLine",component:"BlockGroup",category:"general",disableEdit:!0,inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,name:"",blocks:[]}},clipboard:{name:"Clipboard",description:"Get the copied text from the clipboard",icon:"riClipboardLine",component:"BlockBasic",category:"general",editComponent:"EditClipboard",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,autocomplete:["variableName"],refDataKeys:["dataToCopy"],data:{disableBlock:!1,description:"",type:"get",assignVariable:!1,variableName:"",saveData:!0,dataColumn:"",dataToCopy:"",copySelectedText:!1}},"insert-data":{name:"Insert data",description:"Insert data into table or variable",icon:"riDatabase2Line",component:"BlockBasic",category:"data",editComponent:"EditInsertData",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",dataList:[]}},"switch-to":{name:"Switch frame",description:"Switch between main window and iframe",icon:"riArrowUpDownLine",component:"BlockBasic",editComponent:"EditSwitchTo",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,findBy:"cssSelector",selector:"",windowType:"main-window"}},"upload-file":{name:"Upload file",description:'Upload file into <input type="file"> element',icon:"riFileUploadLine",component:"BlockBasic",editComponent:"EditUploadFile",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","filePaths"],data:{disableBlock:!1,findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",filePaths:[]}},"hover-element":{name:"Hover element",description:"Hover over an element",icon:"mdiCursorDefaultClickOutline",component:"BlockBasic",editComponent:"EditInteractionBase",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1}},"save-assets":{name:"Save assets",description:"Save assets (image, video, audio, or file) from an element or URL",icon:"riImageLine",component:"BlockBasic",editComponent:"EditSaveAssets",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","url","filename"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,type:"element",url:"",filename:"",onConflict:"uniquify"}},"press-key":{name:"Press key",description:"Press a key or a combination",icon:"riKeyboardLine",component:"BlockBasic",editComponent:"EditPressKey",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","keys"],data:{disableBlock:!1,keys:"",selector:"",description:""}},"handle-dialog":{name:"Handle dialog",description:"Accepts or dismisses a JavaScript initiated dialog (alert, confirm, prompt, or onbeforeunload).",icon:"riChat3Line",component:"BlockBasic",editComponent:"EditHandleDialog",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["promptText"],data:{disableBlock:!1,description:"",accept:!0,promptText:""}},"handle-download":{name:"Handle download",description:"Handle downloaded file",icon:"riFileDownloadLine",component:"BlockBasic",editComponent:"EditHandleDownload",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["filename"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",filename:"",timeout:2e4,onConflict:"uniquify",waitForDownload:!0,dataColumn:"",saveData:!0,assignVariable:!1,variableName:""}},"reload-tab":{name:"Reload tab",description:"Reload the active tab",icon:"riRestartLine",component:"BlockBasic",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,disableEdit:!0,data:{disableBlock:!1}},"delete-data":{name:"Delete data",description:"Delete table or variable data",icon:"riDeleteBin7Line",editComponent:"EditDeleteData",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",deleteList:[]}},"wait-connections":{name:"Wait connections",description:"Wait for all connections before continuing to the next block",icon:"riTimerFlashLine",editComponent:"EditWaitConnections",component:"BlockBasic",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",timeout:1e4,specificFlow:!1,flowBlockId:""}},notification:{name:"Notification",description:"Display a notification",icon:"riNotification3Line",editComponent:"EditNotification",component:"BlockBasic",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["message","title","iconUrl","imageUrl"],data:{disableBlock:!1,description:"",message:"",iconUrl:"",imageUrl:"",title:"Hello world!"}},"log-data":{name:"Get log data",description:"Get the latest log data of a workflow",icon:"riFileHistoryLine",editComponent:"EditLogData",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",workflowId:"",dataColumn:"",saveData:!0,assignVariable:!1,variableName:""}},"tab-url":{name:"Get tab URL",description:"Get the tab URL",icon:"riLinksLine",editComponent:"EditTabURL",component:"BlockBasic",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",type:"active-tab",dataColumn:"",saveData:!0,assignVariable:!1,variableName:""}},"slice-variable":{name:"Slice variable",description:"Extracts a section of a variable value",icon:"riSliceLine",editComponent:"EditSliceVariable",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",endIdxEnabled:!1,startIdxEnabled:!0,endIndex:0,startIndex:0,variableName:""}},"increase-variable":{name:"Increase variable",description:"Increase the value of a variable by specific amount",icon:"riIncreaseDecreaseLine",editComponent:"EditIncreaseVariable",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",increaseBy:1,variableName:""}},"regex-variable":{name:"RegEx variable",description:"Matching a variable value against a regular expression",icon:"mdiRegex",editComponent:"EditRegexVariable",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["replaceVal"],data:{disableBlock:!1,method:"match",replaceVal:"",description:"",expression:"",flag:[]}},"data-mapping":{name:"Data mapping",description:"Map data of a variable or table",icon:"riMindMap",editComponent:"EditDataMapping",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",dataSource:"table",sources:[],varSourceName:"",dataColumn:"",saveData:!1,assignVariable:!1,variableName:""}},"sort-data":{name:"Sort data",description:"Sort the items of data",icon:"riSortAsc",editComponent:"EditSortData",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",sortByProperty:!1,itemProperties:[],dataSource:"table",varSourceName:"",dataColumn:"",saveData:!1,assignVariable:!1,variableName:""}},"create-element":{name:"Create element",description:"Create an element and insert it into the page",icon:"riHtml5Line",editComponent:"EditCreateElement",component:"BlockBasic",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["html","css"],data:{disableBlock:!1,description:"",javascript:"",html:"",css:"",preloadScripts:[],findBy:"cssSelector",insertAt:"after",runBeforeLoad:!1,waitForSelector:!1,waitSelectorTimeout:5e3,selector:"body"}},cookie:{name:"Cookie",description:"Get, set, or remove cookies",icon:"mdiCookieOutline",editComponent:"EditCookie",component:"BlockBasic",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["domain","expirationDate","path","sameSite","name","url","value"],data:{disableBlock:!1,description:"",type:"get",getAll:!1,domain:"",expirationDate:"",path:"",sameSite:"",name:"",url:"",value:"",httpOnly:!1,secure:!1,session:!1,assignVariable:!1,variableName:"",saveData:!0,dataColumn:""}}},r={interaction:{name:"Web interaction",border:"border-green-200 dark:border-green-300",color:"bg-green-200 dark:bg-green-300 fill-green-200 dark:fill-green-300"},browser:{name:"Browser",border:"border-orange-200 dark:border-orange-300",color:"bg-orange-200 dark:bg-orange-300 fill-orange-200 dark:fill-orange-300"},general:{name:"General",border:"border-yellow-200 dark:border-yellow-300",color:"bg-yellow-200 dark:bg-yellow-300 fill-yellow-200 dark:fill-yellow-300"},onlineServices:{name:"Online services",border:"border-red-200 dark:border-red-300",color:"bg-red-200 dark:bg-red-300 fill-red-200 dark:fill-red-300"},data:{name:"Data",border:"border-lime-200 dark:border-lime-300",color:"bg-lime-200 dark:bg-lime-300 fill-lime-200 dark:fill-lime-300"},conditions:{name:"Conditions",border:"border-blue-200 dark:border-blue-300",color:"bg-blue-200 dark:bg-blue-300 fill-blue-200 dark:fill-blue-300"}},i={stage:"bg-yellow-200 dark:bg-yellow-300",production:"bg-green-200 dark:bg-green-300"},s=[{id:"click",name:"Click",type:"mouse-event"},{id:"dblclick",name:"Double Click",type:"mouse-event"},{id:"mouseup",name:"Mouseup",type:"mouse-event"},{id:"mousedown",name:"Mousedown",type:"mouse-event"},{id:"mouseenter",name:"Mouseenter",type:"mouse-event"},{id:"mouseleave",name:"Mouseleave",type:"mouse-event"},{id:"mouseover",name:"Mouseover",type:"mouse-event"},{id:"mouseout",name:"Mouseout",type:"mouse-event"},{id:"mousemove",name:"Mousemove",type:"mouse-event"},{id:"focus",name:"Focus",type:"focus-event"},{id:"blur",name:"Blur",type:"focus-event"},{id:"input",name:"Input",type:"input-event"},{id:"change",name:"Change",type:"event"},{id:"touchstart",name:"Touch start",type:"touch-event"},{id:"touchend",name:"Touch end",type:"touch-event"},{id:"touchmove",name:"Touch move",type:"touch-event"},{id:"touchcancel",name:"Touch cancel",type:"touch-event"},{id:"keydown",name:"Keydown",type:"keyboard-event"},{id:"keyup",name:"Keyup",type:"keyboard-event"},{id:"submit",name:"Submit",type:"submit-event"},{id:"wheel",name:"Wheel",type:"wheel-event"}],a=[{name:"JSON",id:"json"},{name:"CSV",id:"csv"},{name:"Plain text",id:"plain-text"}],l={scrape:"Scraping",automation:"Automation",productivity:"Productivity"},c=["delay","webhook","trigger","while-loop","conditions","element-exists"],u=[{name:"application/json",value:"json"},{name:"application/x-www-form-urlencoded",value:"form"}],d=[{id:"en",name:"English"},{id:"zh",name:"简体中文"},{id:"zh-tw",name:"繁體中文"},{id:"vi",name:"Tiếng Việt"},{id:"fr",name:"Français"}],h=[{name:"GitHub",icon:"riGithubFill",url:"https://github.com/kholid060/automa"},{name:"Twitter",icon:"riTwitterLine",url:"https://twitter.com/AutomaApp"},{name:"Discord",icon:"riDiscordLine",url:"https://discord.gg/C6khwwTE84"},{name:"YouTube",icon:"riYoutubeLine",url:"https://www.youtube.com/channel/UCL3qU64hW0fsIj2vOayOQUQ"}],p={valueTypes:[{id:"value",category:"value",name:"Value",compareable:!0,data:{value:""}},{id:"code",category:"value",name:"Code",compareable:!1,data:{code:"\nreturn true;"}},{id:"element#text",category:"element",name:"Element text",compareable:!0,data:{selector:""}},{id:"element#exists",category:"element",name:"Element exists",compareable:!1,data:{selector:""}},{id:"element#notExists",category:"element",name:"Element not exists",compareable:!1,data:{selector:""}},{id:"element#visible",category:"element",name:"Element visible",compareable:!1,data:{selector:""}},{id:"element#visibleScreen",category:"element",name:"Element visible in screen",compareable:!1,data:{selector:""}},{id:"element#invisible",category:"element",name:"Element hidden in screen",compareable:!1,data:{selector:""}},{id:"element#attribute",category:"element",name:"Element attribute value",compareable:!0,data:{selector:"",attrName:""}}],compareTypes:[{id:"eq",name:"Equals",needValue:!0,category:"basic"},{id:"eqi",name:"Equals (case insensitive)",needValue:!0,category:"basic"},{id:"nq",name:"Not equals",needValue:!0,category:"basic"},{id:"gt",name:"Greater than",needValue:!0,category:"number"},{id:"gte",name:"Greater than or equal",needValue:!0,category:"number"},{id:"lt",name:"Less than",needValue:!0,category:"number"},{id:"lte",name:"Less than or equal",needValue:!0,category:"number"},{id:"cnt",name:"Contains",needValue:!0,category:"text"},{id:"cni",name:"Contains (case insensitive)",needValue:!0,category:"text"},{id:"nct",name:"Not contains",needValue:!0,category:"text"},{id:"nci",name:"Not contains (case insensitive)",needValue:!0,category:"text"},{id:"stw",name:"Starts with",needValue:!0,category:"text"},{id:"enw",name:"Ends with",needValue:!0,category:"text"},{id:"rgx",name:"Match with RegEx",needValue:!0,category:"text"},{id:"itr",name:"Is truthy",needValue:!1,category:"boolean"},{id:"ifl",name:"Is falsy",needValue:!1,category:"boolean"}],inputTypes:{selector:{placeholder:".class",label:"CSS selector or XPath"},value:{label:"Value",placeholder:"abc123"},attrName:{label:"Attribute name",placeholder:"name"}}}},8355:(e,t,n)=>{"use strict";n.d(t,{BV:()=>c,W5:()=>g});var o=n(93150),r=n.n(o),i=n(27484),s=n.n(i),a=n(31263);function l(e,t){return new Promise(((n,o)=>{const i=["https://*/*","http://*/*"],s=t.contextTypes&&0!==t.contextTypes.length?t.contextTypes:["all"],a=r().contextMenus;a?a.create({id:e,documentUrlPatterns:i,contexts:s,title:t.contextMenuName,parentId:"automaContextMenu"},(()=>{const s=r().runtime.lastError;if(s){if(s.message.includes("automaContextMenu"))return void a.create({documentUrlPatterns:i,contexts:["all"],id:"automaContextMenu",title:"Run Automa workflow"},(()=>{l(e,t).then(n).catch(o)}));o(s.message)}else a.refresh&&a.refresh(),n()})):o(new Error("Don't have context menu permission"))}))}async function c(e){try{await r().alarms.clear(e);const{visitWebTriggers:t,onStartupTriggers:n,shortcuts:o}=await r().storage.local.get(["shortcuts","visitWebTriggers","onStartupTriggers"]),i=Array.isArray(o)?{}:o||{};delete i[e];const s=n||[],a=s.indexOf(e);-1!==a&&s.splice(a,1);const l=t.findIndex((t=>t.id===e));-1!==l&&t.splice(l,1),await async function(e){const{workflowQueue:t}=await r().storage.local.get("workflowQueue"),n=(t||[]).indexOf(e);t&&-1!==n&&(t.splice(n,1),await r().storage.local.set({workflowQueue:t}))}(),await r().storage.local.set({visitWebTriggers:t,shortcuts:i,onStartupTriggers:s});const c=async()=>{try{await(r().contextMenus?.remove(e))}catch(e){}};await c()}catch(e){console.error(e)}}function u(e,t){if(0===t.days.length)return null;const n=(e,t)=>{const[n,o]=t.split(":");return s()().day(e).hour(n).minute(o).second(0).valueOf()},o=t.days.reduce(((e,o)=>((0,a.Kn)(o)?o.times.forEach((t=>{e.push(n(o.id,t))})):e.push(n(o,t.time)),e)),[]).sort(),i=o.find((e=>e>Date.now()))||s()(o[0]).add(7,"day").valueOf();return r().alarms.create(e,{when:i})}function d(e,t){const n={periodInMinutes:t.interval};return t.delay>0&&!t.fixedDelay&&(n.delayInMinutes=t.delay),r().alarms.create(e,n)}function h(e,t){let n=Date.now()+6e4;if(t.date){const[e,o]=t.time.split(":");n=s()(t.date).hour(e).minute(o).second(0).valueOf()}return r().alarms.create(e,{when:n})}async function p(e,t){try{if(""===t.url.trim())return;const n=(await r().storage.local.get("visitWebTriggers"))?.visitWebTriggers||[],o=n.findIndex((t=>t.id===e)),i={id:e,url:t.url,isRegex:t.isUrlRegex};-1===o?n.unshift(i):n[o]=i,await r().storage.local.set({visitWebTriggers:n})}catch(e){console.error(e)}}async function f(e,t){try{const{shortcuts:n}=await r().storage.local.get("shortcuts"),o=Array.isArray(n)?{}:n||{};o[e]=t.shortcut,await r().storage.local.set({shortcuts:o})}catch(e){console.error(e)}}async function m(){}async function g(e,{data:t}){try{await c(e);const n={interval:d,date:h,"visit-web":p,"on-startup":m,"specific-day":u,"context-menu":l,"keyboard-shortcut":f};n[t.type]&&await n[t.type](e,t)}catch(e){throw console.error(e),e}}},13861:(e,t,n)=>{"use strict";function o(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function r(e){return e instanceof o(e).Element||e instanceof Element}function i(e){return e instanceof o(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof o(e).ShadowRoot||e instanceof ShadowRoot)}n.d(t,{XB:()=>ct,ZP:()=>ut,Bn:()=>at});var a=Math.max,l=Math.min,c=Math.round;function u(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,r=1;if(i(e)&&t){var s=e.offsetHeight,a=e.offsetWidth;a>0&&(o=c(n.width)/a||1),s>0&&(r=c(n.height)/s||1)}return{width:n.width/o,height:n.height/r,top:n.top/r,right:n.right/o,bottom:n.bottom/r,left:n.left/o,x:n.left/o,y:n.top/r}}function d(e){var t=o(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function h(e){return e?(e.nodeName||"").toLowerCase():null}function p(e){return((r(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return u(p(e)).left+d(e).scrollLeft}function m(e){return o(e).getComputedStyle(e)}function g(e){var t=m(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function v(e,t,n){void 0===n&&(n=!1);var r,s,a=i(t),l=i(t)&&function(e){var t=e.getBoundingClientRect(),n=c(t.width)/e.offsetWidth||1,o=c(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(t),m=p(t),v=u(e,l),y={scrollLeft:0,scrollTop:0},w={x:0,y:0};return(a||!a&&!n)&&(("body"!==h(t)||g(m))&&(y=(r=t)!==o(r)&&i(r)?{scrollLeft:(s=r).scrollLeft,scrollTop:s.scrollTop}:d(r)),i(t)?((w=u(t,!0)).x+=t.clientLeft,w.y+=t.clientTop):m&&(w.x=f(m))),{x:v.left+y.scrollLeft-w.x,y:v.top+y.scrollTop-w.y,width:v.width,height:v.height}}function y(e){var t=u(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function w(e){return"html"===h(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||p(e)}function b(e){return["html","body","#document"].indexOf(h(e))>=0?e.ownerDocument.body:i(e)&&g(e)?e:b(w(e))}function k(e,t){var n;void 0===t&&(t=[]);var r=b(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=o(r),a=i?[s].concat(s.visualViewport||[],g(r)?r:[]):r,l=t.concat(a);return i?l:l.concat(k(w(a)))}function x(e){return["table","td","th"].indexOf(h(e))>=0}function S(e){return i(e)&&"fixed"!==m(e).position?e.offsetParent:null}function _(e){for(var t=o(e),n=S(e);n&&x(n)&&"static"===m(n).position;)n=S(n);return n&&("html"===h(n)||"body"===h(n)&&"static"===m(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&i(e)&&"fixed"===m(e).position)return null;var n=w(e);for(s(n)&&(n=n.host);i(n)&&["html","body"].indexOf(h(n))<0;){var o=m(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}var C="top",D="bottom",E="right",A="left",O="auto",T=[C,D,E,A],M="start",L="end",I="viewport",N="popper",P=T.reduce((function(e,t){return e.concat([t+"-"+M,t+"-"+L])}),[]),U=[].concat(T,[O]).reduce((function(e,t){return e.concat([t,t+"-"+M,t+"-"+L])}),[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function j(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}var R={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function F(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?R:i;return function(e,t,n){void 0===n&&(n=s);var i,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},R,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var i="function"==typeof n?n(l.options):n;h(),l.options=Object.assign({},s,l.options,i),l.scrollParents={reference:r(e)?k(e):e.contextElement?k(e.contextElement):[],popper:k(t)};var a=function(e){var t=j(e);return B.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(o,l.options.modifiers)));return l.orderedModifiers=a.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:l,name:t,instance:d,options:o}),s=function(){};c.push(i||s)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(V(t,n)){l.rects={reference:v(t,_(n),"fixed"===l.options.strategy),popper:y(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<l.orderedModifiers.length;o++)if(!0!==l.reset){var r=l.orderedModifiers[o],i=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof i&&(l=i({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,o=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){h(),u=!0}};if(!V(e,t))return d;function h(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var W={passive:!0};function H(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function $(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?H(r):null,s=r?z(r):null,a=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2;switch(i){case C:t={x:a,y:n.y-o.height};break;case D:t={x:a,y:n.y+n.height};break;case E:t={x:n.x+n.width,y:l};break;case A:t={x:n.x-o.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?$(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case M:t[c]=t[c]-(n[u]/2-o[u]/2);break;case L:t[c]=t[c]+(n[u]/2-o[u]/2)}}return t}var q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Y(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,l=e.position,u=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,f=e.isFixed,g=a.x,v=void 0===g?0:g,y=a.y,w=void 0===y?0:y,b="function"==typeof h?h({x:v,y:w}):{x:v,y:w};v=b.x,w=b.y;var k=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),S=A,O=C,T=window;if(d){var M=_(n),I="clientHeight",N="clientWidth";if(M===o(n)&&"static"!==m(M=p(n)).position&&"absolute"===l&&(I="scrollHeight",N="scrollWidth"),i===C||(i===A||i===E)&&s===L)O=D,w-=(f&&M===T&&T.visualViewport?T.visualViewport.height:M[I])-r.height,w*=u?1:-1;if(i===A||(i===C||i===D)&&s===L)S=E,v-=(f&&M===T&&T.visualViewport?T.visualViewport.width:M[N])-r.width,v*=u?1:-1}var P,U=Object.assign({position:l},d&&q),B=!0===h?function(e){var t=e.x,n=e.y,o=window.devicePixelRatio||1;return{x:c(t*o)/o||0,y:c(n*o)/o||0}}({x:v,y:w}):{x:v,y:w};return v=B.x,w=B.y,u?Object.assign({},U,((P={})[O]=x?"0":"",P[S]=k?"0":"",P.transform=(T.devicePixelRatio||1)<=1?"translate("+v+"px, "+w+"px)":"translate3d("+v+"px, "+w+"px, 0)",P)):Object.assign({},U,((t={})[O]=x?w+"px":"",t[S]=k?v+"px":"",t.transform="",t))}const G={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];i(r)&&h(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],r=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});i(o)&&h(o)&&(Object.assign(o.style,s),Object.keys(r).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};const X={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=void 0===r?[0,0]:r,s=U.reduce((function(e,n){return e[n]=function(e,t,n){var o=H(e),r=[A,C].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*r,[A,E].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=s}};var J={left:"right",right:"left",bottom:"top",top:"bottom"};function Z(e){return e.replace(/left|right|bottom|top/g,(function(e){return J[e]}))}var Q={start:"end",end:"start"};function ee(e){return e.replace(/start|end/g,(function(e){return Q[e]}))}function te(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&s(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oe(e,t){return t===I?ne(function(e){var t=o(e),n=p(e),r=t.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,l=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,l=r.offsetTop)),{width:i,height:s,x:a+f(e),y:l}}(e)):r(t)?function(e){var t=u(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ne(function(e){var t,n=p(e),o=d(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=a(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=a(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-o.scrollLeft+f(e),c=-o.scrollTop;return"rtl"===m(r||n).direction&&(l+=a(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:l,y:c}}(p(e)))}function re(e,t,n){var o="clippingParents"===t?function(e){var t=k(w(e)),n=["absolute","fixed"].indexOf(m(e).position)>=0&&i(e)?_(e):e;return r(n)?t.filter((function(e){return r(e)&&te(e,n)&&"body"!==h(e)})):[]}(e):[].concat(t),s=[].concat(o,[n]),c=s[0],u=s.reduce((function(t,n){var o=oe(e,n);return t.top=a(o.top,t.top),t.right=l(o.right,t.right),t.bottom=l(o.bottom,t.bottom),t.left=a(o.left,t.left),t}),oe(e,c));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function ie(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function se(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var n=t,o=n.placement,i=void 0===o?e.placement:o,s=n.boundary,a=void 0===s?"clippingParents":s,l=n.rootBoundary,c=void 0===l?I:l,d=n.elementContext,h=void 0===d?N:d,f=n.altBoundary,m=void 0!==f&&f,g=n.padding,v=void 0===g?0:g,y=ie("number"!=typeof v?v:se(v,T)),w=h===N?"reference":N,b=e.rects.popper,k=e.elements[m?w:h],x=re(r(k)?k:k.contextElement||p(e.elements.popper),a,c),S=u(e.elements.reference),_=K({reference:S,element:b,strategy:"absolute",placement:i}),A=ne(Object.assign({},b,_)),O=h===N?A:S,M={top:x.top-O.top+y.top,bottom:O.bottom-x.bottom+y.bottom,left:x.left-O.left+y.left,right:O.right-x.right+y.right},L=e.modifiersData.offset;if(h===N&&L){var P=L[i];Object.keys(M).forEach((function(e){var t=[E,D].indexOf(e)>=0?1:-1,n=[C,D].indexOf(e)>=0?"y":"x";M[e]+=P[n]*t}))}return M}function le(e,t,n){return a(e,l(t,n))}const ce={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=void 0===r||r,s=n.altAxis,c=void 0!==s&&s,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,w=ae(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:h}),b=H(t.placement),k=z(t.placement),x=!k,S=$(b),O="x"===S?"y":"x",T=t.modifiersData.popperOffsets,L=t.rects.reference,I=t.rects.popper,N="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,P="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(T){if(i){var j,R="y"===S?C:A,V="y"===S?D:E,F="y"===S?"height":"width",W=T[S],K=W+w[R],q=W-w[V],Y=m?-I[F]/2:0,G=k===M?L[F]:I[F],X=k===M?-I[F]:-L[F],J=t.elements.arrow,Z=m&&J?y(J):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=Q[R],te=Q[V],ne=le(0,L[F],Z[F]),oe=x?L[F]/2-Y-ne-ee-P.mainAxis:G-ne-ee-P.mainAxis,re=x?-L[F]/2+Y+ne+te+P.mainAxis:X+ne+te+P.mainAxis,ie=t.elements.arrow&&_(t.elements.arrow),se=ie?"y"===S?ie.clientTop||0:ie.clientLeft||0:0,ce=null!=(j=null==U?void 0:U[S])?j:0,ue=W+re-ce,de=le(m?l(K,W+oe-ce-se):K,W,m?a(q,ue):q);T[S]=de,B[S]=de-W}if(c){var he,pe="x"===S?C:A,fe="x"===S?D:E,me=T[O],ge="y"===O?"height":"width",ve=me+w[pe],ye=me-w[fe],we=-1!==[C,A].indexOf(b),be=null!=(he=null==U?void 0:U[O])?he:0,ke=we?ve:me-L[ge]-I[ge]-be+P.altAxis,xe=we?me+L[ge]+I[ge]-be-P.altAxis:ye,Se=m&&we?function(e,t,n){var o=le(e,t,n);return o>n?n:o}(ke,me,xe):le(m?ke:ve,me,m?xe:ye);T[O]=Se,B[O]=Se-me}t.modifiersData[o]=B}},requiresIfExists:["offset"]};const ue={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=H(n.placement),l=$(a),c=[A,E].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return ie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:se(e,T))}(r.padding,n),d=y(i),h="y"===l?C:A,p="y"===l?D:E,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=_(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,w=f/2-m/2,b=u[h],k=v-d[c]-u[p],x=v/2-d[c]/2+w,S=le(b,x,k),O=l;n.modifiersData[o]=((t={})[O]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&te(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function de(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[C,E,D,A].some((function(t){return e[t]>=0}))}var pe=F({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,a=r.resize,l=void 0===a||a,c=o(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,W)})),l&&c.addEventListener("resize",n.update,W),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,W)})),l&&c.removeEventListener("resize",n.update,W)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:H(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Y(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Y(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},G,X,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=H(g),y=l||(v===g||!f?[Z(g)]:function(e){if(H(e)===O)return[];var t=Z(e);return[ee(e),t,ee(t)]}(g)),w=[g].concat(y).reduce((function(e,n){return e.concat(H(n)===O?function(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?U:l,u=z(o),d=u?a?P:P.filter((function(e){return z(e)===u})):T,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=ae(e,{placement:n,boundary:r,rootBoundary:i,padding:s})[H(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,k=t.rects.popper,x=new Map,S=!0,_=w[0],L=0;L<w.length;L++){var I=w[L],N=H(I),B=z(I)===M,j=[C,D].indexOf(N)>=0,R=j?"width":"height",V=ae(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),F=j?B?E:A:B?D:C;b[R]>k[R]&&(F=Z(F));var W=Z(F),$=[];if(i&&$.push(V[N]<=0),a&&$.push(V[F]<=0,V[W]<=0),$.every((function(e){return e}))){_=I,S=!1;break}x.set(I,$)}if(S)for(var K=function(e){var t=w.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},q=f?3:1;q>0;q--){if("break"===K(q))break}t.placement!==_&&(t.modifiersData[o]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ce,ue,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,s=ae(t,{elementContext:"reference"}),a=ae(t,{altBoundary:!0}),l=de(s,o),c=de(a,r,i),u=he(l),d=he(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),fe="tippy-content",me="tippy-backdrop",ge="tippy-arrow",ve="tippy-svg-arrow",ye={passive:!0,capture:!0},we=function(){return document.body};function be(e,t,n){if(Array.isArray(e)){var o=e[t];return null==o?Array.isArray(n)?n[t]:n:o}return e}function ke(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function xe(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Se(e,t){return 0===t?e:function(o){clearTimeout(n),n=setTimeout((function(){e(o)}),t)};var n}function _e(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function Ce(e){return[].concat(e)}function De(e,t){-1===e.indexOf(t)&&e.push(t)}function Ee(e){return e.split("-")[0]}function Ae(e){return[].slice.call(e)}function Oe(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Te(){return document.createElement("div")}function Me(e){return["Element","Fragment"].some((function(t){return ke(e,t)}))}function Le(e){return ke(e,"MouseEvent")}function Ie(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Ne(e){return Me(e)?[e]:function(e){return ke(e,"NodeList")}(e)?Ae(e):Array.isArray(e)?e:Ae(document.querySelectorAll(e))}function Pe(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Ue(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Be(e){var t,n=Ce(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function je(e,t,n){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[o](t,n)}))}function Re(e,t){for(var n=t;n;){var o;if(e.contains(n))return!0;n=null==n.getRootNode||null==(o=n.getRootNode())?void 0:o.host}return!1}var Ve={isTouch:!1},Fe=0;function We(){Ve.isTouch||(Ve.isTouch=!0,window.performance&&document.addEventListener("mousemove",He))}function He(){var e=performance.now();e-Fe<20&&(Ve.isTouch=!1,document.removeEventListener("mousemove",He)),Fe=e}function ze(){var e=document.activeElement;if(Ie(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var $e=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Ke={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},qe=Object.assign({appendTo:we,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ke,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ye=Object.keys(qe);function Ge(e){var t=(e.plugins||[]).reduce((function(t,n){var o,r=n.name,i=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(o=qe[r])?o:i);return t}),{});return Object.assign({},e,t)}function Xe(e,t){var n=Object.assign({},t,{content:xe(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Ge(Object.assign({},qe,{plugins:t}))):Ye).reduce((function(t,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return t;if("content"===n)t[n]=o;else try{t[n]=JSON.parse(o)}catch(e){t[n]=o}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},qe.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Je(e,t){e.innerHTML=t}function Ze(e){var t=Te();return!0===e?t.className=ge:(t.className=ve,Me(e)?t.appendChild(e):Je(t,e)),t}function Qe(e,t){Me(t.content)?(Je(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Je(e,t.content):e.textContent=t.content)}function et(e){var t=e.firstElementChild,n=Ae(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(fe)})),arrow:n.find((function(e){return e.classList.contains(ge)||e.classList.contains(ve)})),backdrop:n.find((function(e){return e.classList.contains(me)}))}}function tt(e){var t=Te(),n=Te();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=Te();function r(n,o){var r=et(t),i=r.box,s=r.content,a=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||Qe(s,e.props),o.arrow?a?n.arrow!==o.arrow&&(i.removeChild(a),i.appendChild(Ze(o.arrow))):i.appendChild(Ze(o.arrow)):a&&i.removeChild(a)}return o.className=fe,o.setAttribute("data-state","hidden"),Qe(o,e.props),t.appendChild(n),n.appendChild(o),r(e.props,e.props),{popper:t,onUpdate:r}}tt.$$tippy=!0;var nt=1,ot=[],rt=[];function it(e,t){var n,o,r,i,s,a,l,c,u=Xe(e,Object.assign({},qe,Ge(Oe(t)))),d=!1,h=!1,p=!1,f=!1,m=[],g=Se(q,u.interactiveDebounce),v=nt++,y=(c=u.plugins).filter((function(e,t){return c.indexOf(e)===t})),w={id:v,reference:e,popper:Te(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){0;if(w.state.isDestroyed)return;I("onBeforeUpdate",[w,t]),$();var n=w.props,o=Xe(e,Object.assign({},n,Oe(t),{ignoreAttributes:!0}));w.props=o,z(),n.interactiveDebounce!==o.interactiveDebounce&&(U(),g=Se(q,o.interactiveDebounce));n.triggerTarget&&!o.triggerTarget?Ce(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):o.triggerTarget&&e.removeAttribute("aria-expanded");P(),L(),x&&x(n,o);w.popperInstance&&(J(),Q().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));I("onAfterUpdate",[w,t])},setContent:function(e){w.setProps({content:e})},show:function(){0;var e=w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,o=Ve.isTouch&&!w.props.touch,r=be(w.props.duration,0,qe.duration);if(e||t||n||o)return;if(A().hasAttribute("disabled"))return;if(I("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,E()&&(k.style.visibility="visible");L(),V(),w.state.isMounted||(k.style.transition="none");if(E()){var i=T(),s=i.box,l=i.content;Pe([s,l],0)}a=function(){var e;if(w.state.isVisible&&!f){if(f=!0,k.offsetHeight,k.style.transition=w.props.moveTransition,E()&&w.props.animation){var t=T(),n=t.box,o=t.content;Pe([n,o],r),Ue([n,o],"visible")}N(),P(),De(rt,w),null==(e=w.popperInstance)||e.forceUpdate(),I("onMount",[w]),w.props.animation&&E()&&function(e,t){W(e,t)}(r,(function(){w.state.isShown=!0,I("onShown",[w])}))}},function(){var e,t=w.props.appendTo,n=A();e=w.props.interactive&&t===we||"parent"===t?n.parentNode:xe(t,[n]);e.contains(k)||e.appendChild(k);w.state.isMounted=!0,J(),!1}()},hide:function(){0;var e=!w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,o=be(w.props.duration,1,qe.duration);if(e||t||n)return;if(I("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,f=!1,d=!1,E()&&(k.style.visibility="hidden");if(U(),F(),L(!0),E()){var r=T(),i=r.box,s=r.content;w.props.animation&&(Pe([i,s],o),Ue([i,s],"hidden"))}N(),P(),w.props.animation?E()&&function(e,t){W(e,(function(){!w.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&t()}))}(o,w.unmount):w.unmount()},hideWithInteractivity:function(e){0;O().addEventListener("mousemove",g),De(ot,g),g(e)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){0;w.state.isVisible&&w.hide();if(!w.state.isMounted)return;Z(),Q().forEach((function(e){e._tippy.unmount()})),k.parentNode&&k.parentNode.removeChild(k);rt=rt.filter((function(e){return e!==w})),w.state.isMounted=!1,I("onHidden",[w])},destroy:function(){0;if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),$(),delete e._tippy,w.state.isDestroyed=!0,I("onDestroy",[w])}};if(!u.render)return w;var b=u.render(w),k=b.popper,x=b.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+w.id,w.popper=k,e._tippy=w,k._tippy=w;var S=y.map((function(e){return e.fn(w)})),_=e.hasAttribute("aria-expanded");return z(),P(),L(),I("onCreate",[w]),u.showOnCreate&&ee(),k.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),k.addEventListener("mouseleave",(function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",g)})),w;function C(){var e=w.props.touch;return Array.isArray(e)?e:[e,0]}function D(){return"hold"===C()[0]}function E(){var e;return!(null==(e=w.props.render)||!e.$$tippy)}function A(){return l||e}function O(){var e=A().parentNode;return e?Be(e):document}function T(){return et(k)}function M(e){return w.state.isMounted&&!w.state.isVisible||Ve.isTouch||i&&"focus"===i.type?0:be(w.props.delay,e?0:1,qe.delay)}function L(e){void 0===e&&(e=!1),k.style.pointerEvents=w.props.interactive&&!e?"":"none",k.style.zIndex=""+w.props.zIndex}function I(e,t,n){var o;(void 0===n&&(n=!0),S.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(o=w.props)[e].apply(o,t)}function N(){var t=w.props.aria;if(t.content){var n="aria-"+t.content,o=k.id;Ce(w.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(w.state.isVisible)e.setAttribute(n,t?t+" "+o:o);else{var r=t&&t.replace(o,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function P(){!_&&w.props.aria.expanded&&Ce(w.props.triggerTarget||e).forEach((function(e){w.props.interactive?e.setAttribute("aria-expanded",w.state.isVisible&&e===A()?"true":"false"):e.removeAttribute("aria-expanded")}))}function U(){O().removeEventListener("mousemove",g),ot=ot.filter((function(e){return e!==g}))}function B(t){if(!Ve.isTouch||!p&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!w.props.interactive||!Re(k,n)){if(Ce(w.props.triggerTarget||e).some((function(e){return Re(e,n)}))){if(Ve.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[w,t]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),h=!0,setTimeout((function(){h=!1})),w.state.isMounted||F())}}}function j(){p=!0}function R(){p=!1}function V(){var e=O();e.addEventListener("mousedown",B,!0),e.addEventListener("touchend",B,ye),e.addEventListener("touchstart",R,ye),e.addEventListener("touchmove",j,ye)}function F(){var e=O();e.removeEventListener("mousedown",B,!0),e.removeEventListener("touchend",B,ye),e.removeEventListener("touchstart",R,ye),e.removeEventListener("touchmove",j,ye)}function W(e,t){var n=T().box;function o(e){e.target===n&&(je(n,"remove",o),t())}if(0===e)return t();je(n,"remove",s),je(n,"add",o),s=o}function H(t,n,o){void 0===o&&(o=!1),Ce(w.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,o),m.push({node:e,eventType:t,handler:n,options:o})}))}function z(){var e;D()&&(H("touchstart",K,{passive:!0}),H("touchend",Y,{passive:!0})),(e=w.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,K),e){case"mouseenter":H("mouseleave",Y);break;case"focus":H($e?"focusout":"blur",G);break;case"focusin":H("focusout",G)}}))}function $(){m.forEach((function(e){var t=e.node,n=e.eventType,o=e.handler,r=e.options;t.removeEventListener(n,o,r)})),m=[]}function K(e){var t,n=!1;if(w.state.isEnabled&&!X(e)&&!h){var o="focus"===(null==(t=i)?void 0:t.type);i=e,l=e.currentTarget,P(),!w.state.isVisible&&Le(e)&&ot.forEach((function(t){return t(e)})),"click"===e.type&&(w.props.trigger.indexOf("mouseenter")<0||d)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:ee(e),"click"===e.type&&(d=!n),n&&!o&&te(e)}}function q(e){var t=e.target,n=A().contains(t)||k.contains(t);if("mousemove"!==e.type||!n){var o=Q().concat(k).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean);(function(e,t){var n=t.clientX,o=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,i=e.props.interactiveBorder,s=Ee(r.placement),a=r.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,d="left"===s?a.right.x:0,h=t.top-o+l>i,p=o-t.bottom-c>i,f=t.left-n+u>i,m=n-t.right-d>i;return h||p||f||m}))})(o,e)&&(U(),te(e))}}function Y(e){X(e)||w.props.trigger.indexOf("click")>=0&&d||(w.props.interactive?w.hideWithInteractivity(e):te(e))}function G(e){w.props.trigger.indexOf("focusin")<0&&e.target!==A()||w.props.interactive&&e.relatedTarget&&k.contains(e.relatedTarget)||te(e)}function X(e){return!!Ve.isTouch&&D()!==e.type.indexOf("touch")>=0}function J(){Z();var t=w.props,n=t.popperOptions,o=t.placement,r=t.offset,i=t.getReferenceClientRect,s=t.moveTransition,l=E()?et(k).arrow:null,c=i?{getBoundingClientRect:i,contextElement:i.contextElement||A()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=T().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},d=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},u];E()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),w.popperInstance=pe(c,k,Object.assign({},n,{placement:o,onFirstUpdate:a,modifiers:d}))}function Z(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function Q(){return Ae(k.querySelectorAll("[data-tippy-root]"))}function ee(e){w.clearDelayTimeouts(),e&&I("onTrigger",[w,e]),V();var t=M(!0),o=C(),r=o[0],i=o[1];Ve.isTouch&&"hold"===r&&i&&(t=i),t?n=setTimeout((function(){w.show()}),t):w.show()}function te(e){if(w.clearDelayTimeouts(),I("onUntrigger",[w,e]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&d)){var t=M(!1);t?o=setTimeout((function(){w.state.isVisible&&w.hide()}),t):r=requestAnimationFrame((function(){w.hide()}))}}else F()}}function st(e,t){void 0===t&&(t={});var n=qe.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",We,ye),window.addEventListener("blur",ze);var o=Object.assign({},t,{plugins:n}),r=Ne(e).reduce((function(e,t){var n=t&&it(t,o);return n&&e.push(n),e}),[]);return Me(e)?r[0]:r}st.defaultProps=qe,st.setDefaultProps=function(e){Object.keys(e).forEach((function(t){qe[t]=e[t]}))},st.currentInput=Ve;var at=function(e){var t=void 0===e?{}:e,n=t.exclude,o=t.duration;rt.forEach((function(e){var t=!1;if(n&&(t=Ie(n)?e.reference===n:e.popper===n.popper),!t){var r=e.props.duration;e.setProps({duration:o}),e.hide(),e.state.isDestroyed||e.setProps({duration:r})}}))},lt=Object.assign({},G,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),ct=function(e,t){var n;void 0===t&&(t={});var o,r=e,i=[],s=[],a=t.overrides,l=[],c=!1;function u(){s=r.map((function(e){return Ce(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function d(){i=r.map((function(e){return e.reference}))}function h(e){r.forEach((function(t){e?t.enable():t.disable()}))}function p(e){return r.map((function(t){var n=t.setProps;return t.setProps=function(r){n(r),t.reference===o&&e.setProps(r)},function(){t.setProps=n}}))}function f(e,t){var n=s.indexOf(t);if(t!==o){o=t;var l=(a||[]).concat("content").reduce((function(e,t){return e[t]=r[n].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=i[n])?void 0:e.getBoundingClientRect()}}))}}h(!1),d(),u();var m={fn:function(){return{onDestroy:function(){h(!0)},onHidden:function(){o=null},onClickOutside:function(e){e.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(e){e.props.showOnCreate&&!c&&(c=!0,f(e,i[0]))},onTrigger:function(e,t){f(e,t.currentTarget)}}}},g=st(Te(),Object.assign({},_e(t,["overrides"]),{plugins:[m].concat(t.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[lt])})})),v=g.show;g.show=function(e){if(v(),!o&&null==e)return f(g,i[0]);if(!o||null!=e){if("number"==typeof e)return i[e]&&f(g,i[e]);if(r.indexOf(e)>=0){var t=e.reference;return f(g,t)}return i.indexOf(e)>=0?f(g,e):void 0}},g.showNext=function(){var e=i[0];if(!o)return g.show(0);var t=i.indexOf(o);g.show(i[t+1]||e)},g.showPrevious=function(){var e=i[i.length-1];if(!o)return g.show(e);var t=i.indexOf(o),n=i[t-1]||e;g.show(n)};var y=g.setProps;return g.setProps=function(e){a=e.overrides||a,y(e)},g.setInstances=function(e){h(!0),l.forEach((function(e){return e()})),r=e,h(!1),d(),u(),l=p(g),g.setProps({triggerTarget:s})},l=p(g),g};st.setDefaultProps({render:tt});const ut=st},7043:(e,t,n)=>{"use strict";n.d(t,{QT:()=>H,o:()=>W});var o=n(87175),r=n(53403),i=n(12005),s=n(66252),a=n(2262);let l=r.kU.__EXTEND_POINT__;const c=()=>++l;c(),c(),c(),c(),c(),c();let u=i.Uz.__EXTEND_POINT__;const d=()=>++u,h={UNEXPECTED_RETURN_TYPE:u,INVALID_ARGUMENT:d(),MUST_BE_CALL_SETUP_TOP:d(),NOT_INSLALLED:d(),NOT_AVAILABLE_IN_LEGACY_MODE:d(),REQUIRED_VALUE:d(),INVALID_VALUE:d(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:d(),NOT_INSLALLED_WITH_PROVIDE:d(),UNEXPECTED_ERROR:d(),NOT_COMPATIBLE_LEGACY_VUE_I18N:d(),BRIDGE_SUPPORT_VUE_2_ONLY:d(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:d(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:d(),__EXTEND_POINT__:d()};function p(e,...t){return(0,i.t)(e,null,void 0)}const f=(0,o.je)("__transrateVNode"),m=(0,o.je)("__datetimeParts"),g=(0,o.je)("__numberParts"),v=(0,o.je)("__setPluralRules");(0,o.je)("__intlifyMeta");const y=(0,o.je)("__injectWithOption");function w(e){if(!(0,o.Kn)(e))return e;for(const t in e)if((0,o.RI)(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e;for(let e=0;e<r;e++)n[e]in i||(i[n[e]]={}),i=i[n[e]];i[n[r]]=e[t],delete e[t],(0,o.Kn)(i[n[r]])&&w(i[n[r]])}else(0,o.Kn)(e[t])&&w(e[t]);return e}function b(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=t,a=(0,o.PO)(n)?n:(0,o.kJ)(r)?{}:{[e]:{}};if((0,o.kJ)(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(a[t]=a[t]||{},x(n,a[t])):x(n,a)}else(0,o.HD)(e)&&x(JSON.parse(e),a)})),null==i&&s)for(const e in a)(0,o.RI)(a,e)&&w(a[e]);return a}const k=e=>!(0,o.Kn)(e)||(0,o.kJ)(e);function x(e,t){if(k(e)||k(t))throw p(h.INVALID_VALUE);for(const n in e)(0,o.RI)(e,n)&&(k(e[n])||k(t[n])?t[n]=e[n]:x(e[n],t[n]))}function S(e){return e.type}function _(e,t,n){let r=(0,o.Kn)(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=b(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);if(i.length&&i.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),(0,o.Kn)(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if((0,o.Kn)(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function C(e){return(0,s.Wm)(s.xv,null,e,0)}const D="__INTLIFY_META__";let E=0;function A(e){return(t,n,o,r)=>e(n,o,(0,s.FN)()||void 0,r)}function O(e={},t){const{__root:n}=e,i=void 0===n;let l=!(0,o.jn)(e.inheritLocale)||e.inheritLocale;const c=(0,a.iH)(n&&l?n.locale.value:(0,o.HD)(e.locale)?e.locale:r.ZW),u=(0,a.iH)(n&&l?n.fallbackLocale.value:(0,o.HD)(e.fallbackLocale)||(0,o.kJ)(e.fallbackLocale)||(0,o.PO)(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:c.value),d=(0,a.iH)(b(c.value,e)),w=(0,a.iH)((0,o.PO)(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),k=(0,a.iH)((0,o.PO)(e.numberFormats)?e.numberFormats:{[c.value]:{}});let _=n?n.missingWarn:!(0,o.jn)(e.missingWarn)&&!(0,o.Kj)(e.missingWarn)||e.missingWarn,O=n?n.fallbackWarn:!(0,o.jn)(e.fallbackWarn)&&!(0,o.Kj)(e.fallbackWarn)||e.fallbackWarn,T=n?n.fallbackRoot:!(0,o.jn)(e.fallbackRoot)||e.fallbackRoot,M=!!e.fallbackFormat,L=(0,o.mf)(e.missing)?e.missing:null,I=(0,o.mf)(e.missing)?A(e.missing):null,N=(0,o.mf)(e.postTranslation)?e.postTranslation:null,P=n?n.warnHtmlMessage:!(0,o.jn)(e.warnHtmlMessage)||e.warnHtmlMessage,U=!!e.escapeParameter;const B=n?n.modifiers:(0,o.PO)(e.modifiers)?e.modifiers:{};let j,R=e.pluralRules||n&&n.pluralRules;j=(()=>{i&&(0,r.Oz)(null);const t={version:"9.2.2",locale:c.value,fallbackLocale:u.value,messages:d.value,modifiers:B,pluralRules:R,missing:null===I?void 0:I,missingWarn:_,fallbackWarn:O,fallbackFormat:M,unresolving:!0,postTranslation:null===N?void 0:N,warnHtmlMessage:P,escapeParameter:U,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=w.value,t.numberFormats=k.value,t.__datetimeFormatters=(0,o.PO)(j)?j.__datetimeFormatters:void 0,t.__numberFormatters=(0,o.PO)(j)?j.__numberFormatters:void 0;const n=(0,r.kA)(t);return i&&(0,r.Oz)(n),n})(),(0,r.zn)(j,c.value,u.value);const V=(0,s.Fl)({get:()=>c.value,set:e=>{c.value=e,j.locale=c.value}}),F=(0,s.Fl)({get:()=>u.value,set:e=>{u.value=e,j.fallbackLocale=u.value,(0,r.zn)(j,c.value,e)}}),W=(0,s.Fl)((()=>d.value)),H=(0,s.Fl)((()=>w.value)),z=(0,s.Fl)((()=>k.value));const $=(e,t,a,l,f,m)=>{let g;if(c.value,u.value,d.value,w.value,k.value,__INTLIFY_PROD_DEVTOOLS__)try{(0,r.VB)((()=>{const e=(0,s.FN)();let t=null;return e&&(t=S(e)[D])?{[D]:t}:null})()),i||(j.fallbackContext=n?(0,r.Vw)():void 0),g=e(j)}finally{(0,r.VB)(null),i||(j.fallbackContext=void 0)}else g=e(j);if((0,o.hj)(g)&&g===r.zS){const[e,o]=t();return n&&T?l(n):f(e)}if(m(g))return g;throw p(h.UNEXPECTED_RETURN_TYPE)};function K(...e){return $((t=>Reflect.apply(r.Iu,null,[t,...e])),(()=>(0,r.cr)(...e)),0,(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>(0,o.HD)(e)))}const q={normalize:function(e){return e.map((e=>(0,o.HD)(e)||(0,o.hj)(e)||(0,o.jn)(e)?C(String(e)):e))},interpolate:e=>e,type:"vnode"};function Y(e){return d.value[e]||{}}E++,n&&o._f&&((0,s.YP)(n.locale,(e=>{l&&(c.value=e,j.locale=e,(0,r.zn)(j,c.value,u.value))})),(0,s.YP)(n.fallbackLocale,(e=>{l&&(u.value=e,j.fallbackLocale=e,(0,r.zn)(j,c.value,u.value))})));const G={id:E,locale:V,fallbackLocale:F,get inheritLocale(){return l},set inheritLocale(e){l=e,e&&n&&(c.value=n.locale.value,u.value=n.fallbackLocale.value,(0,r.zn)(j,c.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:W,get modifiers(){return B},get pluralRules(){return R||{}},get isGlobal(){return i},get missingWarn(){return _},set missingWarn(e){_=e,j.missingWarn=_},get fallbackWarn(){return O},set fallbackWarn(e){O=e,j.fallbackWarn=O},get fallbackRoot(){return T},set fallbackRoot(e){T=e},get fallbackFormat(){return M},set fallbackFormat(e){M=e,j.fallbackFormat=M},get warnHtmlMessage(){return P},set warnHtmlMessage(e){P=e,j.warnHtmlMessage=e},get escapeParameter(){return U},set escapeParameter(e){U=e,j.escapeParameter=e},t:K,getLocaleMessage:Y,setLocaleMessage:function(e,t){d.value[e]=t,j.messages=d.value},mergeLocaleMessage:function(e,t){d.value[e]=d.value[e]||{},x(t,d.value[e]),j.messages=d.value},getPostTranslationHandler:function(){return(0,o.mf)(N)?N:null},setPostTranslationHandler:function(e){N=e,j.postTranslation=e},getMissingHandler:function(){return L},setMissingHandler:function(e){null!==e&&(I=A(e)),L=e,j.missing=I},[v]:function(e){R=e,j.pluralRules=R}};return G.datetimeFormats=H,G.numberFormats=z,G.rt=function(...e){const[t,n,r]=e;if(r&&!(0,o.Kn)(r))throw p(h.INVALID_ARGUMENT);return K(t,n,(0,o.f0)({resolvedMessage:!0},r||{}))},G.te=function(e,t){const n=Y((0,o.HD)(t)?t:c.value);return null!==j.messageResolver(n,e)},G.tm=function(e){const t=function(e){let t=null;const n=(0,r.gA)(j,u.value,c.value);for(let o=0;o<n.length;o++){const r=d.value[n[o]]||{},i=j.messageResolver(r,e);if(null!=i){t=i;break}}return t}(e);return null!=t?t:n&&n.tm(e)||{}},G.d=function(...e){return $((t=>Reflect.apply(r.t2,null,[t,...e])),(()=>(0,r.Ls)(...e)),0,(t=>Reflect.apply(t.d,t,[...e])),(()=>r.In),(e=>(0,o.HD)(e)))},G.n=function(...e){return $((t=>Reflect.apply(r.Rx,null,[t,...e])),(()=>(0,r.sb)(...e)),0,(t=>Reflect.apply(t.n,t,[...e])),(()=>r.In),(e=>(0,o.HD)(e)))},G.getDateTimeFormat=function(e){return w.value[e]||{}},G.setDateTimeFormat=function(e,t){w.value[e]=t,j.datetimeFormats=w.value,(0,r.R7)(j,e,t)},G.mergeDateTimeFormat=function(e,t){w.value[e]=(0,o.f0)(w.value[e]||{},t),j.datetimeFormats=w.value,(0,r.R7)(j,e,t)},G.getNumberFormat=function(e){return k.value[e]||{}},G.setNumberFormat=function(e,t){k.value[e]=t,j.numberFormats=k.value,(0,r.bB)(j,e,t)},G.mergeNumberFormat=function(e,t){k.value[e]=(0,o.f0)(k.value[e]||{},t),j.numberFormats=k.value,(0,r.bB)(j,e,t)},G[y]=e.__injectWithOption,G[f]=function(...e){return $((t=>{let n;const o=t;try{o.processor=q,n=Reflect.apply(r.Iu,null,[o,...e])}finally{o.processor=null}return n}),(()=>(0,r.cr)(...e)),0,(t=>t[f](...e)),(e=>[C(e)]),(e=>(0,o.kJ)(e)))},G[m]=function(...e){return $((t=>Reflect.apply(r.t2,null,[t,...e])),(()=>(0,r.Ls)(...e)),0,(t=>t[m](...e)),(()=>[]),(e=>(0,o.HD)(e)||(0,o.kJ)(e)))},G[g]=function(...e){return $((t=>Reflect.apply(r.Rx,null,[t,...e])),(()=>(0,r.sb)(...e)),0,(t=>t[g](...e)),(()=>[]),(e=>(0,o.HD)(e)||(0,o.kJ)(e)))},G}function T(e={},t){{const t=O(function(e){const t=(0,o.HD)(e.locale)?e.locale:r.ZW,n=(0,o.HD)(e.fallbackLocale)||(0,o.kJ)(e.fallbackLocale)||(0,o.PO)(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,i=(0,o.mf)(e.missing)?e.missing:void 0,s=!(0,o.jn)(e.silentTranslationWarn)&&!(0,o.Kj)(e.silentTranslationWarn)||!e.silentTranslationWarn,a=!(0,o.jn)(e.silentFallbackWarn)&&!(0,o.Kj)(e.silentFallbackWarn)||!e.silentFallbackWarn,l=!(0,o.jn)(e.fallbackRoot)||e.fallbackRoot,c=!!e.formatFallbackMessages,u=(0,o.PO)(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,h=(0,o.mf)(e.postTranslation)?e.postTranslation:void 0,p=!(0,o.HD)(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,f=!!e.escapeParameterHtml,m=!(0,o.jn)(e.sync)||e.sync;let g=e.messages;if((0,o.PO)(e.sharedMessages)){const t=e.sharedMessages;g=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return(0,o.f0)(r,t[n]),e}),g||{})}const{__i18n:v,__root:y,__injectWithOption:w}=e,b=e.datetimeFormats,k=e.numberFormats;return{locale:t,fallbackLocale:n,messages:g,flatJson:e.flatJson,datetimeFormats:b,numberFormats:k,missing:i,missingWarn:s,fallbackWarn:a,fallbackRoot:l,fallbackFormat:c,modifiers:u,pluralRules:d,postTranslation:h,warnHtmlMessage:p,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:m,__i18n:v,__root:y,__injectWithOption:w}}(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return(0,o.jn)(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=(0,o.jn)(e)?!e:e},get silentFallbackWarn(){return(0,o.jn)(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=(0,o.jn)(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,i]=e,s={};let a=null,l=null;if(!(0,o.HD)(n))throw p(h.INVALID_ARGUMENT);const c=n;return(0,o.HD)(r)?s.locale=r:(0,o.kJ)(r)?a=r:(0,o.PO)(r)&&(l=r),(0,o.kJ)(i)?a=i:(0,o.PO)(i)&&(l=i),Reflect.apply(t.t,t,[c,a||l||{},s])},rt:(...e)=>Reflect.apply(t.rt,t,[...e]),tc(...e){const[n,r,i]=e,s={plural:1};let a=null,l=null;if(!(0,o.HD)(n))throw p(h.INVALID_ARGUMENT);const c=n;return(0,o.HD)(r)?s.locale=r:(0,o.hj)(r)?s.plural=r:(0,o.kJ)(r)?a=r:(0,o.PO)(r)&&(l=r),(0,o.HD)(i)?s.locale=i:(0,o.kJ)(i)?a=i:(0,o.PO)(i)&&(l=i),Reflect.apply(t.t,t,[c,a||l||{},s])},te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1,__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:o}=e;o&&o(t,n)}};return n}}const M={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function L(e){return s.HY}const I={name:"i18n-t",props:(0,o.f0)({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>(0,o.hj)(e)||!isNaN(e)}},M),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||H({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter((e=>"_"!==e)),l={};e.locale&&(l.locale=e.locale),void 0!==e.plural&&(l.plural=(0,o.HD)(e.plural)?+e.plural:e.plural);const c=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce(((e,t)=>[...e,...(0,o.kJ)(t.children)?t.children:[t]]),[]);return t.reduce(((t,n)=>{const o=e[n];return o&&(t[n]=o()),t}),{})}(t,a),u=i[f](e.keypath,c,l),d=(0,o.f0)({},r),h=(0,o.HD)(e.tag)||(0,o.Kn)(e.tag)?e.tag:L();return(0,s.h)(h,d,u)}}};function N(e,t,n,r){const{slots:i,attrs:a}=t;return()=>{const t={part:!0};let l={};e.locale&&(t.locale=e.locale),(0,o.HD)(e.format)?t.key=e.format:(0,o.Kn)(e.format)&&((0,o.HD)(e.format.key)&&(t.key=e.format.key),l=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?(0,o.f0)({},t,{[r]:e.format[r]}):t),{}));const c=r(e.value,t,l);let u=[t.key];(0,o.kJ)(c)?u=c.map(((e,t)=>{const n=i[e.type],r=n?n({[e.type]:e.value,index:t,parts:c}):[e.value];var s;return s=r,(0,o.kJ)(s)&&!(0,o.HD)(s[0])&&(r[0].key=`${e.type}-${t}`),r})):(0,o.HD)(c)&&(u=[c]);const d=(0,o.f0)({},a),h=(0,o.HD)(e.tag)||(0,o.Kn)(e.tag)?e.tag:L();return(0,s.h)(h,d,u)}}const P={name:"i18n-n",props:(0,o.f0)({value:{type:Number,required:!0},format:{type:[String,Object]}},M),setup(e,t){const n=e.i18n||H({useScope:"parent",__useComponent:!0});return N(e,t,r.FZ,((...e)=>n[g](...e)))}},U={name:"i18n-d",props:(0,o.f0)({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},M),setup(e,t){const n=e.i18n||H({useScope:"parent",__useComponent:!0});return N(e,t,r.n0,((...e)=>n[m](...e)))}};function B(e){if((0,o.HD)(e))return{path:e};if((0,o.PO)(e)){if(!("path"in e))throw p(h.REQUIRED_VALUE);return e}throw p(h.INVALID_VALUE)}function j(e){const{path:t,locale:n,args:r,choice:i,plural:s}=e,a={},l=r||{};return(0,o.HD)(n)&&(a.locale=n),(0,o.hj)(i)&&(a.plural=i),(0,o.hj)(s)&&(a.plural=s),[t,l,a]}function R(e,t,...n){const r=(0,o.PO)(n[0])?n[0]:{},i=!!r.useI18nComponentName;(!(0,o.jn)(r.globalInstall)||r.globalInstall)&&(e.component(i?"i18n":I.name,I),e.component(P.name,P),e.component(U.name,U)),e.directive("t",function(e){const t=t=>{const{instance:n,modifiers:o,value:r}=t;if(!n||!n.$)throw p(h.UNEXPECTED_ERROR);const i=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const o=n.__getInstance(t);return null!=o?o.__composer:e.global.__composer}}(e,n.$),s=B(r);return[Reflect.apply(i.t,i,[...j(s)]),i]};return{created:(n,r)=>{const[i,a]=t(r);o._f&&e.global===a&&(n.__i18nWatcher=(0,s.YP)(a.locale,(()=>{r.instance&&r.instance.$forceUpdate()}))),n.__composer=a,n.textContent=i},unmounted:e=>{o._f&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,o=B(t);e.textContent=Reflect.apply(n.t,n,[...j(o)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}function V(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[v](t.pluralizationRules||e.pluralizationRules);const n=b(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const F=(0,o.je)("global-vue-i18n");function W(e={},t){const n=__VUE_I18N_LEGACY_API__&&(0,o.jn)(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!(0,o.jn)(e.globalInjection)||e.globalInjection,i=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,l=new Map,[c,u]=function(e,t,n){const o=(0,a.B)();{const n=__VUE_I18N_LEGACY_API__&&t?o.run((()=>T(e))):o.run((()=>O(e)));if(null==n)throw p(h.UNEXPECTED_ERROR);return[o,n]}}(e,n),d=(0,o.je)("");{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(t,...o){t.__VUE_I18N_SYMBOL__=d,t.provide(t.__VUE_I18N_SYMBOL__,e),!n&&r&&function(e,t){const n=Object.create(null);z.forEach((e=>{const o=Object.getOwnPropertyDescriptor(t,e);if(!o)throw p(h.UNEXPECTED_ERROR);const r=(0,a.dq)(o.value)?{get:()=>o.value.value,set(e){o.value.value=e}}:{get:()=>o.get&&o.get()};Object.defineProperty(n,e,r)})),e.config.globalProperties.$i18n=n,$.forEach((n=>{const o=Object.getOwnPropertyDescriptor(t,n);if(!o||!o.value)throw p(h.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,o)}))}(t,e.global),__VUE_I18N_FULL_INSTALL__&&R(t,e,...o),__VUE_I18N_LEGACY_API__&&n&&t.mixin(function(e,t,n){return{beforeCreate(){const o=(0,s.FN)();if(!o)throw p(h.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const n=r.i18n;r.__i18n&&(n.__i18n=r.__i18n),n.__root=t,this===this.$root?this.$i18n=V(e,n):(n.__injectWithOption=!0,this.$i18n=T(n))}else r.__i18n?this===this.$root?this.$i18n=V(e,r):this.$i18n=T({__i18n:r.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;r.__i18nGlobal&&_(t,r,r),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(o,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){},unmounted(){const e=(0,s.FN)();if(!e)throw p(h.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}(u,u.__composer,e));const i=t.unmount;t.unmount=()=>{e.dispose(),i()}},get global(){return u},dispose(){c.stop()},__instances:l,__getInstance:function(e){return l.get(e)||null},__setInstance:function(e,t){l.set(e,t)},__deleteInstance:function(e){l.delete(e)}};return e}}function H(e={}){const t=(0,s.FN)();if(null==t)throw p(h.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw p(h.NOT_INSLALLED);const n=function(e){{const t=(0,s.f3)(e.isCE?F:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw p(e.isCE?h.NOT_INSLALLED_WITH_PROVIDE:h.UNEXPECTED_ERROR);return t}}(t),i=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),l=S(t),c=function(e,t){return(0,o.Qr)(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,l);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw p(h.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,t,n,i={}){const l="local"===t,c=(0,a.XI)(null);if(l&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw p(h.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const u=!(0,o.jn)(i.inheritLocale)||i.inheritLocale,d=(0,a.iH)(l&&u?n.locale.value:(0,o.HD)(i.locale)?i.locale:r.ZW),f=(0,a.iH)(l&&u?n.fallbackLocale.value:(0,o.HD)(i.fallbackLocale)||(0,o.kJ)(i.fallbackLocale)||(0,o.PO)(i.fallbackLocale)||!1===i.fallbackLocale?i.fallbackLocale:d.value),m=(0,a.iH)(b(d.value,i)),g=(0,a.iH)((0,o.PO)(i.datetimeFormats)?i.datetimeFormats:{[d.value]:{}}),v=(0,a.iH)((0,o.PO)(i.numberFormats)?i.numberFormats:{[d.value]:{}}),y=l?n.missingWarn:!(0,o.jn)(i.missingWarn)&&!(0,o.Kj)(i.missingWarn)||i.missingWarn,w=l?n.fallbackWarn:!(0,o.jn)(i.fallbackWarn)&&!(0,o.Kj)(i.fallbackWarn)||i.fallbackWarn,k=l?n.fallbackRoot:!(0,o.jn)(i.fallbackRoot)||i.fallbackRoot,x=!!i.fallbackFormat,S=(0,o.mf)(i.missing)?i.missing:null,_=(0,o.mf)(i.postTranslation)?i.postTranslation:null,C=l?n.warnHtmlMessage:!(0,o.jn)(i.warnHtmlMessage)||i.warnHtmlMessage,D=!!i.escapeParameter,E=l?n.modifiers:(0,o.PO)(i.modifiers)?i.modifiers:{},A=i.pluralRules||l&&n.pluralRules;function O(){return[d.value,f.value,m.value,g.value,v.value]}const T=(0,s.Fl)({get:()=>c.value?c.value.locale.value:d.value,set:e=>{c.value&&(c.value.locale.value=e),d.value=e}}),M=(0,s.Fl)({get:()=>c.value?c.value.fallbackLocale.value:f.value,set:e=>{c.value&&(c.value.fallbackLocale.value=e),f.value=e}}),L=(0,s.Fl)((()=>c.value?c.value.messages.value:m.value)),I=(0,s.Fl)((()=>g.value)),N=(0,s.Fl)((()=>v.value));function P(){return c.value?c.value.getPostTranslationHandler():_}function U(e){c.value&&c.value.setPostTranslationHandler(e)}function B(){return c.value?c.value.getMissingHandler():S}function j(e){c.value&&c.value.setMissingHandler(e)}function R(e){return O(),e()}function V(...e){return c.value?R((()=>Reflect.apply(c.value.t,null,[...e]))):R((()=>""))}function F(...e){return c.value?Reflect.apply(c.value.rt,null,[...e]):""}function W(...e){return c.value?R((()=>Reflect.apply(c.value.d,null,[...e]))):R((()=>""))}function H(...e){return c.value?R((()=>Reflect.apply(c.value.n,null,[...e]))):R((()=>""))}function z(e){return c.value?c.value.tm(e):{}}function $(e,t){return!!c.value&&c.value.te(e,t)}function K(e){return c.value?c.value.getLocaleMessage(e):{}}function q(e,t){c.value&&(c.value.setLocaleMessage(e,t),m.value[e]=t)}function Y(e,t){c.value&&c.value.mergeLocaleMessage(e,t)}function G(e){return c.value?c.value.getDateTimeFormat(e):{}}function X(e,t){c.value&&(c.value.setDateTimeFormat(e,t),g.value[e]=t)}function J(e,t){c.value&&c.value.mergeDateTimeFormat(e,t)}function Z(e){return c.value?c.value.getNumberFormat(e):{}}function Q(e,t){c.value&&(c.value.setNumberFormat(e,t),v.value[e]=t)}function ee(e,t){c.value&&c.value.mergeNumberFormat(e,t)}const te={get id(){return c.value?c.value.id:-1},locale:T,fallbackLocale:M,messages:L,datetimeFormats:I,numberFormats:N,get inheritLocale(){return c.value?c.value.inheritLocale:u},set inheritLocale(e){c.value&&(c.value.inheritLocale=e)},get availableLocales(){return c.value?c.value.availableLocales:Object.keys(m.value)},get modifiers(){return c.value?c.value.modifiers:E},get pluralRules(){return c.value?c.value.pluralRules:A},get isGlobal(){return!!c.value&&c.value.isGlobal},get missingWarn(){return c.value?c.value.missingWarn:y},set missingWarn(e){c.value&&(c.value.missingWarn=e)},get fallbackWarn(){return c.value?c.value.fallbackWarn:w},set fallbackWarn(e){c.value&&(c.value.missingWarn=e)},get fallbackRoot(){return c.value?c.value.fallbackRoot:k},set fallbackRoot(e){c.value&&(c.value.fallbackRoot=e)},get fallbackFormat(){return c.value?c.value.fallbackFormat:x},set fallbackFormat(e){c.value&&(c.value.fallbackFormat=e)},get warnHtmlMessage(){return c.value?c.value.warnHtmlMessage:C},set warnHtmlMessage(e){c.value&&(c.value.warnHtmlMessage=e)},get escapeParameter(){return c.value?c.value.escapeParameter:D},set escapeParameter(e){c.value&&(c.value.escapeParameter=e)},t:V,getPostTranslationHandler:P,setPostTranslationHandler:U,getMissingHandler:B,setMissingHandler:j,rt:F,d:W,n:H,tm:z,te:$,getLocaleMessage:K,setLocaleMessage:q,mergeLocaleMessage:Y,getDateTimeFormat:G,setDateTimeFormat:X,mergeDateTimeFormat:J,getNumberFormat:Z,setNumberFormat:Q,mergeNumberFormat:ee};function ne(e){e.locale.value=d.value,e.fallbackLocale.value=f.value,Object.keys(m.value).forEach((t=>{e.mergeLocaleMessage(t,m.value[t])})),Object.keys(g.value).forEach((t=>{e.mergeDateTimeFormat(t,g.value[t])})),Object.keys(v.value).forEach((t=>{e.mergeNumberFormat(t,v.value[t])})),e.escapeParameter=D,e.fallbackFormat=x,e.fallbackRoot=k,e.fallbackWarn=w,e.missingWarn=y,e.warnHtmlMessage=C}return(0,s.wF)((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw p(h.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=c.value=e.proxy.$i18n.__composer;"global"===t?(d.value=n.locale.value,f.value=n.fallbackLocale.value,m.value=n.messages.value,g.value=n.datetimeFormats.value,v.value=n.numberFormats.value):l&&ne(n)})),te}(t,c,i,e)}if("global"===c)return _(i,e,l),i;if("parent"===c){let o=function(e,t,n=!1){let o=null;const r=t.root;let i=t.parent;for(;null!=i;){const t=e;if("composition"===e.mode)o=t.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(i);null!=e&&(o=e.__composer,n&&o&&!o[y]&&(o=null))}if(null!=o)break;if(r===i)break;i=i.parent}return o}(n,t,e.__useComponent);return null==o&&(o=i),o}const u=n;let d=u.__getInstance(t);if(null==d){const n=(0,o.f0)({},e);"__i18n"in l&&(n.__i18n=l.__i18n),i&&(n.__root=i),d=O(n),function(e,t,n){(0,s.bv)((()=>{0}),t),(0,s.Ah)((()=>{e.__deleteInstance(t)}),t)}(u,t),u.__setInstance(t,d)}return d}const z=["locale","fallbackLocale","availableLocales"],$=["t","rt","d","n","tm"];if((0,r.Pw)(r.M1),(0,r.zL)(r.GK),(0,r.tl)(r.gA),function(){let e=!1;"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(e=!0,(0,o.E9)().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(e=!0,(0,o.E9)().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&((0,o.E9)().__INTLIFY_PROD_DEVTOOLS__=!1)}(),__INTLIFY_PROD_DEVTOOLS__){const e=(0,o.E9)();e.__INTLIFY__=!0,(0,r.Ve)(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}},83744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}},13900:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(66252),r=n(49963),i=n(3577);const s={key:0,class:"absolute bottom-1 transition-transform duration-300 pt-4 ml-1 menu"},a={class:"bg-accent dark:bg-gray-100 dark:text-black px-3 py-2 text-white rounded-lg flex items-center"},l={key:1,class:"border-r border-gray-600 h-5 mx-3"},c={__name:"BlockBase",props:{hideDelete:{type:Boolean,default:!1},minimap:{type:Boolean,default:!1},hideEdit:{type:Boolean,default:!1},contentClass:{type:String,default:""}},emits:["delete","edit"],setup:e=>(t,n)=>{const c=(0,o.up)("ui-card"),u=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.iD)("div",{class:"block-base relative w-48",onDblclick:n[2]||(n[2]=(0,r.withModifiers)((e=>t.$emit("edit")),["stop"]))},[(0,o.WI)(t.$slots,"prepend"),(0,o.Wm)(c,{class:(0,i.normalizeClass)([e.contentClass,"z-10 relative block-base__content"])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class"]),(0,o.WI)(t.$slots,"append"),e.minimap?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,[e.hideEdit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:n[0]||(n[0]=e=>t.$emit("edit"))},[(0,o.Wm)(u,{size:"20",name:"riPencilLine"})])),e.hideDelete||e.hideEdit?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("hr",l)),e.hideDelete?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:2,onClick:n[1]||(n[1]=(0,r.withModifiers)((e=>t.$emit("delete")),["stop"]))},[(0,o.Wm)(u,{size:"20",name:"riDeleteBin7Line"})])),(0,o.WI)(t.$slots,"action")])]))],32)}}},78294:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var o=n(66252),r=n(2262),i=n(49963),s=n(3577),a=n(32992),l=n(7043),c=n(83429),u=n(73398),d=n(13900);const h={class:"flex items-center"},p={class:"overflow-hidden flex-1"},f={key:0,class:"font-semibold leading-tight text-overflow whitespace-nowrap"},m=["onClick"],g=["title"],v={key:1,class:"fallback flex items-center justify-end"},y={class:"ml-1"},w={__name:"BlockBasic",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})},events:{type:Object,default:()=>({})},dimensions:{type:Object,default:()=>({})}},emits:["delete","edit","update"],setup(e){const t=e,{t:n}=(0,l.QT)(),w=(0,c.Q)(t.label),b=(0,u.G)("block-base");function k(e){const n={data:t.data,id:w.details.id,blockId:t.id,fromBlockBasic:!0};e.dataTransfer.setData("block",JSON.stringify(n))}function x(){navigator.clipboard.writeText(t.data.loopId)}return(t,l)=>{const c=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.j4)(d.default,{id:(0,r.SU)(b),"hide-edit":(0,r.SU)(w).details.disableEdit,"hide-delete":(0,r.SU)(w).details.disableDelete,"data-position":JSON.stringify(e.position),class:"block-basic group",onEdit:l[1]||(l[1]=e=>t.$emit("edit")),onDelete:l[2]||(l[2]=n=>t.$emit("delete",e.id))},{prepend:(0,o.w5)((()=>["trigger"!==(0,r.SU)(w).details.id?((0,o.wg)(),(0,o.iD)("div",{key:0,title:(0,r.SU)(n)("workflow.blocks.base.moveToGroup"),draggable:"true",class:"bg-white dark:bg-gray-700 invisible group-hover:visible z-50 absolute -top-2 -right-2 rounded-md p-1 shadow-md",onDragstart:k,onMousedown:l[0]||(l[0]=(0,i.withModifiers)((()=>{}),["stop"]))},[(0,o.Wm)(c,{name:"riDragDropLine",size:"20"})],40,g)):(0,o.kq)("",!0)])),default:(0,o.w5)((()=>["trigger"!==e.label?((0,o.wg)(),(0,o.j4)((0,r.SU)(a.HH),{key:0,id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(a.Ly).Left},null,8,["id","position"])):(0,o.kq)("",!0),(0,o._)("div",h,[(0,o._)("span",{class:(0,s.normalizeClass)([e.data.disableBlock?"bg-box-transparent":(0,r.SU)(w).category.color,"inline-block p-2 mr-2 rounded-lg dark:text-black"])},[(0,o.Wm)(c,{name:(0,r.SU)(w).details.icon||"riGlobalLine"},null,8,["name"])],2),(0,o._)("div",p,[(0,r.SU)(w).details.id?((0,o.wg)(),(0,o.iD)("p",f,(0,s.toDisplayString)((0,r.SU)(n)(`workflow.blocks.${(0,r.SU)(w).details.id}.name`)),1)):(0,o.kq)("",!0),(0,o._)("p",{class:(0,s.normalizeClass)([{"mb-1":e.data.description&&e.data.loopId},"text-gray-600 dark:text-gray-200 text-overflow leading-tight"])},(0,s.toDisplayString)(e.data.description),3),e.data.loopId?((0,o.wg)(),(0,o.iD)("span",{key:1,class:"bg-box-transparent rounded-br-lg text-gray-600 dark:text-gray-200 text-overflow rounded-sm py-px px-1 text-xs absolute bottom-0 right-0",title:"Loop Id (click to copy)",style:{"max-width":"40%",cursor:"pointer"},onClick:(0,i.withModifiers)(x,["stop"])},(0,s.toDisplayString)(e.data.loopId),9,m)):(0,o.kq)("",!0)])]),(0,o.WI)(t.$slots,"default",{block:(0,r.SU)(w)}),e.data.onError?.enable&&"fallback"===e.data.onError?.toDo?((0,o.wg)(),(0,o.iD)("div",v,[(0,r.SU)(w)?((0,o.wg)(),(0,o.j4)(c,{key:0,title:(0,r.SU)(n)("workflow.blocks.base.onError.fallbackTitle"),name:"riInformationLine",size:"18"},null,8,["title"])):(0,o.kq)("",!0),(0,o._)("span",y,(0,s.toDisplayString)((0,r.SU)(n)("common.fallback")),1)])):(0,o.kq)("",!0),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(a.Ly).Right},null,8,["id","position"]),e.data.onError?.enable&&"fallback"===e.data.onError?.toDo?((0,o.wg)(),(0,o.j4)((0,r.SU)(a.HH),{key:2,id:`${e.id}-output-fallback`,type:"source",position:(0,r.SU)(a.Ly).Right,style:{top:"auto",bottom:"10px"}},null,8,["id","position"])):(0,o.kq)("",!0)])),_:3},8,["id","hide-edit","hide-delete","data-position"])}}}},47017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var o=n(66252),r=n(2262),i=n(49963),s=n(3577),a=n(32992),l=n(7043),c=n(83429),u=n(73398),d=n(13900);const h={class:"flex items-center"},p={class:"overflow-hidden flex-1"},f={key:0,class:"font-semibold leading-tight text-overflow whitespace-nowrap"},m={class:"text-gray-600 dark:text-gray-200 text-overflow leading-tight"},g={class:"fallback flex items-center justify-end"},v={class:"ml-1"},y=["title"],w={__name:"BlockBasicWithFallback",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["delete","edit","update"],setup(e){const t=e,{t:n}=(0,l.QT)(),w=(0,c.Q)(t.label),b=(0,u.G)("block-base");function k(e){const t={data:w.data,id:w.details.id,blockId:w.id,fromBlockBasic:!0};e.dataTransfer.setData("block",JSON.stringify(t))}return(t,l)=>{const c=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.j4)(d.default,{id:(0,r.SU)(b),"hide-edit":(0,r.SU)(w).details.disableEdit,"hide-delete":(0,r.SU)(w).details.disableDelete,class:"block-basic group",onEdit:l[1]||(l[1]=e=>t.$emit("edit")),onDelete:l[2]||(l[2]=n=>t.$emit("delete",e.id))},{prepend:(0,o.w5)((()=>["trigger"!==(0,r.SU)(w).details.id?((0,o.wg)(),(0,o.iD)("div",{key:0,title:(0,r.SU)(n)("workflow.blocks.base.moveToGroup"),draggable:"true",class:"bg-white dark:bg-gray-700 invisible group-hover:visible z-50 absolute -top-2 -right-2 rounded-md p-1 shadow-md",onDragstart:k,onMousedown:l[0]||(l[0]=(0,i.withModifiers)((()=>{}),["stop"]))},[(0,o.Wm)(c,{name:"riDragDropLine",size:"20"})],40,y)):(0,o.kq)("",!0)])),default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(a.Ly).Left},null,8,["id","position"]),(0,o._)("div",h,[(0,o._)("span",{class:(0,s.normalizeClass)([e.data.disableBlock?"bg-box-transparent":(0,r.SU)(w).category.color,"inline-block p-2 mr-2 rounded-lg dark:text-black"])},[(0,o.Wm)(c,{name:(0,r.SU)(w).details.icon||"riGlobalLine"},null,8,["name"])],2),(0,o._)("div",p,[(0,r.SU)(w).details.id?((0,o.wg)(),(0,o.iD)("p",f,(0,s.toDisplayString)((0,r.SU)(n)(`workflow.blocks.${(0,r.SU)(w).details.id}.name`)),1)):(0,o.kq)("",!0),(0,o._)("p",m,(0,s.toDisplayString)(e.data.description),1)])]),(0,o.WI)(t.$slots,"default",{block:(0,r.SU)(w)}),(0,o._)("div",g,[(0,r.SU)(w)?((0,o.wg)(),(0,o.j4)(c,{key:0,title:(0,r.SU)(n)("workflow.blocks.base.onError.fallbackTitle"),name:"riInformationLine",size:"18"},null,8,["title"])):(0,o.kq)("",!0),(0,o._)("span",v,(0,s.toDisplayString)((0,r.SU)(n)("common.fallback")),1)]),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(a.Ly).Right},null,8,["id","position"]),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-fallback`,type:"source",position:(0,r.SU)(a.Ly).Right,style:{top:"auto",bottom:"10px"}},null,8,["id","position"])])),_:3},8,["id","hide-edit","hide-delete"])}}}},84458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n(66252),r=n(2262),i=n(49963),s=n(3577),a=n(7043),l=n(32992),c=n(73398),u=n(83429);const d={class:"flex items-center"},h=(0,o._)("div",{class:"flex-grow"},null,-1),p={key:0,class:"mt-4 space-y-2"},f=["title"],m={class:"w-5/12 text-overflow text-right"},g={class:"w-2/12 text-center mx-1 font-mono"},v={class:"w-5/12 text-overflow"},y={key:0,class:"text-right text-gray-600 dark:text-gray-200"},w=[(0,o._)("span",{title:"Fallback"}," ⓘ ",-1),(0,o.Uk)(" Fallback ")],b={__name:"BlockConditions",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["delete","edit"],setup(e){const t=e,{t:n}=(0,a.QT)(),b=(0,c.G)("block-conditions"),k=(0,u.Q)(t.label);return(t,a)=>{const c=(0,o.up)("v-remixicon"),u=(0,o.up)("ui-card");return(0,o.wg)(),(0,o.j4)(u,{id:(0,r.SU)(b),class:"w-64 relative",onDblclick:a[2]||(a[2]=(0,i.withModifiers)((e=>t.$emit("edit")),["stop"]))},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(l.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(l.Ly).Left},null,8,["id","position"]),(0,o._)("div",d,[(0,o._)("div",{class:(0,s.normalizeClass)([e.data.disableBlock?"bg-box-transparent":(0,r.SU)(k).category.color,"inline-block text-sm mr-4 p-2 rounded-lg dark:text-black"])},[(0,o.Wm)(c,{name:"riAB",size:"20",class:"inline-block mr-1"}),(0,o._)("span",null,(0,s.toDisplayString)((0,r.SU)(n)("workflow.blocks.conditions.name")),1)],2),h,(0,o.Wm)(c,{name:"riDeleteBin7Line",class:"cursor-pointer mr-2",onClick:a[0]||(a[0]=(0,i.withModifiers)((n=>t.$emit("delete",e.id)),["stop"]))}),(0,o.Wm)(c,{name:"riPencilLine",class:"inline-block cursor-pointer",onClick:a[1]||(a[1]=e=>t.$emit("edit"))})]),(0,o.wy)((0,o._)("p",{class:"text-gray-600 mt-2 dark:text-gray-200 text-overflow leading-tight"},(0,s.toDisplayString)(e.data.description),513),[[i.vShow,e.data.description]]),e.data.conditions&&0!==e.data.conditions.length?((0,o.wg)(),(0,o.iD)("ul",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.data.conditions,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id,class:"flex items-center flex-1 p-2 bg-box-transparent rounded-lg w-full relative"},[t.name?((0,o.wg)(),(0,o.iD)("p",{key:0,class:"text-overflow w-full text-right",title:t.name},(0,s.toDisplayString)(t.name),9,f)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",m,(0,s.toDisplayString)(t.compareValue||"_____"),1),(0,o._)("p",g,(0,s.toDisplayString)(t.type),1),(0,o._)("p",v,(0,s.toDisplayString)(t.value||"_____"),1)],64)),(0,o.Wm)((0,r.SU)(l.HH),{id:`${e.id}-output-${t.id}`,position:(0,r.SU)(l.Ly).Right,style:{"margin-right":"-33px"},type:"source"},null,8,["id","position"])])))),128)),e.data.conditions&&0!==e.data.conditions.length?((0,o.wg)(),(0,o.iD)("p",y,w)):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.data.conditions.length>0?((0,o.wg)(),(0,o.j4)((0,r.SU)(l.HH),{key:1,id:`${e.id}-output-fallback`,position:(0,r.SU)(l.Ly).Right,type:"source",style:{top:"auto",bottom:"10px"}},null,8,["id","position"])):(0,o.kq)("",!0)])),_:1},8,["id"])}}}},30484:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(7043),l=n(32992),c=n(73398),u=n(83429);const d={class:"flex items-center mb-2"},h=(0,o._)("div",{class:"flex-grow"},null,-1),p=["value","title","placeholder"],f=["title"],m={__name:"BlockDelay",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["update","delete"],setup(e){const t=e,{t:n}=(0,a.QT)(),m=(0,u.Q)(t.label),g=(0,c.G)("block-delay");function v(e){const n={id:t.label,data:t.data,blockId:t.id,fromBlockBasic:!0};e.dataTransfer.setData("block",JSON.stringify(n))}return(t,a)=>{const c=(0,o.up)("v-remixicon"),u=(0,o.up)("ui-card");return(0,o.wg)(),(0,o.j4)(u,{id:(0,r.SU)(g),class:"p-4 w-48 block-basic"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(l.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(l.Ly).Left},null,8,["id","position"]),(0,o._)("div",d,[(0,o._)("div",{class:(0,i.normalizeClass)([(0,r.SU)(m).category.color,"inline-block text-sm mr-4 p-2 rounded-lg dark:text-black"])},[(0,o.Wm)(c,{name:"riTimerLine",size:"20",class:"inline-block mr-1"}),(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(n)("workflow.blocks.delay.name")),1)],2),h,(0,o.Wm)(c,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:a[0]||(a[0]=(0,s.withModifiers)((n=>t.$emit("delete",e.id)),["stop"]))})]),(0,o._)("input",{value:e.data.time,min:"0",title:(0,r.SU)(n)("workflow.blocks.delay.input.title"),placeholder:(0,r.SU)(n)("workflow.blocks.delay.input.placeholder"),class:"px-4 py-2 w-full rounded-lg bg-input",type:"text",required:"",onInput:a[1]||(a[1]=e=>t.$emit("update",{time:e.target.value}))},null,40,p),"trigger"!==(0,r.SU)(m).details.id?((0,o.wg)(),(0,o.iD)("div",{key:0,title:(0,r.SU)(n)("workflow.blocks.base.moveToGroup"),draggable:"true",class:"bg-white dark:bg-gray-700 invisible move-to-group z-50 absolute -top-2 -right-2 rounded-md p-1 shadow-md",onDragstart:v,onMousedown:a[2]||(a[2]=(0,s.withModifiers)((()=>{}),["stop"]))},[(0,o.Wm)(c,{name:"riDragDropLine",size:"20"})],40,f)):(0,o.kq)("",!0),(0,o.Wm)((0,r.SU)(l.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(l.Ly).Right},null,8,["id","position"])])),_:1},8,["id"])}}}},26418:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(32992),l=n(73398),c=n(83429),u=n(13900);const d=["title"],h={class:"text-right text-gray-600 dark:text-gray-200"},p=["title"],f={__name:"BlockElementExists",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["delete","edit"],setup(e){const t=e,{t:n}=(0,s.QT)(),f=(0,c.Q)(t.label),m=(0,l.G)("block-delay");return(t,s)=>{const l=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.j4)(u.default,{id:(0,r.SU)(m),class:"element-exists",style:{width:"195px"},onEdit:s[0]||(s[0]=e=>t.$emit("edit")),onDelete:s[1]||(s[1]=n=>t.$emit("delete",e.id))},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(a.Ly).Left},null,8,["id","position"]),(0,o._)("div",{class:(0,i.normalizeClass)([e.data.disableBlock?"bg-box-transparent":(0,r.SU)(f).category.color,"inline-block text-sm mb-2 p-2 rounded-lg dark:text-black"])},[(0,o.Wm)(l,{name:"riFocus3Line",size:"20",class:"inline-block mr-1"}),(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(n)("workflow.blocks.element-exists.name")),1)],2),(0,o._)("p",{title:(0,r.SU)(n)("workflow.blocks.element-exists.selector"),class:(0,i.normalizeClass)([{"font-mono":!e.data.description},"text-overflow p-2 rounded-lg bg-box-transparent text-sm text-right mb-2"]),style:{"max-width":"200px"}},(0,i.toDisplayString)(e.data.description||e.data.selector||(0,r.SU)(n)("workflow.blocks.element-exists.selector")),11,d),(0,o._)("p",h,[(0,o._)("span",{title:(0,r.SU)(n)("workflow.blocks.element-exists.fallbackTitle")}," ⓘ ",8,p),(0,o.Uk)(" "+(0,i.toDisplayString)((0,r.SU)(n)("common.fallback")),1)]),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(a.Ly).Right},null,8,["id","position"]),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-2`,type:"source",position:(0,r.SU)(a.Ly).Right,style:{top:"auto",bottom:"12px"}},null,8,["id","position"])])),_:1},8,["id"])}}}},80044:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(7043),l=n(53416),c=n(23002),u=n(32992),d=n(9980),h=n.n(d),p=n(64989),f=n(73398),m=n(83429);const g={class:"p-4"},v={class:"flex items-center mb-2"},y=(0,o._)("div",{class:"flex-grow"},null,-1),w=["value","placeholder"],b=["onDragstart","onDragend"],k={class:"leading-tight flex-1 overflow-hidden"},x={class:"text-overflow"},S=["title"],_={class:"invisible group-hover:visible"},C={class:"p-2 rounded-lg text-gray-600 dark:text-gray-200 border text-center border-dashed"},D={__name:"BlockGroup",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})},editor:{type:Object,default:()=>({})},events:{type:Object,default:()=>({})}},emits:["update","delete","edit"],setup(e,{emit:t}){const n=e,d=["trigger","repeat-task","loop-data","loop-breakpoint","blocks-group","conditions","webhook","element-exists"],{t:D}=(0,a.QT)(),E=(0,c.pm)(),A=(0,f.G)("blocks-group"),O=(0,m.Q)(n.label),T=(0,o.f3)("workflow",{}),M=(0,o.Fl)((()=>Array.isArray(n.data.blocks)?n.data.blocks:Object.values(n.data.blocks)));function L(e){e.preventDefault(),e.stopPropagation();const o=JSON.parse(e.dataTransfer.getData("block")||null);if(!o||o.fromGroup)return;const{id:i,data:s,blockId:a}=o;if(d.includes(i))return void E.error(D("workflow.blocks.blocks-group.cantAdd",{blockName:D(`workflow.blocks.${i}.name`)}));a&&t("delete",a);const c=[...n.data.blocks,(0,r.Um)({id:i,data:s,itemId:(0,l.x0)(5)})];t("update",{blocks:c})}return(a,l)=>{const c=(0,o.up)("v-remixicon"),d=(0,o.up)("ui-card");return(0,o.wg)(),(0,o.j4)(d,{id:(0,r.SU)(A),class:"w-64",padding:"p-0"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(u.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(u.Ly).Left},null,8,["id","position"]),(0,o._)("div",g,[(0,o._)("div",v,[(0,o._)("div",{class:(0,i.normalizeClass)([(0,r.SU)(O).category.color,"inline-flex items-center text-sm mr-4 p-2 rounded-lg dark:text-black"])},[(0,o.Wm)(c,{name:(0,r.SU)(O).details.icon||"riFolderZipLine",size:"20",class:"inline-block mr-2"},null,8,["name"]),(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(D)("workflow.blocks.blocks-group.name")),1)],2),y,(0,o.Wm)(c,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:l[0]||(l[0]=(0,s.withModifiers)((n=>t("delete",e.id)),["stop"]))})]),(0,o._)("input",{value:e.data.name,placeholder:(0,r.SU)(D)("workflow.blocks.blocks-group.groupName"),type:"text",class:"bg-transparent w-full focus:ring-0",onInput:l[1]||(l[1]=e=>a.$emit("update",{name:e.target.value}))},null,40,w)]),(0,o.Wm)((0,r.SU)(h()),{"model-value":(0,r.SU)(M),"item-key":"itemId",class:"px-4 pb-4 overflow-auto nowheel scroll text-sm space-y-1 max-h-60",onMousedown:l[2]||(l[2]=(0,s.withModifiers)((()=>{}),["stop"])),onDragover:l[3]||(l[3]=(0,s.withModifiers)((()=>{}),["prevent"])),onDrop:L,"onUpdate:modelValue":l[4]||(l[4]=e=>a.$emit("update",{blocks:e}))},{item:(0,o.w5)((({element:e,index:s})=>[(0,o._)("div",{class:"p-2 rounded-lg bg-input space-x-2 flex items-center group",style:{cursor:"grab"},onDragstart:t=>{return n=e,void t.dataTransfer.setData("block",JSON.stringify({...p.wq[n.id],...n,fromGroup:!0}));var n},onDragend:o=>{return r=e.itemId,void setTimeout((()=>{if(document.querySelector(`[group-item-id="${r}"]`)){const e=M.value.findIndex((e=>e.itemId===r));if(-1!==e){const o=[...n.data.blocks];o.splice(e,1),t("update",{blocks:o})}}}),200);var r}},[(0,o.Wm)(c,{name:(0,r.SU)(p.wq)[e.id].icon,size:"20",class:"flex-shrink-0"},null,8,["name"]),(0,o._)("div",k,[(0,o._)("p",x,(0,i.toDisplayString)((0,r.SU)(D)(`workflow.blocks.${e.id}.name`)),1),(0,o._)("p",{title:e.data.description,class:"text-gray-600 dark:text-gray-200 text-overflow"},(0,i.toDisplayString)(e.data.description),9,S)]),(0,o._)("div",_,[(0,o.Wm)(c,{name:"riPencilLine",size:"20",class:"cursor-pointer inline-block mr-2",onClick:n=>{t("edit",e)}},null,8,["onClick"]),(0,o.Wm)(c,{name:"riDeleteBin7Line",size:"20",class:"cursor-pointer inline-block",onClick:o=>function(e,o){const r=[...n.data.blocks];T.editState.blockData.itemId===o&&(T.editState.editing=!1,T.editState.blockData=!1),r.splice(e,1),t("update",{blocks:r})}(s,e.itemId)},null,8,["onClick"])])],40,b)])),footer:(0,o.w5)((()=>[(0,o._)("div",C,(0,i.toDisplayString)((0,r.SU)(D)("workflow.blocks.blocks-group.dropText")),1)])),_:1},8,["model-value"]),(0,o.Wm)((0,r.SU)(u.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(u.Ly).Right},null,8,["id","position"])])),_:1},8,["id"])}}}},12380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(66252),r=n(3577),i=n(2262);const s={class:"p-4 flex items-center"},a=["value"],l=(0,o._)("div",{class:"flex-1"},null,-1),c={__name:"BlockGroup2",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})},events:{type:Object,default:()=>({})},dimensions:{type:Object,default:()=>({})}},emits:["delete","edit","update"],setup(e,{emit:t}){let n=null;const c={x:0,y:0,width:0,height:0},u=(0,i.iH)(null);function d(e){e.preventDefault(),e.stopPropagation();const o=c.width+e.clientX-c.x,r=c.height+e.clientY-c.y;n.style.width=`${o}px`,n.style.height=`${r}px`,t("update",{height:r,width:o})}function h(){document.documentElement.removeEventListener("mouseup",h),document.documentElement.removeEventListener("mousemove",d)}function p(e){e.preventDefault(),e.stopPropagation();const{height:t,width:o}=getComputedStyle(n);c.x=e.clientX,c.y=e.clientY,c.width=parseInt(o,10),c.height=parseInt(t,10),document.documentElement.addEventListener("mouseup",h),document.documentElement.addEventListener("mousemove",d)}return(0,o.bv)((()=>{n=u.value.closest(".group-block-2"),u.value.addEventListener("mousedown",p)})),(0,o.Jd)((()=>{u.value.removeEventListener("mousedown",p)})),(n,i)=>{const c=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.iD)("div",{style:(0,r.normalizeStyle)([{width:`${e.data.width||400}px`,height:`${e.data.height||300}px`},{"min-width":"400px","min-height":"300px","border-color":"#2563eb","background-color":"rgb(37, 99, 235, 0.3)"}]),class:"group-block-2 group relative border-2 rounded-lg relative"},[(0,o._)("div",s,[(0,o._)("input",{value:e.data.name,placeholder:"name",type:"text",class:"px-4 py-2 bg-white rounded-lg",onInput:i[0]||(i[0]=e=>t("update",{name:e.target.value}))},null,40,a),l,(0,o.Wm)(c,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:i[1]||(i[1]=t=>n.$emit("delete",e.id))})]),(0,o._)("span",{ref_key:"dragHandle",ref:u,style:{cursor:"nw-resize"},class:"drag-handle h-4 w-4 invisible group-hover:visible bg-accent absolute bottom-0 right-0"},null,512)],4)}}}},44128:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(7043),l=n(32992),c=n(73398),u=n(83429);const d={class:"flex items-center mb-2"},h=(0,o._)("div",{class:"flex-grow"},null,-1),p=["value"],f={__name:"BlockLoopBreakpoint",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["delete","update"],setup(e,{emit:t}){const n=e,{t:f}=(0,a.QT)(),m=(0,u.Q)(n.label),g=(0,c.G)("block-delay");function v({target:e}){const n=e.value.replace(/\s/g,"");t("update",{loopId:n})}return(t,n)=>{const a=(0,o.up)("v-remixicon"),c=(0,o.up)("ui-card");return(0,o.wg)(),(0,o.j4)(c,{id:(0,r.SU)(g),class:"w-48"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(l.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(l.Ly).Left},null,8,["id","position"]),(0,o._)("div",d,[(0,o._)("div",{class:(0,i.normalizeClass)([(0,r.SU)(m).category.color,"inline-block text-sm mr-4 p-2 rounded-lg dark:text-black text-overflow"])},[(0,o.Wm)(a,{name:"riStopLine",size:"20",class:"inline-block mr-1"}),(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(f)("workflow.blocks.loop-breakpoint.name")),1)],2),h,(0,o.Wm)(a,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:n[0]||(n[0]=(0,s.withModifiers)((n=>t.$emit("delete",e.id)),["stop"]))})]),(0,o._)("input",{value:e.data.loopId,class:"px-4 py-2 rounded-lg w-full bg-input",placeholder:"Loop ID",type:"text",required:"",onInput:v},null,40,p),(0,o.Wm)((0,r.SU)(l.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(l.Ly).Right},null,8,["id","position"])])),_:1},8,["id"])}}}},29273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(32992),l=n(73398),c=n(83429);const u={class:"flex items-center mb-2"},d=(0,o._)("div",{class:"flex-grow"},null,-1),h={class:"mb-2 block bg-input focus-within:bg-input pr-4 transition rounded-lg"},p=["value"],f={class:"text-gray-600 dark:text-gray-200"},m={class:"text-right text-gray-600 dark:text-gray-200"},g={__name:"BlockRepeatTask",props:{id:{type:String,default:""},label:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["delete","update"],setup(e,{emit:t}){const n=e,{t:g}=(0,s.QT)(),v=(0,c.Q)(n.label),y=(0,l.G)("block-delay");function w({target:e}){e.reportValidity();const n=+e.value||0;n<0||t("update",{repeatFor:n})}return(t,n)=>{const s=(0,o.up)("v-remixicon"),l=(0,o.up)("ui-card");return(0,o.wg)(),(0,o.j4)(l,{id:(0,r.SU)(y),class:"p-4 repeat-task"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-input-1`,type:"target",position:(0,r.SU)(a.Ly).Left},null,8,["id","position"]),(0,o._)("div",u,[(0,o._)("div",{class:(0,i.normalizeClass)([(0,r.SU)(v).category.color,"inline-block text-sm mr-4 p-2 rounded-lg dark:text-black"])},[(0,o.Wm)(s,{name:"riRepeat2Line",size:"20",class:"inline-block mr-1"}),(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(g)("workflow.blocks.repeat-task.name")),1)],2),d,(0,o.Wm)(s,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:n[0]||(n[0]=n=>t.$emit("delete",e.id))})]),(0,o._)("label",h,[(0,o._)("input",{value:e.data.repeatFor||0,min:"0",class:"pl-4 py-2 bg-transparent rounded-l-lg w-24 mr-2",type:"number",required:"",onInput:w},null,40,p),(0,o._)("span",f,(0,i.toDisplayString)((0,r.SU)(g)("workflow.blocks.repeat-task.times")),1)]),(0,o._)("p",m,(0,i.toDisplayString)((0,r.SU)(g)("workflow.blocks.repeat-task.repeatFrom")),1),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-1`,type:"source",position:(0,r.SU)(a.Ly).Right},null,8,["id","position"]),(0,o.Wm)((0,r.SU)(a.HH),{id:`${e.id}-output-2`,type:"source",position:(0,r.SU)(a.Ly).Right,style:{top:"auto",bottom:"12px"}},null,8,["id","position"])])),_:1},8,["id"])}}}},2303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var o=n(66252),r=n(3577),i=n(2262),s=n(49963),a=n(7043),l=n(53416),c=n(9980),u=n.n(c),d=n(83465),h=n.n(d),p=n(64989),f=n(34790),m=n(26541),g=n(79735);const v={key:0,class:"flex items-end space-x-2 flex-wrap"},y=["label"],w=["value"],b=["label"],k=["value"],x={__name:"ConditionBuilderInputs",props:{data:{type:Array,default:()=>[]},autocomplete:{type:Array,default:()=>[]}},emits:["update"],setup(e,{emit:t}){const s=e,c=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),u=[m.$$.automaRefData],d=[(0,f.ys)({override:[(0,m.rm)(u),m.cF]})],x=p.YK.compareTypes.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{}),{t:S}=(0,a.QT)(),_=(0,i.iH)(h()(s.data));function C(e){const t={value:{id:(0,l.x0)(),type:"value",category:"value",data:{value:""}},compare:{id:(0,l.x0)(),category:"compare",type:"eq"}};return"string"==typeof e?t[e]:e.map((e=>t[e]))}function D(e){return p.YK.valueTypes.reduce(((t,n)=>((e<1||n.compareable)&&(t[n.category]=t[n.category]||[]).push(n),t)),{})}return(0,o.YP)(_,(e=>{t("update",e)}),{deep:!0}),(e,t)=>{const n=(0,o.up)("ui-select"),s=(0,o.up)("v-remixicon"),a=(0,o.up)("ui-input");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(_.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"condition-input scroll"},["value"===e.category?((0,o.wg)(),(0,o.iD)("div",v,[(0,o.Wm)(n,{"model-value":e.type,class:"flex-shrink-0",onChange:e=>function(e,t){const n=p.YK.valueTypes.find((({id:t})=>t===e));0!==t||n.compareable?1===_.value.length&&_.value.push(...C(["compare","value"])):_.value.splice(t+1),_.value[t].type=e,_.value[t].data={...n.data}}(e,t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(D(t),((e,t)=>((0,o.wg)(),(0,o.iD)("optgroup",{key:t,label:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,w)))),128))],8,y)))),128))])),_:2},1032,["model-value","onChange"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.data,((n,l)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:e.id+l},["code"===l?((0,o.wg)(),(0,o.j4)(s,{key:0,title:(0,i.SU)(S)("workflow.conditionBuilder.topAwait"),name:"riInformationLine"},null,8,["title"])):(0,o.kq)("",!0),(0,o.Wm)(g.default,{disabled:"code"===l,class:(0,r.normalizeClass)(["code"===l?"w-full":"flex-1"]),style:(0,r.normalizeStyle)({marginLeft:"code"===l?0:null})},{default:(0,o.w5)((()=>["code"===l?((0,o.wg)(),(0,o.j4)((0,i.SU)(c),{key:0,modelValue:_.value[t].data[l],"onUpdate:modelValue":e=>_.value[t].data[l]=e,extensions:d,class:"code-condition mt-2",style:{"margin-left":"0"}},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.j4)(a,{key:1,modelValue:_.value[t].data[l],"onUpdate:modelValue":e=>_.value[t].data[l]=e,title:(0,i.SU)(p.YK).inputTypes[l].label,placeholder:(0,i.SU)(p.YK).inputTypes[l].label,autocomplete:"off",class:"w-full"},null,8,["modelValue","onUpdate:modelValue","title","placeholder"]))])),_:2},1032,["disabled","class","style"])],64)))),128))])):"compare"===e.category?((0,o.wg)(),(0,o.j4)(n,{key:1,"model-value":_.value[t].type,onChange:e=>function(e,t){const{needValue:n}=p.YK.compareTypes.find((({id:t})=>t===e));n?2===_.value.length&&_.value.push(C("value")):_.value.splice(t+1),_.value[t].type=e}(e,t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(x),((e,t)=>((0,o.wg)(),(0,o.iD)("optgroup",{key:t,label:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,k)))),128))],8,b)))),128))])),_:2},1032,["model-value","onChange"])):(0,o.kq)("",!0)])))),128)}}},S={class:"space-y-4"},_={class:"flex relative condition-group"},C={class:"py-1 w-14 text-center text-white dark:text-black rounded-md dark:bg-blue-300 bg-blue-500 inline-block z-10 relative"},D={class:"flex-1 space-y-2"},E={class:"condition-item"},A={class:"text-overflow flex-1 text-left space-x-2 w-64"},O={class:"space-y-2 px-4 py-2"},T={class:"space-x-2 text-sm mt-2 condition-action"},M={class:"text-left or-text relative mt-4"},L=(e=>((0,o.dD)("data-v-4dca31bc"),e=e(),(0,o.Cn)(),e))((()=>(0,o._)("span",{class:"line bg-indigo-500 dark:bg-indigo-400 w-full absolute top-1/2 -translate-y-1/2 left-0",style:{height:"2px"}},null,-1))),I={class:"py-1 dark:text-black rounded-md dark:bg-indigo-300 bg-indigo-500 w-14 relative z-10 inline-block text-white text-center"},N={__name:"index",props:{modelValue:{type:Array,default:()=>[]},autocomplete:{type:Array,default:()=>[]}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,{t:c}=(0,a.QT)(),d=(0,i.iH)(h()(n.modelValue));function f(e=["value","compare","value"]){const t={value:{type:"value",category:"value",data:{value:""}},compare:{category:"compare",type:"eq"}},n=e=>h()({...t[e],id:(0,l.x0)()});return"string"==typeof e?n(e):e.map((e=>n(e)))}function m(){const e=f();d.value.push({id:(0,l.x0)(),conditions:[{id:(0,l.x0)(),items:e}]})}function g(){d.value.forEach(((e,t)=>{e.conditions.length>0||d.value.splice(t,1)}))}return(0,o.YP)(d,(e=>{t("change",e),t("update:modelValue",e)}),{deep:!0}),(t,n)=>{const a=(0,o.up)("ui-button"),h=(0,o.up)("v-remixicon"),v=(0,o.up)("ui-expand");return(0,o.wg)(),(0,o.iD)("div",S,[0===d.value.length?((0,o.wg)(),(0,o.j4)(a,{key:0,onClick:m},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(c)("workflow.conditionBuilder.add")),1)])),_:1})):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.value,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o._)("div",_,[(0,o.wy)((0,o._)("div",{class:(0,r.normalizeClass)(["and-text mr-4 relative mb-12 flex items-center",{"add-line":t.conditions.length>1}])},[(0,o._)("span",C,(0,r.toDisplayString)((0,i.SU)(c)("workflow.conditionBuilder.and")),1)],2),[[s.vShow,t.conditions.length>1]]),(0,o._)("div",D,[(0,o.Wm)((0,i.SU)(u()),{modelValue:d.value[n].conditions,"onUpdate:modelValue":e=>d.value[n].conditions=e,"item-key":"id",handle:".handle",group:"conditions",class:"space-y-2",onEnd:g},{item:(0,o.w5)((({element:t,index:i})=>[(0,o._)("div",E,[(0,o.Wm)(v,{class:"border rounded-lg w-full","header-class":"px-4 py-2 w-full flex items-center h-full rounded-lg overflow-hidden group focus:ring-0"},{header:(0,o.w5)((()=>[(0,o._)("p",A,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.items,(e=>((0,o.wg)(),(0,o.iD)("span",{key:`text-${e.id}`,class:(0,r.normalizeClass)(["compare"===e.category?"font-semibold":"text-gray-600 dark:text-gray-200"])},(0,r.toDisplayString)(function({category:e,type:t,data:n}){if("compare"===e)return p.YK.compareTypes.find((({id:e})=>e===t)).name;let o="";if("value"===t)o=n.value||"Empty";else if(t.startsWith("code"))o="JS Code";else if(t.startsWith("element")){o=t;const e=n.attrName||n.selector;e&&(o+=`(${e})`)}return o}(e)),3)))),128))]),(0,o.Wm)(h,{name:"riDeleteBin7Line",class:"ml-4 group-hover:visible invisible",onClick:(0,s.withModifiers)((e=>function(e,t){const n=d.value[e].conditions;n.splice(t,1),0===n.length&&d.value.splice(e,1)}(n,i)),["stop"])},null,8,["onClick"]),(0,o.Wm)(h,{name:"mdiDrag",class:"ml-2 cursor-move handle"})])),default:(0,o.w5)((()=>[(0,o._)("div",O,[(0,o.Wm)(x,{autocomplete:e.autocomplete,data:t.items,onUpdate:e=>d.value[n].conditions[i].items=e},null,8,["autocomplete","data","onUpdate"])])])),_:2},1024)])])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o._)("div",T,[(0,o.Wm)(a,{onClick:e=>function(e){const t=f();d.value[e].conditions.push({id:(0,l.x0)(),items:t})}(n)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{name:"riAddLine",class:"-ml-2 mr-1",size:"20"}),(0,o.Uk)(" "+(0,r.toDisplayString)((0,i.SU)(c)("workflow.conditionBuilder.and")),1)])),_:2},1032,["onClick"]),n===d.value.length-1?((0,o.wg)(),(0,o.j4)(a,{key:0,onClick:m},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{name:"riAddLine",class:"-ml-2 mr-1",size:"20"}),(0,o.Uk)(" "+(0,r.toDisplayString)((0,i.SU)(c)("workflow.conditionBuilder.or")),1)])),_:1})):(0,o.kq)("",!0)])])]),(0,o.wy)((0,o._)("div",M,[L,(0,o._)("span",I,(0,r.toDisplayString)((0,i.SU)(c)("workflow.conditionBuilder.or")),1)],512),[[s.vShow,n!==d.value.length-1]])])))),128))])}}};const P=(0,n(83744).Z)(N,[["__scopeId","data-v-4dca31bc"]])},3339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252),r=n(2262),i=n(7043),s=n(87661),a=n(89997),l=n(79735);const c=(0,o._)("hr",null,null,-1),u={__name:"EditAttributeValue",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:u}=(0,i.QT)();function d(e){t("update:data",{...n.data,...e})}return(t,n)=>{const i=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.j4)(s.default,(0,o.dG)({data:e.data},{onChange:d}),{default:(0,o.w5)((()=>[c,(0,o.Wm)(l.default,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{"model-value":e.data.attributeName,label:(0,r.SU)(u)("workflow.blocks.attribute-value.forms.name"),autocomplete:"off",placeholder:"name",class:"w-full",onChange:n[0]||(n[0]=e=>d({attributeName:e}))},null,8,["model-value","label"])])),_:1}),(0,o.Wm)(a.Z,{data:e.data,"extra-row":"",variables:"",onUpdate:d},null,8,["data"])])),_:1},16)}}}},79735:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(24372).Z},88380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var o=n(66252),r=n(3577),i=n(2262),s=n(7043),a=n(73048),l=n(31263);const c={class:"block-lines max-w-xl"},u=["value"],d={key:0,class:"mt-4"},h={class:"flex items-center mt-4"},p={class:"flex items-center mr-4 block"},f={class:"ml-2"},m=(0,o._)("div",{class:"w-32"},null,-1),g={class:"flex items-center"},v=["value"],y={class:"ml-2"},w={__name:"BlockSettingLines",props:{blockId:{type:String,default:""}},setup(e){const t=e,{t:n}=(0,s.QT)(),a=(0,o.f3)("workflow-editor"),w=(0,i.qj)({retrieved:!1,edges:{},activeEdge:""}),b=(0,o.Fl)((()=>w.edges[w.activeEdge])),k=(0,l.Ds)(((e,t)=>{a.value.getEdge.value(w.activeEdge)[e]=t,w.edges[w.activeEdge][e]=t}),250);return(0,o.bv)((()=>{w.edges=a.value.getEdges.value.reduce(((e,{id:o,source:r,targetNode:i,label:s,animated:a,labelStyle:l,style:c})=>{if(r!==t.blockId)return e;let u=n("workflow.blocks.base.settings.line.to",{name:n(`workflow.blocks.${i.label}.name`)});return i.data.description&&(u+=` (${i.data.description.slice(0,32)})`),e[o]={name:u,id:o,label:`${s||""}`,animated:a??!1,labelStyle:l||""},c&&(e[o].style=c),e}),{})})),(e,t)=>{const s=(0,o.up)("ui-select"),a=(0,o.up)("ui-input"),l=(0,o.up)("ui-switch");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(s,{modelValue:w.activeEdge,"onUpdate:modelValue":t[0]||(t[0]=e=>w.activeEdge=e),placeholder:(0,i.SU)(n)("workflow.blocks.base.settings.line.select"),class:"w-full"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.edges,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,u)))),128))])),_:1},8,["modelValue","placeholder"]),(0,i.SU)(b)?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(a,{"model-value":(0,i.SU)(b).label,label:(0,i.SU)(n)("workflow.blocks.base.settings.line.label"),placeholder:"A label",class:"w-full",onChange:t[1]||(t[1]=e=>(0,i.SU)(k)("label",e))},null,8,["model-value","label"]),(0,o._)("div",h,[(0,o._)("label",p,[(0,o.Wm)(l,{"model-value":(0,i.SU)(b).animated,onChange:t[2]||(t[2]=e=>(0,i.SU)(k)("animated",e))},null,8,["model-value"]),(0,o._)("span",f,(0,r.toDisplayString)((0,i.SU)(n)("workflow.blocks.base.settings.line.animated")),1)]),m,(0,o._)("label",g,[(0,o._)("input",{value:(0,i.SU)(b).style?.stroke??null,type:"color",name:"color",class:"h-10 w-10 rounded-lg bg-input p-1",onInput:t[3]||(t[3]=e=>(0,i.SU)(k)("style",{stroke:e.target.value}))},null,40,v),(0,o._)("span",y,(0,r.toDisplayString)((0,i.SU)(n)("workflow.blocks.base.settings.line.lineColor")),1)])])])):(0,o.kq)("",!0)])}}},b=e=>((0,o.dD)("data-v-764f04f5"),e=e(),(0,o.Cn)(),e),k={class:"on-block-error overflow-auto scroll",style:{"max-height":"calc(100vh - 13rem)"}},x={class:"p-4 rounded-lg bg-green-200 dark:bg-green-300 flex items-start text-black"},S={class:"flex-1 ml-4"},_={class:"mt-4"},C={class:"inline-flex"},D={class:"ml-2"},E={class:"mt-4"},A={class:"inline-flex"},O={class:"ml-2"},T={key:0,class:"mt-2"},M={class:"inline-flex items-center"},L={class:"inline-flex items-center ml-12"},I={class:"ml-1"},N=["value","disabled"],P={class:"mt-4 flex items-center justify-between"},U={class:"inline-flex"},B={class:"ml-2"},j=(0,o.Uk)(" Add item "),R={key:0,class:"mt-2 w-full"},V=b((()=>(0,o._)("thead",null,[(0,o._)("tr",{class:"text-left text-sm"},[(0,o._)("th",null,"Type"),(0,o._)("th",null,"Name"),(0,o._)("th",null,"Value"),(0,o._)("th")])],-1))),F={value:"table"},W={value:"variable"},H=["value"],z={__name:"BlockSettingOnError",props:{data:{type:Object,default:()=>({})}},emits:["change"],setup(e,{emit:t}){const n=e,a=["error","continue","fallback"],{t:l}=(0,s.QT)(),c=(0,i.qj)({}),u=(0,o.f3)("workflow",{});function d(){c.dataToInsert||(c.dataToInsert=[]),c.dataToInsert.push({type:"table",name:"",value:""})}return(0,o.YP)((()=>c),(e=>{t("change",e)}),{deep:!0}),(0,o.bv)((()=>{Object.assign(c,n.data)})),(t,n)=>{const s=(0,o.up)("v-remixicon"),h=(0,o.up)("ui-switch"),p=(0,o.up)("ui-input"),f=(0,o.up)("transition-expand"),m=(0,o.up)("ui-select"),g=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("div",x,[(0,o.Wm)(s,{name:"riInformationLine"}),(0,o._)("p",S,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.onError.info")),1)]),(0,o._)("div",_,[(0,o._)("label",C,[(0,o.Wm)(h,{modelValue:c.enable,"onUpdate:modelValue":n[0]||(n[0]=e=>c.enable=e)},null,8,["modelValue"]),(0,o._)("span",D,(0,r.toDisplayString)((0,i.SU)(l)("common.enable")),1)]),c.enable?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",E,[(0,o._)("label",A,[(0,o.Wm)(h,{modelValue:c.retry,"onUpdate:modelValue":n[1]||(n[1]=e=>c.retry=e)},null,8,["modelValue"]),(0,o._)("span",O,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.onError.retry")),1)])]),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[c.retry?((0,o.wg)(),(0,o.iD)("div",T,[(0,o._)("div",M,[(0,o._)("span",null,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.onError.times.name")),1),(0,o.Wm)(s,{title:(0,i.SU)(l)("workflow.blocks.base.onError.times.description"),name:"riInformationLine",size:"20",class:"mr-2"},null,8,["title"]),(0,o.Wm)(p,{modelValue:c.retryTimes,"onUpdate:modelValue":n[2]||(n[2]=e=>c.retryTimes=e),modelModifiers:{number:!0},type:"number",min:"0",class:"w-20"},null,8,["modelValue"])]),(0,o._)("div",L,[(0,o._)("span",null,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.onError.interval.name")),1),(0,o.Wm)(s,{title:(0,i.SU)(l)("workflow.blocks.base.onError.interval.description"),name:"riInformationLine",size:"20",class:"mr-2"},null,8,["title"]),(0,o.Wm)(p,{modelValue:c.retryInterval,"onUpdate:modelValue":n[3]||(n[3]=e=>c.retryInterval=e),modelModifiers:{number:!0},type:"number",min:"0",class:"w-20"},null,8,["modelValue"]),(0,o._)("span",I,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.onError.interval.second")),1)])])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(m,{modelValue:c.toDo,"onUpdate:modelValue":n[4]||(n[4]=e=>c.toDo=e),class:"w-56 mt-2"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(a,(t=>(0,o._)("option",{key:t,value:t,disabled:!("fallback"!==t||!e.data.isInGroup)||null,class:"to-do-type"},(0,r.toDisplayString)((0,i.SU)(l)(`workflow.blocks.base.onError.toDo.${t}`)),9,N))),64))])),_:1},8,["modelValue"]),(0,o._)("div",P,[(0,o._)("label",U,[(0,o.Wm)(h,{modelValue:c.insertData,"onUpdate:modelValue":n[5]||(n[5]=e=>c.insertData=e)},null,8,["modelValue"]),(0,o._)("span",B,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.onError.insertData.name")),1)]),c.insertData?((0,o.wg)(),(0,o.j4)(g,{key:0,class:"text-sm",onClick:d},{default:(0,o.w5)((()=>[j])),_:1})):(0,o.kq)("",!0)]),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[c.insertData?((0,o.wg)(),(0,o.iD)("table",R,[V,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.dataToInsert,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,[(0,o.Wm)(m,{modelValue:e.type,"onUpdate:modelValue":t=>e.type=t},{default:(0,o.w5)((()=>[(0,o._)("option",F,(0,r.toDisplayString)((0,i.SU)(l)("workflow.table.title")),1),(0,o._)("option",W,(0,r.toDisplayString)((0,i.SU)(l)("workflow.variables.title")),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,o._)("td",null,["table"===e.type?((0,o.wg)(),(0,o.j4)(m,{key:0,modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:"Select column",class:"mt-1 w-full"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(u).columns.value,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,r.toDisplayString)(e.name),9,H)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.j4)(p,{key:1,modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:"Variable name"},null,8,["modelValue","onUpdate:modelValue"]))]),(0,o._)("td",null,[(0,o.Wm)(p,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:"EMPTY"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("td",null,[(0,o.Wm)(s,{name:"riCloseLine",class:"text-gray-600 dark:text-gray-200 cursor-pointer",onClick:e=>c.dataToInsert.splice(t,1)},null,8,["onClick"])])])))),128))])])):(0,o.kq)("",!0)])),_:1})],64)):(0,o.kq)("",!0)])])}}};const $=(0,n(83744).Z)(z,[["__scopeId","data-v-764f04f5"]]),K={class:"block-setting-general"},q={class:"flex-1 overflow-hidden"},Y={class:"text-overflow"},G=(0,o._)("p",{class:"text-overflow"}," Execute block using the Chrome DevTools Protocol ",-1),X={__name:"BlockSettingGeneral",props:{data:{type:Object,default:()=>({})}},emits:["change"],setup(e,{emit:t}){const n=e,{t:a}=(0,s.QT)(),l=(0,i.qj)({});return(0,o.YP)((()=>l),(e=>{t("change",e)}),{deep:!0}),(0,o.bv)((()=>{Object.assign(l,n.data)})),(e,t)=>{const n=(0,o.up)("ui-switch"),s=(0,o.up)("ui-list-item"),c=(0,o.up)("ui-list");return(0,o.wg)(),(0,o.iD)("div",K,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>["firefox"!==(0,i.SU)("chrome")?((0,o.wg)(),(0,o.j4)(s,{key:0,small:""},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{modelValue:l.debugMode,"onUpdate:modelValue":t[0]||(t[0]=e=>l.debugMode=e),class:"mr-4"},null,8,["modelValue"]),(0,o._)("div",q,[(0,o._)("p",Y,(0,r.toDisplayString)((0,i.SU)(a)("workflow.settings.debugMode.title")),1),G])])),_:1})):(0,o.kq)("",!0)])),_:1})])}}},J={class:"block-settings"},Z={__name:"EditBlockSettings",props:{data:{type:Object,default:()=>({})},onErrorLabel:{type:String,default:""}},emits:["change"],setup(e,{emit:t}){const n=e,{t:l}=(0,s.QT)(),c=[{id:"on-error",name:n.onErrorLabel||l("workflow.blocks.base.onError.button")},{id:"lines",name:l("workflow.blocks.base.settings.line.title")}],u=["forms","event-click","trigger-event","press-key"].includes(n.data.id);u&&c.unshift({id:"general",name:l("settings.menu.general")});const d={onError:{retry:!1,enable:!1,retryTimes:1,retryInterval:2,toDo:"error",insertData:!1,dataToInsert:[]},general:{debugMode:!1}},h=(0,i.qj)({showModal:!1,retrieved:!1,onError:d.onError,settings:d.general,activeTab:u?"general":"on-error"});function p(e,n){h.retrieved&&h.showModal&&(h[e]=n,t("change",{[e]:n}))}return(0,o.bv)((()=>{const e=(0,a.ZP)(n.data.data.onError||{},d.onError);h.onError=e;const t=(0,a.ZP)(n.data.data.settings,d.general);h.settings=t,setTimeout((()=>{h.retrieved=!0}),1e3)})),(t,n)=>{const s=(0,o.up)("v-remixicon"),a=(0,o.up)("ui-button"),u=(0,o.up)("ui-tab"),d=(0,o.up)("ui-tabs"),f=(0,o.up)("ui-tab-panel"),m=(0,o.up)("ui-tab-panels"),g=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",J,[(0,o.WI)(t.$slots,"button",{active:h.onError.enable,show:()=>h.showModal=!0},(()=>[(0,o.Wm)(a,{class:(0,r.normalizeClass)({"text-primary":h.onError.enable}),onClick:n[0]||(n[0]=e=>h.showModal=!0)},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{name:"riShieldLine",class:"-ml-1 mr-2"}),(0,o._)("span",null,(0,r.toDisplayString)((0,i.SU)(l)("workflow.blocks.base.settings.title")),1)])),_:1},8,["class"])])),(0,o.Wm)(g,{modelValue:h.showModal,"onUpdate:modelValue":n[6]||(n[6]=e=>h.showModal=e),title:(0,i.SU)(l)("workflow.blocks.base.settings.title"),"content-class":"max-w-xl modal-block-settings"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:h.activeTab,"onUpdate:modelValue":n[1]||(n[1]=e=>h.activeTab=e),class:"-mt-2"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(c,(e=>(0,o.Wm)(u,{key:e.id,value:e.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(e.name),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"]),h.retrieved?((0,o.wg)(),(0,o.j4)(m,{key:0,modelValue:h.activeTab,"onUpdate:modelValue":n[5]||(n[5]=e=>h.activeTab=e),class:"mt-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{value:"general"},{default:(0,o.w5)((()=>[(0,o.Wm)(X,{data:h.settings,"onUpdate:data":n[2]||(n[2]=e=>h.settings=e),onChange:n[3]||(n[3]=e=>p("settings",e))},null,8,["data"])])),_:1}),(0,o.Wm)(f,{value:"on-error"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"on-error",{},(()=>[(0,o.Wm)($,{data:h.onError,onChange:n[4]||(n[4]=e=>p("onError",e))},null,8,["data"])]))])),_:3}),(0,o.Wm)(f,{value:"lines"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{"block-id":e.data.blockId},null,8,["block-id"])])),_:1})])),_:3},8,["modelValue"])):(0,o.kq)("",!0)])),_:3},8,["modelValue","title"])])}}}},45353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043);const a=["label"],l=["value"],c=(0,o._)("span",null,"Match pattern",-1),u={href:"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples",target:"_blank",rel:"noopener",title:"Examples"},d={__name:"EditBrowserEvent",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:d}=(0,s.QT)(),h={Tab:[{id:"tab:close",name:"Tab closed"},{id:"tab:loaded",name:"Tab loaded"},{id:"tab:create",name:"Tab created"}],Window:[{id:"window:create",name:"Window created"},{id:"window:close",name:"Window closed"}]};function p(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),f=(0,o.up)("ui-input"),m=(0,o.up)("ui-select"),g=(0,o.up)("v-remixicon"),v=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(d)("common.description"),onChange:n[0]||(n[0]=e=>p({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(f,{"model-value":e.data.timeout,label:(0,r.SU)(d)("workflow.blocks.browser-event.timeout"),type:"number",class:"w-full",onChange:n[1]||(n[1]=e=>p({timeout:+e}))},null,8,["model-value","label"]),(0,o.Wm)(m,{placeholder:(0,r.SU)(d)("workflow.blocks.browser-event.events"),"model-value":e.data.eventName,class:"mt-2 w-full",onChange:n[2]||(n[2]=e=>p({eventName:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(h,((e,t)=>(0,o._)("optgroup",{key:t,label:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,l)))),128))],8,a))),64))])),_:1},8,["placeholder","model-value"]),"tab:loaded"===e.data.eventName?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.data.activeTabLoaded?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(f,{key:0,"model-value":e.data.tabLoadedUrl,type:"url",class:"w-full mt-1",placeholder:"https://example.org/*",onChange:n[3]||(n[3]=e=>p({tabLoadedUrl:e}))},{label:(0,o.w5)((()=>[c,(0,o._)("a",u,[(0,o.Wm)(g,{class:"inline-block ml-1",name:"riInformationLine",size:"18"})])])),_:1},8,["model-value"])),(0,o.Wm)(v,{"model-value":e.data.activeTabLoaded,class:"mt-1",onChange:n[4]||(n[4]=e=>p({activeTabLoaded:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.browser-event.activeTabLoaded")),1)])),_:1},8,["model-value"])],64)):(0,o.kq)("",!0),["tab:create","window:create"].includes(e.data.eventName)?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(f,{"model-value":e.data.tabUrl,type:"url",label:"Filter",class:"w-full mt-1",placeholder:"URL or Regex",onChange:n[5]||(n[5]=e=>p({tabUrl:e}))},null,8,["model-value"]),(0,o.Wm)(v,{"model-value":e.data.setAsActiveTab,class:"mt-1",onChange:n[6]||(n[6]=e=>p({setAsActiveTab:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.browser-event.setAsActiveTab")),1)])),_:1},8,["model-value"])],64)):(0,o.kq)("",!0)])}}}},85353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(58958),l=n(89997);const c=["value"],u={class:"mt-4"},d={__name:"EditClipboard",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,d=["get","insert"],{t:h}=(0,s.QT)(),p=(0,a.z)(["clipboardRead"]);function f(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-select"),m=(0,o.up)("ui-checkbox"),g=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(h)("common.description"),onChange:n[0]||(n[0]=e=>f({description:e}))},null,8,["model-value","placeholder"]),(0,r.SU)(p).has.clipboardRead?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(a,{"model-value":e.data.type,class:"mt-4 w-full",onChange:n[1]||(n[1]=e=>f({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(d,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(h)(`workflow.blocks.clipboard.types.${e}`)),9,c))),64))])),_:1},8,["model-value"]),"get"===e.data.type?((0,o.wg)(),(0,o.j4)(l.Z,{key:0,data:e.data,variables:"",onUpdate:f},null,8,["data"])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[e.data.copySelectedText?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(s,{key:0,"model-value":e.data.dataToCopy,placeholder:"Text",class:"mt-4",onChange:n[2]||(n[2]=e=>f({dataToCopy:e}))},null,8,["model-value"])),(0,o.Wm)(m,{"model-value":e.data.copySelectedText,class:"mt-2",onChange:n[3]||(n[3]=e=>f({copySelectedText:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.clipboard.copySelection")),1)])),_:1},8,["model-value"])],64))],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",u,(0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.clipboard.noPermission")),1),(0,o.Wm)(g,{variant:"accent",class:"mt-2",onClick:(0,r.SU)(p).request},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.clipboard.grantPermission")),1)])),_:1},8,["onClick"])],64))])}}}},66962:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l={class:"mb-2 mt-4"},c=["value"],u={class:"mt-1"},d=["title"],h={__name:"EditCloseTab",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:h}=(0,s.QT)(),p=["tab","window"];function f(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),m=(0,o.up)("ui-select"),g=(0,o.up)("ui-checkbox"),v=(0,o.up)("v-remixicon"),y=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(h)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>f({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(m,{"model-value":e.data.closeType,placeholder:t.Close,class:"w-full mt-2",onChange:n[1]||(n[1]=e=>f({closeType:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(p,(e=>(0,o._)("option",{key:e,value:e,class:"capitalize"},(0,i.toDisplayString)(e),9,c))),64))])),_:1},8,["model-value","placeholder"]),"tab"===e.data.closeType?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",u,[(0,o.Wm)(g,{"model-value":e.data.activeTab,onChange:n[2]||(n[2]=e=>f({activeTab:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.close-tab.activeTab")),1)])),_:1},8,["model-value"])]),e.data.activeTab?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(a.default,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{"model-value":e.data.url,class:"w-full mt-1",placeholder:"http://example.com/*",onChange:n[3]||(n[3]=e=>f({url:e}))},{label:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.close-tab.url"))+" ",1),(0,o._)("a",{title:(0,r.SU)(h)("common.example",2),rel:"noopener",target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples"},[(0,o.Wm)(v,{name:"riInformationLine",size:"18",class:"inline-block"})],8,d)])),_:1},8,["model-value"])])),_:1}))],64)):((0,o.wg)(),(0,o.j4)(g,{key:1,class:"mt-1","model-value":e.data.allWindows,onChange:n[4]||(n[4]=e=>f({allWindows:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.close-tab.allWindows")),1)])),_:1},8,["model-value"]))])}}}},46521:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(7043),l=n(53416),c=n(9980),u=n.n(c),d=n(31263),h=n(2303),p=n(88380);const f={class:"my-4 flex items-center space-x-2"},m={key:0,class:"font-semibold"},g=(0,o._)("div",{class:"flex-grow"},null,-1),v={class:"flex items-center mt-6"},y={class:"ml-2 leading-tight"},w={key:0,class:"mt-2"},b=["title"],k={class:"px-4 pt-4 flex items-center"},x={class:"flex-1"},S={class:"overflow-auto p-4 scroll",style:{height:"calc(100vh - 8rem)"}},_={__name:"EditConditions",props:{data:{type:Object,default:()=>({})},editor:{type:Object,default:()=>({})},blockId:{type:String,default:""}},emits:["update:data"],setup(e,{emit:t}){const n=e,c={"==":"eq","!=":"nq",">":"gt",">=":"gte","<":"lt","<=":"lte","()":"cnt"},{t:_}=(0,a.QT)(),C=(0,r.iH)(n.data.conditions),D=(0,r.Um)({showModal:!1,conditionsIndex:0,showSettings:!1});function E(){C.value.length>=20||C.value.push({id:(0,l.x0)(),name:`Path ${C.value.length+1}`,conditions:[]})}function A(e){t("update:data",{...n.data,...e})}async function O(){n.editor.addSelectedNodes([]),await(0,d._v)(1e3),n.editor.addSelectedNodes([n.editor.getNode.value(n.blockId)])}return(0,o.YP)(C,(()=>{A({conditions:C.value})}),{deep:!0}),(0,o.bv)((()=>{const e=n.data.conditions[0];if(e&&e.conditions)return;const t=(e,t)=>"value"===e?{id:(0,l.x0)(),type:"value",category:"value",data:{value:t}}:{id:(0,l.x0)(),category:"compare",type:t};C.value=C.value.map(((e,n)=>{const o=[t("value",e.compareValue),t("compare",c[e.type]),t("value",e.value)];return{id:(0,l.x0)(),name:`Path ${n+1}`,conditions:[{id:(0,l.x0)(),conditions:[{id:(0,l.x0)(),items:o}]}]}}))})),(t,a)=>{const l=(0,o.up)("ui-textarea"),c=(0,o.up)("ui-button"),d=(0,o.up)("v-remixicon"),T=(0,o.up)("ui-switch"),M=(0,o.up)("ui-input"),L=(0,o.up)("ui-list-item"),I=(0,o.up)("ui-card"),N=(0,o.up)("ui-modal"),P=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(_)("common.description"),onChange:a[0]||(a[0]=e=>A({description:e}))},null,8,["model-value","placeholder"]),(0,o._)("div",f,[(0,r.SU)(D).showSettings?((0,o.wg)(),(0,o.iD)("p",m,(0,i.toDisplayString)((0,r.SU)(_)("common.settings")),1)):((0,o.wg)(),(0,o.j4)(c,{key:1,disabled:C.value.length>=20,variant:"accent",class:"mr-2",onClick:E},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(_)("workflow.blocks.conditions.add")),1)])),_:1},8,["disabled"])),g,(0,o.Wm)(p.default,{data:{data:e.data,blockId:e.blockId},"on-error-label":"Cn conditions not met",onChange:a[4]||(a[4]=e=>A(e))},{button:(0,o.w5)((({show:e})=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(c,{icon:"",onClick:e},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{name:(0,r.SU)(D).showSettings?"riCloseLine":"riSettings3Line"},null,8,["name"])])),_:2},1032,["onClick"])),[[P,(0,r.SU)(_)("common.settings"),"bottom"]])])),"on-error":(0,o.w5)((()=>[(0,o._)("label",v,[(0,o.Wm)(T,{"model-value":e.data.retryConditions,onChange:a[1]||(a[1]=e=>A({retryConditions:e}))},null,8,["model-value"]),(0,o._)("span",y,(0,i.toDisplayString)((0,r.SU)(_)("workflow.blocks.conditions.retryConditions")),1)]),e.data.retryConditions?((0,o.wg)(),(0,o.iD)("div",w,[(0,o.Wm)(M,{"model-value":e.data.retryCount,title:(0,r.SU)(_)("workflow.blocks.element-exists.tryFor.title"),label:(0,r.SU)(_)("workflow.blocks.element-exists.tryFor.label"),class:"w-full mb-1",type:"number",min:"1",onChange:a[2]||(a[2]=e=>A({retryCount:+e}))},null,8,["model-value","title","label"]),(0,o.Wm)(M,{"model-value":e.data.retryTimeout,label:(0,r.SU)(_)("workflow.blocks.element-exists.timeout.label"),title:(0,r.SU)(_)("workflow.blocks.element-exists.timeout.title"),class:"w-full",type:"number",min:"200",onChange:a[3]||(a[3]=e=>A({retryTimeout:+e}))},null,8,["model-value","label","title"])])):(0,o.kq)("",!0)])),_:1},8,["data"])]),(0,o.Wm)((0,r.SU)(u()),{modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=e=>C.value=e),"item-key":"id",tag:"ui-list",class:"space-y-1",onEnd:O},{item:(0,o.w5)((({element:e,index:t})=>[(0,o.Wm)(L,{class:"group cursor-move"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"riGuideLine",size:"20",class:"mr-2 -ml-1"}),(0,o._)("p",{class:"flex-1 text-overflow",title:e.name},(0,i.toDisplayString)(e.name),9,b),(0,o.Wm)(d,{class:"cursor-pointer group-hover:visible invisible",name:"riPencilLine",size:"20",onClick:e=>function(e){D.conditionsIndex=e,D.showModal=!0}(t)},null,8,["onClick"]),(0,o.Wm)(d,{name:"riDeleteBin7Line",size:"20",class:"ml-2 -mr-1 cursor-pointer",onClick:o=>function(e,t){C.value.splice(e,1),n.editor.removeEdges((e=>e.filter((e=>e.sourceHandle===`${n.blockId}-output-${t}`))))}(t,e.id)},null,8,["onClick"])])),_:2},1024)])),_:1},8,["modelValue"]),(0,o.Wm)(N,{modelValue:(0,r.SU)(D).showModal,"onUpdate:modelValue":a[9]||(a[9]=e=>(0,r.SU)(D).showModal=e),"custom-content":""},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{padding:"p-0",class:"w-full max-w-3xl"},{default:(0,o.w5)((()=>[(0,o._)("div",k,[(0,o._)("p",x,(0,i.toDisplayString)((0,r.SU)(_)("workflow.conditionBuilder.title")),1),(0,o.Wm)(d,{name:"riCloseLine",class:"cursor-pointer",onClick:a[6]||(a[6]=e=>(0,r.SU)(D).showModal=!1)})]),(0,o._)("div",S,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>C.value[(0,r.SU)(D).conditionsIndex].name=e),class:"text-xl font-semibold mb-4 bg-transparent focus:ring-0"},null,512),[[s.vModelText,C.value[(0,r.SU)(D).conditionsIndex].name]]),(0,o.Wm)(h.Z,{"model-value":C.value[(0,r.SU)(D).conditionsIndex].conditions,onChange:a[8]||(a[8]=e=>C.value[(0,r.SU)(D).conditionsIndex].conditions=e)},null,8,["model-value"])])])),_:1})])),_:1},8,["modelValue"])])}}}},61188:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(58958),l=n(89997);const c=["value"],u={key:5,class:"mt-4"},d=(0,o.Uk)(" httpOnly "),h=(0,o.Uk)(" secure "),p={key:6,class:"pt-4 border-t mt-4 cookie-data"},f=(0,o._)("p",{class:"mt-4"},' This block requires "Cookies" permission to work properly ',-1),m={__name:"EditCookie",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:m}=(0,s.QT)(),g=(0,a.z)(["cookies"]),v=["get","set","remove"],y=(e=!1)=>e?"(optional)":"",w=(0,o.Fl)((()=>"get"===n.data.type&&n.data.getAll||"set"===n.data.type));function b(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-select"),k=(0,o.up)("ui-checkbox"),x=(0,o.up)("ui-input"),S=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(m)("common.description"),onChange:n[0]||(n[0]=e=>b({description:e}))},null,8,["model-value","placeholder"]),(0,r.SU)(g).has.cookies?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(a,{"model-value":e.data.type,class:"w-full mt-4",onChange:n[1]||(n[1]=e=>b({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(v,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(m)(`workflow.blocks.cookie.types.${e}`)),9,c))),64))])),_:1},8,["model-value"]),"get"===e.data.type?((0,o.wg)(),(0,o.j4)(k,{key:0,"model-value":e.data.getAll,class:"mt-1",onChange:n[2]||(n[2]=e=>b({getAll:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(m)("workflow.blocks.cookie.types.getAll")),1)])),_:1},8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(x,{"model-value":e.data.url,class:"mt-2 w-full",type:"url",label:"URL",placeholder:"https://example.com/",onChange:n[3]||(n[3]=e=>b({url:e}))},null,8,["model-value"]),(0,o.Wm)(x,{"model-value":e.data.name,label:`Name ${y((0,r.SU)(w))}`,class:"mt-2 w-full",placeholder:"site-cookie",onChange:n[4]||(n[4]=e=>b({name:e}))},null,8,["model-value","label"]),"set"===e.data.type?((0,o.wg)(),(0,o.j4)(x,{key:1,"model-value":e.data.value,label:"Value (optional)",class:"mt-2 w-full",placeholder:"value",onChange:n[5]||(n[5]=e=>b({value:e}))},null,8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(x,{"model-value":e.data.path,class:"mt-2 w-full",label:"Path (optional)",placeholder:"/",onChange:n[6]||(n[6]=e=>b({path:e}))},null,8,["model-value"]),(0,r.SU)(w)?((0,o.wg)(),(0,o.j4)(x,{key:2,"model-value":e.data.domain,class:"mt-2 w-full",label:"Domain (optional)",placeholder:".example.com",onChange:n[7]||(n[7]=e=>b({domain:e}))},null,8,["model-value"])):(0,o.kq)("",!0),"set"===e.data.type?((0,o.wg)(),(0,o.j4)(x,{key:3,"model-value":e.data.sameSite,class:"mt-2 w-full",label:"sameSite (optional)",placeholder:"lax",onChange:n[8]||(n[8]=e=>b({sameSite:e}))},null,8,["model-value"])):(0,o.kq)("",!0),"set"===e.data.type?((0,o.wg)(),(0,o.j4)(x,{key:4,"model-value":e.data.expirationDate,class:"mt-2 w-full",label:"expirationDate (seconds) (optional)",placeholder:"3600",onChange:n[9]||(n[9]=e=>b({expirationDate:e}))},null,8,["model-value"])):(0,o.kq)("",!0),"set"===e.data.type||"get"===e.data.type&&e.data.getAll?((0,o.wg)(),(0,o.iD)("div",u,["set"===e.data.type?((0,o.wg)(),(0,o.j4)(k,{key:0,"model-value":e.data.httpOnly,class:"mr-4",onChange:n[10]||(n[10]=e=>b({httpOnly:e}))},{default:(0,o.w5)((()=>[d])),_:1},8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(k,{"model-value":e.data.secure,onChange:n[11]||(n[11]=e=>b({secure:e}))},{default:(0,o.w5)((()=>[h])),_:1},8,["model-value"])])):(0,o.kq)("",!0),"get"===e.data.type?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(l.Z,{data:e.data,variables:"",onUpdate:b},null,8,["data"])])):(0,o.kq)("",!0)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[f,(0,o.Wm)(S,{variant:"accent",class:"mt-2",onClick:(0,r.SU)(g).request},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(m)("workflow.blocks.clipboard.grantPermission")),1)])),_:1},8,["onClick"])],64))])}}}},57727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var o=n(66252),r=n(3577),i=n(2262),s=n(34790),a=n(83465),l=n.n(a),c=n(26541),u=n(87661);const d=["value"],h=(0,o.Uk)(" Run before page loaded "),p={class:"mb-4"},f=(0,o._)("span",{class:"text-sm text-gray-500 dark:text-gray-300"}," Available functions ",-1),m={class:"flex items-center space-x-2"},g=["href"],v={class:"my-1 space-y-2"},y=(0,o._)("option",{value:"style"},"Style",-1),w=(0,o._)("option",{value:"script"},"Script",-1),b=(0,o.Uk)(" Add script "),k={__name:"EditCreateElement",props:{data:{type:Object,default:()=>({})},blockId:{type:String,default:""}},emits:["update:data"],setup(e,{emit:t}){const a=e,k=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),x=[{name:"automaRefData(keyword, path?)",id:"automarefdata-keyword-path"},{name:"automaExecWorkflow(options)",id:"automaexecworkflow-options"}],S=["before","after","prev-sibling","next-sibling","replace"],_=[{id:"html",name:"HTML"},{id:"css",name:"CSS"},{id:"javascript",name:"JavaScript"}],C=[c.$$.automaExecWorkflow,c.$$.automaRefData],D=[(0,s.ys)({override:[(0,c.rm)(C),c.cF]})],E=(0,i.qj)(l()(a.data)),A=(0,i.qj)({showModal:!1,activeTab:"html"});function O(e){t("update:data",{...a.data,...e})}function T(){E.preloadScripts.push({src:"",type:"script"})}function M(e){Object.assign(E,e)}return(0,o.YP)(E,(e=>{O(e)})),(t,n)=>{const s=(0,o.up)("ui-select"),a=(0,o.up)("ui-checkbox"),l=(0,o.up)("ui-button"),c=(0,o.up)("ui-tab"),C=(0,o.up)("ui-tabs"),L=(0,o.up)("ui-tab-panel"),I=(0,o.up)("ui-input"),N=(0,o.up)("v-remixicon"),P=(0,o.up)("ui-tab-panels"),U=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.j4)(u.default,{data:E,"hide-mark-el":"","hide-multiple":"",onChange:M},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:E.insertAt,"onUpdate:modelValue":n[0]||(n[0]=e=>E.insertAt=e),label:t.$t("workflow.blocks.create-element.insertEl.title"),class:"w-full mt-4"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(S,(e=>(0,o._)("option",{key:e,value:e},(0,r.toDisplayString)(t.$t(`workflow.blocks.create-element.insertEl.items.${e}`)),9,d))),64))])),_:1},8,["modelValue","label"]),(0,o.Wm)(a,{"model-value":e.data.runBeforeLoad,class:"mt-2",onChange:n[1]||(n[1]=e=>O({runBeforeLoad:e}))},{default:(0,o.w5)((()=>[h])),_:1},8,["model-value"]),(0,o.Wm)(l,{variant:"accent",class:"w-full mt-4",onClick:n[2]||(n[2]=e=>A.showModal=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(t.$t("workflow.blocks.create-element.edit")),1)])),_:1}),(0,o.Wm)(U,{modelValue:A.showModal,"onUpdate:modelValue":n[7]||(n[7]=e=>A.showModal=e),"content-class":"max-w-3xl create-element-modal",padding:"p-0"},{header:(0,o.w5)((()=>[(0,o.Wm)(C,{modelValue:A.activeTab,"onUpdate:modelValue":n[3]||(n[3]=e=>A.activeTab=e),class:"border-none space-x-1"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(_,(e=>(0,o.Wm)(c,{key:e.id,value:e.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(e.name),1)])),_:2},1032,["value"]))),64)),(0,o.Wm)(c,{value:"preloadScript"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(t.$t("workflow.blocks.javascript-code.modal.tabs.preloadScript")),1)])),_:1})])),_:1},8,["modelValue"])])),default:(0,o.w5)((()=>[(0,o.Wm)(P,{"model-value":A.activeTab,class:"overflow-auto scroll px-4 mb-4",style:{height:"calc(100vh - 12rem)"}},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{value:"html",class:"h-full"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,i.SU)(k),{modelValue:E.html,"onUpdate:modelValue":n[4]||(n[4]=e=>E.html=e),lang:"html",class:"h-full"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(L,{value:"css",class:"h-full"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,i.SU)(k),{modelValue:E.css,"onUpdate:modelValue":n[5]||(n[5]=e=>E.css=e),lang:"css",class:"h-full"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(L,{value:"javascript",class:"h-full"},{default:(0,o.w5)((()=>[(0,o._)("div",p,[f,(0,o._)("div",m,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(x,(e=>(0,o._)("a",{key:e.id,href:`https://docs.automa.site/blocks/javascript-code.html#${e.id}`,target:"_blank",rel:"noopener",class:"inline-block text-sm rounded-md p-1 bg-box-transparent"},[(0,o._)("code",null,(0,r.toDisplayString)(e.name),1)],8,g))),64))])]),(0,o.Wm)((0,i.SU)(k),{modelValue:E.javascript,"onUpdate:modelValue":n[6]||(n[6]=e=>E.javascript=e),extensions:D,lang:"javascript",class:"h-full"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(L,{value:"preloadScript"},{default:(0,o.w5)((()=>[(0,o._)("ul",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(E.preloadScripts,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,class:"flex items-center space-x-2"},[(0,o.Wm)(s,{modelValue:e.type,"onUpdate:modelValue":t=>e.type=t,placeholder:"Type"},{default:(0,o.w5)((()=>[y,w])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(I,{modelValue:e.src,"onUpdate:modelValue":t=>e.src=t,placeholder:"https://example.com/"+("style"===e.type?"style.css":"script.js"),type:"url",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,o.Wm)(N,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:e=>E.preloadScripts.splice(t,1)},null,8,["onClick"])])))),128))]),(0,o.Wm)(l,{class:"mt-4",onClick:T},{default:(0,o.w5)((()=>[b])),_:1})])),_:1})])),_:1},8,["model-value"])])),_:1},8,["modelValue"])])),_:1},8,["data"])}}}},99724:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(53416),l=n(31263),c=n(89997);const u=["value"],d={class:"px-4 my-4 overflow-auto scroll",style:{"min-height":"400px","max-height":"calc(100vh - 12rem)"}},h={class:"w-full"},p={class:"bg-box-transparent"},f={class:"w-6/12 rounded-l-lg"},m={class:"w-6/12 rounded-r-lg"},g={class:"divide-y"},v={class:"align-baseline group relative pr-4"},y={class:"flex items-center space-x-2"},w={class:"align-baseline pl-4"},b={class:"space-y-1"},k={__name:"EditDataMapping",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:k}=(0,s.QT)(),x=[{id:"table",name:k("workflow.table.title")},{id:"variable",name:k("workflow.variables.title")}],S=(0,o.f3)("workflow"),_=(0,r.qj)({query:"",showModal:!1,autocompleteItems:[],sources:[...n.data.sources]});function C({items:e,currItem:t,newName:n,event:o}){return!(!e.some((e=>t.id!==e.id&&e.name===n))&&n)&&(o.target.value=t.name,!0)}function D(){const e=(0,a.x0)(4);_.sources.push({id:e,destinations:[],name:`source_${e}`})}function E(e){t("update:data",{...n.data,...e})}return(0,o.YP)((()=>_.sources),(0,l.Ds)((()=>{E({sources:_.sources})}),200),{deep:!0}),(0,o.bv)((()=>{_.autocompleteItems=S.columns.value.map((({name:e})=>e))})),(t,n)=>{const s=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-select"),S=(0,o.up)("ui-input"),A=(0,o.up)("ui-button"),O=(0,o.up)("ui-autocomplete"),T=(0,o.up)("v-remixicon"),M=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(k)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>E({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{label:(0,r.SU)(k)("workflow.blocks.data-mapping.dataSource"),"model-value":e.data.dataSource,class:"w-full mt-4",onChange:n[1]||(n[1]=e=>E({dataSource:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(x,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,u))),64))])),_:1},8,["label","model-value"]),"variable"===e.data.dataSource?((0,o.wg)(),(0,o.j4)(S,{key:0,"model-value":e.data.varSourceName,placeholder:(0,r.SU)(k)("workflow.variables.name"),title:(0,r.SU)(k)("workflow.variables.name"),class:"mt-2 w-full",onChange:n[2]||(n[2]=e=>E({varSourceName:e}))},null,8,["model-value","placeholder","title"])):(0,o.kq)("",!0),(0,o.Wm)(A,{variant:"accent",class:"mt-4 w-full",onClick:n[3]||(n[3]=e=>_.showModal=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.data-mapping.edit")),1)])),_:1}),(0,o.Wm)(c.Z,{data:e.data,variables:"",onUpdate:E},null,8,["data"]),(0,o.Wm)(M,{modelValue:_.showModal,"onUpdate:modelValue":n[4]||(n[4]=e=>_.showModal=e),title:(0,r.SU)(k)("workflow.blocks.data-mapping.edit"),"content-class":"max-w-2xl data-map"},{default:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o._)("table",h,[(0,o._)("thead",null,[(0,o._)("tr",p,[(0,o._)("th",f,(0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.data-mapping.source")),1),(0,o._)("th",m,(0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.data-mapping.destination")),1)])]),(0,o._)("tbody",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(_.sources,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id},[(0,o._)("td",v,[(0,o._)("div",y,[(0,o.Wm)(O,{items:_.autocompleteItems,disabled:"table"!==e.data.dataSource},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{"model-value":t.name,class:"flex-1",placeholder:"Source property",onBlur:e=>function({index:e,source:t,event:n}){const o=n.target.value.trim();C({event:n,newName:o,currItem:t,items:_.sources})||(_.sources[e].name=o)}({index:n,source:t,event:e})},null,8,["model-value","onBlur"])])),_:2},1032,["items","disabled"]),(0,o.Wm)(T,{name:"riDeleteBin7Line",class:"invisible group-hover:visible cursor-pointer",onClick:e=>_.sources.splice(n,1)},null,8,["onClick"]),(0,o.Wm)(T,{name:"riArrowLeftLine",rotate:"180",class:"absolute -right-2 top-4 text-gray-600 dark:text-gray-300"})])]),(0,o._)("td",w,[(0,o._)("ul",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.destinations,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:e.id,class:"flex items-center space-x-2 group"},[(0,o.Wm)(S,{"model-value":e.name,class:"flex-1",placeholder:"Destination property",onBlur:o=>function({index:e,destIndex:t,destination:n,event:o}){const r=o.target.value.trim(),i=_.sources[e].destinations;C({event:o,newName:r,items:i,currItem:n})||(i[t].name=r)}({index:n,destIndex:t,destination:e,event:o})},null,8,["model-value","onBlur"]),(0,o.Wm)(T,{name:"riDeleteBin7Line",class:"invisible group-hover:visible cursor-pointer",onClick:e=>_.sources[n].destinations.splice(t,1)},null,8,["onClick"])])))),128))]),(0,o.Wm)(A,{icon:"",class:"mt-2 text-sm",onClick:e=>function(e){const t=(0,a.x0)(4);_.sources[e].destinations.push({id:t,name:`dest_${t}`})}(n)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.data-mapping.addDestination")),1)])),_:2},1032,["onClick"])])])))),128)),(0,o._)("tr",null,[(0,o._)("td",null,[(0,o.Wm)(A,{class:"text-sm",onClick:D},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.data-mapping.addSource")),1)])),_:1})])])])])])])),_:1},8,["modelValue","title"])])}}}},74267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(66252);const r={class:"space-y-2"},i={__name:"EditDelay",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e;return(i,s)=>{const a=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(a,{"model-value":e.data.time,label:"Delay time (millisecond)",class:"w-full",type:"text",onChange:s[0]||(s[0]=e=>{return o={time:e},void t("update:data",{...n.data,...o});var o})},null,8,["model-value"])])}}}},68336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(83465),l=n.n(a);const c={class:"delete-list mt-4"},u={class:"flex items-end space-x-2"},d=["value"],h={value:"[all]"},p=(e=>((0,o.dD)("data-v-d7cbc8d0"),e=e(),(0,o.Cn)(),e))((()=>(0,o._)("option",{value:"column"},"Column",-1))),f=["value"],m={__name:"EditDeleteData",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:a}=(0,s.QT)(),m=(0,o.f3)("workflow",{}),g=(0,r.iH)(l()(n.data.deleteList)),v=[{id:"table",name:a("workflow.table.title")},{id:"variable",name:a("workflow.variables.title")}];function y(e){t("update:data",{...n.data,...e})}function w(){g.value.push({type:"table",variableName:"",columnId:"[all]"})}return(0,o.YP)(g,(e=>{y({deleteList:e})}),{deep:!0}),(t,n)=>{const s=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-select"),b=(0,o.up)("v-remixicon"),k=(0,o.up)("ui-button"),x=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(a)("common.description"),onChange:n[0]||(n[0]=e=>y({description:e}))},null,8,["model-value","placeholder"]),(0,o._)("ul",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.value,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:e.id,class:"mb-2 pb-4 border-b"},[(0,o._)("div",u,[(0,o.Wm)(l,{modelValue:g.value[t].type,"onUpdate:modelValue":e=>g.value[t].type=e,label:(0,r.SU)(a)("workflow.blocks.delete-data.from"),class:"flex-1"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(v,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,d))),64))])),_:2},1032,["modelValue","onUpdate:modelValue","label"]),(0,o.Wm)(k,{icon:"",onClick:e=>g.value.splice(t,1)},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{name:"riDeleteBin7Line"})])),_:2},1032,["onClick"])]),"variable"===e.type?((0,o.wg)(),(0,o.j4)(x,{key:0,modelValue:g.value[t].variableName,"onUpdate:modelValue":e=>g.value[t].variableName=e,placeholder:(0,r.SU)(a)("workflow.variables.name"),title:(0,r.SU)(a)("workflow.variables.name"),autocomplete:"off",class:"w-full mt-2"},null,8,["modelValue","onUpdate:modelValue","placeholder","title"])):((0,o.wg)(),(0,o.j4)(l,{key:1,modelValue:g.value[t].columnId,"onUpdate:modelValue":e=>g.value[t].columnId=e,label:(0,r.SU)(a)("workflow.table.select"),class:"w-full mt-1"},{default:(0,o.w5)((()=>[(0,o._)("option",h,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.delete-data.allColumns")),1),p,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(m).columns.value,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,f)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","label"]))])))),128))]),(0,o.Wm)(k,{class:"my-4",variant:"accent",onClick:w},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(a)("common.add")),1)])),_:1})])}}};const g=(0,n(83744).Z)(m,[["__scopeId","data-v-d7cbc8d0"]])},15885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l=["value"],c={class:"flex items-center mt-4"},u={__name:"EditElementExists",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:u}=(0,s.QT)(),d=["cssSelector","xpath"];function h(e){t("update:data",{...n.data,...e})}return(0,o.bv)((()=>{n.data.findBy||h({findBy:"cssSelector"})})),(t,n)=>{const s=(0,o.up)("ui-textarea"),p=(0,o.up)("ui-select"),f=(0,o.up)("ui-input"),m=(0,o.up)("ui-switch");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(u)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>h({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(p,{"model-value":e.data.findBy||"cssSelector",placeholder:(0,r.SU)(u)("workflow.blocks.base.findElement.placeholder"),class:"w-full mb-1 mt-4",onChange:n[1]||(n[1]=e=>h({findBy:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(d,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(u)(`workflow.blocks.base.findElement.options.${e}`)),9,l))),64))])),_:1},8,["model-value","placeholder"]),(0,o.Wm)(a.default,{class:"mb-1"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{"model-value":e.data.selector,label:(0,r.SU)(u)("workflow.blocks.element-exists.selector"),autocomplete:"off",placeholder:".element",class:"w-full",onChange:n[2]||(n[2]=e=>h({selector:e}))},null,8,["model-value","label"])])),_:1}),(0,o.Wm)(f,{"model-value":e.data.tryCount,title:(0,r.SU)(u)("workflow.blocks.element-exists.tryFor.title"),label:(0,r.SU)(u)("workflow.blocks.element-exists.tryFor.label"),class:"w-full mb-1",type:"number",min:"1",onChange:n[3]||(n[3]=e=>h({tryCount:+e}))},null,8,["model-value","title","label"]),(0,o.Wm)(f,{"model-value":e.data.timeout,label:(0,r.SU)(u)("workflow.blocks.element-exists.timeout.label"),title:(0,r.SU)(u)("workflow.blocks.element-exists.timeout.title"),class:"w-full",type:"number",min:"200",onChange:n[4]||(n[4]=e=>h({timeout:+e}))},null,8,["model-value","label","title"]),(0,o._)("label",c,[(0,o.Wm)(m,{"model-value":e.data.throwError,class:"mr-2",onChange:n[5]||(n[5]=e=>h({throwError:e}))},null,8,["model-value"]),(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.element-exists.throwError")),1)])])}}}},92849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(22201),l=n(42822);const c={class:"mb-12"},u=["value"],d={class:"text-sm mt-4 text-gray-600 dark:text-gray-200 ml-1 mb-1"},h=["textContent"],p={class:"mt-4 block"},f={class:"text-sm ml-1 block text-gray-600 dark:text-gray-200"},m={class:"text-sm ml-1 block text-gray-600 dark:text-gray-200 leading-tight"},g={__name:"EditExecuteWorkflow",props:{data:{type:Object,default:()=>({})},hideBase:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:t}){const g=e,v=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),{t:y}=(0,s.QT)(),w=(0,a.yj)(),b=(0,l.I)(),k=(0,r.Um)({showGlobalData:!1}),x=(0,o.Fl)((()=>b.getWorkflows.filter((({id:e,drawflow:t})=>{const n="string"==typeof t?t:JSON.stringify(t);return e!==w.params.id&&!n.includes(w.params.id)})).sort(((e,t)=>e.name>t.name?1:-1))));function S(e){t("update:data",{...g.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-select"),l=(0,o.up)("ui-input"),g=(0,o.up)("ui-checkbox"),w=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(y)("common.description"),autoresize:"",class:"w-full mb-2",onChange:n[0]||(n[0]=e=>S({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(a,{"model-value":e.data.workflowId,placeholder:(0,r.SU)(y)("workflow.blocks.execute-workflow.select"),class:"w-full mb-2",onChange:n[1]||(n[1]=e=>S({workflowId:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(x),(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,u)))),128))])),_:1},8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.executeId,label:(0,r.SU)(y)("workflow.blocks.execute-workflow.executeId"),title:(0,r.SU)(y)("workflow.blocks.execute-workflow.executeId"),placeholder:"abc123",class:"w-full",onChange:n[2]||(n[2]=e=>S({executeId:e}))},null,8,["model-value","label","title"]),(0,o._)("p",d,(0,i.toDisplayString)((0,r.SU)(y)("common.globalData")),1),(0,r.SU)(k).showGlobalData?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("pre",{key:0,class:"rounded-lg text-gray-200 p-4 max-h-80 bg-gray-900 overflow-auto",onClick:n[3]||(n[3]=e=>(0,r.SU)(k).showGlobalData=!0),textContent:(0,i.toDisplayString)(e.data.globalData||"____")},null,8,h)),(0,o.Wm)(g,{"model-value":e.data.insertAllVars,class:"leading-tight mt-4",onChange:n[4]||(n[4]=e=>S({insertAllVars:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(y)("workflow.blocks.execute-workflow.insertAllVars")),1)])),_:1},8,["model-value"]),e.data.insertAllVars?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("label",p,[(0,o._)("span",f,(0,i.toDisplayString)((0,r.SU)(y)("workflow.blocks.execute-workflow.insertVars")),1),(0,o.Wm)(s,{"model-value":e.data.insertVars,placeholder:"varA,varB,varC",onChange:n[5]||(n[5]=e=>S({insertVars:e}))},null,8,["model-value"])]),(0,o._)("span",m,(0,i.toDisplayString)((0,r.SU)(y)("workflow.blocks.execute-workflow.useCommas")),1)],64)),(0,o.Wm)(w,{modelValue:(0,r.SU)(k).showGlobalData,"onUpdate:modelValue":n[7]||(n[7]=e=>(0,r.SU)(k).showGlobalData=e),title:"Global data","content-class":"max-w-xl"},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,i.toDisplayString)((0,r.SU)(y)("workflow.blocks.execute-workflow.overwriteNote")),1),(0,o.Wm)((0,r.SU)(v),{"model-value":e.data.globalData,lang:"json",class:"w-full scroll",style:{height:"calc(100vh - 10rem)"},onChange:n[6]||(n[6]=e=>S({globalData:e}))},null,8,["model-value"])])),_:1},8,["modelValue"])])}}},v=g},57155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(64989),l=n(58958),c=n(79735);const u=["value"],d=["value"],h=["value"],p={class:"pl-6 mt-1"},f={__name:"EditExportData",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,f=["data-columns","google-sheets","variable"],m=["uniquify","overwrite","prompt"],{t:g}=(0,s.QT)(),v=(0,l.z)(["downloads"]);function y(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-select"),w=(0,o.up)("ui-input"),b=(0,o.up)("v-remixicon"),k=(0,o.up)("ui-checkbox"),x=(0,o.up)("ui-expand");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(g)("common.description"),onChange:n[0]||(n[0]=e=>y({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.dataToExport,label:(0,r.SU)(g)("workflow.blocks.export-data.dataToExport.placeholder"),class:"w-full mt-2",onChange:n[1]||(n[1]=e=>y({dataToExport:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(f,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(g)(`workflow.blocks.export-data.dataToExport.options.${e}`)),9,u))),64))])),_:1},8,["model-value","label"]),"google-sheets"===e.data.dataToExport?((0,o.wg)(),(0,o.j4)(w,{key:0,"model-value":e.data.refKey,title:(0,r.SU)(g)("workflow.blocks.export-data.refKey"),placeholder:(0,r.SU)(g)("workflow.blocks.export-data.refKey"),class:"w-full mt-2",onChange:n[2]||(n[2]=e=>y({refKey:e}))},null,8,["model-value","title","placeholder"])):(0,o.kq)("",!0),"variable"===e.data.dataToExport?((0,o.wg)(),(0,o.j4)(w,{key:1,"model-value":e.data.variableName,title:(0,r.SU)(g)("workflow.variables.name"),placeholder:(0,r.SU)(g)("workflow.variables.name"),class:"w-full mt-2",onChange:n[3]||(n[3]=e=>y({variableName:e}))},null,8,["model-value","title","placeholder"])):(0,o.kq)("",!0),(0,o.Wm)(c.default,{class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{"model-value":e.data.name,autocomplete:"off",label:"File name",class:"w-full",placeholder:"unnamed",onChange:n[4]||(n[4]=e=>y({name:e}))},null,8,["model-value"])])),_:1}),(0,r.SU)(v).has.downloads?((0,o.wg)(),(0,o.j4)(l,{key:2,"model-value":e.data.onConflict,label:(0,r.SU)(g)("workflow.blocks.handle-download.onConflict"),class:"mt-2 w-full",onChange:n[5]||(n[5]=e=>y({onConflict:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(m,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(g)(`workflow.blocks.base.downloads.onConflict.${e}`)),9,d))),64))])),_:1},8,["model-value","label"])):(0,o.kq)("",!0),(0,o.Wm)(l,{"model-value":e.data.type,label:(0,r.SU)(g)("workflow.blocks.export-data.exportAs"),class:"w-full mt-2",onChange:n[6]||(n[6]=e=>y({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(a.A_),(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,h)))),128))])),_:1},8,["model-value","label"]),"csv"===e.data.type?((0,o.wg)(),(0,o.j4)(x,{key:3,"hide-header-icon":"","header-class":"flex items-center focus:ring-0 w-full"},{header:(0,o.w5)((({show:e})=>[(0,o.Wm)(b,{rotate:e?270:180,name:"riArrowLeftSLine",class:"transition-transform text-gray-600 dark:text-gray-300"},null,8,["rotate"]),(0,o.Uk)(" "+(0,i.toDisplayString)((0,r.SU)(g)("common.options")),1)])),default:(0,o.w5)((()=>[(0,o._)("div",p,["csv"===e.data.type?((0,o.wg)(),(0,o.j4)(k,{key:0,"model-value":e.data.addBOMHeader,onChange:n[7]||(n[7]=e=>y({addBOMHeader:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(g)("workflow.blocks.export-data.bomHeader")),1)])),_:1},8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(w,{"model-value":e.data.csvDelimiter,label:"Delimiter",class:"mt-1",placeholder:",",onChange:n[8]||(n[8]=e=>y({csvDelimiter:e}))},null,8,["model-value"])])])),_:1})):(0,o.kq)("",!0)])}}}},4420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(66649).Z},27982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n(66252),r=n(3577),i=n(2262),s=n(7043),a=n(89997),l=n(87661),c=n(79735);const u=(0,o._)("hr",null,null,-1),d={class:"flex rounded-lg bg-input px-4 items-center transition"},h=(0,o._)("span",null,"/",-1),p=["value"],f=(0,o._)("p",{class:"mb-2 text-gray-600 dark:text-gray-200"},"Expression flags",-1),m={class:"space-y-1"},g={class:"mt-2 flex space-x-2"},v=(0,o.Uk)(" Use "),y=(0,o._)("code",null,"textContent",-1),w=(0,o._)("hr",null,null,-1),b={__name:"EditGetText",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:b}=(0,s.QT)(),k=Array.isArray(n.data.regexExp)?n.data.regexExp:Object.values(n.data.regexExp),x=(0,i.iH)([...new Set(k)]),S=[{id:"g",name:"global"},{id:"i",name:"ignore case"},{id:"m",name:"multiline"}];function _(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-checkbox"),k=(0,o.up)("ui-popover"),C=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.j4)(l.default,(0,o.dG)({data:e.data},{onChange:_}),{default:(0,o.w5)((()=>[u,(0,o._)("div",d,[h,(0,o._)("input",{value:e.data.regex,placeholder:"Regex",class:"w-11/12 bg-transparent p-2 focus:ring-0",onInput:n[0]||(n[0]=e=>_({regex:e.target.value}))},null,40,p),(0,o.Wm)(k,null,{trigger:(0,o.w5)((()=>[(0,o._)("button",null,"/"+(0,r.toDisplayString)(x.value.join("")),1)])),default:(0,o.w5)((()=>[f,(0,o._)("div",m,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(S,(e=>(0,o._)("div",{key:e.id},[(0,o.Wm)(s,{"model-value":x.value.includes(e.id),onChange:t=>{return n=e.id,t?x.value.push(n):x.value.splice(x.value.indexOf(n),1),void _({regexExp:x.value});var n}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(e.name),1)])),_:2},1032,["model-value","onChange"])]))),64))])])),_:1})]),(0,o._)("div",g,[(0,o.Wm)(c.default,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{"model-value":e.data.prefixText,title:(0,i.SU)(b)("workflow.blocks.get-text.prefixText.title"),label:(0,i.SU)(b)("workflow.blocks.get-text.prefixText.placeholder"),autocomplete:"off",placeholder:"Text",class:"w-full",onChange:n[1]||(n[1]=e=>_({prefixText:e}))},null,8,["model-value","title","label"])])),_:1}),(0,o.Wm)(c.default,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{"model-value":e.data.suffixText,title:(0,i.SU)(b)("workflow.blocks.get-text.suffixText.title"),label:(0,i.SU)(b)("workflow.blocks.get-text.suffixText.placeholder"),autocomplete:"off",placeholder:"Text",class:"w-full",onChange:n[2]||(n[2]=e=>_({suffixText:e}))},null,8,["model-value","title","label"])])),_:1})]),(0,o.Wm)(s,{"model-value":e.data.includeTags,class:"mt-4",onChange:n[3]||(n[3]=e=>_({includeTags:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)((0,i.SU)(b)("workflow.blocks.get-text.includeTags")),1)])),_:1},8,["model-value"]),(0,o.Wm)(s,{"model-value":e.data.useTextContent,class:"mt-2",onChange:n[4]||(n[4]=e=>_({useTextContent:e}))},{default:(0,o.w5)((()=>[v,y])),_:1},8,["model-value"]),w,(0,o.Wm)(a.Z,{data:e.data,variables:"","extra-row":"",onUpdate:_},null,8,["data"])])),_:1},16)}}}},49132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(9924),l=n(31263),c=n(79735),u=n(89997);const d={class:"mb-10"},h=["value"],p=["title"],f={key:0,href:"https://docs.automa.site/blocks/google-sheets.html#access-to-spreadsheet",target:"_blank",rel:"noopener",class:"text-sm leading-tight inline-block ml-1"},m=(0,o.Uk)(" Automa doesn't have access to the spreadsheet "),g=["title"],v={key:0,class:"text-red-500"},y={href:"https://developers.google.com/sheets/api/reference/rest/v4/ValueInputOption",target:"_blank",rel:"noopener"},w=["value"],b={href:"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets.values/append#InsertDataOption",target:"_blank",rel:"noopener"},k=["value"],x=["value"],S={__name:"EditGoogleSheets",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const S=e,_=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),{t:C}=(0,s.QT)(),D=["get","getRange","update","append"],E=["data-columns","custom"],A=["RAW","USER_ENTERED"],O=["OVERWRITE","INSERT_ROWS"],T=(0,r.Um)({data:"",status:"idle",errorMessage:""}),M=(0,r.Um)({showModal:!1,data:S.data.customData}),L=(0,r.Um)({lastSheetId:null,havePermission:!0}),I=(0,l.Ds)((async e=>{try{if(L.lastSheetId===e)return;const t=await(0,a.a8)(`/services/google-sheets/meta?spreadsheetId=${e}`);L.havePermission=403!==t.status,L.lastSheetId=e}catch(e){console.error(e)}}),1e3);function N(e){t("update:data",{...S.data,...e})}async function P(){try{T.status="loading";const e="get"===S.data.type,t={range:S.data.range,spreadsheetId:S.data.spreadsheetId},n=await(e?a.qH.getValues(t):a.qH.getRange(t));if(!n.ok){const e=await n.json();throw new Error(e.message||n.statusText)}let o=await n.json();o=e?S.data.firstRowAsKey?(0,l.Ac)(o.values):o.values:{tableRange:o.tableRange||null,lastRange:o.updates.updatedRange},T.data=JSON.stringify(o,null,2),T.status="idle"}catch(e){console.error(e),T.data="",T.status="error",T.errorMessage=e.message}}function U(e){N({type:e}),T.data="",T.status="",T.errorMessage=""}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-select"),l=(0,o.up)("v-remixicon"),S=(0,o.up)("ui-input"),B=(0,o.up)("ui-checkbox"),j=(0,o.up)("ui-button"),R=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full mb-2",placeholder:(0,r.SU)(C)("common.description"),onChange:n[0]||(n[0]=e=>N({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(a,{"model-value":e.data.type,class:"w-full mb-2",onChange:U},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(D,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(C)(`workflow.blocks.google-sheets.select.${e}`)),9,h))),64))])),_:1},8,["model-value"]),(0,o.Wm)(c.default,null,{default:(0,o.w5)((()=>[(0,o.Wm)(S,{"model-value":e.data.spreadsheetId,class:"w-full",placeholder:"abcd123",onChange:n[1]||(n[1]=e=>(N({spreadsheetId:e}),(0,r.SU)(I)(e)))},{label:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.spreadsheetId.label"))+"* ",1),(0,o._)("a",{href:"https://docs.automa.site/blocks/google-sheets.html#spreadsheet-id",target:"_blank",rel:"noopener",title:(0,r.SU)(C)("workflow.blocks.google-sheets.spreadsheetId.link")},[(0,o.Wm)(l,{name:"riInformationLine",size:"18",class:"inline"})],8,p)])),_:1},8,["model-value"])])),_:1}),(0,r.SU)(L).havePermission?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",f,[m,(0,o.Wm)(l,{name:"riInformationLine",size:"18",class:"inline"})])),(0,o.Wm)(c.default,null,{default:(0,o.w5)((()=>[(0,o.Wm)(S,{"model-value":e.data.range,class:"w-full mt-1",placeholder:"Sheet1!A1:B2",onChange:n[2]||(n[2]=e=>N({range:e}))},{label:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.range.label"))+"* ",1),(0,o._)("a",{href:"https://docs.automa.site/blocks/google-sheets.html#range",target:"_blank",rel:"noopener",title:(0,r.SU)(C)("workflow.blocks.google-sheets.range.link")},[(0,o.Wm)(l,{name:"riInformationLine",size:"18",class:"inline"})],8,g)])),_:1},8,["model-value"])])),_:1}),"get"===e.data.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(S,{"model-value":e.data.refKey,label:(0,r.SU)(C)("workflow.blocks.google-sheets.refKey.label"),placeholder:(0,r.SU)(C)("workflow.blocks.google-sheets.refKey.placeholder"),class:"mt-1 w-full",onChange:n[3]||(n[3]=e=>N({refKey:e}))},null,8,["model-value","label","placeholder"]),(0,o.Wm)(B,{"model-value":e.data.firstRowAsKey,class:"mt-3",onChange:n[4]||(n[4]=e=>N({firstRowAsKey:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.firstRow")),1)])),_:1},8,["model-value"]),(0,o.Wm)(j,{loading:"loading"===(0,r.SU)(T).status,variant:"accent",class:"mt-3",onClick:P},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.previewData")),1)])),_:1},8,["loading"]),"error"===(0,r.SU)(T).status?((0,o.wg)(),(0,o.iD)("p",v,(0,i.toDisplayString)((0,r.SU)(T).errorMessage),1)):(0,o.kq)("",!0)],64)):"getRange"===e.data.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Wm)(u.Z,{data:e.data,variables:"",onUpdate:N},null,8,["data"]),(0,o.Wm)(j,{loading:"loading"===(0,r.SU)(T).status,variant:"accent",class:"mt-4",onClick:P},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.previewData")),1)])),_:1},8,["loading"])],64)):["update","append"].includes(e.data.type)?((0,o.wg)(),(0,o.iD)(o.HY,{key:3},[(0,o.Wm)(a,{"model-value":e.data.valueInputOption,class:"w-full mt-2",onChange:n[5]||(n[5]=e=>N({valueInputOption:e}))},{label:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.valueInputOption"))+" ",1),(0,o._)("a",y,[(0,o.Wm)(l,{name:"riInformationLine",size:"18",class:"inline"})])])),default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(A,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)(e),9,w))),64))])),_:1},8,["model-value"]),(0,o.Wm)(a,{"model-value":e.data.insertDataOption||"INSERT_ROWS",class:"w-full mt-2",onChange:n[6]||(n[6]=e=>N({insertDataOption:e}))},{label:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.insertDataOption"))+" ",1),(0,o._)("a",b,[(0,o.Wm)(l,{name:"riInformationLine",size:"18",class:"inline"})])])),default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(O,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)(e),9,k))),64))])),_:1},8,["model-value"]),(0,o.Wm)(a,{"model-value":e.data.dataFrom,label:(0,r.SU)(C)("workflow.blocks.google-sheets.dataFrom.label"),class:"w-full mt-2",onChange:n[7]||(n[7]=e=>N({dataFrom:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(E,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(C)(`workflow.blocks.google-sheets.dataFrom.options.${e}`)),9,x))),64))])),_:1},8,["model-value","label"]),"data-columns"===e.data.dataFrom?((0,o.wg)(),(0,o.j4)(B,{key:0,"model-value":e.data.keysAsFirstRow,class:"mt-2",onChange:n[8]||(n[8]=e=>N({keysAsFirstRow:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.keysAsFirstRow")),1)])),_:1},8,["model-value"])):((0,o.wg)(),(0,o.j4)(j,{key:1,class:"w-full mt-2",variant:"accent",onClick:n[9]||(n[9]=e=>(0,r.SU)(M).showModal=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(C)("workflow.blocks.google-sheets.insertData")),1)])),_:1}))],64)):(0,o.kq)("",!0),(0,r.SU)(T).data&&"error"!==(0,r.SU)(T).status&&"update"!==e.data.type?((0,o.wg)(),(0,o.j4)((0,r.SU)(_),{key:4,"model-value":(0,r.SU)(T).data,"line-numbers":!1,readonly:"",class:"mt-4 max-h-96 scroll"},null,8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(R,{modelValue:(0,r.SU)(M).showModal,"onUpdate:modelValue":n[12]||(n[12]=e=>(0,r.SU)(M).showModal=e),title:"Custom data","content-class":"max-w-xl"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(_),{modelValue:(0,r.SU)(M).data,"onUpdate:modelValue":n[10]||(n[10]=e=>(0,r.SU)(M).data=e),style:{height:"calc(100vh - 10rem)"},lang:"json",onChange:n[11]||(n[11]=e=>N({customData:e}))},null,8,["modelValue"])])),_:1},8,["modelValue"])])}}}},47559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l={__name:"EditHandleDialog",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:l}=(0,s.QT)();function c(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),u=(0,o.up)("ui-checkbox"),d=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(l)("common.description"),onChange:n[0]||(n[0]=e=>c({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(u,{"model-value":e.data.accept,block:"",class:"mt-4",onChange:n[1]||(n[1]=e=>c({accept:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(l)("workflow.blocks.handle-dialog.accept")),1)])),_:1},8,["model-value"]),e.data.accept?((0,o.wg)(),(0,o.j4)(a.default,{key:0,class:"mt-1"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{"model-value":e.data.promptText,label:(0,r.SU)(l)("workflow.blocks.handle-dialog.promptText.label"),title:(0,r.SU)(l)("workflow.blocks.handle-dialog.promptText.description"),autocomplete:"off",placeholder:"Text",class:"w-full",onChange:n[2]||(n[2]=e=>c({promptText:e}))},null,8,["model-value","label","title"])])),_:1})):(0,o.kq)("",!0)])}}}},82547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(58958),l=n(89997);const c=["value"],u={class:"mt-4"},d={__name:"EditHandleDownload",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,d=(0,a.z)(["downloads"]),h=["uniquify","overwrite","prompt"],{t:p}=(0,s.QT)();function f(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-input"),m=(0,o.up)("ui-select"),g=(0,o.up)("ui-checkbox"),v=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,r.SU)(d).has.downloads?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(p)("common.description"),onChange:n[0]||(n[0]=e=>f({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(a,{"model-value":e.data.timeout,label:(0,r.SU)(p)("workflow.blocks.handle-download.timeout"),placeholder:"1000",type:"number",class:"w-full mt-2",onChange:n[1]||(n[1]=e=>f({timeout:+e||1e3}))},null,8,["model-value","label"]),(0,o.Wm)(a,{"model-value":e.data.filename,label:`${(0,r.SU)(p)("common.fileName")} (${(0,r.SU)(p)("common.optional")})`,placeholder:"file",class:"mt-2 w-full",onChange:n[2]||(n[2]=e=>f({filename:e}))},null,8,["model-value","label"]),(0,o.Wm)(m,{"model-value":e.data.onConflict,label:(0,r.SU)(p)("workflow.blocks.handle-download.onConflict"),class:"mt-2 w-full",onChange:n[3]||(n[3]=e=>f({onConflict:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(h,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(p)(`workflow.blocks.base.downloads.onConflict.${e}`)),9,c))),64))])),_:1},8,["model-value","label"]),(0,o.Wm)(g,{"model-value":e.data.waitForDownload,class:"mt-4",onChange:n[4]||(n[4]=e=>f({waitForDownload:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(p)("workflow.blocks.handle-download.waitFile")),1)])),_:1},8,["model-value"]),e.data.waitForDownload?((0,o.wg)(),(0,o.j4)(l.Z,{key:0,data:e.data,variables:"",onUpdate:f},null,8,["data"])):(0,o.kq)("",!0)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",u,(0,i.toDisplayString)((0,r.SU)(p)("workflow.blocks.handle-download.noPermission")),1),(0,o.Wm)(v,{variant:"accent",class:"mt-2",onClick:(0,r.SU)(d).request},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(p)("workflow.blocks.clipboard.grantPermission")),1)])),_:1},8,["onClick"])],64))])}}}},3324:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n(66252),r=n(2262),i=n(7043);const s={__name:"EditIncreaseVariable",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:s}=(0,i.QT)();function a(e){t("update:data",{...n.data,...e})}return(t,n)=>{const i=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,{"model-value":e.data.description,placeholder:(0,r.SU)(s)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>a({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.variableName,label:(0,r.SU)(s)("workflow.variables.name"),title:(0,r.SU)(s)("workflow.variables.name"),class:"mt-2 w-full",onChange:n[1]||(n[1]=e=>a({variableName:e}))},null,8,["model-value","label","title"]),(0,o.Wm)(l,{"model-value":e.data.increaseBy,label:(0,r.SU)(s)("workflow.blocks.increase-variable.increase"),placeholder:"0",type:"number",class:"w-full mt-2",onChange:n[2]||(n[2]=e=>a({increaseBy:+e}))},null,8,["model-value","label"])])}}}},72303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(7043);const l={class:"mt-4 data-list"},c={class:"flex mb-2"},u={value:"table"},d={value:"variable"},h=["value"],p={class:"flex items-start"},f={__name:"EditInsertData",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:f}=(0,a.QT)(),m=(0,o.f3)("workflow",{}),g=(0,r.iH)(JSON.parse(JSON.stringify(n.data.dataList)));function v(e){t("update:data",{...n.data,...e})}function y(){g.value.push({type:"table",name:"",value:""})}return(0,o.YP)(g,(e=>{v({dataList:e})}),{deep:!0}),(t,n)=>{const a=(0,o.up)("ui-textarea"),w=(0,o.up)("ui-select"),b=(0,o.up)("ui-input"),k=(0,o.up)("v-remixicon"),x=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(a,{"model-value":e.data.description,placeholder:(0,r.SU)(f)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>v({description:e}))},null,8,["model-value","placeholder"]),(0,o.wy)((0,o._)("ul",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.value,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,class:"mb-4 pb-4 border-b"},[(0,o._)("div",c,[(0,o.Wm)(w,{"model-value":e.type,class:"mr-2 flex-shrink-0",onChange:e=>function(e,t){g.value[e]={...g.value[e],type:t,name:""}}(t,e)},{default:(0,o.w5)((()=>[(0,o._)("option",u,(0,i.toDisplayString)((0,r.SU)(f)("workflow.table.title")),1),(0,o._)("option",d,(0,i.toDisplayString)((0,r.SU)(f)("workflow.variables.title")),1)])),_:2},1032,["model-value","onChange"]),"variable"===e.type?((0,o.wg)(),(0,o.j4)(b,{key:0,modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:(0,r.SU)(f)("workflow.variables.name"),title:(0,r.SU)(f)("workflow.variables.name"),class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder","title"])):((0,o.wg)(),(0,o.j4)(w,{key:1,modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:(0,r.SU)(f)("workflow.table.select")},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(m).columns.value,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,h)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]))]),(0,o._)("div",p,[(0,o.Wm)(a,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:"value",title:"value",class:"flex-1 mr-2"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(x,{icon:"",onClick:e=>g.value.splice(t,1)},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"riDeleteBin7Line"})])),_:2},1032,["onClick"])])])))),128))],512),[[s.vShow,g.value.length>0]]),(0,o.Wm)(x,{class:"mt-4",variant:"accent",onClick:y},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(f)("common.add")),1)])),_:1})])}}};const m=(0,n(83744).Z)(f,[["__scopeId","data-v-59ba1818"]])},87661:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(99544).Z},95108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(34790),l=n(26541),c=n(64747);const u={class:"mb-2 mt-4"},d={class:"text-sm ml-1 text-gray-600 dark:text-gray-200"},h=["textContent"],p=(0,o.Uk)(" Run before page loaded "),f={class:"mt-1 text-sm flex justify-between"},m={class:"space-x-1 whitespace-nowrap overflow-x-auto overflow-y-hidden pb-1 scroll"},g=["href"],v={__name:"EditJavascriptCode",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const v=e;function y(){"pre"===c.h.whiteSpace?c.h.whiteSpace="pre-wrap":c.h.whiteSpace="pre"}const w=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),{t:b}=(0,s.QT)(),k=[{name:"automaNextBlock(data, insert?)",id:"automanextblock-data"},{name:"automaRefData(keyword, path?)",id:"automarefdata-keyword-path"},{name:"automaSetVariable(name, value)",id:"automasetvariable-name-value"},{name:"automaResetTimeout()",id:"automaresettimeout"}],x=Object.values(l.$$).slice(0,4),S=(0,r.qj)({activeTab:"code",code:`${v.data.code}`,preloadScripts:[...Object.values(v.data.preloadScripts||[])],showCodeModal:!1});function _(e){t("update:data",{...v.data,...e})}function C(){S.preloadScripts.push({src:"",removeAfterExec:!0})}const D=[(0,a.ys)({override:[(0,l.rm)(x),l.cF]})];return(0,o.YP)((()=>S.code),(e=>{_({code:e})})),(0,o.YP)((()=>S.preloadScripts),(e=>{_({preloadScripts:e})}),{deep:!0}),(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-input"),l=(0,o.up)("ui-checkbox"),c=(0,o.up)("ui-tab"),v=(0,o.up)("ui-tabs"),x=(0,o.up)("ui-tab-panel"),E=(0,o.up)("v-remixicon"),A=(0,o.up)("ui-button"),O=(0,o.up)("ui-tab-panels"),T=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(s,{"model-value":e.data.description,autoresize:"",placeholder:(0,r.SU)(b)("common.description"),class:"w-full mb-1",onChange:n[0]||(n[0]=e=>_({description:e}))},null,8,["model-value","placeholder"]),e.data.everyNewTab?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(a,{key:0,"model-value":e.data.timeout,label:(0,r.SU)(b)("workflow.blocks.javascript-code.timeout.placeholder"),title:(0,r.SU)(b)("workflow.blocks.javascript-code.timeout.title"),type:"number",class:"mb-2 w-full",onChange:n[1]||(n[1]=e=>_({timeout:+e}))},null,8,["model-value","label","title"])),(0,o._)("p",d,(0,i.toDisplayString)((0,r.SU)(b)("workflow.blocks.javascript-code.name")),1),S.showCodeModal?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("pre",{key:1,class:"rounded-lg overflow-auto text-gray-200 p-4 max-h-80 bg-gray-900",onClick:n[2]||(n[2]=e=>S.showCodeModal=!0),textContent:(0,i.toDisplayString)(e.data.code)},null,8,h)),(0,o.Wm)(l,{"model-value":e.data.everyNewTab,class:"mt-2",onChange:n[3]||(n[3]=e=>_({everyNewTab:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(b)("workflow.blocks.javascript-code.everyNewTab")),1)])),_:1},8,["model-value"]),(0,o.Wm)(l,{"model-value":e.data.runBeforeLoad,class:"mt-2",onChange:n[4]||(n[4]=e=>_({runBeforeLoad:e}))},{default:(0,o.w5)((()=>[p])),_:1},8,["model-value"]),(0,o.Wm)(T,{modelValue:S.showCodeModal,"onUpdate:modelValue":n[8]||(n[8]=e=>S.showCodeModal=e),"content-class":"max-w-3xl"},{header:(0,o.w5)((()=>[(0,o.Wm)(v,{modelValue:S.activeTab,"onUpdate:modelValue":n[5]||(n[5]=e=>S.activeTab=e),class:"border-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{value:"code"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(b)("workflow.blocks.javascript-code.modal.tabs.code")),1)])),_:1}),(0,o.Wm)(c,{value:"preloadScript"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(b)("workflow.blocks.javascript-code.modal.tabs.preloadScript")),1)])),_:1})])),_:1},8,["modelValue"])])),default:(0,o.w5)((()=>[(0,o.Wm)(O,{modelValue:S.activeTab,"onUpdate:modelValue":n[7]||(n[7]=e=>S.activeTab=e),class:"overflow-auto",style:{height:"calc(100vh - 9rem)"}},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{value:"code",class:"h-full"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(w),{modelValue:S.code,"onUpdate:modelValue":n[6]||(n[6]=e=>S.code=e),extensions:D,style:(0,i.normalizeStyle)({height:e.data.everyNewTab?"100%":"87%"}),class:"overflow-auto"},null,8,["modelValue","style"]),e.data.everyNewTab?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("p",f,[(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(b)("workflow.blocks.javascript-code.availabeFuncs")),1),(0,o._)("span",null,[(0,o._)("span",{class:"underline cursor-pointer select-none",onClick:y},"wrap line")])]),(0,o._)("p",m,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(k,(e=>(0,o._)("a",{key:e.id,href:`https://docs.automa.site/blocks/javascript-code.html#${e.id}`,target:"_blank",rel:"noopener",class:"inline-block"},[(0,o._)("code",null,(0,i.toDisplayString)(e.name),1)],8,g))),64))])],64))])),_:1}),(0,o.Wm)(x,{value:"preloadScript"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(S.preloadScripts,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{key:n,class:"flex items-center mt-4"},[(0,o.Wm)(E,{name:"riDeleteBin7Line",class:"mr-2 cursor-pointer",onClick:e=>S.preloadScripts.splice(n,1)},null,8,["onClick"]),(0,o.Wm)(a,{modelValue:S.preloadScripts[n].src,"onUpdate:modelValue":e=>S.preloadScripts[n].src=e,placeholder:"http://example.com/script.js",class:"flex-1 mr-4"},null,8,["modelValue","onUpdate:modelValue"]),e.data.everyNewTab?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(l,{key:0,modelValue:S.preloadScripts[n].removeAfterExec,"onUpdate:modelValue":e=>S.preloadScripts[n].removeAfterExec=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(b)("workflow.blocks.javascript-code.removeAfterExec")),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]))])))),128)),(0,o.Wm)(A,{variant:"accent",class:"w-20 mt-4",onClick:C},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(b)("common.add")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}};const y=(0,n(83744).Z)(v,[["__scopeId","data-v-681a8b72"]])},68252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(42822),l=n(89997);const c=["value"],u={class:"mb-8 log-data"},d={class:"mt-4 mb-2"},h={__name:"EditLogData",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:h}=(0,s.QT)(),p=(0,a.I)().getWorkflows.sort(((e,t)=>e.name>t.name?1:-1));function f(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-select");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(h)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>f({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(a,{"model-value":e.data.workflowId,placeholder:(0,r.SU)(h)("workflow.blocks.execute-workflow.select"),class:"mt-4 w-full",onChange:n[1]||(n[1]=e=>f({workflowId:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(p),(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,c)))),128))])),_:1},8,["model-value","placeholder"]),(0,o._)("div",u,[e.data.workflowId?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("p",d,(0,i.toDisplayString)((0,r.SU)(h)("workflow.blocks.log-data.data")),1),(0,o.Wm)(l.Z,{data:e.data,variables:"",onUpdate:f},null,8,["data"])],64)):(0,o.kq)("",!0)])])}}},p=h},83531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n(66252),r=n(2262),i=n(3577),s=n(49963),a=n(53416),l=n(7043),c=n(23002),u=n(57460),d=n.n(u),h=n(31263),p=n(79735);const f=["value"],m={key:4,class:"flex items-center space-x-2 mt-2"},g={class:"flex mb-4 items-center"},v={class:"flex-1 text-overflow mx-4"},y={style:{height:"calc(100vh - 11rem)"}},w=(0,o._)("p",{class:"font-semibold mb-2"},"CSV",-1),b={__name:"EditLoopData",props:{blockId:{type:String,default:""},data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const u=e,b=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),{t:k}=(0,l.QT)(),x=(0,c.pm)(),S=1048576,_=["data-columns","numbers","google-sheets","variable","custom-data","elements"],C=(0,r.Um)({showOptions:!1,showDataModal:!1,workflowLoopData:{}}),D=(0,r.Um)({header:!0}),E=(0,r.Um)({size:0,name:"",type:""});function A(e){t("update:data",{...u.data,...e})}function O(e){e.length>S&&x.error(k("message.maxSizeExceeded")),A({loopData:e.slice(0,S)})}function T(e){let t=e.replace(/\s/g,"");t||(t=(0,a.x0)(6)),A({loopId:t})}function M(){(0,h.y)(["application/json","text/csv","application/vnd.ms-excel"]).then((async([e])=>{if(e.size>S)return void x.error(k("message.maxSizeExceeded"));E.name=e.name,E.type=e.type;const t=["text/csv","application/vnd.ms-excel"],n=new FileReader;n.onload=({target:n})=>{let o;if("application/json"===e.type){const e=JSON.parse(n.result);o=Array.isArray(e)?e:[e]}else t.includes(e.type)&&(o=d().parse(n.result,D).data);if(Array.isArray(o)){A({loopData:JSON.stringify(o,null,2)})}},n.readAsText(e)})).catch((e=>{console.error(e),e.message.startsWith("invalid")&&x.error(e.message)}))}return(0,o.bv)((()=>{u.data.loopId||A({loopId:(0,a.x0)(6)})})),(t,n)=>{const a=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-input"),c=(0,o.up)("ui-select"),u=(0,o.up)("ui-checkbox"),d=(0,o.up)("ui-button"),h=(0,o.up)("v-remixicon"),x=(0,o.up)("ui-modal"),S=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(a,{"model-value":e.data.description,placeholder:(0,r.SU)(k)("common.description"),class:"w-full mb-1",onChange:n[0]||(n[0]=e=>A({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.loopId,class:"w-full mb-2",label:(0,r.SU)(k)("workflow.blocks.loop-data.loopId"),placeholder:(0,r.SU)(k)("workflow.blocks.loop-data.loopId"),onChange:T},null,8,["model-value","label","placeholder"]),(0,o.Wm)(c,{"model-value":e.data.loopThrough,label:(0,r.SU)(k)("workflow.blocks.loop-data.loopThrough.placeholder"),class:"w-full",onChange:n[1]||(n[1]=t=>A({loopThrough:t,loopData:"custom-data"===t?e.data.loopData:"[]"}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(_,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(k)(`workflow.blocks.loop-data.loopThrough.options.${e}`)),9,f))),64))])),_:1},8,["model-value","label"]),"google-sheets"===e.data.loopThrough?((0,o.wg)(),(0,o.j4)(l,{key:0,"model-value":e.data.referenceKey,label:(0,r.SU)(k)("workflow.blocks.loop-data.refKey"),placeholder:"abc123",class:"w-full mt-2",onChange:n[2]||(n[2]=e=>A({referenceKey:e}))},null,8,["model-value","label"])):"variable"===e.data.loopThrough?((0,o.wg)(),(0,o.j4)(l,{key:1,"model-value":e.data.variableName,label:(0,r.SU)(k)("workflow.variables.name"),placeholder:"abc123",class:"w-full mt-2",onChange:n[3]||(n[3]=e=>A({variableName:e}))},null,8,["model-value","label"])):"elements"===e.data.loopThrough?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Wm)(p.default,{class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{"model-value":e.data.elementSelector,label:(0,r.SU)(k)("workflow.blocks.base.selector"),autocomplete:"off",placeholder:"CSS Selector or XPath",class:"w-full",onChange:n[4]||(n[4]=e=>A({elementSelector:e}))},null,8,["model-value","label"])])),_:1}),(0,o.Wm)(u,{"model-value":e.data.waitForSelector,block:"",class:"mt-1",onChange:n[5]||(n[5]=e=>A({waitForSelector:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.base.waitSelector.title")),1)])),_:1},8,["model-value"]),e.data.waitForSelector?((0,o.wg)(),(0,o.j4)(l,{key:0,"model-value":e.data.waitSelectorTimeout,label:(0,r.SU)(k)("workflow.blocks.base.waitSelector.timeout"),class:"mt-1 w-full",onChange:n[6]||(n[6]=e=>A({waitSelectorTimeout:+e}))},null,8,["model-value","label"])):(0,o.kq)("",!0)],64)):"custom-data"===e.data.loopThrough?((0,o.wg)(),(0,o.j4)(d,{key:3,class:"w-full mt-4",variant:"accent",onClick:n[7]||(n[7]=e=>(0,r.SU)(C).showDataModal=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.loop-data.buttons.insert")),1)])),_:1})):"numbers"===e.data.loopThrough?((0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(l,{"model-value":e.data.fromNumber,label:(0,r.SU)(k)("workflow.blocks.loop-data.loopThrough.fromNumber"),type:"number",onChange:n[8]||(n[8]=t=>A({fromNumber:+t>=e.data.toNumber?e.data.toNumber-1:+t}))},null,8,["model-value","label"]),(0,o.Wm)(l,{"model-value":e.data.toNumber,label:(0,r.SU)(k)("workflow.blocks.loop-data.loopThrough.toNumber"),type:"number",onChange:n[9]||(n[9]=t=>A({toNumber:+t<=e.data.fromNumber?e.data.fromNumber+1:+t}))},null,8,["model-value","label"])])):(0,o.kq)("",!0),"numbers"!==e.data.loopThrough?((0,o.wg)(),(0,o.iD)(o.HY,{key:5},[(0,o.Wm)(l,{"model-value":e.data.maxLoop,label:(0,r.SU)(k)("workflow.blocks.loop-data.maxLoop.label"),title:(0,r.SU)(k)("workflow.blocks.loop-data.maxLoop.title"),class:"w-full mt-2",onChange:n[10]||(n[10]=e=>A({maxLoop:e}))},null,8,["model-value","label","title"]),e.data.resumeLastWorkflow?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(l,{key:0,"model-value":e.data.startIndex,label:(0,r.SU)(k)("workflow.blocks.loop-data.startIndex"),placeholder:"0",class:"w-full mt-2",min:"0",type:"number",onChange:n[11]||(n[11]=e=>A({startIndex:+e||0}))},null,8,["model-value","label"])),(0,o.Wm)(u,{"model-value":e.data.resumeLastWorkflow,class:"mt-1",onChange:n[12]||(n[12]=e=>A({resumeLastWorkflow:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.loop-data.resumeLastWorkflow")),1)])),_:1},8,["model-value"])],64)):(0,o.kq)("",!0),(0,o.Wm)(x,{modelValue:(0,r.SU)(C).showDataModal,"onUpdate:modelValue":n[15]||(n[15]=e=>(0,r.SU)(C).showDataModal=e),title:"Data","content-class":"max-w-3xl"},{default:(0,o.w5)((()=>[(0,o._)("div",g,[(0,o.Wm)(d,{variant:"accent",onClick:M},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.loop-data.buttons.import")),1)])),_:1}),(0,o.wy)(((0,o.wg)(),(0,o.j4)(d,{class:(0,i.normalizeClass)([{"text-primary":(0,r.SU)(C).showOptions},"ml-2"]),icon:"",onClick:n[13]||(n[13]=e=>(0,r.SU)(C).showOptions=!(0,r.SU)(C).showOptions)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{name:"riSettings3Line"})])),_:1},8,["class"])),[[S,(0,r.SU)(k)("common.options")]]),(0,o._)("p",v,(0,i.toDisplayString)((0,r.SU)(E).name),1),(0,o._)("p",null,(0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.loop-data.modal.maxFile")),1)]),(0,o._)("div",y,[(0,o.wy)((0,o.Wm)((0,r.SU)(b),{"model-value":e.data.loopData,lang:"json",class:"h-full",onChange:O},null,8,["model-value"]),[[s.vShow,!(0,r.SU)(C).showOptions]]),(0,o.wy)((0,o._)("div",null,[w,(0,o.Wm)(u,{modelValue:(0,r.SU)(D).header,"onUpdate:modelValue":n[14]||(n[14]=e=>(0,r.SU)(D).header=e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.loop-data.modal.options.firstRow")),1)])),_:1},8,["modelValue"])],512),[[s.vShow,(0,r.SU)(C).showOptions]])])])),_:1},8,["modelValue"])])}}}},57051:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l={for:"new-tab-url",class:"input-label"},c={__name:"EditNewTab",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:c}=(0,s.QT)();function u(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),d=(0,o.up)("ui-checkbox"),h=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(c)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>u({description:e}))},null,8,["model-value","placeholder"]),e.data.activeTab?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(a.default,{key:0,class:"mt-2"},{default:(0,o.w5)((()=>[(0,o._)("label",l,(0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.new-tab.url")),1),(0,o.Wm)(s,{id:"new-tab-url","model-value":e.data.url,rows:"1",class:"w-full",autocomplete:"off",placeholder:"http://example.com/",onChange:n[1]||(n[1]=e=>u({url:e}))},null,8,["model-value"])])),_:1})),(0,o.Wm)(d,{"model-value":e.data.updatePrevTab,class:"leading-tight mt-2",title:(0,r.SU)(c)("workflow.blocks.new-tab.updatePrevTab.title"),onChange:n[2]||(n[2]=e=>u({updatePrevTab:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.new-tab.updatePrevTab.text")),1)])),_:1},8,["model-value","title"]),(0,o.Wm)(d,{"model-value":e.data.waitTabLoaded,class:"leading-tight mt-2",title:(0,r.SU)(c)("workflow.blocks.new-tab.waitTabLoaded"),onChange:n[3]||(n[3]=e=>u({waitTabLoaded:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.new-tab.waitTabLoaded")),1)])),_:1},8,["model-value","title"]),(0,o.Wm)(d,{"model-value":e.data.active,class:"my-2",onChange:n[4]||(n[4]=e=>u({active:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.new-tab.activeTab")),1)])),_:1},8,["model-value"]),"chrome"===(0,r.SU)("chrome")?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(d,{"model-value":e.data.inGroup,onChange:n[5]||(n[5]=e=>u({inGroup:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.new-tab.tabToGroup")),1)])),_:1},8,["model-value"]),(0,o.Wm)(d,{"model-value":e.data.customUserAgent,block:"",class:"mt-2",onChange:n[6]||(n[6]=e=>u({customUserAgent:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.new-tab.customUserAgent")),1)])),_:1},8,["model-value"])],64)):(0,o.kq)("",!0),e.data.customUserAgent?((0,o.wg)(),(0,o.j4)(h,{key:2,"model-value":e.data.userAgent,placeholder:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",class:"mt-1 w-full",onChange:n[7]||(n[7]=e=>u({userAgent:e}))},null,8,["model-value"])):(0,o.kq)("",!0)])}}}},10444:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(93150),l=n.n(a);const c={class:"mb-2 mt-4"},u=["value"],d=["value"],h=["title"],p={key:0,class:"mt-2"},f=["title"],m=["title"],g={class:"mt-2 text-gray-600 dark:text-gray-200"},v={__name:"EditNewWindow",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:a}=(0,s.QT)(),v=["normal","popup","panel"],y=["normal","minimized","maximized","fullscreen"],w=(0,r.iH)(!1);function b(e){t("update:data",{...n.data,...e})}return(0,o.bv)((async()=>{w.value=await l().extension.isAllowedIncognitoAccess(),w.value||b({incognito:!1})})),(t,n)=>{const s=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-select"),k=(0,o.up)("ui-input"),x=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(a)("common.description"),onChange:n[0]||(n[0]=e=>b({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.type,class:"mt-4 w-full",label:"Type",onChange:n[1]||(n[1]=e=>b({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(v,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)(e),9,u))),64))])),_:1},8,["model-value"]),(0,o.Wm)(k,{"model-value":e.data.url,class:"mt-2 w-full",label:"URL (optional)",placeholder:"https://example.com",onChange:n[2]||(n[2]=e=>b({url:e}))},null,8,["model-value"]),(0,o.Wm)(l,{"model-value":e.data.windowState,class:"w-full mt-2",label:(0,r.SU)(a)("workflow.blocks.new-window.windowState.placeholder"),onChange:n[3]||(n[3]=e=>b({windowState:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(y,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(a)(`workflow.blocks.new-window.windowState.options.${e}`)),9,d))),64))])),_:1},8,["model-value","label"]),(0,o.Wm)(x,{"model-value":e.data.incognito,disabled:!w.value,class:"mt-1",onChange:n[4]||(n[4]=e=>b({incognito:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.new-window.incognito.text"))+" ",1),(0,o._)("span",{title:(0,r.SU)(a)("workflow.blocks.new-window.incognito.note")}," 🛈 ",8,h)])),_:1},8,["model-value","disabled"]),"normal"===e.data.windowState?((0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",{title:(0,r.SU)(a)("workflow.blocks.new-window.position"),class:"flex items-center space-x-2 mb-1"},[(0,o.Wm)(k,{"model-value":e.data.top,label:(0,r.SU)(a)("workflow.blocks.new-window.top"),onChange:n[5]||(n[5]=e=>b({top:+e}))},null,8,["model-value","label"]),(0,o.Wm)(k,{"model-value":e.data.left,label:(0,r.SU)(a)("workflow.blocks.new-window.left"),onChange:n[6]||(n[6]=e=>b({left:+e}))},null,8,["model-value","label"])],8,f),(0,o._)("div",{title:(0,r.SU)(a)("workflow.blocks.new-window.size"),class:"flex items-center space-x-2"},[(0,o.Wm)(k,{"model-value":e.data.height,label:(0,r.SU)(a)("workflow.blocks.new-window.height"),onChange:n[7]||(n[7]=e=>b({height:+e}))},null,8,["model-value","label"]),(0,o.Wm)(k,{"model-value":e.data.width,label:(0,r.SU)(a)("workflow.blocks.new-window.width"),onChange:n[8]||(n[8]=e=>b({width:+e}))},null,8,["model-value","label"])],8,m),(0,o._)("p",g,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.new-window.note")),1)])):(0,o.kq)("",!0)])}}}},48095:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(58958),l=n(79735);const c={class:"input-label",for:"notification-message"},u={class:"mt-4"},d={__name:"EditNotification",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:d}=(0,s.QT)(),h=(0,a.z)(["notifications"]);function p(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-input"),f=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(d)("common.description"),class:"w-full mb-2",onChange:n[0]||(n[0]=e=>p({description:e}))},null,8,["model-value","placeholder"]),(0,r.SU)(h).has.notifications?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(l.default,{class:"mb-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{"model-value":e.data.title,label:(0,r.SU)(d)("workflow.blocks.notification.title"),placeholder:"Hello world!",class:"w-full",onChange:n[1]||(n[1]=e=>p({title:e}))},null,8,["model-value","label"])])),_:1}),(0,o._)("label",c,(0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.notification.message")),1),(0,o.Wm)(l.default,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{id:"notification-message","model-value":e.data.message,placeholder:"Notification message",class:"w-full",onChange:n[2]||(n[2]=e=>p({message:e}))},null,8,["model-value"])])),_:1}),((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["iconUrl","imageUrl"],(t=>(0,o.Wm)(l.default,{key:t,class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{"model-value":e.data[t],label:(0,r.SU)(d)(`workflow.blocks.notification.${t}`),class:"w-full",placeholder:"https://example.com/image.png",onChange:e=>p({[t]:e})},null,8,["model-value","label","onChange"])])),_:2},1024))),64))],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",u,(0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.base.noPermission")),1),(0,o.Wm)(f,{variant:"accent",class:"mt-2",onClick:n[3]||(n[3]=e=>(0,r.SU)(h).request(!0))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.base.grantPermission")),1)])),_:1})],64))])}}}},86713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252),r=n(2262),i=n(7043),s=n(92198),a=n(31647),l=n(79735);const c={class:"flex items-end"},u={__name:"EditPressKey",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,u=Object.keys(s.y).filter((e=>e.trim().length<=1||e.startsWith("Arrow"))).concat(["Enter","Control","Meta","Shift","Alt","Space"]),{t:d}=(0,i.QT)(),h=(0,r.iH)(!1),p=(0,r.iH)(`${n.data.keys}`);function f(e){t("update:data",{...n.data,...e})}function m(e){p.value=e,f({keys:e})}function g(e){e.preventDefault(),e.stopPropagation(),(0,a.d)(e,(e=>{m(e.join("+"))}))}function v(){h.value=!1,y()}function y(){window.removeEventListener("keyup",v),window.removeEventListener("keydown",g)}function w(){h.value=!h.value,h.value?(window.addEventListener("keyup",v),window.addEventListener("keydown",g)):y()}return(0,o.Jd)((()=>{y()})),(t,n)=>{const i=(0,o.up)("ui-textarea"),s=(0,o.up)("ui-input"),a=(0,o.up)("ui-autocomplete"),g=(0,o.up)("v-remixicon"),v=(0,o.up)("ui-button"),y=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(d)("common.description"),onChange:n[0]||(n[0]=e=>f({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l.default,{class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{"model-value":e.data.selector,class:"w-full",autocomplete:"off",label:"Target element (Optional)",placeholder:"CSS Selector or XPath",onChange:n[1]||(n[1]=e=>f({selector:e}))},null,8,["model-value"])])),_:1}),(0,o._)("div",c,[(0,o.Wm)(a,{items:(0,r.SU)(u),"model-value":p.value,"hide-empty":"",block:"",class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{label:(0,r.SU)(d)("workflow.blocks.press-key.key"),"model-value":p.value,disabled:h.value,placeholder:"(Enter, Esc, a, b, ...)",autocomplete:"off",class:"w-full",onChange:m},null,8,["label","model-value","disabled"])])),_:1},8,["items","model-value"]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(v,{icon:"",class:"ml-2",onClick:w},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{name:h.value?"riCloseLine":"riFocus3Line"},null,8,["name"])])),_:1})),[[y,h.value?(0,r.SU)(d)("common.cancel"):(0,r.SU)(d)("workflow.blocks.press-key.detect")]])])])}}}},32284:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043);const a=(0,o._)("span",{class:"input-label"}," Host ",-1),l={for:"input-bypass",class:"input-label"},c=(0,o._)("a",{href:"https://developer.chrome.com/docs/extensions/reference/proxy/#bypass-list",target:"_blank",rel:"noopener"}," 🛈 ",-1),u={class:"text-gray-600 dark:text-gray-200 text-sm"},d={__name:"EditProxy",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:d}=(0,s.QT)();function h(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),p=(0,o.up)("v-remixicon"),f=(0,o.up)("ui-input"),m=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(d)("common.description"),class:"w-full mb-2",onChange:n[0]||(n[0]=e=>h({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(f,{"model-value":e.data.host,placeholder:"socks5://1.2.3.4",class:"w-full mb-2",onChange:n[1]||(n[1]=e=>h({host:e}))},{label:(0,o.w5)((()=>[a,(0,o.Wm)(p,{title:"Supported protocols: http, https, socks4, and socks5",name:"riInformationLine",class:"inline-block",size:"18"})])),_:1},8,["model-value"]),(0,o.Wm)(f,{"model-value":e.data.port,label:"Port",placeholder:"443",class:"w-full mb-2",onChange:n[2]||(n[2]=e=>h({port:e}))},null,8,["model-value"]),(0,o._)("label",l,[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.proxy.bypass.label"))+" ",1),c]),(0,o.Wm)(s,{id:"input-bypass","model-value":e.data.bypassList,placeholder:"example1.com, example2.org",class:"w-full",onChange:n[3]||(n[3]=e=>h({bypassList:e}))},null,8,["model-value"]),(0,o._)("p",u,(0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.proxy.bypass.note")),1),(0,o.Wm)(m,{"model-value":e.data.clearProxy,class:"mt-4",onChange:n[4]||(n[4]=e=>h({clearProxy:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.proxy.clear")),1)])),_:1},8,["model-value"])])}}}},1179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var o=n(66252),r=n(2262),i=n(3577),s=n(7043);const a=["value"],l={class:"flex items-end mt-3"},c={class:"flex-1 mr-2"},u=(0,o._)("label",{class:"ml-1 block text-gray-600 dark:text-gray-200 text-sm",for:"var-expression"}," RegEx ",-1),d={class:"flex items-center bg-input transition-colors px-4 rounded-lg"},h=(0,o._)("span",null,"/",-1),p=["value"],f=(0,o._)("span",{class:"text-right"},"/",-1),m={class:"p-2 rounded-lg bg-input",title:"Flags"},g=(0,o._)("p",null,"Flags",-1),v={class:"mt-2 space-y-1"},y={__name:"EditRegexVariable",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,y=[{id:"match",name:"Match value"},{id:"replace",name:"Replace value"}],w=[{id:"g",name:"global"},{id:"i",name:"ignore case"},{id:"m",name:"multiline"}],{t:b}=(0,s.QT)();function k(e){t("update:data",{...n.data,...e})}return(t,s)=>{const x=(0,o.up)("ui-textarea"),S=(0,o.up)("ui-input"),_=(0,o.up)("ui-select"),C=(0,o.up)("ui-checkbox"),D=(0,o.up)("ui-popover");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(x,{"model-value":e.data.description,placeholder:(0,r.SU)(b)("common.description"),class:"w-full",onChange:s[0]||(s[0]=e=>k({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(S,{"model-value":e.data.variableName,label:(0,r.SU)(b)("workflow.variables.name"),title:(0,r.SU)(b)("workflow.variables.name"),class:"mt-2 w-full",onChange:s[1]||(s[1]=e=>k({variableName:e}))},null,8,["model-value","label","title"]),(0,o.Wm)(_,{"model-value":e.data.method,label:"Method",class:"mt-2 w-full",onChange:s[2]||(s[2]=e=>k({method:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(y,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,a))),64))])),_:1},8,["model-value"]),"replace"===e.data.method?((0,o.wg)(),(0,o.j4)(S,{key:0,"model-value":e.data.replaceVal,label:"Replace with",placeholder:"(empty)",class:"mt-2 w-full",onChange:s[3]||(s[3]=e=>k({replaceVal:e}))},null,8,["model-value"])):(0,o.kq)("",!0),(0,o._)("div",l,[(0,o._)("div",c,[u,(0,o._)("div",d,[h,(0,o._)("input",{id:"var-expression",value:e.data.expression,placeholder:"Expression",class:"py-2 w-11/12 bg-transparent focus:ring-0 px-1",onInput:s[4]||(s[4]=e=>k({expression:e.target.value}))},null,40,p),f])]),(0,o.Wm)(D,null,{trigger:(0,o.w5)((()=>[(0,o._)("button",m,(0,i.toDisplayString)(0===e.data.flag.length?"flags":e.data.flag.join("")),1)])),default:(0,o.w5)((()=>[g,(0,o._)("ul",v,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(w,(t=>(0,o._)("li",{key:t.id},[(0,o.Wm)(C,{"model-value":e.data.flag.includes(t.id),onChange:e=>function(e,t){const o=[...n.data.flag];if(e)o.push(t);else{const e=o.indexOf(t);o.splice(e,1)}k({flag:o})}(e,t.id)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)(t.name),1)])),_:2},1032,["model-value","onChange"])]))),64))])])),_:1})])])}}}},51801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(58958),l=n(87661),c=n(79735);const u=["value"],d={class:"mt-4"},h=["value"],p={__name:"EditSaveAssets",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:p}=(0,s.QT)(),f=(0,a.z)(["downloads"]),m=["element","url"],g=["uniquify","overwrite","prompt"];function v(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-select"),a=(0,o.up)("ui-button"),y=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.j4)(l.default,{data:e.data,hide:!(0,r.SU)(f).has.downloads,"hide-selector":"element"!==e.data.type,onChange:v},{"prepend:selector":(0,o.w5)((()=>[(0,o.Wm)(s,{class:"mb-4","model-value":e.data.type,label:(0,r.SU)(p)("workflow.blocks.save-assets.contentTypes.title"),onChange:n[0]||(n[0]=e=>v({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(m,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(p)(`workflow.blocks.save-assets.contentTypes.${e}`)),9,u))),64))])),_:1},8,["model-value","label"])])),prepend:(0,o.w5)((()=>[(0,r.SU)(f).has.downloads?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("p",d,(0,i.toDisplayString)((0,r.SU)(p)("workflow.blocks.handle-download.noPermission")),1),(0,o.Wm)(a,{variant:"accent",class:"mt-2",onClick:(0,r.SU)(f).request},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(p)("workflow.blocks.clipboard.grantPermission")),1)])),_:1},8,["onClick"])],64))])),default:(0,o.w5)((()=>["url"===e.data.type?((0,o.wg)(),(0,o.j4)(c.default,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{"model-value":e.data.url,label:"URL",class:"w-full",autocomplete:"off",placeholder:"https://example.com/picture.png",onChange:n[1]||(n[1]=e=>v({url:e}))},null,8,["model-value"])])),_:1})):(0,o.kq)("",!0),(0,r.SU)(f).has.downloads?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(c.default,{class:"mt-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{"model-value":e.data.filename,label:(0,r.SU)(p)("workflow.blocks.save-assets.filename"),class:"w-full",autocomplete:"off",placeholder:"image.jpeg",onChange:n[2]||(n[2]=e=>v({filename:e}))},null,8,["model-value","label"])])),_:1}),(0,o.Wm)(s,{"model-value":e.data.onConflict,label:(0,r.SU)(p)("workflow.blocks.handle-download.onConflict"),class:"mt-2 w-full",onChange:n[3]||(n[3]=e=>v({onConflict:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(g,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(p)(`workflow.blocks.base.downloads.onConflict.${e}`)),9,h))),64))])),_:1},8,["model-value","label"])],64)):(0,o.kq)("",!0)])),_:1},8,["data","hide","hide-selector"])}}}},51650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(46354).Z},37001:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(66252),r=n(2262),i=n(3577),s=n(7043);const a={class:"mt-4 space-y-2"},l={__name:"EditSliceVariable",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:l}=(0,s.QT)(),c=[{id:"startIndex",text:"start",toggleKey:"startIdxEnabled"},{id:"endIndex",text:"end",toggleKey:"endIdxEnabled"}];function u(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),d=(0,o.up)("ui-input"),h=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(l)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>u({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(d,{"model-value":e.data.variableName,label:(0,r.SU)(l)("workflow.variables.name"),title:(0,r.SU)(l)("workflow.variables.name"),class:"mt-2 w-full",onChange:n[1]||(n[1]=e=>u({variableName:e}))},null,8,["model-value","label","title"]),(0,o._)("ul",a,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(c,(t=>(0,o._)("li",{key:t.id},[(0,o.Wm)(h,{"model-value":e.data[t.toggleKey],onChange:e=>u({[t.toggleKey]:e})},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(l)(`workflow.blocks.slice-variable.${t.text}`)),1)])),_:2},1032,["model-value","onChange"]),e.data[t.toggleKey]?((0,o.wg)(),(0,o.j4)(d,{key:0,"model-value":e.data[t.id],placeholder:"0",type:"number",class:"w-full mb-2",onChange:e=>u({[t.id]:+e})},null,8,["model-value","onChange"])):(0,o.kq)("",!0)]))),64))])])}}}},88077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(83465),l=n.n(a),c=n(89997);const u=["value"],d={class:"flex items-center mt-4"},h={class:"ml-2"},p={class:"sort-property"},f={class:"flex items-center mt-2"},m=(0,o._)("option",{value:"asc"},"Ascending",-1),g=(0,o._)("option",{value:"desc"},"Descending",-1),v={class:"mt-6"},y={__name:"EditSortData",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:a}=(0,s.QT)(),y=[{id:"table",name:a("workflow.table.title")},{id:"variable",name:a("workflow.variables.title")}],w=(0,o.f3)("workflow").columns.value.map((({name:e})=>e)),b=(0,r.iH)(l()(n.data.itemProperties));function k(e){t("update:data",{...n.data,...e})}function x(){b.value.push({name:"",order:"asc"})}return(0,o.YP)(b,(e=>{k({itemProperties:e})}),{deep:!0}),(t,n)=>{const s=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-select"),S=(0,o.up)("ui-input"),_=(0,o.up)("ui-switch"),C=(0,o.up)("ui-autocomplete"),D=(0,o.up)("v-remixicon"),E=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(a)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>k({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{label:(0,r.SU)(a)("workflow.blocks.data-mapping.dataSource"),"model-value":e.data.dataSource,class:"w-full mt-4",onChange:n[1]||(n[1]=e=>k({dataSource:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(y,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,u))),64))])),_:1},8,["label","model-value"]),"variable"===e.data.dataSource?((0,o.wg)(),(0,o.j4)(S,{key:0,"model-value":e.data.varSourceName,placeholder:(0,r.SU)(a)("workflow.variables.name"),title:(0,r.SU)(a)("workflow.variables.name"),class:"mt-2 w-full",onChange:n[2]||(n[2]=e=>k({varSourceName:e}))},null,8,["model-value","placeholder","title"])):(0,o.kq)("",!0),(0,o._)("label",d,[(0,o.Wm)(_,{"model-value":e.data.sortByProperty,onChange:n[3]||(n[3]=e=>k({sortByProperty:e}))},null,8,["model-value"]),(0,o._)("span",h,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.sort-data.property")),1)]),e.data.sortByProperty?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.value,((t,n)=>((0,o.wg)(),(0,o.iD)("ul",{key:n,class:"mt-4 space-y-1 divide-y"},[(0,o._)("li",p,[(0,o.Wm)(C,{"model-value":t.name,items:(0,r.SU)(w),disabled:"table"!==e.data.dataSource,class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,autocomplete:"off",placeholder:`Property ${n+1}`,class:"w-full"},null,8,["modelValue","onUpdate:modelValue","placeholder"])])),_:2},1032,["model-value","items","disabled"]),(0,o._)("div",f,[(0,o.Wm)(l,{modelValue:t.order,"onUpdate:modelValue":e=>t.order=e,class:"flex-1"},{default:(0,o.w5)((()=>[m,g])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(E,{class:"ml-2",icon:"",onClick:e=>b.value.splice(n,1)},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{name:"riDeleteBin7Line"})])),_:2},1032,["onClick"])])])])))),128)),b.value.length<3?((0,o.wg)(),(0,o.j4)(E,{key:0,variant:"accent",class:"mt-4 text-sm",onClick:x},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.sort-data.addProperty")),1)])),_:1})):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),(0,o._)("div",v,[(0,o.Wm)(c.Z,{data:e.data,variables:"",onUpdate:k},null,8,["data"])])])}}}},2715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l=["value"],c=["title"],u={__name:"EditSwitchTab",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:u}=(0,s.QT)(),d=[{id:"match-patterns",name:"Match patterns"},{id:"next-tab",name:"Next tab"},{id:"prev-tab",name:"Previous tab"},{id:"tab-index",name:"Tab index"}];function h(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),p=(0,o.up)("ui-select"),f=(0,o.up)("v-remixicon"),m=(0,o.up)("ui-input"),g=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(u)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>h({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(p,{"model-value":e.data.findTabBy,label:"Find tab by",class:"w-full mb-2 mt-3",onChange:n[1]||(n[1]=e=>h({findTabBy:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(d,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,l))),64))])),_:1},8,["model-value"]),"match-patterns"===e.data.findTabBy?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(a.default,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{"model-value":e.data.matchPattern,placeholder:"https://example.com/*",class:"w-full",onChange:n[2]||(n[2]=e=>h({matchPattern:e}))},{label:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.switch-tab.matchPattern"))+" ",1),(0,o._)("a",{title:(0,r.SU)(u)("common.example",2),href:"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns#examples",target:"_blank",rel:"noopener",class:"inline-block ml-1"},[(0,o.Wm)(f,{name:"riInformationLine",class:"inline-block",size:"18"})],8,c)])),_:1},8,["model-value"])])),_:1}),(0,o.Wm)(g,{"model-value":e.data.createIfNoMatch,class:"mt-1",onChange:n[3]||(n[3]=e=>h({createIfNoMatch:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.switch-tab.createIfNoMatch")),1)])),_:1},8,["model-value"]),e.data.createIfNoMatch?((0,o.wg)(),(0,o.j4)(a.default,{key:0,class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{"model-value":e.data.url,label:(0,r.SU)(u)("workflow.blocks.switch-tab.url"),placeholder:"https://example.com",class:"w-full",onChange:n[4]||(n[4]=e=>h({url:e}))},null,8,["model-value","label"])])),_:1})):(0,o.kq)("",!0)],64)):"tab-index"===e.data.findTabBy?((0,o.wg)(),(0,o.j4)(m,{key:1,"model-value":e.data.tabIndex,label:"Index",type:"number",class:"w-full",min:"0",onChange:n[5]||(n[5]=e=>h({tabIndex:+e}))},null,8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(g,{"model-value":e.data.activeTab,class:"my-2",onChange:n[6]||(n[6]=e=>h({activeTab:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(u)("workflow.blocks.new-tab.activeTab")),1)])),_:1},8,["model-value"])])}}}},14265:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(79735);const l={class:"space-y-2"},c={value:"main-window"},u={value:"iframe"},d={__name:"EditSwitchTo",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:d}=(0,s.QT)();function h(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),p=(0,o.up)("ui-select"),f=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(d)("common.description"),autoresize:"",class:"w-full",onChange:n[0]||(n[0]=e=>h({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(p,{"model-value":e.data.windowType,class:"w-full",onChange:n[1]||(n[1]=e=>h({windowType:e}))},{default:(0,o.w5)((()=>[(0,o._)("option",c,(0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.switch-to.windowTypes.main")),1),(0,o._)("option",u,(0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.switch-to.windowTypes.iframe")),1)])),_:1},8,["model-value"]),"iframe"===e.data.windowType?((0,o.wg)(),(0,o.j4)(a.default,{key:0,"trigger-char":["{{","}}"],block:"","hide-empty":"",class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{"model-value":e.data.selector,label:(0,r.SU)(d)("workflow.blocks.switch-to.iframeSelector"),placeholder:"CSS Selector or XPath",autocomplete:"off",class:"mb-1 w-full",onChange:n[2]||(n[2]=e=>h({selector:e}))},null,8,["model-value","label"])])),_:1})):(0,o.kq)("",!0)])}}}},25577:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(89997);const l=["value"],c={__name:"EditTabURL",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,c=["active-tab","all"],{t:u}=(0,s.QT)();function d(e){t("update:data",{...n.data,...e})}return(t,n)=>{const s=(0,o.up)("ui-textarea"),h=(0,o.up)("ui-select");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(u)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>d({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(h,{"model-value":e.data.type,label:(0,r.SU)(u)("workflow.blocks.tab-url.select"),class:"mt-4 w-full",onChange:n[1]||(n[1]=e=>d({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(c,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(u)(`workflow.blocks.tab-url.types.${e}`)),9,l))),64))])),_:1},8,["model-value","label"]),(0,o.Wm)(a.Z,{data:e.data,variables:"",onUpdate:d},null,8,["data"])])}}}},9067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(31263),l=n(79735);const c={class:"take-screenshot"},u=["value"],d={class:"text-sm text-gray-600 dark:text-gray-200 ml-2 mt-4"},h={class:"bg-box-transparent px-4 py-2 rounded-lg flex items-center"},p=["value","title"],f={class:"w-12 text-right"},m={key:2,class:"flex items-center mt-1"},g=(0,o._)("option",{value:"png"},"PNG",-1),v=(0,o._)("option",{value:"jpeg"},"JPEG",-1),y=["value"],w={__name:"EditTakeScreenshot",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:w}=(0,s.QT)(),b=(0,o.f3)("workflow"),k=["page","fullpage","element"];function x(e){t("update:data",{...n.data,...e})}function S({target:e}){let t=+e.value;t<=0&&(t=0),t>=100&&(t=100),x({quality:t})}return(0,o.bv)((()=>{if((0,a.aX)(n.data,"saveToComputer")||x({saveToComputer:!0,saveToColumn:!1}),!(0,a.aX)(n.data,"type")){const e="page";n.data.fullPage,x({type:e,fullPage:!1})}})),(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-select"),_=(0,o.up)("ui-input"),C=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(w)("common.description"),class:"w-full",onChange:n[0]||(n[0]=e=>x({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(a,{"model-value":e.data.type,label:(0,r.SU)(w)("workflow.blocks.take-screenshot.types.title"),class:"w-full mt-2",onChange:n[1]||(n[1]=e=>x({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(k,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)((0,r.SU)(w)(`workflow.blocks.take-screenshot.types.${e}`)),9,u))),64))])),_:1},8,["model-value","label"]),"element"===e.data.type?((0,o.wg)(),(0,o.j4)(_,{key:0,"model-value":e.data.selector,label:(0,r.SU)(w)("workflow.blocks.base.findElement.options.cssSelector"),class:"mt-2 w-full",placeholder:".element",onChange:n[2]||(n[2]=e=>x({selector:e}))},null,8,["model-value","label"])):(0,o.kq)("",!0),"jpeg"===e.data.ext?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",d,(0,i.toDisplayString)((0,r.SU)(w)("workflow.blocks.take-screenshot.imageQuality")),1),(0,o._)("div",h,[(0,o._)("input",{value:e.data.quality,title:(0,r.SU)(w)("workflow.blocks.take-screenshot.imageQuality"),class:"focus:outline-none flex-1",type:"range",min:"0",max:"100",onChange:S},null,40,p),(0,o._)("span",f,(0,i.toDisplayString)(e.data.quality)+"%",1)])],64)):(0,o.kq)("",!0),(0,o.Wm)(C,{"model-value":e.data.saveToComputer,class:"mt-4",onChange:n[3]||(n[3]=e=>x({saveToComputer:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(w)("workflow.blocks.take-screenshot.saveToComputer")),1)])),_:1},8,["model-value"]),e.data.saveToComputer?((0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(l.default,{class:"flex-1 mr-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{"model-value":e.data.fileName,placeholder:(0,r.SU)(w)("common.fileName"),autocomplete:"off",class:"flex-1 mr-2",title:"File name",onChange:n[4]||(n[4]=e=>x({fileName:e}))},null,8,["model-value","placeholder"])])),_:1}),(0,o.Wm)(a,{"model-value":e.data.ext||"png",placeholder:"Type",onChange:n[5]||(n[5]=e=>x({ext:e}))},{default:(0,o.w5)((()=>[g,v])),_:1},8,["model-value"])])):(0,o.kq)("",!0),(0,o.Wm)(C,{"model-value":e.data.saveToColumn,class:"mt-4",onChange:n[6]||(n[6]=e=>x({saveToColumn:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(w)("workflow.blocks.take-screenshot.saveToColumn")),1)])),_:1},8,["model-value"]),e.data.saveToColumn?((0,o.wg)(),(0,o.j4)(a,{key:3,"model-value":e.data.dataColumn,placeholder:"Select column",class:"w-full mt-1",onChange:n[7]||(n[7]=e=>x({dataColumn:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(b).columns.value,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id||e.name,value:e.id||e.name},(0,i.toDisplayString)(e.name),9,y)))),128))])),_:1},8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(C,{"model-value":e.data.assignVariable,block:"",class:"mt-4",onChange:n[8]||(n[8]=e=>x({assignVariable:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(w)("workflow.variables.assign")),1)])),_:1},8,["model-value"]),e.data.assignVariable?((0,o.wg)(),(0,o.j4)(_,{key:4,"model-value":e.data.variableName,placeholder:(0,r.SU)(w)("workflow.variables.name"),title:(0,r.SU)(w)("workflow.variables.name"),class:"mt-1 w-full",onChange:n[9]||(n[9]=e=>x({variableName:e}))},null,8,["model-value","placeholder","title"])):(0,o.kq)("",!0)])}}}},81569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(83465),l=n.n(a),c=n(80841);const u={class:"mt-2"},d={__name:"TriggerDate",props:{data:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const{t:n}=(0,s.QT)(),i=(0,c.Z)().add(30,"day").format("YYYY-MM-DD"),a=(0,c.Z)().format("YYYY-MM-DD");return(s,l)=>{const d=(0,o.up)("ui-input");return(0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(d,{"model-value":e.data.date,max:(0,r.SU)(i),min:(0,r.SU)(a),placeholder:(0,r.SU)(n)("workflow.blocks.trigger.forms.date"),class:"w-full",type:"date",onChange:l[0]||(l[0]=e=>function(e){if(!e)return;let n=e?.date??a;(0,c.Z)(a).isAfter(n)?n=a:(0,c.Z)(i).isBefore(n)&&(n=i),t("update",{date:n})}({date:e}))},null,8,["model-value","max","min","placeholder"]),(0,o.Wm)(d,{"model-value":e.data.time,placeholder:(0,r.SU)(n)("workflow.blocks.trigger.forms.time"),type:"time",class:"w-full mt-2",onChange:l[1]||(l[1]=e=>s.$emit("update",{time:e||"00:00"}))},null,8,["model-value","placeholder"])])}}},h={class:"flex items-center mt-1"},p={__name:"TriggerInterval",props:{data:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const{t:n}=(0,s.QT)();function a(e,{key:n,min:o,max:r}){let i=+e;i<o?i=o:i>r&&(i=r),t("update",{[n]:i})}return(s,l)=>{const c=(0,o.up)("ui-input"),u=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",h,[(0,o.Wm)(c,{"model-value":e.data.interval,label:(0,r.SU)(n)("workflow.blocks.trigger.forms.interval"),type:"number",class:"w-full",placeholder:"1-120",min:"1",max:"120",onChange:l[0]||(l[0]=e=>a(e,{key:"interval",min:1,max:120}))},null,8,["model-value","label"]),e.data.fixedDelay?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,"model-value":e.data.delay,type:"number",class:"w-full ml-2",label:(0,r.SU)(n)("workflow.blocks.trigger.forms.delay"),min:"0",max:"20",placeholder:"0-20",onChange:l[1]||(l[1]=e=>a(e,{key:"delay",min:0,max:20}))},null,8,["model-value","label"]))]),(0,o.Wm)(u,{"model-value":e.data.fixedDelay,block:"",class:"mt-2",onChange:l[2]||(l[2]=e=>t("update",{fixedDelay:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(n)("workflow.blocks.trigger.fixedDelay")),1)])),_:1},8,["model-value"])])}}},f={class:"mt-2"},m={__name:"TriggerVisitWeb",props:{data:{type:Object,default:()=>({})}},emits:["update"],setup(e){const{t}=(0,s.QT)();return(n,s)=>{const a=(0,o.up)("ui-input"),l=(0,o.up)("ui-checkbox");return(0,o.wg)(),(0,o.iD)("div",f,[(0,o.Wm)(a,{"model-value":e.data.url,placeholder:(0,r.SU)(t)("workflow.blocks.trigger.forms.url"),class:"w-full",onChange:s[0]||(s[0]=e=>n.$emit("update",{url:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.isUrlRegex,class:"mt-1",onChange:s[1]||(s[1]=e=>n.$emit("update",{isUrlRegex:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(t)("workflow.blocks.trigger.useRegex")),1)])),_:1},8,["model-value"])])}}};var g=n(58958);const v={class:"mt-4"},y={class:"text-sm ml-1 text-gray-600 dark:text-gray-200"},w={class:"text-left flex-1 text-overflow mr-2"},b={class:"grid gap-2 grid-cols-2"},k={class:"capitalize"},x={__name:"TriggerContextMenu",props:{data:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,a=["audio","editable","image","link","page","password","selection","video"],l="contextMenus",{t:c}=(0,s.QT)(),u=(0,g.z)([l]),d=(0,o.f3)("workflow");return(0,o.bv)((()=>{n.data.contextMenuName.trim()||t("update",{contextMenuName:d.data.value.name})})),(s,h)=>{const p=(0,o.up)("ui-button"),f=(0,o.up)("ui-input"),m=(0,o.up)("v-remixicon"),g=(0,o.up)("ui-checkbox"),x=(0,o.up)("ui-popover");return(0,o.wg)(),(0,o.iD)("div",v,[(0,r.SU)(u).has[(0,r.SU)(l)]?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(f,{label:(0,r.SU)(c)("workflow.blocks.trigger.contextMenus.contextName"),placeholder:(0,r.SU)(d).data.value.name,"model-value":e.data.contextMenuName,class:"w-full",onChange:h[1]||(h[1]=e=>s.$emit("update",{contextMenuName:e}))},null,8,["label","placeholder","model-value"]),(0,o.Wm)(x,{options:{animation:null},"trigger-width":"",class:"w-full mt-2","trigger-class":"w-full"},{trigger:(0,o.w5)((()=>[(0,o._)("span",y,(0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.trigger.contextMenus.appearIn")),1),(0,o.Wm)(p,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o._)("p",w,(0,i.toDisplayString)(e.data.contextTypes.join(", ")||"All"),1),(0,o.Wm)(m,{size:"28",name:"riArrowDropDownLine",class:"text-gray-600 dark:text-gray-200 -mr-2"})])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("div",b,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(a,(r=>(0,o.Wm)(g,{key:r,"model-value":e.data.contextTypes?.includes(r),onChange:e=>function(e,o){const r=[...n.data.contextTypes];if(e)r.push(o);else{const e=r.indexOf(o);r.splice(e,1)}t("update",{contextTypes:r})}(e,r)},{default:(0,o.w5)((()=>[(0,o._)("span",k,(0,i.toDisplayString)(r),1)])),_:2},1032,["model-value","onChange"]))),64))])])),_:1})],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("p",null,(0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.trigger.contextMenus.noPermission")),1),(0,o.Wm)(p,{class:"mt-2",onClick:h[0]||(h[0]=e=>(0,r.SU)(u).request(!0))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.trigger.contextMenus.grantPermission")),1)])),_:1})],64))])}}};var S=n(49963),_=n(23002),C=n(31263);const D={class:"mt-4"},E={class:"text-left flex-1 text-overflow mr-2"},A={class:"grid gap-2 grid-cols-2"},O={class:"flex items-center"},T={class:"my-2"},M={class:"flex-1"},L={class:"text-gray-600 dark:text-gray-200"},I={class:"grid grid-cols-2 gap-1 mb-1"},N={class:"flex-1"},P={__name:"TriggerSpecificDay",props:{data:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,a={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},{t:l}=(0,s.QT)(),u=(0,_.pm)(),d=(0,r.iH)(null),h=(0,r.qj)({days:[],time:"00:00"}),p=(0,o.Fl)((()=>d.value?d.value.slice().sort(((e,t)=>e.id-t.id)):[]));function f(e){const[t,n]=e.split(":");return(0,c.Z)().hour(t).minute(n).format("hh:mm A")}function m(){h.days.forEach((e=>{const t=d.value.findIndex((({id:t})=>t===e));if(-1===t)d.value.push({id:e,times:[h.time]});else{if(d.value[t].times.includes(h.time)){const t=l("workflow.blocks.trigger.timeExist",{time:f(h.time),day:l(`workflow.blocks.trigger.days.${e}`)});return void u.error(t)}d.value[t].times.push(h.time)}}))}return(0,o.YP)(d,((e,n)=>{n&&t("update",{days:e})}),{deep:!0}),(0,o.bv)((()=>{const e=n.data.days.length>0&&!(0,C.Kn)(n.data.days[0]);d.value=e?n.data.days.map((e=>({id:e,times:[n.data.time]}))):n.data.days})),(t,n)=>{const s=(0,o.up)("v-remixicon"),c=(0,o.up)("ui-button"),u=(0,o.up)("ui-checkbox"),g=(0,o.up)("ui-popover"),v=(0,o.up)("ui-input"),y=(0,o.up)("ui-expand");return(0,o.wg)(),(0,o.iD)("div",D,[(0,o.Wm)(g,{options:{animation:null},"trigger-width":"",class:"w-full mb-2","trigger-class":"w-full"},{trigger:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"w-full"},{default:(0,o.w5)((()=>{return[(0,o._)("p",E,(0,i.toDisplayString)(0===h.days.length?(0,r.SU)(l)("workflow.blocks.trigger.selectDay"):(e=h.days,e.map((e=>l(`workflow.blocks.trigger.days.${e}`))).join(", "))),1),(0,o.Wm)(s,{size:"28",name:"riArrowDropDownLine",class:"text-gray-600 dark:text-gray-200 -mr-2"})];var e})),_:1})])),default:(0,o.w5)((()=>[(0,o._)("div",A,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(a,((t,n)=>(0,o.Wm)(u,{key:n,"model-value":e.data.days?.includes(n),onChange:e=>function(e,t){e?h.days.push(+t):h.days.splice(h.days.indexOf(+t),1)}(e,n)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(l)(`workflow.blocks.trigger.days.${n}`)),1)])),_:2},1032,["model-value","onChange"]))),64))])])),_:1}),(0,o._)("div",O,[(0,o.Wm)(v,{modelValue:h.time,"onUpdate:modelValue":n[0]||(n[0]=e=>h.time=e),type:"time",class:"flex-1 mr-2"},null,8,["modelValue"]),(0,o.Wm)(c,{variant:"accent",onClick:m},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(l)("workflow.blocks.trigger.addTime")),1)])),_:1})]),(0,o._)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(p),((e,t)=>((0,o.wg)(),(0,o.j4)(y,{key:e.id,"header-class":"focus:ring-0 flex items-center py-2 w-full group text-left",type:"time",class:"w-full"},{header:(0,o.w5)((()=>[(0,o._)("p",M,(0,i.toDisplayString)((0,r.SU)(l)(`workflow.blocks.trigger.days.${e.id}`)),1),(0,o._)("span",L,[(0,o.Wm)(s,{name:"riDeleteBin7Line",class:"mr-1 group invisible group-hover:visible inline-block",onClick:e=>d.value.splice(t,1)},null,8,["onClick"]),(0,o.Uk)(" "+(0,i.toDisplayString)(e.times.length)+"x ",1)])])),default:(0,o.w5)((()=>[(0,o._)("div",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.times,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"flex items-center px-4 py-2 border rounded-lg group"},[(0,o._)("span",N,(0,i.toDisplayString)(f(e)),1),(0,o.Wm)(s,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:(0,S.withModifiers)((e=>function(e,t){d.value[e].times.splice(t,1),0===d.value[e].times.length&&d.value.splice(e,1)}(t,n)),["stop"])},null,8,["onClick"])])))),128))])])),_:2},1024)))),128))])])}}};var U=n(31647),B=n(97710);const j={class:"mt-2"},R={class:"flex items-center mb-2"},V={class:"mt-4 leading-tight text-gray-600 dark:text-gray-200"},F={__name:"TriggerKeyboardShortcut",props:{data:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:t}){const n=e,{t:a}=(0,s.QT)(),l=(0,r.qj)({isRecording:!1,keys:`${n.data.shortcut}`});function c(e){e.preventDefault(),e.stopPropagation(),(0,U.X)(e,(e=>{l.keys=e.join("+"),t("update",{shortcut:l.keys})}))}function u(){l.isRecording=!1,window.removeEventListener("keydown",c),window.removeEventListener("keyup",u)}function d(){l.isRecording=!l.isRecording,l.isRecording?(window.addEventListener("keydown",c),window.addEventListener("keyup",u)):u()}return(0,o.se)(u),(0,o.Jd)(u),(t,n)=>{const s=(0,o.up)("ui-input"),c=(0,o.up)("v-remixicon"),u=(0,o.up)("ui-button"),h=(0,o.up)("ui-checkbox"),p=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",j,[(0,o._)("div",R,[(0,o.Wm)(s,{"model-value":(0,r.SU)(B.v3)(l.keys),readonly:"",class:"flex-1 mr-2",placeholder:(0,r.SU)(a)("workflow.blocks.trigger.forms.shortcut")},null,8,["model-value","placeholder"]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(u,{icon:"",onClick:d},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{name:l.isRecording?"riStopLine":"riRecordCircleLine"},null,8,["name"])])),_:1})),[[p,(0,r.SU)(a)("workflow.blocks.trigger.shortcut."+(l.isRecording?"stopRecord":"tooltip"))]])]),(0,o.Wm)(h,{"model-value":e.data.activeInInput,class:"mb-1",title:(0,r.SU)(a)("workflow.blocks.trigger.shortcut.checkboxTitle"),onChange:n[0]||(n[0]=e=>t.$emit("update",{activeInInput:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.trigger.shortcut.checkbox")),1)])),_:1},8,["model-value","title"]),(0,o._)("p",V,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.trigger.shortcut.note")),1)])}}},W=e=>((0,o.dD)("data-v-45634573"),e=e(),(0,o.Cn)(),e),H={class:"trigger"},z=["value"],$=W((()=>(0,o._)("span",null,"Parameters",-1))),K={class:"overflow-auto scroll",style:{"max-height":"calc(100vh - 15rem)","min-height":"200px"}},q={key:0,class:"my-4 text-center text-gray-600 dark:text-gray-200"},Y={key:1,class:"w-full"},G=W((()=>(0,o._)("thead",null,[(0,o._)("tr",{class:"text-sm text-left"},[(0,o._)("th",null,"Name"),(0,o._)("th",null,"Type"),(0,o._)("th",null,"Placeholder"),(0,o._)("th",null,"Default Value"),(0,o._)("th")])],-1))),X=["value"],J=(0,o.Uk)(" Add parameter "),Z={__name:"EditTrigger",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,a={manual:null,interval:p,"context-menu":x,date:d,"specific-day":P,"on-startup":null,"visit-web":m,"keyboard-shortcut":F},c=[{id:"string",name:"String"},{id:"number",name:"Number"}],{t:u}=(0,s.QT)(),h=(0,r.qj)({showModal:!1,parameters:l()(n.data.parameters||[])});function f(e){t("update:data",{...n.data,...e})}function g(){h.parameters.push({name:"param",type:"string",placeholder:"Text",defaultValue:""})}return(0,o.YP)((()=>h.parameters),(e=>{f({parameters:e})}),{deep:!0}),(t,n)=>{const s=(0,o.up)("ui-textarea"),l=(0,o.up)("ui-select"),d=(0,o.up)("transition-expand"),p=(0,o.up)("v-remixicon"),m=(0,o.up)("ui-button"),v=(0,o.up)("ui-input"),y=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",H,[(0,o.Wm)(s,{"model-value":e.data.description,autoresize:"",placeholder:(0,r.SU)(u)("common.description"),class:"w-full mb-2",onChange:n[0]||(n[0]=e=>f({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(l,{"model-value":e.data.type||"manual",placeholder:(0,r.SU)(u)("workflow.blocks.trigger.forms.triggerWorkflow"),class:"w-full",onChange:n[1]||(n[1]=e=>f({type:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(a,((e,t)=>(0,o._)("option",{key:t,value:t},(0,i.toDisplayString)((0,r.SU)(u)(`workflow.blocks.trigger.items.${t}`)),9,z))),64))])),_:1},8,["model-value","placeholder"]),(0,o.Wm)(d,{mode:"out-in"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)(o.Ob,null,[((0,o.wg)(),(0,o.j4)((0,o.LL)(a[e.data.type]),{data:e.data,onUpdate:f},null,40,["data"]))],1024))])),_:1}),(0,o.Wm)(m,{class:"mt-4",onClick:n[2]||(n[2]=e=>h.showModal=!0)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"riCommandLine",class:"mr-2 -ml-1"}),$])),_:1}),(0,o.Wm)(y,{modelValue:h.showModal,"onUpdate:modelValue":n[3]||(n[3]=e=>h.showModal=e),title:"Parameters","content-class":"max-w-4xl"},{default:(0,o.w5)((()=>[(0,o._)("div",K,[0===h.parameters.length?((0,o.wg)(),(0,o.iD)("p",q," No parameters ")):((0,o.wg)(),(0,o.iD)("table",Y,[G,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.parameters,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,[(0,o.Wm)(v,{"model-value":e.name,placeholder:"Parameter name",onChange:e=>function(e,t){h.parameters[e].name=t.replace(/\s/g,"_")}(t,e)},null,8,["model-value","onChange"])]),(0,o._)("td",null,[(0,o.Wm)(l,{modelValue:e.type,"onUpdate:modelValue":t=>e.type=t},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(c,(e=>(0,o._)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,X))),64))])),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,o._)("td",null,[(0,o.Wm)(v,{modelValue:e.placeholder,"onUpdate:modelValue":t=>e.placeholder=t,placeholder:"A parameter"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("td",null,[(0,o.Wm)(v,{modelValue:e.defaultValue,"onUpdate:modelValue":t=>e.defaultValue=t,type:"number"===e.type?"number":"text",placeholder:"NULL"},null,8,["modelValue","onUpdate:modelValue","type"])]),(0,o._)("td",null,[(0,o.Wm)(m,{icon:"",onClick:e=>h.parameters.splice(t,1)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"riDeleteBin7Line"})])),_:2},1032,["onClick"])])])))),128))])]))]),(0,o.Wm)(m,{variant:"accent",class:"mt-4",onClick:g},{default:(0,o.w5)((()=>[J])),_:1})])),_:1},8,["modelValue"])])}}};const Q=(0,n(83744).Z)(Z,[["__scopeId","data-v-45634573"]])},27566:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(57269).Z},97729:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(93150),l=n.n(a),c=n(87661),u=n(79735);const d={key:0,class:"mt-4 p-2 rounded-lg bg-primary mt-4 flex text-white items-start"},h={class:"ml-2 flex-1 leading-tight text-sm"},p={class:"mt-4 space-y-2"},f={class:"mt-4 p-2 rounded-lg bg-red-200 dark:bg-red-400 flex items-start"},m={class:"ml-2 flex-1 leading-tight"},g={href:"https://docs.automa.site/blocks/upload-file.html#requirements",target:"_blank",rel:"noopener",class:"leading-tight inline-block text-primary mt-2"},v={__name:"EditUploadFile",props:{data:{type:Object,default:()=>({})},hideBase:{type:Boolean,default:!1}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:a}=(0,s.QT)(),v="chrome",y=(0,r.iH)([...n.data.filePaths]),w=(0,r.iH)(!0);function b(e){t("update:data",{...n.data,...e})}return l().extension.isAllowedFileSchemeAccess().then((e=>{w.value=e})),(0,o.YP)(y,(e=>{b({filePaths:e})}),{deep:!0}),(t,n)=>{const s=(0,o.up)("v-remixicon"),l=(0,o.up)("ui-input"),k=(0,o.up)("ui-button");return(0,o.wg)(),(0,o.j4)(c.default,(0,o.dG)({class:"mb-8"},{data:e.data,hide:e.hideBase},{onChange:b}),{default:(0,o.w5)((()=>[w.value||"firefox"===(0,r.SU)(v)?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},["firefox"===(0,r.SU)(v)?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(s,{name:"riErrorWarningLine",size:"20"}),(0,o._)("div",h,[(0,o._)("p",null,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.upload-file.onlyURL")),1)])])):(0,o.kq)("",!0),(0,o._)("div",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(y.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"flex items-center group"},[(0,o.Wm)(u.default,{class:"mr-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:y.value[t],"onUpdate:modelValue":e=>y.value[t]=e,placeholder:"URL/File path/base64",autocomplete:"off",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.Wm)(s,{name:"riDeleteBin7Line",class:"invisible cursor-pointer group-hover:visible",onClick:e=>y.value.splice(t,1)},null,8,["onClick"])])))),128))]),(0,o.Wm)(k,{variant:"accent",class:"mt-2",onClick:n[0]||(n[0]=e=>y.value.push(""))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.upload-file.addFile")),1)])),_:1})],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",f,[(0,o.Wm)(s,{name:"riErrorWarningLine"}),(0,o._)("div",m,[(0,o._)("p",null,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.upload-file.noFileAccess")),1)])]),(0,o._)("a",g,(0,i.toDisplayString)((0,r.SU)(a)("workflow.blocks.upload-file.requirement")),1)],64))])),_:1},16)}}}},65859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(66252),r=n(2262),i=n(3577),s=n(7043);const a={class:"mb-4"},l=["value"],c={__name:"EditWaitConnections",props:{data:{type:Object,default:()=>({})},connections:{type:Array,default:()=>[]}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:c}=(0,s.QT)();function u(e){t("update:data",{...n.data,...e})}return(0,o.bv)((()=>{n.data.flowBlockId||u({flowBlockId:n.connections[0]?.id||""})})),(t,n)=>{const s=(0,o.up)("ui-textarea"),d=(0,o.up)("ui-input"),h=(0,o.up)("ui-checkbox"),p=(0,o.up)("ui-select");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(s,{"model-value":e.data.description,class:"w-full",placeholder:(0,r.SU)(c)("common.description"),onChange:n[0]||(n[0]=e=>u({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(d,{"model-value":e.data.timeout,label:(0,r.SU)(c)("workflow.blocks.base.timeout"),placeholder:"10000",type:"number",class:"w-full mt-1",onChange:n[1]||(n[1]=e=>u({timeout:+e}))},null,8,["model-value","label"]),(0,o.Wm)(h,{"model-value":e.data.specificFlow,class:"mt-4",onChange:n[2]||(n[2]=e=>u({specificFlow:e}))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(c)("workflow.blocks.wait-connections.specificFlow")),1)])),_:1},8,["model-value"]),e.data.specificFlow?((0,o.wg)(),(0,o.j4)(p,{key:0,"model-value":e.data.flowBlockId,label:(0,r.SU)(c)("workflow.blocks.wait-connections.selectFlow"),class:"w-full mt-1",onChange:n[3]||(n[3]=e=>u({flowBlockId:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.connections,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.id},(0,i.toDisplayString)(e.name),9,l)))),128))])),_:1},8,["model-value","label"])):(0,o.kq)("",!0)])}}}},57614:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(64989),l=n(89997),c=n(79735);const u=e=>((0,o.dD)("data-v-3c9320b3"),e=e(),(0,o.Cn)(),e),d={class:"mb-2 mt-4"},h=["value"],p=["value"],f=["onClick"],m=["textContent"],g=u((()=>(0,o._)("option",{value:"json"},"JSON",-1))),v=u((()=>(0,o._)("option",{value:"text"},"Text",-1))),y={class:"mt-3"},w={href:"https://docs.automa.site/api-reference/reference-data.html",rel:"noopener",class:"border-b text-primary",target:"_blank"},b={__name:"EditWebhook",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const u=e,b=(0,o.RC)((()=>Promise.all([n.e(796),n.e(71)]).then(n.bind(n,78071)))),{t:k}=(0,s.QT)(),x=["GET","POST","PUT","PATCH","DELETE"],S=["GET","DELETE"],_=(0,r.iH)("headers"),C=(0,r.iH)(!1),D=(0,r.iH)(JSON.parse(JSON.stringify(u.data.headers)));function E(e){t("update:data",{...u.data,...e})}function A(){D.value.push({name:"",value:""})}function O(e){S.includes(e)&&"body"===_.value&&(_.value="headers"),E({method:e})}return(0,o.YP)(D,(e=>{E({headers:e})}),{deep:!0}),(t,n)=>{const s=(0,o.up)("ui-textarea"),u=(0,o.up)("ui-select"),T=(0,o.up)("ui-input"),M=(0,o.up)("ui-tab"),L=(0,o.up)("ui-tabs"),I=(0,o.up)("v-remixicon"),N=(0,o.up)("ui-button"),P=(0,o.up)("ui-tab-panel"),U=(0,o.up)("ui-tab-panels"),B=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(k)("common.description"),class:"w-full mb-2",onChange:n[0]||(n[0]=e=>E({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(u,{"model-value":e.data.method||"POST",label:(0,r.SU)(k)("workflow.blocks.webhook.method"),class:"mb-2 w-full",onChange:O},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(x,(e=>(0,o._)("option",{key:e,value:e},(0,i.toDisplayString)(e),9,h))),64))])),_:1},8,["model-value","label"]),(0,o.Wm)(c.default,{class:"mb-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{"model-value":e.data.url,label:`${(0,r.SU)(k)("workflow.blocks.webhook.url")}*`,placeholder:"http://api.example.com",class:"w-full",rows:"1",autocomplete:"off",required:"",type:"url",onChange:n[1]||(n[1]=e=>E({url:e}))},null,8,["model-value","label"])])),_:1}),(0,o.Wm)(u,{"model-value":e.data.contentType,label:(0,r.SU)(k)("workflow.blocks.webhook.contentType"),class:"mb-2 w-full",onChange:n[2]||(n[2]=e=>E({contentType:e}))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(a.Tr),(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.value,value:e.value},(0,i.toDisplayString)(e.name),9,p)))),128))])),_:1},8,["model-value","label"]),(0,o.Wm)(T,{"model-value":e.data.timeout,label:(0,r.SU)(k)("workflow.blocks.webhook.timeout.placeholder"),title:(0,r.SU)(k)("workflow.blocks.webhook.timeout.title"),class:"mb-2 w-full",type:"number",onChange:n[3]||(n[3]=e=>E({timeout:+e}))},null,8,["model-value","label","title"]),(0,o.Wm)(L,{modelValue:_.value,"onUpdate:modelValue":n[4]||(n[4]=e=>_.value=e),fill:""},{default:(0,o.w5)((()=>[(0,o.Wm)(M,{value:"headers"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.webhook.tabs.headers")),1)])),_:1}),S.includes(e.data.method)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(M,{key:0,value:"body"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.webhook.tabs.body")),1)])),_:1})),(0,o.Wm)(M,{value:"response"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.webhook.tabs.response")),1)])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(U,{modelValue:_.value,"onUpdate:modelValue":n[8]||(n[8]=e=>_.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{value:"headers",class:"grid grid-cols-7 justify-items-center mt-4 gap-2"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(D.value,((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[(0,o.Wm)(T,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,title:e.name,placeholder:`Header ${t+1}`,type:"text",class:"col-span-3"},null,8,["modelValue","onUpdate:modelValue","title","placeholder"]),(0,o.Wm)(T,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,title:e.value,placeholder:"Value",type:"text",class:"col-span-3"},null,8,["modelValue","onUpdate:modelValue","title"]),(0,o._)("button",{onClick:e=>function(e){D.value.splice(e,1)}(t)},[(0,o.Wm)(I,{name:"riCloseCircleLine",size:"20"})],8,f)],64)))),128)),(0,o.Wm)(N,{class:"col-span-4 mt-4 block w-full",variant:"accent",onClick:A},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,i.toDisplayString)((0,r.SU)(k)("workflow.blocks.webhook.buttons.header")),1)])),_:1})])),_:1}),(0,o.Wm)(P,{value:"body",class:"mt-4"},{default:(0,o.w5)((()=>[C.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("pre",{key:0,class:"rounded-lg text-gray-200 p-4 max-h-80 bg-gray-900 overflow-auto",onClick:n[5]||(n[5]=e=>C.value=!0),textContent:(0,i.toDisplayString)(e.data.body)},null,8,m))])),_:1}),(0,o.Wm)(P,{value:"response",class:"mt-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{"model-value":e.data.responseType,label:"Response type",class:"w-full",onChange:n[6]||(n[6]=e=>E({responseType:e}))},{default:(0,o.w5)((()=>[g,v])),_:1},8,["model-value"]),"json"===e.data.responseType?((0,o.wg)(),(0,o.j4)(T,{key:0,"model-value":e.data.dataPath,placeholder:"path.to.data",label:"Data path",class:"w-full mt-2",onChange:n[7]||(n[7]=e=>E({dataPath:e}))},null,8,["model-value"])):(0,o.kq)("",!0),(0,o.Wm)(l.Z,{data:e.data,columns:[{name:"[Assign columns]",id:"$assignColumns"}],variables:"",onUpdate:E},null,8,["data"])])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(B,{modelValue:C.value,"onUpdate:modelValue":n[10]||(n[10]=e=>C.value=e),"content-class":"max-w-3xl",title:(0,r.SU)(k)("workflow.blocks.webhook.tabs.body")},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(b),{"model-value":e.data.body,lang:"json",style:{height:"calc(100vh - 10rem)"},onChange:n[9]||(n[9]=e=>E({body:e}))},null,8,["model-value"]),(0,o._)("div",y,[(0,o._)("a",w,(0,i.toDisplayString)((0,r.SU)(k)("message.useDynamicData")),1)])])),_:1},8,["modelValue","title"])])}}};const k=(0,n(83744).Z)(b,[["__scopeId","data-v-3c9320b3"]])},93981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(53416),l=n(2303);const c={class:"px-4 pt-4 flex items-center"},u={class:"flex-1"},d={__name:"EditWhileLoop",props:{data:{type:Object,default:()=>({})}},emits:["update:data"],setup(e,{emit:t}){const n=e,{t:d}=(0,s.QT)(),h=(0,r.iH)(!1);function p(e){t("update:data",{...n.data,...e})}return(0,o.bv)((()=>{null===n.data.conditions&&p({conditions:[{id:(0,a.x0)(),conditions:[{id:(0,a.x0)(),items:[{id:(0,a.x0)(),type:"value",category:"value",data:{value:""}},{id:(0,a.x0)(),category:"compare",type:"eq"},{id:(0,a.x0)(),type:"value",category:"value",data:{value:""}}]},{id:(0,a.x0)(),items:[{id:(0,a.x0)(),type:"value",category:"value",data:{value:""}},{id:(0,a.x0)(),category:"compare",type:"eq"},{id:(0,a.x0)(),type:"value",category:"value",data:{value:""}}]}]}]})})),(t,n)=>{const s=(0,o.up)("ui-textarea"),a=(0,o.up)("ui-button"),f=(0,o.up)("v-remixicon"),m=(0,o.up)("ui-card"),g=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{"model-value":e.data.description,placeholder:(0,r.SU)(d)("common.description"),class:"w-full mb-1",onChange:n[0]||(n[0]=e=>p({description:e}))},null,8,["model-value","placeholder"]),(0,o.Wm)(a,{variant:"accent",class:"w-full mt-4",onClick:n[1]||(n[1]=e=>h.value=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.toDisplayString)((0,r.SU)(d)("workflow.blocks.while-loop.editCondition")),1)])),_:1}),(0,o.Wm)(g,{modelValue:h.value,"onUpdate:modelValue":n[4]||(n[4]=e=>h.value=e),"custom-content":""},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{padding:"p-0",class:"w-full max-w-3xl"},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o._)("p",u,(0,i.toDisplayString)((0,r.SU)(d)("workflow.conditionBuilder.title")),1),(0,o.Wm)(f,{name:"riCloseLine",class:"cursor-pointer",onClick:n[2]||(n[2]=e=>h.value=!1)})]),(0,o.Wm)(l.Z,{"model-value":e.data.conditions,class:"overflow-auto p-4 mt-4 scroll",style:{height:"calc(100vh - 8rem)"},onChange:n[3]||(n[3]=e=>p({conditions:e}))},null,8,["model-value"])])),_:1})])),_:1},8,["modelValue"])])}}}},89997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(29619).Z},76829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(56011).Z},3442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(62027).Z},93901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(7489).Z},83040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(80943).Z},39747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(72084).Z},47146:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(58713).Z},24340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(66252),r=n(49963);const i={props:{group:Boolean,direction:{type:String,default:"left",validator:e=>["top","left","right","bottom"].includes(e)}},setup(e,{slots:t,attrs:n}){const i={0:"-100%",1:"100%"},s={top:0,left:0,right:1,bottom:1};function a(t=0){const n=["left","right"].includes(e.direction),o=i[s[e.direction]+t];return n?`translateX(${o})`:`translateY(${o})`}function l(e){e.style.transform=a()}function c(e){e.style.transform=a(1)}function u(e){e.style.transform="translate(0, 0)"}return()=>(0,o.h)(e.group?r.TransitionGroup:r.Transition,{...n,name:"slide",onEnter:l,onAfterEnter:u,onLeave:c},t.default)}}},14378:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252),r=n(2262),i=n(3577),s=n(7043),a=n(73398),l=n(31263);const c={key:0,class:"text-center"},u={__name:"UiAutocomplete",props:{modelValue:{type:String,default:""},items:{type:[Array,Object],default:()=>[]},itemKey:{type:String,default:""},itemLabel:{type:String,default:""},triggerChar:{type:Array,default:()=>[]},customFilter:{type:Function,default:null},replaceAfter:{type:[String,Array],default:null},block:Boolean,disabled:Boolean,hideEmpty:Boolean},emits:["update:modelValue","change","search","select","cancel","selected"],setup(e,{expose:t,emit:n}){const u=e;let d=null;const{t:h}=(0,s.QT)(),p=(0,a.G)("autocomplete"),f=(0,r.Um)({charIndex:-1,searchText:"",activeIndex:-1,showPopover:!1,inputChanged:!1}),m=(e,t)=>e[t?u.itemKey:u.itemLabel]||e,g=(0,o.Fl)((()=>{if(!f.showPopover)return[];const e=(u.triggerChar.length>0?f.searchText:u.modelValue).toLocaleLowerCase(),t=u.customFilter||(({item:e,text:t})=>m(e)?.toLocaleLowerCase().includes(t));return u.items.filter(((n,o)=>!f.inputChanged||t({item:n,index:o,text:e})))}));function v(){if(u.disabled)return;if(u.triggerChar.length<1)return void(f.showPopover=!0);const{selectionStart:e}=d;if(e>=0){const t=function(e){const[t]=u.triggerChar.map(((t,n)=>({index:n,charIndex:d.value.lastIndexOf(t,e-1)}))).sort(((e,t)=>t.charIndex-e.charIndex));return t.index>0?-1:t.charIndex}(e),o=function(e,t){if(-1!==t){const n=u.triggerChar.length,o=d.value.substring(t+n,e);if(!/\s/.test(o))return o}return null}(e,t);if(n("search",o),t>=0&&o)return f.inputChanged=!0,f.showPopover=!0,f.searchText=o,void(f.charIndex=t)}f.charIndex=-1,f.searchText="",f.showPopover=!1}function y(e,t){let o,r=g.value[e];if(!r)return;r=m(r);const i=f.charIndex>=0&&f.searchText;if(i){const e=d.value,t=f.charIndex,n=u.triggerChar[0].length,i=f.searchText.length+t+n;let s=0;if(u.replaceAfter){(Array.isArray(u.replaceAfter)?u.replaceAfter:[u.replaceAfter]).forEach((n=>{const o=e.slice(0,i).lastIndexOf(n);o>s&&o>t&&(s=o-1)}))}o=t+n+r.length+s,r=e.slice(0,t+n+s)+r+e.slice(i,e.length)}var s;if(s=r,f.inputChanged=!0,n("change",s),n("update:modelValue",s),d.value=s,d.dispatchEvent(new Event("input")),t&&n("selected",{index:e,item:g.value[e]}),i){d.selectionEnd=o;"TEXTAREA"!==d.tagName&&(d.blur(),d.focus())}}function w(e){const t=g.value.length-1;"ArrowUp"===e.key?(f.activeIndex<=0?f.activeIndex=t:f.activeIndex-=1,e.preventDefault()):"ArrowDown"===e.key?(f.activeIndex>=t?f.activeIndex=0:f.activeIndex+=1,e.preventDefault()):"Enter"===e.key&&f.showPopover?(y(f.activeIndex,!0),e.preventDefault()):"Escape"===e.key&&(n("cancel"),f.showPopover=!1)}function b(){f.showPopover=!1}function k(){u.triggerChar.length<1||v()}function x(){f.inputChanged=!0}return(0,o.YP)((()=>f.activeIndex),(0,l.Ds)((e=>{const t=document.querySelector(`.${p}`),o=t.querySelector(`#list-item-${e}`);o&&!function(e,t,n=!1){const o=e.scrollTop,r=o+e.clientHeight,i=t.offsetTop,s=i+t.clientHeight;return i>=o&&s<=r||n&&(i<o&&s>o||s>r&&i<r)}(t,o)&&o.scrollIntoView({block:"nearest",behavior:"smooth"}),n("select",{index:e,item:g.value[e]})}),100)),(0,o.YP)((()=>g),(()=>{0===g.value.length&&u.hideEmpty&&(f.showPopover=!1)}),{deep:!0}),(0,o.YP)((()=>f.showPopover),(e=>{e||(f.inputChanged=!1)})),(0,o.bv)((()=>{if(u.modelValue){const e=u.items.findIndex((e=>m(e)===u.modelValue));-1!==e&&(f.activeIndex=e)}d=document.querySelector(`#${p} input, #${p} textarea`),d&&(d.addEventListener("blur",b),d.addEventListener("input",x),d.addEventListener("focus",k),d.addEventListener("input",v),d.addEventListener("keydown",w))})),(0,o.Jd)((()=>{d&&(d.removeEventListener("blur",b),d.removeEventListener("input",x),d.removeEventListener("focus",k),d.removeEventListener("input",v),d.removeEventListener("keydown",w))})),t({state:f}),(t,n)=>{const s=(0,o.up)("ui-list-item"),a=(0,o.up)("ui-list"),l=(0,o.up)("ui-popover");return(0,o.wg)(),(0,o.j4)(l,{id:(0,r.SU)(p),modelValue:(0,r.SU)(f).showPopover,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,r.SU)(f).showPopover=e),class:(0,i.normalizeClass)([{block:e.block},"ui-autocomplete"]),padding:`p-2 max-h-56 overflow-auto scroll ${(0,r.SU)(p)}`,"trigger-width":"",trigger:"manual"},{trigger:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),default:(0,o.w5)((()=>[0===(0,r.SU)(g).length?((0,o.wg)(),(0,o.iD)("p",c,(0,i.toDisplayString)((0,r.SU)(h)("message.noData")),1)):((0,o.wg)(),(0,o.j4)(a,{key:1,class:"space-y-1"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(g),((e,n)=>((0,o.wg)(),(0,o.j4)(s,{id:`list-item-${n}`,key:m(e,!0),class:(0,i.normalizeClass)([{"bg-box-transparent":(0,r.SU)(f).activeIndex===n},"cursor-pointer"]),onMousedown:e=>y(n,!0),onMouseenter:e=>(0,r.SU)(f).activeIndex=n},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"item",{item:e},(()=>[(0,o.Uk)((0,i.toDisplayString)(m(e)),1)]))])),_:2},1032,["id","class","onMousedown","onMouseenter"])))),128))])),_:3}))])),_:3},8,["id","modelValue","class","padding"])}}}},43726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(30094),r=n(96946);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},129:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(92601),r=n(48271);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},8368:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(38911),r=n(81596);const i=(0,n(83744).Z)(r.Z,[["render",o.s],["__scopeId","data-v-92f25b28"]])},63623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n(66252),r=n(3577);const i={class:"font-semibold"},s={class:"text-gray-600 dark:text-gray-200 leading-tight"},a={class:"mt-8 flex space-x-2"};var l=n(2262),c=n(7043),u=n(73048),d=n(31263),h=n(32364);const p={setup(){const{t:e}=(0,c.QT)(),t={body:"",title:"",label:"",html:!1,onCancel:null,onConfirm:null,placeholder:"",inputType:"text",showLoading:!1,okVariant:"accent",okText:e("common.confirm"),cancelText:e("common.cancel")},n=(0,l.qj)({type:"",input:"",show:!1,loading:!1,showPassword:!1,options:t});function r({type:e,options:o}){n.type=e,n.input=o?.inputValue??"",n.options=(0,u.ZP)(o,t),n.show=!0}function i(){n.input="",n.show=!1,n.showPassword=!1,n.options=t}const s=(0,d.P2)((e=>{const t=n.options[e],o="prompt"!==n.type||n.input;if(t){const e=n.options.async;e&&(n.loading=!0);const r=t(o)??!0;if("boolean"==typeof r)return r&&i(),void(n.loading=!1);if(e&&r?.then)return void r.then((e=>{e&&i(),n.loading=!1}));i()}else i()}),200);function a({code:e}){"Enter"===e?s("onConfirm"):"Escape"===e&&s("onCancel")}return(0,o.YP)((()=>n.show),(e=>{e?window.addEventListener("keyup",a):window.removeEventListener("keyup",a)})),h.Z.on("show-dialog",r),(0,o.Ah)((()=>{h.Z.off("show-dialog",r)})),{state:n,fireCallback:s}}};const f=(0,n(83744).Z)(p,[["render",function(e,t,n,l,c,u){const d=(0,o.up)("v-remixicon"),h=(0,o.up)("ui-input"),p=(0,o.up)("ui-button"),f=(0,o.up)("ui-modal");return(0,o.wg)(),(0,o.j4)(f,{"model-value":l.state.show,"content-class":"max-w-sm",onClose:t[4]||(t[4]=e=>l.state.show=!1)},{header:(0,o.w5)((()=>[(0,o._)("h3",i,(0,r.toDisplayString)(l.state.options.title),1)])),default:(0,o.w5)((()=>[l.state.options.custom?(0,o.WI)(e.$slots,l.state.type,(0,r.normalizeProps)((0,o.dG)({key:0},{options:l.state.options}))):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",s,(0,r.toDisplayString)(l.state.options.body),1),"prompt"===l.state.type?((0,o.wg)(),(0,o.j4)(h,{key:0,modelValue:l.state.input,"onUpdate:modelValue":t[1]||(t[1]=e=>l.state.input=e),autofocus:"",disabled:l.state.loading,placeholder:l.state.options.placeholder,label:l.state.options.label,type:"password"===l.state.options.inputType&&l.state.showPassword?"text":l.state.options.inputType,class:"w-full"},(0,o.Nv)({_:2},["password"===l.state.options.inputType?{name:"append",fn:(0,o.w5)((()=>[(0,o.Wm)(d,{name:l.state.showPassword?"riEyeOffLine":"riEyeLine",class:"absolute right-2",onClick:t[0]||(t[0]=e=>l.state.showPassword=!l.state.showPassword)},null,8,["name"])]))}:void 0]),1032,["modelValue","disabled","placeholder","label","type"])):(0,o.kq)("",!0),(0,o._)("div",a,[(0,o.Wm)(p,{class:"w-6/12",onClick:t[2]||(t[2]=e=>l.fireCallback("onCancel"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(l.state.options.cancelText),1)])),_:1}),(0,o.Wm)(p,{class:"w-6/12",loading:l.state.loading,variant:l.state.options.okVariant,onClick:t[3]||(t[3]=e=>l.fireCallback("onConfirm"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.toDisplayString)(l.state.options.okText),1)])),_:1},8,["loading","variant"])])],64))])),_:3},8,["model-value"])}]])},22631:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(84999).Z},88735:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252);const r={ref:"imageContainer",class:"ui-image relative"},i={class:"flex justify-center items-center"},s=(0,o._)("div",{class:"absolute h-full rounded-lg bg-input-dark w-full animate-pulse"},null,-1),a=(0,o._)("p",{class:"text-lighter text-center"},"Failed to load image",-1);var l=n(2262);const c={props:{src:{type:String,default:""},alt:{type:String,default:""},lazy:Boolean,contain:Boolean},emits:["error","load"],setup(e,{emit:t}){const n=(0,l.iH)(null),r=(0,l.Um)({loading:!0,error:!1});function i(){r.loading=!1,r.error=!0,t("error",!0)}function s(){const n=new Image;n.onload=()=>(r.loading=!1,r.error=!1,void t("load",!0)),n.onerror=i,n.src=e.src}const a=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const{target:t}=e;s(),a.unobserve(t)}}))}));return(0,o.bv)((()=>{e.lazy?a.observe(n.value):s()})),{state:r,imageContainer:n}}};const u=(0,n(83744).Z)(c,[["render",function(e,t,n,l,c,u){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,[l.state.loading?(0,o.WI)(e.$slots,"loading",{key:0},(()=>[s])):l.state.error?(0,o.WI)(e.$slots,"error",{key:1},(()=>[a])):((0,o.wg)(),(0,o.iD)("div",(0,o.dG)({key:2,style:{backgroundImage:`url(${n.src})`,backgroundSize:n.contain?"contain":"cover"}},{role:n.alt?"img":null,"aria-label":n.alt},{class:"h-full absolute top-0 left-0 w-full bg-no-repeat bg-center"}),[(0,o.WI)(e.$slots,"default")],16))])],512)}]])},5637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(75316),r=n(99511);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},7877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(55940),r=n(76168);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},40885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(10123),r=n(99324);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},94898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var o=n(66252),r=n(3577),i=n(49963);const s={class:"modal-ui"},a={key:0,class:"modal-ui__activator"},l={class:"mb-4 modal-ui__content-header"},c={class:"flex items-center justify-between"},u={class:"content-header"};var d=n(2262);const h={props:{modelValue:{type:Boolean,default:!1},teleportTo:{type:String,default:"body"},contentClass:{type:String,default:"max-w-lg"},title:{type:String,default:""},padding:{type:String,default:"p-4"},customContent:Boolean,persist:Boolean,blur:Boolean,disabledTeleport:Boolean},emits:["close","update:modelValue"],setup(e,{emit:t}){const n=(0,d.iH)(!1),r=(0,d.iH)(null);function i(e){document.body.classList.toggle("overflow-hidden",e)}function s(){e.persist||(n.value=!1,t("close",!1),t("update:modelValue",!1),i(!1))}function a({code:e}){"Escape"===e&&s()}return(0,o.YP)((()=>e.modelValue),(e=>{n.value=e,i(e)}),{immediate:!0}),(0,o.YP)(n,(e=>{e?window.addEventListener("keyup",a):window.removeEventListener("keyup",a)})),{show:n,closeModal:s,modalContent:r}}};const p=(0,n(83744).Z)(h,[["render",function(e,t,n,d,h,p){const f=(0,o.up)("v-remixicon"),m=(0,o.up)("ui-card");return(0,o.wg)(),(0,o.iD)("div",s,[e.$slots.activator?((0,o.wg)(),(0,o.iD)("div",a,[(0,o.WI)(e.$slots,"activator",(0,r.normalizeProps)((0,o.F4)({open:()=>d.show=!0})))])):(0,o.kq)("",!0),((0,o.wg)(),(0,o.j4)(o.lR,{to:n.teleportTo,disabled:n.disabledTeleport},[(0,o.Wm)(i.Transition,{name:"modal",mode:"out-in"},{default:(0,o.w5)((()=>[d.show?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"bg-black overflow-y-auto bg-opacity-20 dark:bg-opacity-60 modal-ui__content-container z-50 flex justify-center items-end md:items-center",style:(0,r.normalizeStyle)({"backdrop-filter":n.blur&&"blur(2px)"}),onClick:t[0]||(t[0]=(0,i.withModifiers)(((...e)=>d.closeModal&&d.closeModal(...e)),["self"]))},[n.customContent?(0,o.WI)(e.$slots,"default",{key:0}):((0,o.wg)(),(0,o.j4)(m,{key:1,class:(0,r.normalizeClass)(["modal-ui__content shadow-lg w-full",[n.contentClass]]),padding:n.padding},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",c,[(0,o._)("span",u,[(0,o.WI)(e.$slots,"header",{},(()=>[(0,o.Uk)((0,r.toDisplayString)(n.title),1)]))]),(0,o.wy)((0,o.Wm)(f,{class:"text-gray-600 dark:text-gray-300 cursor-pointer",name:"riCloseLine",size:"20",onClick:d.closeModal},null,8,["onClick"]),[[i.vShow,!n.persist]])])]),(0,o.WI)(e.$slots,"default",{close:d.closeModal})])),_:3},8,["padding","class"]))],4)):(0,o.kq)("",!0)])),_:3})],8,["to","disabled"]))])}]])},35540:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(66252),r=n(2262),i=n(3577),s=n(7043);const a={class:"flex items-center"},l={class:"mx-4"},c=["value","max"],u={__name:"UiPagination",props:{modelValue:{type:Number,default:1},records:{type:Number,default:10},perPage:{type:Number,default:10}},emits:["update:modelValue","paginate"],setup(e,{emit:t}){const n=e,{t:u}=(0,s.QT)(),d=(0,r.iH)(null),h=(0,o.Fl)((()=>Math.ceil(n.records/n.perPage)));function p(e){t("update:modelValue",e),t("paginate",e)}function f(e,t){let n=e;if(n>h.value||n<1){if(!t)return;n=n>h.value?h.value:1}p(n)}return(0,o.YP)((()=>[n.perPage,n.records]),(()=>{p(1)})),(t,n)=>{const s=(0,o.up)("v-remixicon"),p=(0,o.up)("ui-button"),m=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{disabled:e.modelValue<=1,icon:"",onClick:n[0]||(n[0]=t=>f(e.modelValue-1))},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{name:"riArrowLeftSLine"})])),_:1},8,["disabled"])),[[m,(0,r.SU)(u)("components.pagination.prevPage")]]),(0,o._)("div",l,[(0,o.wy)((0,o._)("input",{ref_key:"inputEl",ref:d,value:e.modelValue,max:(0,r.SU)(h),min:"0",class:"p-2 text-center transition w-10 appearance-none bg-input rounded-lg",type:"number",onClick:n[1]||(n[1]=e=>e.target.select()),onInput:n[2]||(n[2]=e=>f(+e.target.value,e.target))},null,40,c),[[m,(0,r.SU)(u)("components.pagination.currentPage")]]),(0,o.Uk)(" "+(0,i.toDisplayString)((0,r.SU)(u)("components.pagination.of",{page:(0,r.SU)(h)})),1)]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{disabled:e.modelValue>=(0,r.SU)(h),icon:"",onClick:n[3]||(n[3]=t=>f(e.modelValue+1))},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{rotate:"180",name:"riArrowLeftSLine"})])),_:1},8,["disabled"])),[[m,(0,r.SU)(u)("components.pagination.nextPage")]])])}}};const d=(0,n(83744).Z)(u,[["__scopeId","data-v-76f989d6"]])},48662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(66252),r=n(3577);var i=n(2262),s=n(85595);const a={props:{placement:{type:String,default:"bottom"},trigger:{type:String,default:"click"},padding:{type:String,default:"p-4"},to:{type:[String,Object,HTMLElement],default:""},options:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},triggerWidth:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},triggerClass:{type:String,default:null}},emits:["show","trigger","close","update:modelValue"],setup(e,{emit:t}){const n=(0,i.iH)(null),r=(0,i.iH)(null),a=(0,i.iH)(!1),l=(0,i.XI)(null);return(0,o.YP)((()=>e.options),(e=>{l.value.setProps(e)}),{deep:!0}),(0,o.YP)((()=>e.disabled),(e=>{e?(l.value.hide(),l.value.disable()):l.value.enable()})),(0,o.YP)((()=>e.modelValue),(e=>{e!==a.value&&(a.value=e,e?l.value.show():l.value.hide())})),(0,o.bv)((()=>{const o=e.to?"string"==typeof to?document.querySelector(e.to):e.to:n.value;l.value=(0,s.Z)(o,{role:"popover",theme:null,content:r.value,placement:e.placement,trigger:e.trigger,interactive:!0,appendTo:()=>document.body,onShow:n=>{e.triggerWidth&&(n.popper.style.width=`${n.reference.getBoundingClientRect().width}px`),t("show",n),a.value=!0},onHide:()=>{t("close"),t("update:modelValue",!1),a.value=!1},onTrigger:()=>t("trigger"),...e.options}),e.disabled&&(l.value.hide(),l.value.disable())})),(0,o.Ah)((()=>{l.value.destroy()})),{isShow:a,content:r,targetEl:n}}};const l=(0,n(83744).Z)(a,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.normalizeClass)(["ui-popover inline-block",{hidden:n.to}])},[(0,o._)("div",{ref:"targetEl",class:(0,r.normalizeClass)([n.triggerClass,"ui-popover__trigger h-full inline-block"])},[(0,o.WI)(e.$slots,"trigger",(0,r.normalizeProps)((0,o.F4)({isShow:i.isShow})))],2),(0,o._)("div",{ref:"content",class:(0,r.normalizeClass)(["ui-popover__content bg-white dark:bg-gray-800 rounded-lg shadow-xl border dark:border-gray-700",[n.padding]])},[(0,o.WI)(e.$slots,"default",(0,r.normalizeProps)((0,o.F4)({isShow:i.isShow})))],2)],2)}]])},72327:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(66252);const r={class:"radio-ui inline-flex items-center"},i={class:"relative h-5 w-5 inline-block focus-within:ring-2 focus-within:ring-accent rounded-full"},s=["value"],a=(e=>((0,o.dD)("data-v-d9552ea6"),e=e(),(0,o.Cn)(),e))((()=>(0,o._)("div",{class:"border rounded-full absolute top-0 left-0 bg-input radio-ui__mark cursor-pointer"},null,-1))),l={key:0,class:"ml-2 inline-block"};const c={props:{modelValue:{type:String,default:""},value:{type:String,default:void 0}},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({isChecked:(0,o.Fl)((()=>e.value===e.modelValue)),changeHandler:function({target:{value:e}}){t("update:modelValue",e),t("change",e)}})};const u=(0,n(83744).Z)(c,[["render",function(e,t,n,c,u,d){return(0,o.wg)(),(0,o.iD)("label",r,[(0,o._)("div",i,[(0,o._)("input",(0,o.dG)({type:"radio",class:"opacity-0 radio-ui__input",value:n.value},{checked:c.isChecked},{onChange:t[0]||(t[0]=(...e)=>c.changeHandler&&c.changeHandler(...e))}),null,16,s),a]),e.$slots.default?((0,o.wg)(),(0,o.iD)("span",l,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])):(0,o.kq)("",!0)])}],["__scopeId","data-v-d9552ea6"]])},93317:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(70052),r=n(57768);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},9416:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(58792),r=n(39161);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},80934:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(8948),r=n(83856);const i=(0,n(83744).Z)(r.Z,[["render",o.s],["__scopeId","data-v-36256925"]])},33029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(98333);const r=(0,n(83744).Z)(o.Z,[["__scopeId","data-v-fccb5d98"]])},49966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(80862).Z},78095:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(99477).Z},85294:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var o=n(66252),r=n(3577),i=n(2262),s=n(31263);const a={class:"custom-table"},l=["align"],c=["onClick"],u=["onClick"],d=["align"],h={__name:"UiTable",props:{headers:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},itemKey:{type:String,default:"",required:!0},search:{type:String,default:""},customFilter:{type:Function,default:null}},setup(e){const t=e,n=(0,i.qj)({headers:[],filterKeys:[]}),h=(0,i.qj)({id:"",order:"asc"}),p=(0,o.Fl)((()=>{if(!t.search)return t.items;const e=t.customFilter||((e,t)=>n.filterKeys.some((n=>{const o=t[n];return"string"==typeof o?o.toLocaleLowerCase().includes(e):o===e}))),o=t.search.toLocaleLowerCase();return t.items.filter(((t,n)=>e(o,t,n)))})),f=(0,o.Fl)((()=>""===h.id?p.value:(0,s.e8)({key:h.id,order:h.order,data:p.value})));function m({sortable:e,value:t}){if(e)return h.id!==t?(h.id=t,void(h.order="asc")):void("asc"===h.order?h.order="desc":h.id="")}return(0,o.YP)((()=>t.headers),(e=>{const t=new Set;n.headers=e.map((e=>{const n={attrs:{},rowAttrs:{},align:"left",text:e,value:e,sortable:!0,filterable:!1};return(0,s.Kn)(e)&&Object.assign(n,e),n.filterable&&t.add(n.value),n})),n.filterKeys=Array.from(t)}),{immediate:!0}),(t,s)=>{const p=(0,o.up)("v-remixicon");return(0,o.wg)(),(0,o.iD)("table",a,[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.headers,(e=>((0,o.wg)(),(0,o.iD)("th",(0,o.dG)({key:e.value,align:e.align,class:"relative"},e.attrs),[(0,o._)("span",{class:(0,r.normalizeClass)([{"cursor-pointer":e.sortable},"inline-block"]),onClick:t=>m(e)},(0,r.toDisplayString)(e.text),11,c),e.sortable?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"cursor-pointer ml-1 sort-icon",onClick:t=>m(e)},[h.id===e.value?((0,o.wg)(),(0,o.j4)(p,{key:0,rotate:"asc"===h.order?90:-90,class:"transition-transform",size:"20",name:"riArrowLeftLine"},null,8,["rotate"])):((0,o.wg)(),(0,o.j4)(p,{key:1,name:"riArrowUpDownLine",size:"20"}))],8,u)):(0,o.kq)("",!0)],16,l)))),128))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(f),(n=>((0,o.wg)(),(0,o.iD)("tr",{key:n[e.itemKey]},[(0,o.WI)(t.$slots,"item-prepend",{item:n}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.headers,(e=>((0,o.wg)(),(0,o.iD)("td",(0,o.dG)(e.rowAttrs,{key:e.value,align:e.align},(0,o.mx)(e.rowEvents||{})),[(0,o.WI)(t.$slots,`item-${e.value}`,{item:n},(()=>[(0,o.Uk)((0,r.toDisplayString)(n[e.value]),1)]))],16,d)))),128)),(0,o.WI)(t.$slots,"item-append",{item:n})])))),128))])])}}}},71237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=n(92463).Z},67910:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(74197),r=n(25719);const i=(0,n(83744).Z)(r.Z,[["render",o.s]])},24372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(19109)},66649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(47403)},99544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(76347)},46354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(1502)},57269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(33238)},29619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(7785)},56011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(55174)},62027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(71243)},7489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(95718)},80943:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(49376)},72084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(31261)},58713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(13817)},96946:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(46892)},48271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(63991)},81596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(83384)},84999:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(66013)},99511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(11502)},76168:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(59507)},99324:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(95372)},57768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(43180)},39161:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(33278)},83856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(85998)},98333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(46328)},80862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(45895)},99477:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(59503)},92463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(83379)},25719:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o.Z});var o=n(7662)},30094:(e,t,n)=>{"use strict";n.d(t,{s:()=>o.s});var o=n(15778)},38911:(e,t,n)=>{"use strict";n.d(t,{s:()=>o.s});var o=n(53421)},75316:(e,t,n)=>{"use strict";n.d(t,{s:()=>o.s});var o=n(71627)},70052:(e,t,n)=>{"use strict";n.d(t,{s:()=>o.s});var o=n(94855)},58792:(e,t,n)=>{"use strict";n.d(t,{s:()=>o.s});var o=n(62061)},8948:(e,t,n)=>{"use strict";n.d(t,{s:()=>o.s});var o=n(66249)},64812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(35003),r=n(49963),i=n(3577);function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){t[n]=e[n]})),t.default=e,Object.freeze(t)}var a=s(r);const l=Object.create(null);function c(e,t){if(!i.isString(e)){if(!e.nodeType)return i.NOOP;e=e.innerHTML}const n=e,r=l[n];if(r)return r;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const{code:s}=o.compile(e,i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},t)),c=new Function("Vue",s)(a);return c._rc=!0,l[n]=c}r.registerRuntimeCompiler(c),Object.keys(r).forEach((function(e){"default"!==e&&(t[e]=r[e])})),t.compile=c},76765:(e,t,n)=>{"use strict";e.exports=n(64812)},9980:function(e,t,n){var o;"undefined"!=typeof self&&self,o=function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var o={};o[n("b622")("toStringTag")]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var o=n("1c0b");e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var o=n("fc6a"),r=n("241c").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(o(e))}},"06cf":function(e,t,n){var o=n("83ab"),r=n("d1e7"),i=n("5c6c"),s=n("fc6a"),a=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return i(!r.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var o=n("83ab"),r=n("d039"),i=n("cc12");e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,n){"use strict";var o=n("23e7"),r=n("d58f").left,i=n("a640"),s=n("ae40"),a=i("reduce"),l=s("reduce",{1:0});o({target:"Array",proto:!0,forced:!a||!l},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){var o=n("c6b6"),r=n("9263");e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"159b":function(e,t,n){var o=n("da84"),r=n("fdbc"),i=n("17c2"),s=n("9112");for(var a in r){var l=o[a],c=l&&l.prototype;if(c&&c.forEach!==i)try{s(c,"forEach",i)}catch(e){c.forEach=i}}},"17c2":function(e,t,n){"use strict";var o=n("b727").forEach,r=n("a640"),i=n("ae40"),s=r("forEach"),a=i("forEach");e.exports=s&&a?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,n){var o=n("d066");e.exports=o("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var o=n("b622")("iterator"),r=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){r=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i={};i[o]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var o=n("d039"),r=n("b622"),i=n("2d00"),s=r("species");e.exports=function(e){return i>=51||!o((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var o=n("a691"),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},"23e7":function(e,t,n){var o=n("da84"),r=n("06cf").f,i=n("9112"),s=n("6eeb"),a=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,g=e.stat;if(n=m?o:g?o[f]||a(f,{}):(o[f]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(p=r(n,u))&&p.value:n[u],!c(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),s(n,u,h,e)}}},"241c":function(e,t,n){var o=n("ca84"),r=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},"25f0":function(e,t,n){"use strict";var o=n("6eeb"),r=n("825a"),i=n("d039"),s=n("ad6d"),a="toString",l=RegExp.prototype,c=l.toString,u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=a;(u||d)&&o(RegExp.prototype,a,(function(){var e=r(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?s.call(e):n)}),{unsafe:!0})},"2ca0":function(e,t,n){"use strict";var o,r=n("23e7"),i=n("06cf").f,s=n("50c4"),a=n("5a34"),l=n("1d80"),c=n("ab13"),u=n("c430"),d="".startsWith,h=Math.min,p=c("startsWith");r({target:"String",proto:!0,forced:!(!u&&!p&&(o=i(String.prototype,"startsWith"),o&&!o.writable)||p)},{startsWith:function(e){var t=String(l(this));a(e);var n=s(h(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return d?d.call(t,o,n):t.slice(n,n+o.length)===o}})},"2d00":function(e,t,n){var o,r,i=n("da84"),s=n("342f"),a=i.process,l=a&&a.versions,c=l&&l.v8;c?r=(o=c.split("."))[0]+o[1]:s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(r=o[1]),e.exports=r&&+r},"342f":function(e,t,n){var o=n("d066");e.exports=o("navigator","userAgent")||""},"35a1":function(e,t,n){var o=n("f5df"),r=n("3f8c"),i=n("b622")("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[o(e)]}},"37e8":function(e,t,n){var o=n("83ab"),r=n("9bf2"),i=n("825a"),s=n("df75");e.exports=o?Object.defineProperties:function(e,t){i(e);for(var n,o=s(t),a=o.length,l=0;a>l;)r.f(e,n=o[l++],t[n]);return e}},"3bbe":function(e,t,n){var o=n("861d");e.exports=function(e){if(!o(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var o=n("6547").charAt,r=n("69f3"),i=n("7dd0"),s="String Iterator",a=r.set,l=r.getterFor(s);i(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=o(n,r),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){"use strict";var o=n("23e7"),r=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(e,t,n){var o=n("da84");e.exports=o},"44ad":function(e,t,n){var o=n("d039"),r=n("c6b6"),i="".split;e.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var o=n("b622"),r=n("7c73"),i=n("9bf2"),s=o("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},"44e7":function(e,t,n){var o=n("861d"),r=n("c6b6"),i=n("b622")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},4930:function(e,t,n){var o=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var o=n("fc6a"),r=n("50c4"),i=n("23cb"),s=function(e){return function(t,n,s){var a,l=o(t),c=r(l.length),u=i(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").filter,i=n("1dde"),s=n("ae40"),a=i("filter"),l=s("filter");o({target:"Array",proto:!0,forced:!a||!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var o=n("0366"),r=n("7b0b"),i=n("9bdd"),s=n("e95a"),a=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,u,d,h,p,f=r(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,w=c(f),b=0;if(y&&(v=o(v,g>2?arguments[2]:void 0,2)),null==w||m==Array&&s(w))for(n=new m(t=a(f.length));t>b;b++)p=y?v(f[b],b):f[b],l(n,b,p);else for(h=(d=w.call(f)).next,n=new m;!(u=h.call(d)).done;b++)p=y?i(d,v,[u.value,b],!0):u.value,l(n,b,p);return n.length=b,n}},"4fad":function(e,t,n){var o=n("23e7"),r=n("6f53").entries;o({target:"Object",stat:!0},{entries:function(e){return r(e)}})},"50c4":function(e,t,n){var o=n("a691"),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5319:function(e,t,n){"use strict";var o=n("d784"),r=n("825a"),i=n("7b0b"),s=n("50c4"),a=n("a691"),l=n("1d80"),c=n("8aa5"),u=n("14c3"),d=Math.max,h=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;o("replace",2,(function(e,t,n,o){var g=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=o.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(n,o){var r=l(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r,o):t.call(String(r),n,o)},function(e,o){if(!g&&v||"string"==typeof o&&-1===o.indexOf(y)){var i=n(t,e,this,o);if(i.done)return i.value}var l=r(e),p=String(this),f="function"==typeof o;f||(o=String(o));var m=l.global;if(m){var b=l.unicode;l.lastIndex=0}for(var k=[];;){var x=u(l,p);if(null===x)break;if(k.push(x),!m)break;""===String(x[0])&&(l.lastIndex=c(p,s(l.lastIndex),b))}for(var S,_="",C=0,D=0;D<k.length;D++){x=k[D];for(var E=String(x[0]),A=d(h(a(x.index),p.length),0),O=[],T=1;T<x.length;T++)O.push(void 0===(S=x[T])?S:String(S));var M=x.groups;if(f){var L=[E].concat(O,A,p);void 0!==M&&L.push(M);var I=String(o.apply(void 0,L))}else I=w(E,p,A,O,M,o);A>=C&&(_+=p.slice(C,A)+I,C=A+E.length)}return _+p.slice(C)}];function w(e,n,o,r,s,a){var l=o+e.length,c=r.length,u=m;return void 0!==s&&(s=i(s),u=f),t.call(a,u,(function(t,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,o);case"'":return n.slice(l);case"<":a=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return t;if(u>c){var d=p(u/10);return 0===d?t:d<=c?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):t}a=r[u-1]}return void 0===a?"":a}))}}))},5692:function(e,t,n){var o=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var o=n("d066"),r=n("241c"),i=n("7418"),s=n("825a");e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=i.f;return n?t.concat(n(e)):t}},"5a34":function(e,t,n){var o=n("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,n){"use strict";var o=n("23e7"),r=n("a2bf"),i=n("7b0b"),s=n("50c4"),a=n("1c0b"),l=n("65f0");o({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),o=s(n.length);return a(e),(t=l(n,0)).length=r(t,n,n,o,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,n){var o=n("a691"),r=n("1d80"),i=function(e){return function(t,n){var i,s,a=String(r(t)),l=o(n),c=a.length;return l<0||l>=c?e?"":void 0:(i=a.charCodeAt(l))<55296||i>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):i:e?a.slice(l,l+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},"65f0":function(e,t,n){var o=n("861d"),r=n("e8b5"),i=n("b622")("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?o(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var o,r,i,s=n("7f9a"),a=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("f772"),h=n("d012"),p=a.WeakMap;if(s){var f=new p,m=f.get,g=f.has,v=f.set;o=function(e,t){return v.call(f,e,t),t},r=function(e){return m.call(f,e)||{}},i=function(e){return g.call(f,e)}}else{var y=d("state");h[y]=!0,o=function(e,t){return c(e,y,t),t},r=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:o,get:r,has:i,enforce:function(e){return i(e)?r(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6eeb":function(e,t,n){var o=n("da84"),r=n("9112"),i=n("5135"),s=n("ce4e"),a=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||r(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==o?(l?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=n:r(e,t,n)):c?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6f53":function(e,t,n){var o=n("83ab"),r=n("df75"),i=n("fc6a"),s=n("d1e7").f,a=function(e){return function(t){for(var n,a=i(t),l=r(a),c=l.length,u=0,d=[];c>u;)n=l[u++],o&&!s.call(a,n)||d.push(e?[n,a[n]]:a[n]);return d}};e.exports={entries:a(!0),values:a(!1)}},"73d9":function(e,t,n){n("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var o=n("428f"),r=n("5135"),i=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||s(t,e,{value:i.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var o=n("1d80");e.exports=function(e){return Object(o(e))}},"7c73":function(e,t,n){var o,r=n("825a"),i=n("37e8"),s=n("7839"),a=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d=u("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=o?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[d]=e):n=f(),void 0===t?n:i(n,t)}},"7dd0":function(e,t,n){"use strict";var o=n("23e7"),r=n("9ed3"),i=n("e163"),s=n("d2bb"),a=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),h=n("3f8c"),p=n("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",w="entries",b=function(){return this};e.exports=function(e,t,n,u,p,k,x){r(n,t,u);var S,_,C,D=function(e){if(e===p&&M)return M;if(!m&&e in O)return O[e];switch(e){case v:case y:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",A=!1,O=e.prototype,T=O[g]||O["@@iterator"]||p&&O[p],M=!m&&T||D(p),L="Array"==t&&O.entries||T;if(L&&(S=i(L.call(new e)),f!==Object.prototype&&S.next&&(d||i(S)===f||(s?s(S,f):"function"!=typeof S[g]&&l(S,g,b)),a(S,E,!0,!0),d&&(h[E]=b))),p==y&&T&&T.name!==y&&(A=!0,M=function(){return T.call(this)}),d&&!x||O[g]===M||l(O,g,M),h[t]=M,p)if(_={values:D(y),keys:k?M:D(v),entries:D(w)},x)for(C in _)(m||A||!(C in O))&&c(O,C,_[C]);else o({target:t,proto:!0,forced:m||A},_);return _}},"7f9a":function(e,t,n){var o=n("da84"),r=n("8925"),i=o.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},"825a":function(e,t,n){var o=n("861d");e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var o=n("d039");e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var o=n("c04e"),r=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var s=o(t);s in e?r.f(e,s,i(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var o,r,i;"undefined"!=typeof self&&self,r=[],void 0===(i="function"==typeof(o=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var n,o,r,i=/@([^@]*):(\d+):(\d+)\s*$/gi,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e.stack)||i.exec(e.stack),a=s&&s[1]||!1,l=s&&s[2]||!1,c=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");a===c&&(n=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(o,"$1").trim());for(var d=0;d<u.length;d++){if("interactive"===u[d].readyState)return u[d];if(u[d].src===a)return u[d];if(a===c&&u[d].innerHTML&&u[d].innerHTML.trim()===r)return u[d]}return null}}return e})?o.apply(t,r):o)||(e.exports=i)},8925:function(e,t,n){var o=n("c6cd"),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return r.call(e)}),e.exports=o.inspectSource},"8aa5":function(e,t,n){"use strict";var o=n("6547").charAt;e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"90e3":function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+o).toString(36)}},9112:function(e,t,n){var o=n("83ab"),r=n("9bf2"),i=n("5c6c");e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var o,r,i=n("ad6d"),s=n("9f7f"),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,u=(o=/a/,r=/b*/g,a.call(o,"a"),a.call(r,"a"),0!==o.lastIndex||0!==r.lastIndex),d=s.UNSUPPORTED_Y||s.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||d)&&(c=function(e){var t,n,o,r,s=this,c=d&&s.sticky,p=i.call(s),f=s.source,m=0,g=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),n=new RegExp("^(?:"+f+")",p)),h&&(n=new RegExp("^"+f+"$(?!\\s)",p)),u&&(t=s.lastIndex),o=a.call(c?n:s,g),c?o?(o.input=o.input.slice(m),o[0]=o[0].slice(m),o.index=s.lastIndex,s.lastIndex+=o[0].length):s.lastIndex=0:u&&o&&(s.lastIndex=s.global?o.index+o[0].length:t),h&&o&&o.length>1&&l.call(o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o}),e.exports=c},"94ca":function(e,t,n){var o=n("d039"),r=/#|\.prototype\./,i=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?o(t):!!t)},s=i.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},"99af":function(e,t,n){"use strict";var o=n("23e7"),r=n("d039"),i=n("e8b5"),s=n("861d"),a=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),d=n("1dde"),h=n("b622"),p=n("2d00"),f=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=d("concat"),w=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)};o({target:"Array",proto:!0,forced:!v||!y},{concat:function(e){var t,n,o,r,i,s=a(this),d=u(s,0),h=0;for(t=-1,o=arguments.length;t<o;t++)if(w(i=-1===t?s:arguments[t])){if(h+(r=l(i.length))>m)throw TypeError(g);for(n=0;n<r;n++,h++)n in i&&c(d,h,i[n])}else{if(h>=m)throw TypeError(g);c(d,h++,i)}return d.length=h,d}})},"9bdd":function(e,t,n){var o=n("825a");e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},"9bf2":function(e,t,n){var o=n("83ab"),r=n("0cfb"),i=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=o?a:function(e,t,n){if(i(e),t=s(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var o=n("ae93").IteratorPrototype,r=n("7c73"),i=n("5c6c"),s=n("d44e"),a=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(o,{next:i(1,n)}),s(e,c,!1,!0),a[c]=l,e}},"9f7f":function(e,t,n){"use strict";var o=n("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=o((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=o((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,n){"use strict";var o=n("e8b5"),r=n("50c4"),i=n("0366"),s=function(e,t,n,a,l,c,u,d){for(var h,p=l,f=0,m=!!u&&i(u,d,3);f<a;){if(f in n){if(h=m?m(n[f],f,t):n[f],c>0&&o(h))p=s(e,t,h,r(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}f++}return p};e.exports=s},a352:function(e,n){e.exports=t},a434:function(e,t,n){"use strict";var o=n("23e7"),r=n("23cb"),i=n("a691"),s=n("50c4"),a=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),h=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var n,o,u,d,h,p,y=a(this),w=s(y.length),b=r(e,w),k=arguments.length;if(0===k?n=o=0:1===k?(n=0,o=w-b):(n=k-2,o=m(f(i(t),0),w-b)),w+n-o>g)throw TypeError(v);for(u=l(y,o),d=0;d<o;d++)(h=b+d)in y&&c(u,d,y[h]);if(u.length=o,n<o){for(d=b;d<w-o;d++)p=d+n,(h=d+o)in y?y[p]=y[h]:delete y[p];for(d=w;d>w-o+n;d--)delete y[d-1]}else if(n>o)for(d=w-o;d>b;d--)p=d+n-1,(h=d+o-1)in y?y[p]=y[h]:delete y[p];for(d=0;d<n;d++)y[d+b]=arguments[d+2];return y.length=w-o+n,u}})},a4d3:function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),i=n("d066"),s=n("c430"),a=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),d=n("5135"),h=n("e8b5"),p=n("861d"),f=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),w=n("7c73"),b=n("df75"),k=n("241c"),x=n("057f"),S=n("7418"),_=n("06cf"),C=n("9bf2"),D=n("d1e7"),E=n("9112"),A=n("6eeb"),O=n("5692"),T=n("f772"),M=n("d012"),L=n("90e3"),I=n("b622"),N=n("e538"),P=n("746f"),U=n("d44e"),B=n("69f3"),j=n("b727").forEach,R=T("hidden"),V="Symbol",F=I("toPrimitive"),W=B.set,H=B.getterFor(V),z=Object.prototype,$=r.Symbol,K=i("JSON","stringify"),q=_.f,Y=C.f,G=x.f,X=D.f,J=O("symbols"),Z=O("op-symbols"),Q=O("string-to-symbol-registry"),ee=O("symbol-to-string-registry"),te=O("wks"),ne=r.QObject,oe=!ne||!ne.prototype||!ne.prototype.findChild,re=a&&u((function(){return 7!=w(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=q(z,t);o&&delete z[t],Y(e,t,n),o&&e!==z&&Y(z,t,o)}:Y,ie=function(e,t){var n=J[e]=w($.prototype);return W(n,{type:V,tag:e,description:t}),a||(n.description=t),n},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},ae=function(e,t,n){e===z&&ae(Z,t,n),f(e);var o=v(t,!0);return f(n),d(J,o)?(n.enumerable?(d(e,R)&&e[R][o]&&(e[R][o]=!1),n=w(n,{enumerable:y(0,!1)})):(d(e,R)||Y(e,R,y(1,{})),e[R][o]=!0),re(e,o,n)):Y(e,o,n)},le=function(e,t){f(e);var n=g(t),o=b(n).concat(he(n));return j(o,(function(t){a&&!ce.call(n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=v(e,!0),n=X.call(this,t);return!(this===z&&d(J,t)&&!d(Z,t))&&(!(n||!d(this,t)||!d(J,t)||d(this,R)&&this[R][t])||n)},ue=function(e,t){var n=g(e),o=v(t,!0);if(n!==z||!d(J,o)||d(Z,o)){var r=q(n,o);return!r||!d(J,o)||d(n,R)&&n[R][o]||(r.enumerable=!0),r}},de=function(e){var t=G(g(e)),n=[];return j(t,(function(e){d(J,e)||d(M,e)||n.push(e)})),n},he=function(e){var t=e===z,n=G(t?Z:g(e)),o=[];return j(n,(function(e){!d(J,e)||t&&!d(z,e)||o.push(J[e])})),o};l||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===z&&n.call(Z,e),d(this,R)&&d(this[R],t)&&(this[R][t]=!1),re(this,t,y(1,e))};return a&&oe&&re(z,t,{configurable:!0,set:n}),ie(t,e)},A($.prototype,"toString",(function(){return H(this).tag})),A($,"withoutSetter",(function(e){return ie(L(e),e)})),D.f=ce,C.f=ae,_.f=ue,k.f=x.f=de,S.f=he,N.f=function(e){return ie(I(e),e)},a&&(Y($.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),s||A(z,"propertyIsEnumerable",ce,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:$}),j(b(te),(function(e){P(e)})),o({target:V,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(Q,t))return Q[t];var n=$(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),o({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?w(e):le(w(e),t)},defineProperty:ae,defineProperties:le,getOwnPropertyDescriptor:ue}),o({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:he}),o({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),K&&o({target:"JSON",stat:!0,forced:!l||u((function(){var e=$();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,n){for(var o,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(o=t,(p(t)||void 0!==e)&&!se(e))return h(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!se(t))return t}),r[1]=t,K.apply(null,r)}}),$.prototype[F]||E($.prototype,F,$.prototype.valueOf),U($,V),M[R]=!0},a630:function(e,t,n){var o=n("23e7"),r=n("4df4");o({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:r})},a640:function(e,t,n){"use strict";var o=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},ab13:function(e,t,n){var o=n("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(e){}}return!1}},ac1f:function(e,t,n){"use strict";var o=n("23e7"),r=n("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,n){"use strict";var o=n("825a");e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var o=n("83ab"),r=n("d039"),i=n("5135"),s=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(i(a,e))return a[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,u=i(t,0)?t[0]:l,d=i(t,1)?t[1]:void 0;return a[e]=!!n&&!r((function(){if(c&&!o)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,d)}))}},ae93:function(e,t,n){"use strict";var o,r,i,s=n("e163"),a=n("9112"),l=n("5135"),c=n("b622"),u=n("c430"),d=c("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(r=s(s(i)))!==Object.prototype&&(o=r):h=!0),null==o&&(o={}),u||l(o,d)||a(o,d,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},b041:function(e,t,n){"use strict";var o=n("00ee"),r=n("f5df");e.exports=o?{}.toString:function(){return"[object "+r(this)+"]"}},b0c0:function(e,t,n){var o=n("83ab"),r=n("9bf2").f,i=Function.prototype,s=i.toString,a=/^\s*function ([^ (]*)/,l="name";o&&!(l in i)&&r(i,l,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b622:function(e,t,n){var o=n("da84"),r=n("5692"),i=n("5135"),s=n("90e3"),a=n("4930"),l=n("fdbf"),c=r("wks"),u=o.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return i(c,e)||(a&&i(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},b64b:function(e,t,n){var o=n("23e7"),r=n("7b0b"),i=n("df75");o({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(e){return i(r(e))}})},b727:function(e,t,n){var o=n("0366"),r=n("44ad"),i=n("7b0b"),s=n("50c4"),a=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d;return function(p,f,m,g){for(var v,y,w=i(p),b=r(w),k=o(f,m,3),x=s(b.length),S=0,_=g||a,C=t?_(p,x):n?_(p,0):void 0;x>S;S++)if((h||S in b)&&(y=k(v=b[S],S,w),e))if(t)C[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(C,v)}else if(u)return!1;return d?-1:c||u?u:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,n){var o=n("861d");e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var o=n("da84"),r=n("ce4e"),i="__core-js_shared__",s=o[i]||r(i,{});e.exports=s},c740:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").findIndex,i=n("44d2"),s=n("ae40"),a="findIndex",l=!0,c=s(a);a in[]&&Array(1).findIndex((function(){l=!1})),o({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var o=n("23e7"),r=n("4d64").indexOf,i=n("a640"),s=n("ae40"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e){return l?a.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var o=n("5135"),r=n("fc6a"),i=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)!o(s,n)&&o(a,n)&&c.push(n);for(;t.length>l;)o(a,n=t[l++])&&(~i(c,n)||c.push(n));return c}},caad:function(e,t,n){"use strict";var o=n("23e7"),r=n("4d64").includes,i=n("44d2");o({target:"Array",proto:!0,forced:!n("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc12:function(e,t,n){var o=n("da84"),r=n("861d"),i=o.document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},ce4e:function(e,t,n){var o=n("da84"),r=n("9112");e.exports=function(e,t){try{r(o,e,t)}catch(n){o[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var o=n("428f"),r=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e])||i(r[e]):o[e]&&o[e][t]||r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:o},d28b:function(e,t,n){n("746f")("iterator")},d2bb:function(e,t,n){var o=n("825a"),r=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return o(n),r(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},d3b7:function(e,t,n){var o=n("00ee"),r=n("6eeb"),i=n("b041");o||r(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(e,t,n){var o=n("9bf2").f,r=n("5135"),i=n("b622")("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},d58f:function(e,t,n){var o=n("1c0b"),r=n("7b0b"),i=n("44ad"),s=n("50c4"),a=function(e){return function(t,n,a,l){o(n);var c=r(t),u=i(c),d=s(c.length),h=e?d-1:0,p=e?-1:1;if(a<2)for(;;){if(h in u){l=u[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in u&&(l=n(l,u[h],h,c));return l}};e.exports={left:a(!1),right:a(!0)}},d784:function(e,t,n){"use strict";n("ac1f");var o=n("6eeb"),r=n("d039"),i=n("b622"),s=n("9263"),a=n("9112"),l=i("species"),c=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=i("replace"),h=!!/./[d]&&""===/./[d]("a","$0"),p=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var f=i(e),m=!r((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),g=m&&!r((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!m||!g||"replace"===e&&(!c||!u||h)||"split"===e&&!p){var v=/./[f],y=n(f,""[e],(function(e,t,n,o,r){return t.exec===s?m&&!r?{done:!0,value:v.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=y[0],b=y[1];o(String.prototype,e,w),o(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&a(RegExp.prototype[f],"sham",!0)}},d81d:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").map,i=n("1dde"),s=n("ae40"),a=i("map"),l=s("map");o({target:"Array",proto:!0,forced:!a||!l},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var o=n("23e7"),r=n("83ab"),i=n("56ef"),s=n("fc6a"),a=n("06cf"),l=n("8418");o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,o=s(e),r=a.f,c=i(o),u={},d=0;c.length>d;)void 0!==(n=r(o,t=c[d++]))&&l(u,t,n);return u}})},dbf1:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var o="undefined"!=typeof window?window.console:e.console}).call(this,n("c8ba"))},ddb0:function(e,t,n){var o=n("da84"),r=n("fdbc"),i=n("e260"),s=n("9112"),a=n("b622"),l=a("iterator"),c=a("toStringTag"),u=i.values;for(var d in r){var h=o[d],p=h&&h.prototype;if(p){if(p[l]!==u)try{s(p,l,u)}catch(e){p[l]=u}if(p[c]||s(p,c,d),r[d])for(var f in i)if(p[f]!==i[f])try{s(p,f,i[f])}catch(e){p[f]=i[f]}}}},df75:function(e,t,n){var o=n("ca84"),r=n("7839");e.exports=Object.keys||function(e){return o(e,r)}},e01a:function(e,t,n){"use strict";var o=n("23e7"),r=n("83ab"),i=n("da84"),s=n("5135"),a=n("861d"),l=n("9bf2").f,c=n("e893"),u=i.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(h,u);var p=h.prototype=u.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(s(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:h})}},e163:function(e,t,n){var o=n("5135"),r=n("7b0b"),i=n("f772"),s=n("e177"),a=i("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var o=n("d039");e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var o=n("fc6a"),r=n("44d2"),i=n("3f8c"),s=n("69f3"),a=n("7dd0"),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:o(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},e439:function(e,t,n){var o=n("23e7"),r=n("d039"),i=n("fc6a"),s=n("06cf").f,a=n("83ab"),l=r((function(){s(1)}));o({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(i(e),t)}})},e538:function(e,t,n){var o=n("b622");t.f=o},e893:function(e,t,n){var o=n("5135"),r=n("56ef"),i=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=r(t),a=s.f,l=i.f,c=0;c<n.length;c++){var u=n[c];o(e,u)||a(e,u,l(t,u))}}},e8b5:function(e,t,n){var o=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},e95a:function(e,t,n){var o=n("b622"),r=n("3f8c"),i=o("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[i]===e)}},f5df:function(e,t,n){var o=n("00ee"),r=n("c6b6"),i=n("b622")("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=o?r:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:s?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},f772:function(e,t,n){var o=n("5692"),r=n("90e3"),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!=typeof window){var o=window.document.currentScript,r=n("8875");o=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");var p=n("a352"),f=n.n(p);function m(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function g(e,t,n){var o=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}var v=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");var y,w,b=/-(\w)/g,k=(y=function(e){return e.replace(b,(function(e,t){return t.toUpperCase()}))},w=Object.create(null),function(e){return w[e]||(w[e]=y(e))}),x=(n("5db7"),n("73d9"),["Start","Add","Remove","Update","End"]),S=["Choose","Unchoose","Sort","Filter","Clone"],_=["Move"],C=[_,x,S].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),D={manage:_,manageAndEmit:x,emit:S};n("caad"),n("2ca0");var E=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function A(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function O(e){return e.reduce((function(e,t){var n=d(t,2),o=n[0],r=n[1];return e[o]=r,e}),{})}function T(e){return Object.entries(e).filter((function(e){var t=d(e,2),n=t[0];return t[1],!A(n)})).map((function(e){var t=d(e,2),n=t[0],o=t[1];return[k(n),o]})).filter((function(e){var t,n=d(e,2),o=n[0];return n[1],t=o,!(-1!==C.indexOf(t))}))}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n("c740");var L=function(e){return e.el},I=function(e){return e.__draggable_context},N=function(){function e(t){var n=t.nodes,o=n.header,r=n.default,i=n.footer,s=t.root,a=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=r,this.children=[].concat(h(o),h(r),h(i)),this.externalComponent=s.externalComponent,this.rootTransition=s.transition,this.tag=s.tag,this.realList=a}var t,n,o;return t=e,(n=[{key:"render",value:function(e,t){var n=this.tag,o=this.children;return e(n,t,this._isRootComponent?{default:function(){return o}}:o)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,n){var o,r;o=L(e),r={element:t[n],index:n},o.__draggable_context=r}))}},{key:"getUnderlyingVm",value:function(e){return I(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var n=this.defaultNodes,o=n.length,r=t.children,i=r.item(e);if(null===i)return o;var s=I(i);if(s)return s.index;if(0===o)return 0;var a=L(n[0]),l=h(r).findIndex((function(e){return e===a}));return e<l?0:o}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}])&&M(t.prototype,n),o&&M(t,o),e}(),P=n("8bbf");function U(e){var t=["transition-group","TransitionGroup"].includes(e),n=!function(e){return E.includes(e)}(e)&&!t;return{transition:t,externalComponent:n,tag:n?Object(P.resolveComponent)(e):t?P.TransitionGroup:e}}function B(e){var t=e.$slots,n=e.tag,o=e.realList,r=function(e){var t=e.$slots,n=e.realList,o=e.getKey,r=n||[],i=d(["header","footer"].map((function(e){return(n=t[e])?n():[];var n})),2),s=i[0],a=i[1],c=t.item;if(!c)throw new Error("draggable element must have an item slot");var u=r.flatMap((function(e,t){return c({element:e,index:t}).map((function(t){return t.key=o(e),t.props=l(l({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(u.length!==r.length)throw new Error("Item slot must have only one child");return{header:s,footer:a,default:u}}({$slots:t,realList:o,getKey:e.getKey}),i=U(n);return new N({nodes:r,root:i,realList:o})}function j(e,t){var n=this;Object(P.nextTick)((function(){return n.$emit(e.toLowerCase(),t)}))}function R(e){var t=this;return function(n,o){if(null!==t.realList)return t["onDrag".concat(e)](n,o)}}function V(e){var t=this,n=R.call(this,e);return function(o,r){n.call(t,o,r),j.call(t,e,o)}}var F=null,W={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},H=["update:modelValue","change"].concat(h([].concat(h(D.manageAndEmit),h(D.emit)).map((function(e){return e.toLowerCase()})))),z=Object(P.defineComponent)({name:"draggable",inheritAttrs:!1,props:W,emits:H,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,n=this.tag,o=this.componentData,r=B({$slots:e,tag:n,realList:this.realList,getKey:this.getKey});this.componentStructure=r;var i=function(e){var t=e.$attrs,n=e.componentData,o=void 0===n?{}:n;return l(l({},O(Object.entries(t).filter((function(e){var t=d(e,2),n=t[0];return t[1],A(n)})))),o)}({$attrs:t,componentData:o});return r.render(P.h,i)}catch(e){return this.error=!0,Object(P.h)("pre",{style:{color:"red"}},e.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&v.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,n=this.$el;this.componentStructure.updated();var o=function(e){var t=e.$attrs,n=e.callBackBuilder,o=O(T(t));Object.entries(n).forEach((function(e){var t=d(e,2),n=t[0],r=t[1];D[n].forEach((function(e){o["on".concat(e)]=r(e)}))}));var r="[data-draggable]".concat(o.draggable||"");return l(l({},o),{},{draggable:r})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return V.call(e,t)},emit:function(t){return j.bind(e,t)},manage:function(t){return R.call(e,t)}}}),r=1===n.nodeType?n:n.parentElement;this._sortable=new f.a(r,o),this.targetDomElement=r,r.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&T(e).forEach((function(e){var n=d(e,2),o=n[0],r=n[1];t.option(o,r)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(P.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=h(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,h(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,o=this.getUnderlyingPotencialDraggableComponent(t);if(!o)return{component:o};var r=o.realList,i={list:r,component:o};return t!==n&&r?l(l({},o.getUnderlyingVm(n)||{}),i):i},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),F=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){m(e.item);var n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);var o={element:t,newIndex:n};this.emitChanges({added:o})}},onDragRemove:function(e){if(g(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,n=t.index,o=t.element;this.spliceList(n,1);var r={element:o,oldIndex:n};this.emitChanges({removed:r})}else m(e.clone)},onDragUpdate:function(e){m(e.item),g(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);var o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=h(t.to.children).filter((function(e){return"none"!==e.style.display})),o=n.indexOf(t.related),r=e.component.getVmIndexFromDomIndex(o);return-1===n.indexOf(F)&&t.willInsertAfter?r+1:r},onDragMove:function(e,t){var n=this.move,o=this.realList;if(!n||!o)return!0;var r=this.getRelatedContextFromMoveEvent(e),i=this.computeFutureIndex(r,e),s=l(l({},this.context),{},{futureIndex:i});return n(l(l({},e),{},{relatedContext:r,draggedContext:s}),t)},onDragEnd:function(){F=null}}}),$=z;t.default=$},fb6a:function(e,t,n){"use strict";var o=n("23e7"),r=n("861d"),i=n("e8b5"),s=n("23cb"),a=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),h=n("ae40"),p=d("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),g=[].slice,v=Math.max;o({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var n,o,u,d=l(this),h=a(d.length),p=s(e,h),f=s(void 0===t?h:t,h);if(i(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(d,p,f);for(o=new(void 0===n?Array:n)(v(f-p,0)),u=0;p<f;p++,u++)p in d&&c(o,u,d[p]);return o.length=u,o}})},fc6a:function(e,t,n){var o=n("44ad"),r=n("1d80");e.exports=function(e){return o(r(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var o=n("4930");e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},e.exports=o(n(76765),n(51474))},93150:function(e,t){var n,o,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e],n=function(e){"use strict";if("object"!=typeof globalThis||"object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",o=e=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(o).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,s=(t,n)=>(...o)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||o.length<=1&&!1!==n.singleCallbackArg?t.resolve(o[0]):t.resolve(o)},a=e=>1==e?"argument":"arguments",l=(e,t)=>function(n,...o){if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise(((r,i)=>{if(t.fallbackToNoCallback)try{n[e](...o,s({resolve:r,reject:i},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...o),t.fallbackToNoCallback=!1,t.noCallback=!0,r()}else t.noCallback?(n[e](...o),r()):n[e](...o,s({resolve:r,reject:i},t))}))},c=(e,t,n)=>new Proxy(t,{apply:(t,o,r)=>n.call(o,e,...r)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const d=(e,t={},n={})=>{let o=Object.create(null),r={has:(t,n)=>n in e||n in o,get(r,i,s){if(i in o)return o[i];if(!(i in e))return;let a=e[i];if("function"==typeof a)if("function"==typeof t[i])a=c(e,e[i],t[i]);else if(u(n,i)){let t=l(i,n[i]);a=c(e,e[i],t)}else a=a.bind(e);else if("object"==typeof a&&null!==a&&(u(t,i)||u(n,i)))a=d(a,t[i],n[i]);else{if(!u(n,"*"))return Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),a;a=d(a,t[i],n["*"])}return o[i]=a,a},set:(t,n,r,i)=>(n in o?o[n]=r:e[n]=r,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(o,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(o,t)},i=Object.create(e);return new Proxy(i,r)},h=e=>({addListener(t,n,...o){t.addListener(e.get(n),...o)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),p=new r((e=>"function"!=typeof e?e:function(t){const n=d(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)}));let f=!1;const m=new r((e=>"function"!=typeof e?e:function(t,o,r){let s,a,l=!1,c=new Promise((e=>{s=function(t){f||(console.warn(n,(new Error).stack),f=!0),l=!0,e(t)}}));try{a=e(t,o,s)}catch(e){a=Promise.reject(e)}const u=!0!==a&&i(a);if(!0!==a&&!u&&!l)return!1;const d=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return d(u?a:c),!0})),g=({reject:n,resolve:o},r)=>{e.runtime.lastError?e.runtime.lastError.message===t?o():n(new Error(e.runtime.lastError.message)):r&&r.__mozWebExtensionPolyfillReject__?n(new Error(r.message)):o(r)},v=(e,t,n,...o)=>{if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise(((e,t)=>{const r=g.bind(null,{resolve:e,reject:t});o.push(r),n.sendMessage(...o)}))},y={devtools:{network:{onRequestFinished:h(p)}},runtime:{onMessage:h(m),onMessageExternal:h(m),sendMessage:v.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:v.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},w={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":w},services:{"*":w},websites:{"*":w}},d(e,y,o)};e.exports=o(chrome)}else e.exports=globalThis.browser},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)},260:(e,t,n)=>{var o={"./default.png":41663,"./icon-128.png":34727,"./smooth-step.png":52104,"./step.png":46663,"./straight.png":52146,"./theme-dark.png":37287,"./theme-light.png":24769,"./theme-system.png":30957,"./tile-white.png":41210,"./tile.png":62485};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=260},93233:(e,t,n)=>{var o={"./theme-dark.png":37287,"./theme-light.png":24769,"./theme-system.png":30957};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=93233},31234:(e,t,n)=>{var o={"./BlockBase.vue":13900,"./BlockBasic.vue":78294,"./BlockBasicWithFallback.vue":47017,"./BlockConditions.vue":84458,"./BlockDelay.vue":30484,"./BlockElementExists.vue":26418,"./BlockGroup.vue":80044,"./BlockGroup2.vue":12380,"./BlockLoopBreakpoint.vue":44128,"./BlockRepeatTask.vue":29273};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=31234},54049:(e,t,n)=>{var o={"./EditAttributeValue.vue":3339,"./EditAutocomplete.vue":79735,"./EditBlockSettings.vue":88380,"./EditBrowserEvent.vue":45353,"./EditClipboard.vue":85353,"./EditCloseTab.vue":66962,"./EditConditions.vue":46521,"./EditCookie.vue":61188,"./EditCreateElement.vue":57727,"./EditDataMapping.vue":99724,"./EditDelay.vue":74267,"./EditDeleteData.vue":68336,"./EditElementExists.vue":15885,"./EditExecuteWorkflow.vue":92849,"./EditExportData.vue":57155,"./EditForms.vue":4420,"./EditGetText.vue":27982,"./EditGoogleSheets.vue":49132,"./EditHandleDialog.vue":47559,"./EditHandleDownload.vue":82547,"./EditIncreaseVariable.vue":3324,"./EditInsertData.vue":72303,"./EditInteractionBase.vue":87661,"./EditJavascriptCode.vue":95108,"./EditLogData.vue":68252,"./EditLoopData.vue":83531,"./EditNewTab.vue":57051,"./EditNewWindow.vue":10444,"./EditNotification.vue":48095,"./EditPressKey.vue":86713,"./EditProxy.vue":32284,"./EditRegexVariable.vue":1179,"./EditSaveAssets.vue":51801,"./EditScrollElement.vue":51650,"./EditSliceVariable.vue":37001,"./EditSortData.vue":88077,"./EditSwitchTab.vue":2715,"./EditSwitchTo.vue":14265,"./EditTabURL.vue":25577,"./EditTakeScreenshot.vue":9067,"./EditTrigger.vue":81569,"./EditTriggerEvent.vue":27566,"./EditUploadFile.vue":97729,"./EditWaitConnections.vue":65859,"./EditWebhook.vue":57614,"./EditWhileLoop.vue":93981};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=54049},17409:(e,t,n)=>{var o={"./TransitionExpand.vue":47146,"./TransitionSlide.vue":24340};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=17409},74263:(e,t,n)=>{var o={"./UiAutocomplete.vue":14378,"./UiButton.vue":43726,"./UiCard.vue":129,"./UiCheckbox.vue":8368,"./UiDialog.vue":63623,"./UiExpand.vue":22631,"./UiImg.vue":88735,"./UiInput.vue":5637,"./UiList.vue":7877,"./UiListItem.vue":40885,"./UiModal.vue":94898,"./UiPagination.vue":35540,"./UiPopover.vue":48662,"./UiRadio.vue":72327,"./UiSelect.vue":93317,"./UiSpinner.vue":9416,"./UiSwitch.vue":80934,"./UiTab.vue":33029,"./UiTabPanel.vue":49966,"./UiTabPanels.vue":78095,"./UiTable.vue":85294,"./UiTabs.vue":71237,"./UiTextarea.vue":67910};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=74263},65577:(e,t,n)=>{var o={"./en/blocks.json":[65934,194],"./en/common.json":[60657,163],"./en/newtab.json":[59609,835],"./en/popup.json":[23981,910],"./fr/blocks.json":[52627,531],"./fr/common.json":[62085,719],"./fr/newtab.json":[59870,325],"./fr/popup.json":[89825,366],"./vi/blocks.json":[87950,342],"./vi/common.json":[88328,825],"./vi/newtab.json":[83868,631],"./vi/popup.json":[21112,30],"./zh-TW/blocks.json":[82514,466],"./zh-TW/common.json":[75443,652],"./zh-TW/newtab.json":[61250,915],"./zh-TW/popup.json":[43463,612],"./zh/blocks.json":[63921,639],"./zh/common.json":[61797,381],"./zh/newtab.json":[78067,601],"./zh/popup.json":[3599,450]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=65577,e.exports=r},41663:(e,t,n)=>{"use strict";e.exports=n.p+"default.png"},34727:(e,t,n)=>{"use strict";e.exports=n.p+"icon-128.png"},52104:(e,t,n)=>{"use strict";e.exports=n.p+"smooth-step.png"},46663:(e,t,n)=>{"use strict";e.exports=n.p+"step.png"},52146:(e,t,n)=>{"use strict";e.exports=n.p+"straight.png"},37287:(e,t,n)=>{"use strict";e.exports=n.p+"theme-dark.png"},24769:(e,t,n)=>{"use strict";e.exports=n.p+"theme-light.png"},30957:(e,t,n)=>{"use strict";e.exports=n.p+"theme-system.png"},41210:(e,t,n)=>{"use strict";e.exports=n.p+"tile-white.png"},62485:(e,t,n)=>{"use strict";e.exports=n.p+"tile.png"},42480:()=>{},34790:(e,t,n)=>{"use strict";n.d(t,{B1:()=>be,DB:()=>Y,GA:()=>he,Gn:()=>Q,Mb:()=>l,eC:()=>c,vQ:()=>se,ys:()=>we});var o=n(78120),r=n(47421),i=n(59119);class s{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=(0,i.qz)(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),o=t.text.slice(n-t.from,this.pos-t.from),r=o.search(h(e,!1));return r<0?null:{from:n+r,to:this.pos,text:o.slice(r)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function a(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function l(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,o]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:o}of e){t[o[0]]=!0;for(let e=1;e<o.length;e++)n[o[e]]=!0}let o=a(t)+a(n)+"*$";return[new RegExp("^"+o),new RegExp(o)]}(t);return e=>{let r=e.matchBefore(o);return r||e.explicit?{from:r?r.from:e.pos,options:t,validFor:n}:null}}function c(e,t){return n=>{for(let t=(0,i.qz)(n.state).resolveInner(n.pos,-1);t;t=t.parent)if(e.indexOf(t.name)>-1)return null;return t(n)}}class u{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function d(e){return e.selection.main.head}function h(e,t){var n;let{source:o}=e,r=t&&"^"!=o[0],i="$"!=o[o.length-1];return r||i?new RegExp(`${r?"^":""}(?:${o})${i?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}function p(e,t){const n=t.completion.apply||t.completion.label;let r=t.source;"string"==typeof n?e.dispatch(function(e,t,n,r){return Object.assign(Object.assign({},e.changeByRange((i=>{if(i==e.selection.main)return{changes:{from:n,to:r,insert:t},range:o.jT.cursor(n+t.length)};let s=r-n;return!i.empty||s&&e.sliceDoc(i.from-s,i.from)!=e.sliceDoc(n,r)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:t},range:o.jT.cursor(i.from-s+t.length)}}))),{userEvent:"input.complete"})}(e.state,n,r.from,r.to)):n(e,t.completion,r.from,r.to)}const f=new WeakMap;function m(e){if(!Array.isArray(e))return e;let t=f.get(e);return t||f.set(e,t=l(e)),t}class g{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=(0,o.gm)(e,t),r=(0,o.nZ)(n);this.chars.push(n);let i=e.slice(t,t+r),s=i.toUpperCase();this.folded.push((0,o.gm)(s==i?i.toLowerCase():s,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:i,byWord:s}=this;if(1==t.length){let r=(0,o.gm)(e,0);return r==t[0]?[0,0,(0,o.nZ)(r)]:r==n[0]?[-200,0,(0,o.nZ)(r)]:null}let a=e.indexOf(this.pattern);if(0==a)return[0,0,this.pattern.length];let l=t.length,c=0;if(a<0){for(let i=0,s=Math.min(e.length,200);i<s&&c<l;){let s=(0,o.gm)(e,i);s!=t[c]&&s!=n[c]||(r[c++]=i),i+=(0,o.nZ)(s)}if(c<l)return null}let u=0,d=0,h=!1,p=0,f=-1,m=-1,g=/[a-z]/.test(e),v=!0;for(let r=0,c=Math.min(e.length,200),y=0;r<c&&d<l;){let c=(0,o.gm)(e,r);a<0&&(u<l&&c==t[u]&&(i[u++]=r),p<l&&(c==t[p]||c==n[p]?(0==p&&(f=r),m=r+1,p++):p=0));let w,b=c<255?c>=48&&c<=57||c>=97&&c<=122?2:c>=65&&c<=90?1:0:(w=(0,o.bg)(c))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!r||1==b&&g||0==y&&0!=b)&&(t[d]==c||n[d]==c&&(h=!0)?s[d++]=r:s.length&&(v=!1)),y=b,r+=(0,o.nZ)(c)}return d==l&&0==s[0]&&v?this.result((h?-200:0)-100,s,e):p==l&&0==f?[-200-e.length,0,m]:a>-1?[-700-e.length,a,a+this.pattern.length]:p==l?[-900-e.length,f,m]:d==l?this.result((h?-200:0)-100-700+(v?0:-1100),s,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,n){let r=[e-n.length],i=1;for(let e of t){let t=e+(this.astral?(0,o.nZ)((0,o.gm)(n,e)):1);i>1&&r[i-1]==e?r[i-1]=t:(r[i++]=e,r[i++]=t)}return r}}const v=o.r$.define({combine:e=>(0,o.BO)(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label)},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>n=>function(e,t){return e?t?e+" "+t:e:t}(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function y(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let o=Math.floor((e-t)/n);return{from:e-(o+1)*n,to:e-o*n}}class w{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let n=e.state.field(t),{options:o,selected:r}=n.open,i=e.state.facet(v);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n){let o=document.createElement("span");o.className="cm-completionLabel";let{label:r}=e,i=0;for(let e=1;e<n.length;){let t=n[e++],s=n[e++];t>i&&o.appendChild(document.createTextNode(r.slice(i,t)));let a=o.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(r.slice(t,s))),a.className="cm-completionMatchedText",i=s}return i<r.length&&o.appendChild(document.createTextNode(r.slice(i))),o},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(i),this.optionClass=i.optionClass,this.range=y(o.length,r,i.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let n,r=t.target;r&&r!=this.dom;r=r.parentNode)if("LI"==r.nodeName&&(n=/-(\d+)$/.exec(r.id))&&+n[1]<o.length)return p(e,o[+n[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(o,n.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=y(t.options.length,t.selected,this.view.state.facet(v).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=t.options[t.selected],{info:o}=n;if(!o)return;let i="string"==typeof o?document.createTextNode(o):o(n);if(!i)return;"then"in i?i.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>(0,r.OO)(this.view.state,e,"completion info"))):this.addInfoPane(i)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,o=this.range.from;n;n=n.nextSibling,o++)o==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){let n=e.getBoundingClientRect(),o=t.getBoundingClientRect();o.top<n.top?e.scrollTop-=n.top-o.top:o.bottom>n.bottom&&(e.scrollTop+=o.bottom-n.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),o=e.getBoundingClientRect();if(o.top>Math.min(innerHeight,t.bottom)-10||o.bottom<Math.max(0,t.top)+10)return null;let i=Math.max(0,Math.min(o.top,innerHeight-n.height))-t.top,s=this.view.textDirection==r.Nm.RTL,a=t.left,l=innerWidth-t.right;return s&&a<Math.min(n.width,l)?s=!1:!s&&l<Math.min(n.width,a)&&(s=!0),{top:i,left:s}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,n){const o=document.createElement("ul");o.id=t,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let r=n.from;r<n.to;r++){let{completion:n,match:i}=e[r];const s=o.appendChild(document.createElement("li"));s.id=t+"-"+r,s.setAttribute("role","option");let a=this.optionClass(n);a&&(s.className=a);for(let e of this.optionContent){let t=e(n,this.view.state,i);t&&s.appendChild(t)}}return n.from&&o.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}}function b(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class k{constructor(e,t,n,o,r){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=o,this.selected=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new k(this.options,_(t,e),this.tooltip,this.timestamp,e)}static build(e,t,n,o,r){let i=function(e,t){let n=[],o=0;for(let r of e)if(r.hasResult())if(!1===r.result.filter){let e=r.result.getMatch;for(let t of r.result.options){let i=[1e9-o++];if(e)for(let n of e(t))i.push(n);n.push(new u(t,r,i))}}else{let e,o=new g(t.sliceDoc(r.from,r.to));for(let t of r.result.options)(e=o.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),n.push(new u(t,r,e)))}let r=[],i=null,s=t.facet(v).compareCompletions;for(let e of n.sort(((e,t)=>t.match[0]-e.match[0]||s(e.completion,t.completion))))!i||i.label!=e.completion.label||i.detail!=e.completion.detail||null!=i.type&&null!=e.completion.type&&i.type!=e.completion.type||i.apply!=e.completion.apply?r.push(e):b(e.completion)>b(i)&&(r[r.length-1]=e),i=e.completion;return r}(e,t);if(!i.length)return null;let s=t.facet(v).selectOnOpen?0:-1;if(o&&o.selected!=s&&-1!=o.selected){let e=o.options[o.selected].completion;for(let t=0;t<i.length;t++)if(i[t].completion==e){s=t;break}}return new k(i,_(n,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=I,e=>new w(e,a)),above:r.aboveCursor},o?o.timestamp:Date.now(),s);var a}map(e){return new k(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class x{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new x(C,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(v),o=(n.override||t.languageDataAt("autocomplete",d(t)).map(m)).map((t=>(this.active.find((e=>e.source==t))||new E(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));o.length==this.active.length&&o.every(((e,t)=>e==this.active[t]))&&(o=this.active);let r=e.selection||o.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,o=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;o<t.length&&!t[o].hasResult;)o++;let r=n==e.length,i=o==t.length;if(r||i)return r==i;if(e[n++].result!=t[o++].result)return!1}}(o,this.active)?k.build(o,t,this.id,this.open,n):this.open&&e.docChanged?this.open.map(e.changes):this.open;!r&&o.every((e=>1!=e.state))&&o.some((e=>e.hasResult()))&&(o=o.map((e=>e.hasResult()?new E(e.source,0):e)));for(let t of e.effects)t.is(L)&&(r=r&&r.setSelected(t.value,this.id));return o==this.active&&r==this.open?this:new x(o,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:S}}const S={"aria-autocomplete":"list"};function _(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const C=[];function D(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class E{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=D(e),o=this;n?o=o.handleUserEvent(e,n,t):e.docChanged?o=o.handleChange(e):e.selection&&0!=o.state&&(o=new E(o.source,0));for(let t of e.effects)if(t.is(O))o=new E(o.source,1,t.value?d(e.state):-1);else if(t.is(T))o=new E(o.source,0);else if(t.is(M))for(let e of t.value)e.source==o.source&&(o=e);return o}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new E(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(d(e.startState))?new E(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new E(this.source,this.state,e.mapPos(this.explicitPos))}}class A extends E{constructor(e,t,n,o,r){super(e,2,t),this.result=n,this.from=o,this.to=r}hasResult(){return!0}handleUserEvent(e,t,n){var o;let r=e.changes.mapPos(this.from),i=e.changes.mapPos(this.to,1),a=d(e.state);if((this.explicitPos<0?a<=r:a<this.from)||a>i||"delete"==t&&d(e.startState)==this.from)return new E(this.source,"input"==t&&n.activateOnTyping?1:0);let l,c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,o){if(!e)return!1;let r=t.sliceDoc(n,o);return"function"==typeof e?e(r,n,o,t):h(e,!0).test(r)}(this.result.validFor,e.state,r,i)?new A(this.source,c,this.result,r,i):this.result.update&&(l=this.result.update(this.result,r,i,new s(e.state,a,c>=0)))?new A(this.source,c,l,l.from,null!==(o=l.to)&&void 0!==o?o:d(e.state)):new E(this.source,1,c)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new E(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new A(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const O=o.Py.define(),T=o.Py.define(),M=o.Py.define({map:(e,t)=>e.map((e=>e.map(t)))}),L=o.Py.define(),I=o.QQ.define({create:()=>x.start(),update:(e,t)=>e.update(t),provide:e=>[r.hJ.from(e,(e=>e.tooltip)),r.tk.contentAttributes.from(e,(e=>e.attrs))]});function N(e,t="option"){return n=>{let o=n.state.field(I,!1);if(!o||!o.open||Date.now()-o.open.timestamp<75)return!1;let i,s=1;"page"==t&&(i=(0,r.gB)(n,o.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:a}=o.open.options,l=o.open.selected>-1?o.open.selected+s*(e?1:-1):e?0:a-1;return l<0?l="page"==t?0:a-1:l>=a&&(l="page"==t?a-1:0),n.dispatch({effects:L.of(l)}),!0}}class P{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const U=r.lg.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(I).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(I);if(!e.selectionSet&&!e.docChanged&&e.startState.field(I)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!D(e)));for(let t=0;t<this.running.length;t++){let o=this.running[t];if(n||o.updates.length+e.transactions.length>50&&Date.now()-o.time>1e3){for(let e of o.context.abortListeners)try{e()}catch(e){(0,r.OO)(this.view.state,e)}o.context.abortListeners=null,this.running.splice(t--,1)}else o.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==D(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(I);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,n=d(t),o=new s(t,n,e.explicitPos==n),i=new P(e,o);this.running.push(i),Promise.resolve(e.source(o)).then((e=>{i.context.aborted||(i.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:T.of(null)}),(0,r.OO)(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(v);for(let o=0;o<this.running.length;o++){let r=this.running[o];if(void 0===r.done)continue;if(this.running.splice(o--,1),r.done){let o=new A(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(e=r.done.to)&&void 0!==e?e:d(r.updates.length?r.updates[0].startState:this.view.state));for(let e of r.updates)o=o.update(e,n);if(o.hasResult()){t.push(o);continue}}let i=this.view.state.field(I).active.find((e=>e.source==r.active.source));if(i&&1==i.state)if(null==r.done){let e=new E(r.active.source,0);for(let t of r.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(i)}t.length&&this.view.dispatch({effects:M.of(t)})}},{eventHandlers:{blur(){let e=this.view.state.field(I,!1);e&&e.tooltip&&this.view.state.facet(v).closeOnBlur&&this.view.dispatch({effects:T.of(null)})},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:O.of(!1)})),20),this.composing=0}}}),B=r.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class j{constructor(e,t,n,o){this.field=e,this.line=t,this.from=n,this.to=o}}class R{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,o.gc.TrackDel),n=e.mapPos(this.to,1,o.gc.TrackDel);return null==t||null==n?null:new R(this.field,t,n)}}class V{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],o=[t],r=e.doc.lineAt(t),s=/^\s*/.exec(r.text)[0];for(let r of this.lines){if(n.length){let n=s,a=/^\t*/.exec(r)[0].length;for(let t=0;t<a;t++)n+=e.facet(i.c);o.push(t+n.length-a),r=n+r.slice(a)}n.push(r),t+=r.length+1}let a=this.fieldPositions.map((e=>new R(e.field,o[e.line]+e.from,o[e.line]+e.to)));return{text:n,ranges:a}}static parse(e){let t,n=[],o=[],r=[];for(let i of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(i);){let e=t[1]?+t[1]:null,s=t[2]||t[3]||"",a=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:s&&n[t].name==s)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:s}),a=t;for(let e of r)e.field>=a&&e.field++}r.push(new j(a,o.length,t.index,t.index+s.length)),i=i.slice(0,t.index)+s+i.slice(t.index+t[0].length)}for(let e;e=/([$#])\\{/.exec(i);){i=i.slice(0,e.index)+e[1]+"{"+i.slice(e.index+e[0].length);for(let t of r)t.line==o.length&&t.from>e.index&&(t.from--,t.to--)}o.push(i)}return new V(o,r)}}let F=r.p.widget({widget:new class extends r.l9{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),W=r.p.mark({class:"cm-snippetField"});class H{constructor(e,t){this.ranges=e,this.active=t,this.deco=r.p.set(e.map((e=>(e.from==e.to?F:W).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let o=n.map(e);if(!o)return null;t.push(o)}return new H(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const z=o.Py.define({map:(e,t)=>e&&e.map(t)}),$=o.Py.define(),K=o.QQ.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(z))return n.value;if(n.is($)&&e)return new H(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>r.tk.decorations.from(e,(e=>e?e.deco:r.p.none))});function q(e,t){return o.jT.create(e.filter((e=>e.field==t)).map((e=>o.jT.range(e.from,e.to))))}function Y(e){let t=V.parse(e);return(e,n,r,i)=>{let{text:s,ranges:a}=t.instantiate(e.state,r),l={changes:{from:r,to:i,insert:o.xv.of(s)},scrollIntoView:!0};if(a.length&&(l.selection=q(a,0)),a.length>1){let t=new H(a,0),n=l.effects=[z.of(t)];void 0===e.state.field(K,!1)&&n.push(o.Py.appendConfig.of([K,Z,ee,B]))}e.dispatch(e.state.update(l))}}function G(e){return({state:t,dispatch:n})=>{let o=t.field(K,!1);if(!o||e<0&&0==o.active)return!1;let r=o.active+e,i=e>0&&!o.ranges.some((t=>t.field==r+e));return n(t.update({selection:q(o.ranges,r),effects:z.of(i?null:new H(o.ranges,r))})),!0}}const X=[{key:"Tab",run:G(1),shift:G(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(K,!1)&&(t(e.update({effects:z.of(null)})),!0)}],J=o.r$.define({combine:e=>e.length?e[0]:X}),Z=o.Wl.highest(r.$f.compute([J],(e=>e.facet(J))));function Q(e,t){return Object.assign(Object.assign({},t),{apply:Y(e)})}const ee=r.tk.domEventHandlers({mousedown(e,t){let n,o=t.state.field(K,!1);if(!o||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let r=o.ranges.find((e=>e.from<=n&&e.to>=n));return!(!r||r.field==o.active)&&(t.dispatch({selection:q(o.ranges,r.field),effects:z.of(o.ranges.some((e=>e.field>r.field))?new H(o.ranges,r.field):null)}),!0)}});const te={brackets:["(","[","{","'",'"'],before:")]}:;>"},ne=o.Py.define({map(e,t){let n=t.mapPos(e,-1,o.gc.TrackAfter);return null==n?void 0:n}}),oe=o.Py.define({map:(e,t)=>t.mapPos(e)}),re=new class extends o.uU{};re.startSide=1,re.endSide=-1;const ie=o.QQ.define({create:()=>o.Xs.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=o.Xs.empty)}e=e.map(t.changes);for(let n of t.effects)n.is(ne)?e=e.update({add:[re.range(n.value,n.value+1)]}):n.is(oe)&&(e=e.update({filter:e=>e!=n.value}));return e}});function se(){return[de,ie]}const ae="()[]{}<>";function le(e){for(let t=0;t<ae.length;t+=2)if(ae.charCodeAt(t)==e)return ae.charAt(t+1);return(0,o.bg)(e<128?e:e+1)}function ce(e,t){return e.languageDataAt("closeBrackets",t)[0]||te}const ue="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),de=r.tk.inputHandler.of(((e,t,n,r)=>{if((ue?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||2==r.length&&1==(0,o.nZ)((0,o.gm)(r,0))||t!=i.from||n!=i.to)return!1;let s=function(e,t){let n=ce(e,e.selection.main.head),r=n.brackets||te.brackets;for(let i of r){let s=le((0,o.gm)(i,0));if(t==i)return s==i?ve(e,i,r.indexOf(i+i+i)>-1):me(e,i,s,n.before||te.before);if(t==s&&pe(e,e.selection.main.from))return ge(e,i,s)}return null}(e.state,r);return!!s&&(e.dispatch(s),!0)})),he=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=ce(e,e.selection.main.head).brackets||te.brackets,r=null,i=e.changeByRange((t=>{if(t.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return(0,o.nZ)((0,o.gm)(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let i of n)if(i==r&&fe(e.doc,t.head)==le((0,o.gm)(i,0)))return{changes:{from:t.head-i.length,to:t.head+i.length},range:o.jT.cursor(t.head-i.length),userEvent:"delete.backward"}}return{range:r=t}}));return r||t(e.update(i,{scrollIntoView:!0})),!r}}];function pe(e,t){let n=!1;return e.field(ie).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function fe(e,t){let n=e.sliceString(t,t+2);return n.slice(0,(0,o.nZ)((0,o.gm)(n,0)))}function me(e,t,n,r){let i=null,s=e.changeByRange((s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:n,from:s.to}],effects:ne.of(s.to+t.length),range:o.jT.range(s.anchor+t.length,s.head+t.length)};let a=fe(e.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:s.head},effects:ne.of(s.head+t.length),range:o.jT.cursor(s.head+t.length)}:{range:i=s}}));return i?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function ge(e,t,n){let r=null,i=e.selection.ranges.map((t=>t.empty&&fe(e.doc,t.head)==n?o.jT.cursor(t.head+n.length):r=t));return r?null:e.update({selection:o.jT.create(i,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>oe.of(e)))})}function ve(e,t,n){let r=null,s=e.changeByRange((s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:t,from:s.to}],effects:ne.of(s.to+t.length),range:o.jT.range(s.anchor+t.length,s.head+t.length)};let a=s.head,l=fe(e.doc,a);if(l==t){if(ye(e,a))return{changes:{insert:t+t,from:a},effects:ne.of(a+t.length),range:o.jT.cursor(a+t.length)};if(pe(e,a)){let r=n&&e.sliceDoc(a,a+3*t.length)==t+t+t;return{range:o.jT.cursor(a+t.length*(r?3:1)),effects:oe.of(a)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&ye(e,a-2*t.length))return{changes:{insert:t+t+t+t,from:a},effects:ne.of(a+t.length),range:o.jT.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=o.D0.Word){let n=e.sliceDoc(a-1,a);if(n!=t&&e.charCategorizer(a)(n)!=o.D0.Word&&!function(e,t,n){let o=(0,i.qz)(e).resolveInner(t,-1);for(let r=0;r<5;r++){if(e.sliceDoc(o.from,o.from+n.length)==n){let t=o.firstChild;for(;t&&t.from==o.from&&t.to-t.from>n.length;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let r=o.to==t&&o.parent;if(!r)break;o=r}return!1}(e,a,t))return{changes:{insert:t+t,from:a},effects:ne.of(a+t.length),range:o.jT.cursor(a+t.length)}}}return{range:r=s}}));return r?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function ye(e,t){let n=(0,i.qz)(e).resolveInner(t+1);return n.parent&&n.from==t}function we(e={}){return[I,v.of(e),U,ke,B]}const be=[{key:"Ctrl-Space",run:e=>!!e.state.field(I,!1)&&(e.dispatch({effects:O.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(I,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:T.of(null)}),!0)}},{key:"ArrowDown",run:N(!0)},{key:"ArrowUp",run:N(!1)},{key:"PageDown",run:N(!0,"page")},{key:"PageUp",run:N(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(I,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75||t.open.selected<0)&&(p(e,t.open.options[t.open.selected]),!0)}}],ke=o.Wl.highest(r.$f.computeN([v],(e=>e.facet(v).defaultKeymap?[be]:[])))},59119:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>z,Gn:()=>T,K0:()=>O,Qf:()=>de,R_:()=>ye,SS:()=>A,Um:()=>Ae,c:()=>D,e7:()=>ne,mi:()=>ce,n$:()=>De,nF:()=>me,nY:()=>F,qp:()=>p,qz:()=>f,ri:()=>_,tC:()=>V,uj:()=>M,vw:()=>B,x0:()=>H,y1:()=>E,ze:()=>R});var o,r=n(41113),i=n(78120),s=n(47421),a=n(35524),l=n(28699);const c=new r.md;function u(e){return i.r$.define({combine:e?t=>t.concat(e):void 0})}class d{constructor(e,t,n=[]){this.data=e,i.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(i.yy.prototype,"tree",{get(){return f(this)}}),this.parser=t,this.extension=[S.of(this),i.yy.languageData.of(((e,t,n)=>e.facet(h(e,t,n))))].concat(n)}isActiveAt(e,t,n=-1){return h(e,t,n)==this.data}findRegions(e){let t=e.facet(S);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],o=(e,t)=>{if(e.prop(c)==this.data)return void n.push({from:t,to:t+e.length});let i=e.prop(r.md.mounted);if(i){if(i.tree.prop(c)==this.data){if(i.overlay)for(let e of i.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(i.overlay){let e=n.length;if(o(i.tree,i.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let i=e.children[n];i instanceof r.mp&&o(i,e.positions[n]+t)}};return o(f(e),0),n}get allowsNesting(){return!0}}function h(e,t,n){let o=e.facet(S);if(!o)return null;let i=o.data;if(o.allowsNesting)for(let o=f(e).topNode;o;o=o.enter(t,n,r.vj.ExcludeBuffers))i=o.type.prop(c)||i;return i}d.setState=i.Py.define();class p extends d{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=u(e.languageData);return new p(t,e.parser.configure({props:[c.add((e=>e.isTop?t:void 0))]}))}configure(e){return new p(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function f(e){let t=e.field(d.state,!1);return t?t.tree:r.mp.empty}class m{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let g=null;class v{constructor(e,t,n=[],o,r,i,s,a){this.parser=e,this.state=t,this.fragments=n,this.tree=o,this.treeLen=r,this.viewport=i,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new v(e,t,[],r.mp.empty,0,n,[],null)}startParse(){return this.parser.startParse(new m(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=r.mp.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let o=this.parse.advance();if(o){if(this.fragments=this.withoutTempSkipped(r.i9.addTree(o,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=o,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(r.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=g;g=this;try{return e()}finally{g=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=y(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:o,treeLen:i,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,o,r)=>t.push({fromA:e,toA:n,fromB:o,toB:r}))),n=r.i9.applyChanges(n,t),o=r.mp.empty,i=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),o=e.mapPos(t.to,-1);n<o&&a.push({from:n,to:o})}}}return new v(this.parser,t,n,o,i,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:o}=this.skipped[t];n<e.to&&o>e.from&&(this.fragments=y(this.fragments,n,o),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends r._b{createParse(t,n,o){let i=o[0].from,s=o[o.length-1].to;return{parsedPos:i,advance(){let t=g;if(t){for(let e of o)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=s,new r.mp(r.Jq.none,[],[],s-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return g}}function y(e,t,n){return r.i9.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class w{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new w(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=v.create(e.facet(S).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new w(n)}}d.state=i.QQ.define({create:w.init,update(e,t){for(let e of t.effects)if(e.is(d.setState))return e.value;return t.startState.facet(S)!=t.state.facet(S)?w.init(t.state):e.apply(t)}});let b=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(b=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const k="undefined"!=typeof navigator&&(null===(o=navigator.scheduling)||void 0===o?void 0:o.isInputPending)?()=>navigator.scheduling.isInputPending():null,x=s.lg.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(d.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(d.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=b(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:o}}=this.view,r=n.field(d.state);if(r.tree==r.context.tree&&r.context.isDone(o+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!k?Math.max(25,e.timeRemaining()-5):1e9),s=r.context.treeLen<o&&n.doc.length>o+1e3,a=r.context.work((()=>k&&k()||Date.now()>i),o+(s?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:d.setState.of(new w(r.context))})),this.chunkBudget>0&&(!a||s)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>(0,s.OO)(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),S=i.r$.define({combine:e=>e.length?e[0]:null,enables:[d.state,x]});class _{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const C=i.r$.define(),D=i.r$.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function E(e){let t=e.facet(D);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function A(e,t){let n="",o=e.tabSize;if(9==e.facet(D).charCodeAt(0))for(;t>=o;)n+="\t",t-=o;for(let e=0;e<t;e++)n+=" ";return n}function O(e,t){e instanceof i.yy&&(e=new T(e));for(let n of e.state.facet(C)){let o=n(e,t);if(null!=o)return o}let n=f(e.state);return n?function(e,t,n){return I(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,n,t):null}class T{constructor(e,t={}){this.state=e,this.options=t,this.unit=E(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:o,simulateDoubleBreak:r}=this.options;return null!=o&&o>=n.from&&o<=n.to?r&&o==e?{text:"",from:e}:(t<0?o<e:o<=e)?{text:n.text.slice(o-n.from),from:o}:{text:n.text.slice(0,o-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:o}=this.lineAt(e,t);return n.slice(e-o,Math.min(n.length,e+100-o))}column(e,t=1){let{text:n,from:o}=this.lineAt(e,t),r=this.countColumn(n,e-o),i=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return i>-1&&(r+=i-this.countColumn(n,n.search(/\S|$/))),r}countColumn(e,t=e.length){return(0,i.IS)(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:o}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let e=r(o);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const M=new r.md;function L(e){let t=e.type.prop(M);if(t)return t;let n,o=e.firstChild;if(o&&(n=o.type.prop(r.md.closedBy))){let t=e.lastChild,o=t&&n.indexOf(t.name)>-1;return e=>j(e,!0,1,void 0,o&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?N:null}function I(e,t,n){for(;e;e=e.parent){let o=L(e);if(o)return o(P.create(n,t,e))}return null}function N(){return 0}class P extends T{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}static create(e,t,n){return new P(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(U(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?I(e,this.pos,this.base):0}}function U(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function B({closing:e,align:t=!0,units:n=1}){return o=>j(o,t,n,e)}function j(e,t,n,o,r){let i=e.textAfter,s=i.match(/^\s*/)[0].length,a=o&&i.slice(s,s+o.length)==o||r==e.pos+s,l=t?function(e){let t=e.node,n=t.childAfter(t.from),o=t.lastChild;if(!n)return null;let r=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),s=null==r||r<=i.from?i.to:Math.min(i.to,r);for(let e=n.to;;){let r=t.childAfter(e);if(!r||r==o)return null;if(!r.type.isSkipped)return r.from<s?n:null;e=r.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const R=e=>e.baseIndent;function V({except:e,units:t=1}={}){return n=>{let o=e&&e.test(n.textAfter);return n.baseIndent+(o?0:t*n.unit)}}function F(){return i.yy.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:o}=e.newSelection.main,r=n.lineAt(o);if(o>r.from+200)return e;let i=n.sliceString(r.from,o);if(!t.some((e=>e.test(i))))return e;let{state:s}=e,a=-1,l=[];for(let{head:e}of s.selection.ranges){let t=s.doc.lineAt(e);if(t.from==a)continue;a=t.from;let n=O(s,t.from);if(null==n)continue;let o=/^\s*/.exec(t.text)[0],r=A(s,n);o!=r&&l.push({from:t.from,to:t.from+o.length,insert:r})}return l.length?[e,{changes:l,sequential:!0}]:e}))}const W=i.r$.define(),H=new r.md;function z(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function $(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function K(e,t,n){for(let o of e.facet(W)){let r=o(e,t,n);if(r)return r}return function(e,t,n){let o=f(e);if(o.length<n)return null;let r=null;for(let i=o.resolveInner(n);i;i=i.parent){if(i.to<=n||i.from>n)continue;if(r&&i.from<t)break;let s=i.type.prop(H);if(s&&(i.to<o.length-50||o.length==e.doc.length||!$(i))){let o=s(i,e);o&&o.from<=n&&o.from>=t&&o.to>n&&(r=o)}}return r}(e,t,n)}function q(e,t){let n=t.mapPos(e.from,1),o=t.mapPos(e.to,-1);return n>=o?void 0:{from:n,to:o}}const Y=i.Py.define({map:q}),G=i.Py.define({map:q});function X(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const J=i.QQ.define({create:()=>s.p.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(Y)&&!Q(e,n.value.from,n.value.to)?e=e.update({add:[se.range(n.value.from,n.value.to)]}):n.is(G)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:o}=t.selection.main;e.between(o,o,((e,t)=>{e<o&&t>o&&(n=!0)})),n&&(e=e.update({filterFrom:o,filterTo:o,filter:(e,t)=>t<=o||e>=o}))}return e},provide:e=>s.tk.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let o=e[n++],r=e[n++];if("number"!=typeof o||"number"!=typeof r)throw new RangeError("Invalid JSON for fold state");t.push(se.range(o,r))}return s.p.set(t,!0)}});function Z(e,t,n){var o;let r=null;return null===(o=e.field(J,!1))||void 0===o||o.between(t,n,((e,t)=>{(!r||r.from>e)&&(r={from:e,to:t})})),r}function Q(e,t,n){let o=!1;return e.between(t,t,((e,r)=>{e==t&&r==n&&(o=!0)})),o}function ee(e,t){return e.field(J,!1)?t:t.concat(i.Py.appendConfig.of(ie()))}function te(e,t,n=!0){let o=e.state.doc.lineAt(t.from).number,r=e.state.doc.lineAt(t.to).number;return s.tk.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${o} ${e.state.phrase("to")} ${r}.`)}const ne=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of X(e)){let n=K(e.state,t.from,t.to);if(n)return e.dispatch({effects:ee(e.state,[Y.of(n),te(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(J,!1))return!1;let t=[];for(let n of X(e)){let o=Z(e.state,n.from,n.to);o&&t.push(G.of(o),te(e,o,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let o=0;o<t.doc.length;){let r=e.lineBlockAt(o),i=K(t,r.from,r.to);i&&n.push(Y.of(i)),o=(i?e.lineBlockAt(i.to):r).to+1}return n.length&&e.dispatch({effects:ee(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(J,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(G.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],oe={placeholderDOM:null,placeholderText:"…"},re=i.r$.define({combine:e=>(0,i.BO)(e,oe)});function ie(e){let t=[J,ue];return e&&t.push(re.of(e)),t}const se=s.p.replace({widget:new class extends s.l9{toDOM(e){let{state:t}=e,n=t.facet(re),o=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),o=Z(e.state,n.from,n.to);o&&e.dispatch({effects:G.of(o)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,o);let r=document.createElement("span");return r.textContent=n.placeholderText,r.setAttribute("aria-label",t.phrase("folded code")),r.title=t.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=o,r}}}),ae={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class le extends s.SJ{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function ce(e={}){let t=Object.assign(Object.assign({},ae),e),n=new le(t,!0),o=new le(t,!1),r=s.lg.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(S)!=e.state.facet(S)||e.startState.field(J,!1)!=e.state.field(J,!1)||f(e.startState)!=f(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new i.f_;for(let r of e.viewportLineBlocks){let i=Z(e.state,r.from,r.to)?o:K(e.state,r.from,r.to)?n:null;i&&t.add(r.from,r.from,i)}return t.finish()}}),{domEventHandlers:a}=t;return[r,(0,s.v5)({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.markers)||i.Xs.empty},initialSpacer:()=>new le(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(e,t,n)=>{if(a.click&&a.click(e,t,n))return!0;let o=Z(e.state,t.from,t.to);if(o)return e.dispatch({effects:G.of(o)}),!0;let r=K(e.state,t.from,t.to);return!!r&&(e.dispatch({effects:Y.of(r)}),!0)}})}),ie()]}const ue=s.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class de{constructor(e,t){let n;function o(e){let t=l.V.newName();return(n||(n=Object.create(null)))["."+t]=e,t}const r="string"==typeof t.all?t.all:t.all?o(t.all):void 0,i=t.scope;this.scope=i instanceof d?e=>e.prop(c)==i.data:i?e=>e==i:void 0,this.style=(0,a.QR)(e.map((e=>({tag:e.tag,class:e.class||o(Object.assign({},e,{tag:null}))}))),{all:r}).style,this.module=n?new l.V(n):null,this.themeType=t.themeType}static define(e,t){return new de(e,t||{})}}const he=i.r$.define(),pe=i.r$.define({combine:e=>e.length?[e[0]]:null});function fe(e){let t=e.facet(he);return t.length?t:e.facet(pe)}function me(e,t){let n,o=[ve];return e instanceof de&&(e.module&&o.push(s.tk.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?o.push(pe.of(e)):n?o.push(he.computeN([s.tk.darkTheme],(t=>t.facet(s.tk.darkTheme)==("dark"==n)?[e]:[]))):o.push(he.of(e)),o}class ge{constructor(e){this.markCache=Object.create(null),this.tree=f(e.state),this.decorations=this.buildDeco(e,fe(e.state))}update(e){let t=f(e.state),n=fe(e.state),o=n!=fe(e.startState);t.length<e.view.viewport.to&&!o&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||o)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return s.p.none;let n=new i.f_;for(let{from:o,to:r}of e.visibleRanges)(0,a.bW)(this.tree,t,((e,t,o)=>{n.add(e,t,this.markCache[o]||(this.markCache[o]=s.p.mark({class:o})))}),o,r);return n.finish()}}const ve=i.Wl.high(s.lg.fromClass(ge,{decorations:e=>e.decorations})),ye=de.define([{tag:a.pJ.meta,color:"#7a757a"},{tag:a.pJ.link,textDecoration:"underline"},{tag:a.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a.pJ.emphasis,fontStyle:"italic"},{tag:a.pJ.strong,fontWeight:"bold"},{tag:a.pJ.strikethrough,textDecoration:"line-through"},{tag:a.pJ.keyword,color:"#708"},{tag:[a.pJ.atom,a.pJ.bool,a.pJ.url,a.pJ.contentSeparator,a.pJ.labelName],color:"#219"},{tag:[a.pJ.literal,a.pJ.inserted],color:"#164"},{tag:[a.pJ.string,a.pJ.deleted],color:"#a11"},{tag:[a.pJ.regexp,a.pJ.escape,a.pJ.special(a.pJ.string)],color:"#e40"},{tag:a.pJ.definition(a.pJ.variableName),color:"#00f"},{tag:a.pJ.local(a.pJ.variableName),color:"#30a"},{tag:[a.pJ.typeName,a.pJ.namespace],color:"#085"},{tag:a.pJ.className,color:"#167"},{tag:[a.pJ.special(a.pJ.variableName),a.pJ.macroName],color:"#256"},{tag:a.pJ.definition(a.pJ.propertyName),color:"#00c"},{tag:a.pJ.comment,color:"#940"},{tag:a.pJ.invalid,color:"#f00"}]),we=s.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),be="()[]{}",ke=i.r$.define({combine:e=>(0,i.BO)(e,{afterCursor:!0,brackets:be,maxScanDistance:1e4,renderMatch:_e})}),xe=s.p.mark({class:"cm-matchingBracket"}),Se=s.p.mark({class:"cm-nonmatchingBracket"});function _e(e){let t=[],n=e.matched?xe:Se;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Ce=[i.QQ.define({create:()=>s.p.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],o=t.state.facet(ke);for(let e of t.state.selection.ranges){if(!e.empty)continue;let r=Ae(t.state,e.head,-1,o)||e.head>0&&Ae(t.state,e.head-1,1,o)||o.afterCursor&&(Ae(t.state,e.head,1,o)||e.head<t.state.doc.length&&Ae(t.state,e.head+1,-1,o));r&&(n=n.concat(o.renderMatch(r,t.state)))}return s.p.set(n,!0)},provide:e=>s.tk.decorations.from(e)}),we];function De(e={}){return[ke.of(e),Ce]}function Ee(e,t,n){let o=e.prop(t<0?r.md.openedBy:r.md.closedBy);if(o)return o;if(1==e.name.length){let o=n.indexOf(e.name);if(o>-1&&o%2==(t<0?1:0))return[n[o+t]]}return null}function Ae(e,t,n,o={}){let r=o.maxScanDistance||1e4,i=o.brackets||be,s=f(e),a=s.resolveInner(t,n);for(let o=a;o;o=o.parent){let r=Ee(o.type,n,i);if(r&&o.from<o.to)return Oe(e,t,n,o,r,i)}return function(e,t,n,o,r,i,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=i;){let i=u.value;n<0&&(e+=i.length);let a=t+e*n;for(let e=n>0?0:i.length-1,t=n>0?i.length:-1;e!=t;e+=n){let t=s.indexOf(i[e]);if(!(t<0||o.resolveInner(a+e,1).type!=r))if(t%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};d--}}n>0&&(e+=i.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,s,a.type,r,i)}function Oe(e,t,n,o,r,i){let s=o.parent,a={from:o.from,to:o.to},l=0,c=null==s?void 0:s.cursor();if(c&&(n<0?c.childBefore(o.from):c.childAfter(o.to)))do{if(n<0?c.to<=o.from:c.from>=o.to){if(0==l&&r.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Ee(c.type,n,i))l++;else if(Ee(c.type,-n,i)){if(0==l)return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1};l--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const Te=Object.create(null),Me=[r.Jq.none],Le=[],Ie=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Ie[e]=Pe(Te,t);function Ne(e,t){Le.indexOf(e)>-1||(Le.push(e),console.warn(t))}function Pe(e,t){let n=null;for(let o of t.split(".")){let t=e[o]||a.pJ[o];t?"function"==typeof t?n?n=t(n):Ne(o,`Modifier ${o} used at start of tag`):n?Ne(o,`Tag ${o} used as modifier`):n=t:Ne(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let o=t.replace(/ /g,"_"),i=r.Jq.define({id:Me.length,name:o,props:[(0,a.Gv)({[o]:n})]});return Me.push(i),i.id}},78120:(e,t,n)=>{"use strict";n.d(t,{BO:()=>De,D0:()=>ke,Gz:()=>ze,IS:()=>He,Py:()=>pe,QQ:()=>z,Wl:()=>X,Xs:()=>Me,YW:()=>fe,as:()=>D,bg:()=>k,cp:()=>m,f_:()=>Le,gc:()=>_,gm:()=>b,jT:()=>N,n0:()=>C,nZ:()=>x,q6:()=>ue,r$:()=>B,uU:()=>Ee,xv:()=>o,yy:()=>Ce});class o{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let o=[];return this.decompose(0,e,o,2),n.length&&n.decompose(0,n.length,o,3),this.decompose(t,this.length,o,1),i.from(o,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),i.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),o=new l(this),r=new l(e);for(let e=t,i=t;;){if(o.next(e),r.next(e),e=0,o.lineBreak!=r.lineBreak||o.done!=r.done||o.value!=r.value)return!1;if(i+=o.value.length,o.done||i>=n)return!0}}iter(e=1){return new l(this,e)}iterRange(e,t=this.length){return new c(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let o=this.line(e).from;n=this.iterRange(o,Math.max(o,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new r(e):i.from(r.split(e,[])):o.empty}}class r extends o{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,o){for(let r=0;;r++){let i=this.text[r],s=o+i.length;if((t?n:s)>=e)return new d(o,s,n,i);o=s+1,n++}}decompose(e,t,n,o){let i=e<=0&&t>=this.length?this:new r(a(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&o){let e=n.pop(),t=s(i.text,e.text.slice(),0,i.length);if(t.length<=32)n.push(new r(t,e.length+i.length));else{let e=t.length>>1;n.push(new r(t.slice(0,e)),new r(t.slice(e)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof r))return super.replace(e,t,n);let o=s(this.text,s(n.text,a(this.text,0,e)),t),l=this.length+n.length-(t-e);return o.length<=32?new r(o,l):i.from(r.split(o,[]),l)}sliceString(e,t=this.length,n="\n"){let o="";for(let r=0,i=0;r<=t&&i<this.text.length;i++){let s=this.text[i],a=r+s.length;r>e&&i&&(o+=n),e<a&&t>r&&(o+=s.slice(Math.max(0,e-r),t-r)),r=a+1}return o}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],o=-1;for(let i of e)n.push(i),o+=i.length+1,32==n.length&&(t.push(new r(n,o)),n=[],o=-1);return o>-1&&t.push(new r(n,o)),t}}class i extends o{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,o){for(let r=0;;r++){let i=this.children[r],s=o+i.length,a=n+i.lines-1;if((t?a:s)>=e)return i.lineInner(e,t,n,o);o=s+1,n=a+1}}decompose(e,t,n,o){for(let r=0,i=0;i<=t&&r<this.children.length;r++){let s=this.children[r],a=i+s.length;if(e<=a&&t>=i){let r=o&((i<=e?1:0)|(a>=t?2:0));i>=e&&a<=t&&!r?n.push(s):s.decompose(e-i,t-i,n,r)}i=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let o=0,r=0;o<this.children.length;o++){let s=this.children[o],a=r+s.length;if(e>=r&&t<=a){let l=s.replace(e-r,t-r,n),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let r=this.children.slice();return r[o]=l,new i(r,this.length-(t-e)+n.length)}return super.replace(r,a,l)}r=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let o="";for(let r=0,i=0;r<this.children.length&&i<=t;r++){let s=this.children[r],a=i+s.length;i>e&&r&&(o+=n),e<a&&t>i&&(o+=s.sliceString(e-i,t-i,n)),i=a+1}return o}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof i))return 0;let n=0,[o,r,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;o+=t,r+=t){if(o==s||r==a)return n;let i=this.children[o],l=e.children[r];if(i!=l)return n+i.scanIdentical(l,t);n+=i.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new r(n,t)}let o=Math.max(32,n>>5),s=o<<1,a=o>>1,l=[],c=0,u=-1,d=[];function h(e){let t;if(e.lines>s&&e instanceof i)for(let t of e.children)h(t);else e.lines>a&&(c>a||!c)?(p(),l.push(e)):e instanceof r&&c&&(t=d[d.length-1])instanceof r&&e.lines+t.lines<=32?(c+=e.lines,u+=e.length+1,d[d.length-1]=new r(t.text.concat(e.text),t.length+1+e.length)):(c+e.lines>o&&p(),c+=e.lines,u+=e.length+1,d.push(e))}function p(){0!=c&&(l.push(1==d.length?d[0]:i.from(d,u)),u=-1,c=d.length=0)}for(let t of e)h(t);return p(),1==l.length?l[0]:new i(l,t)}}function s(e,t,n=0,o=1e9){for(let r=0,i=0,s=!0;i<e.length&&r<=o;i++){let a=e[i],l=r+a.length;l>=n&&(l>o&&(a=a.slice(0,o-r)),r<n&&(a=a.slice(n-r)),s?(t[t.length-1]+=a,s=!1):t.push(a)),r=l+1}return t}function a(e,t,n){return s(e,[""],t,n)}o.empty=new r([""],0);class l{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof r?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,o=this.nodes[n],i=this.offsets[n],s=i>>1,a=o instanceof r?o.text.length:o.children.length;if(s==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(o instanceof r){let r=o.text[s+(t<0?-1:0)];if(this.offsets[n]+=t,r.length>Math.max(0,e))return this.value=0==e?r:t>0?r.slice(e):r.slice(0,r.length-e),this;e-=r.length}else{let i=o.children[s+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof r?i.text.length:i.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class c{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new l(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:o}=this.cursor.next(e);return this.pos+=(o.length+e)*t,this.value=o.length<=n?o:t<0?o.slice(o.length-n):o.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:o}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class d{constructor(e,t,n,o){this.from=e,this.to=t,this.number=n,this.text=o}get length(){return this.to-this.from}}let h="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<h.length;e++)h[e]+=h[e-1];function p(e){for(let t=1;t<h.length;t+=2)if(h[t]>e)return h[t-1]<=e;return!1}function f(e){return e>=127462&&e<=127487}function m(e,t,n=!0,o=!0){return(n?g:v)(e,t,o)}function g(e,t,n){if(t==e.length)return t;t&&y(e.charCodeAt(t))&&w(e.charCodeAt(t-1))&&t--;let o=b(e,t);for(t+=x(o);t<e.length;){let r=b(e,t);if(8205==o||8205==r||n&&p(r))t+=x(r),o=r;else{if(!f(r))break;{let n=0,o=t-2;for(;o>=0&&f(b(e,o));)n++,o-=2;if(n%2==0)break;t+=2}}}return t}function v(e,t,n){for(;t>0;){let o=g(e,t-2,n);if(o<t)return o;t--}return 0}function y(e){return e>=56320&&e<57344}function w(e){return e>=55296&&e<56320}function b(e,t){let n=e.charCodeAt(t);if(!w(n)||t+1==e.length)return n;let o=e.charCodeAt(t+1);return y(o)?o-56320+(n-55296<<10)+65536:n}function k(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function x(e){return e<65536?1:2}const S=/\r\n?|\n/;var _=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(_||(_={}));class C{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,o=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?(e(n,o,r),o+=r):o+=i,n+=r}}iterChangedRanges(e,t=!1){O(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],o=this.sections[t++];o<0?e.push(n,o):e.push(o,n)}return new C(e)}composeDesc(e){return this.empty?e:e.empty?this:M(this,e)}mapDesc(e,t=!1){return e.empty?this:T(this,e,t)}mapPos(e,t=-1,n=_.Simple){let o=0,r=0;for(let i=0;i<this.sections.length;){let s=this.sections[i++],a=this.sections[i++],l=o+s;if(a<0){if(l>e)return r+(e-o);r+=s}else{if(n!=_.Simple&&l>=e&&(n==_.TrackDel&&o<e&&l>e||n==_.TrackBefore&&o<e||n==_.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==o||t<0?r:r+a;r+=a}o=l}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return r}touchesRange(e,t=e){for(let n=0,o=0;n<this.sections.length&&o<=t;){let r=o+this.sections[n++];if(this.sections[n++]>=0&&o<=t&&r>=e)return!(o<e&&r>t)||"cover";o=r}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],o=this.sections[t++];e+=(e?" ":"")+n+(o>=0?":"+o:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new C(e)}static create(e){return new C(e)}}class D extends C{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return O(this,((t,n,o,r,i)=>e=e.replace(o,o+(n-t),i)),!1),e}mapDesc(e,t=!1){return T(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,i=0;r<t.length;r+=2){let s=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=s;let l=r>>1;for(;n.length<l;)n.push(o.empty);n.push(s?e.slice(i,i+s):o.empty)}i+=s}return new D(t,n)}compose(e){return this.empty?e:e.empty?this:M(this,e,!0)}map(e,t=!1){return e.empty?this:T(this,e,t,!0)}iterChanges(e,t=!1){O(this,e,t)}get desc(){return C.create(this.sections)}filter(e){let t=[],n=[],o=[],r=new L(this);e:for(let i=0,s=0;;){let a=i==e.length?1e9:e[i++];for(;s<a||s==a&&0==r.len;){if(r.done)break e;let e=Math.min(r.len,a-s);E(o,e,-1);let i=-1==r.ins?-1:0==r.off?r.ins:0;E(t,e,i),i>0&&A(n,t,r.text),r.forward(e),s+=e}let l=e[i++];for(;s<l;){if(r.done)break e;let e=Math.min(r.len,l-s);E(t,e,-1),E(o,e,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(e),s+=e}}return{changes:new D(t,n),filtered:C.create(o)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],o=this.sections[t+1];o<0?e.push(n):0==o?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],i=[],s=0,a=null;function l(e=!1){if(!e&&!r.length)return;s<t&&E(r,t-s,-1);let n=new D(r,i);a=a?a.compose(n.map(a)):n,r=[],i=[],s=0}return function e(c){if(Array.isArray(c))for(let t of c)e(t);else if(c instanceof D){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:e,to:a=e,insert:u}=c;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let d=u?"string"==typeof u?o.of(u.split(n||S)):u:o.empty,h=d.length;if(e==a&&0==h)return;e<s&&l(),e>s&&E(r,e-s,-1),E(r,a-e,h),A(i,r,d),s=a}}(e),l(!a),a}static empty(e){return new D(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let i=e[r];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;n.length<r;)n.push(o.empty);n[r]=o.of(i.slice(1)),t.push(i[0],n[r].length)}}}return new D(t,n)}static createSet(e,t){return new D(e,t)}}function E(e,t,n,o=!1){if(0==t&&n<=0)return;let r=e.length-2;r>=0&&n<=0&&n==e[r+1]?e[r]+=t:0==t&&0==e[r]?e[r+1]+=n:o?(e[r]+=t,e[r+1]+=n):e.push(t,n)}function A(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(o.empty);e.push(n)}}function O(e,t,n){let r=e.inserted;for(let i=0,s=0,a=0;a<e.sections.length;){let l=e.sections[a++],c=e.sections[a++];if(c<0)i+=l,s+=l;else{let u=i,d=s,h=o.empty;for(;u+=l,d+=c,c&&r&&(h=h.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)l=e.sections[a++],c=e.sections[a++];t(i,u,s,d,h),i=u,s=d}}}function T(e,t,n,o=!1){let r=[],i=o?[]:null,s=new L(e),a=new L(t);for(let e=-1;;)if(-1==s.ins&&-1==a.ins){let e=Math.min(s.len,a.len);E(r,e,-1),s.forward(e),a.forward(e)}else if(a.ins>=0&&(s.ins<0||e==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){let t=a.len;for(E(r,a.ins,-1);t;){let n=Math.min(s.len,t);s.ins>=0&&e<s.i&&s.len<=n&&(E(r,0,s.ins),i&&A(i,r,s.text),e=s.i),s.forward(n),t-=n}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return i?D.createSet(r,i):C.create(r);throw new Error("Mismatched change set lengths")}{let t=0,n=s.len;for(;n;)if(-1==a.ins){let e=Math.min(n,a.len);t+=e,n-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}E(r,t,e<s.i?s.ins:0),i&&e<s.i&&A(i,r,s.text),e=s.i,s.forward(s.len-n)}}}function M(e,t,n=!1){let o=[],r=n?[]:null,i=new L(e),s=new L(t);for(let e=!1;;){if(i.done&&s.done)return r?D.createSet(o,r):C.create(o);if(0==i.ins)E(o,i.len,0,e),i.next();else if(0!=s.len||s.done){if(i.done||s.done)throw new Error("Mismatched change set lengths");{let t=Math.min(i.len2,s.len),n=o.length;if(-1==i.ins){let n=-1==s.ins?-1:s.off?0:s.ins;E(o,t,n,e),r&&n&&A(r,o,s.text)}else-1==s.ins?(E(o,i.off?0:i.len,t,e),r&&A(r,o,i.textBit(t))):(E(o,i.off?0:i.len,s.off?0:s.ins,e),r&&!s.off&&A(r,o,s.text));e=(i.ins>t||s.ins>=0&&s.len>t)&&(e||o.length>n),i.forward2(t),s.forward(t)}}else E(o,0,s.ins,e),r&&A(r,o,s.text),s.next()}}class L{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?o.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?o.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class I{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let n,o;return this.empty?n=o=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),o=e.mapPos(this.to,-1)),n==this.from&&o==this.to?this:new I(n,o,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return N.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return N.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(e.anchor,e.head)}static create(e,t,n){return new I(e,t,n)}}class N{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:N.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new N([this.main],0)}addRange(e,t=!0){return N.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,N.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new N(e.ranges.map((e=>I.fromJSON(e))),e.main)}static single(e,t=e){return new N([N.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,o=0;o<e.length;o++){let r=e[o];if(r.empty?r.from<=n:r.from<n)return N.normalized(e.slice(),t);n=r.to}return new N(e,t)}static cursor(e,t=0,n,o){return I.create(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!=o?o:33554431)<<5)}static range(e,t,n){let o=(null!=n?n:33554431)<<5;return t<e?I.create(t,e,24|o):I.create(e,t,o|(t>e?4:0))}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let o=e[n],r=e[n-1];if(o.empty?o.from<=r.to:o.from<r.to){let i=r.from,s=Math.max(o.to,r.to);n<=t&&t--,e.splice(--n,2,o.anchor>o.head?N.range(s,i):N.range(i,s))}}return new N(e,t)}}function P(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let U=0;class B{constructor(e,t,n,o,r){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=o,this.id=U++,this.default=e([]),this.extensions="function"==typeof r?r(this):r}static define(e={}){return new B(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:j),!!e.static,e.enables)}of(e){return new R([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new R(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new R(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function j(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class R{constructor(e,t,n,o){this.dependencies=e,this.facet=t,this.type=n,this.value=o,this.id=U++}dynamicSlot(e){var t;let n=this.value,o=this.facet.compareInput,r=this.id,i=e[r]>>1,s=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&c.push(e[n.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||F(e,c)){let t=n(e);if(s?!V(t,e.values[i],o):!o(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let a=n(e),l=t.config.address[r];if(null!=l){let n=ne(t,l);if(this.dependencies.every((n=>n instanceof B?t.facet(n)===e.facet(n):!(n instanceof z)||t.field(n,!1)==e.field(n,!1)))||(s?V(a,n,o):o(a,n)))return e.values[i]=n,0}return e.values[i]=a,1}}}}function V(e,t,n){if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0}function F(e,t){let n=!1;for(let o of t)1&te(e,o)&&(n=!0);return n}function W(e,t,n){let o=n.map((t=>e[t.id])),r=n.map((e=>e.type)),i=o.filter((e=>!(1&e))),s=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<o.length;t++){let i=ne(e,o[t]);if(2==r[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of o)te(e,t);return e.values[s]=a(e),1},update(e,n){if(!F(e,i))return 0;let o=a(e);return t.compare(o,e.values[s])?0:(e.values[s]=o,1)},reconfigure(e,r){let i=F(e,o),l=r.config.facets[t.id],c=r.facet(t);if(l&&!i&&j(n,l))return e.values[s]=c,0;let u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}const H=B.define({static:!0});class z{constructor(e,t,n,o,r){this.id=e,this.createF=t,this.updateF=n,this.compareF=o,this.spec=r,this.provides=void 0}static define(e){let t=new z(U++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(H).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let o=e.values[t],r=this.updateF(o,n);return this.compareF(o,r)?0:(e.values[t]=r,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,H.of({field:this,create:e})]}get extension(){return this}}const $=4,K=3,q=2,Y=1;function G(e){return t=>new J(t,e)}const X={highest:G(0),high:G(Y),default:G(q),low:G(K),lowest:G($)};class J{constructor(e,t){this.inner=e,this.prec=t}}class Z{of(e){return new Q(this,e)}reconfigure(e){return Z.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Q{constructor(e,t){this.compartment=e,this.inner=t}}class ee{constructor(e,t,n,o,r,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=o,this.staticValues=r,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let o=[],r=Object.create(null),i=new Map;for(let n of function(e,t,n){let o=[[],[],[],[],[]],r=new Map;function i(e,s){let a=r.get(e);if(null!=a){if(a<=s)return;let t=o[a].indexOf(e);t>-1&&o[a].splice(t,1),e instanceof Q&&n.delete(e.compartment)}if(r.set(e,s),Array.isArray(e))for(let t of e)i(t,s);else if(e instanceof Q){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let o=t.get(e.compartment)||e.inner;n.set(e.compartment,o),i(o,s)}else if(e instanceof J)i(e.inner,e.prec);else if(e instanceof z)o[s].push(e),e.provides&&i(e.provides,s);else if(e instanceof R)o[s].push(e),e.facet.extensions&&i(e.facet.extensions,q);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(t,s)}}return i(e,q),o.reduce(((e,t)=>e.concat(t)))}(e,t,i))n instanceof z?o.push(n):(r[n.facet.id]||(r[n.facet.id]=[])).push(n);let s=Object.create(null),a=[],l=[];for(let e of o)s[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in r){let t=r[e],o=t[0].facet,i=c&&c[e]||[];if(t.every((e=>0==e.type)))if(s[o.id]=a.length<<1|1,j(i,t))a.push(n.facet(o));else{let e=o.combine(t.map((e=>e.value)));a.push(n&&o.compare(e,n.facet(o))?n.facet(o):e)}else{for(let e of t)0==e.type?(s[e.id]=a.length<<1|1,a.push(e.value)):(s[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));s[o.id]=l.length<<1,l.push((e=>W(e,o,t)))}}let u=l.map((e=>e(s)));return new ee(e,i,u,s,a,r)}}function te(e,t){if(1&t)return 2;let n=t>>1,o=e.status[n];if(4==o)throw new Error("Cyclic dependency between fields and/or facets");if(2&o)return o;e.status[n]=4;let r=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|r}function ne(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const oe=B.define(),re=B.define({combine:e=>e.some((e=>e)),static:!0}),ie=B.define({combine:e=>e.length?e[0]:void 0,static:!0}),se=B.define(),ae=B.define(),le=B.define(),ce=B.define({combine:e=>!!e.length&&e[0]});class ue{constructor(e,t){this.type=e,this.value=t}static define(){return new de}}class de{of(e){return new ue(this,e)}}class he{constructor(e){this.map=e}of(e){return new pe(this,e)}}class pe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new pe(this.type,t)}is(e){return this.type==e}static define(e={}){return new he(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let o of e){let e=o.map(t);e&&n.push(e)}return n}}pe.reconfigure=pe.define(),pe.appendConfig=pe.define();class fe{constructor(e,t,n,o,r,i){this.startState=e,this.changes=t,this.selection=n,this.effects=o,this.annotations=r,this.scrollIntoView=i,this._doc=null,this._state=null,n&&P(n,t.newLength),r.some((e=>e.type==fe.time))||(this.annotations=r.concat(fe.time.of(Date.now())))}static create(e,t,n,o,r,i){return new fe(e,t,n,o,r,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(fe.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function me(e,t){let n=[];for(let o=0,r=0;;){let i,s;if(o<e.length&&(r==t.length||t[r]>=e[o]))i=e[o++],s=e[o++];else{if(!(r<t.length))return n;i=t[r++],s=t[r++]}!n.length||n[n.length-1]<i?n.push(i,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function ge(e,t,n){var o;let r,i,s;return n?(r=t.changes,i=D.empty(t.changes.length),s=e.changes.compose(t.changes)):(r=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(r)),{changes:s,selection:t.selection?t.selection.map(i):null===(o=e.selection)||void 0===o?void 0:o.map(r),effects:pe.mapEffects(e.effects,r).concat(pe.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function ve(e,t,n){let o=t.selection,r=be(t.annotations);return t.userEvent&&(r=r.concat(fe.userEvent.of(t.userEvent))),{changes:t.changes instanceof D?t.changes:D.of(t.changes||[],n,e.facet(ie)),selection:o&&(o instanceof N?o:N.single(o.anchor,o.head)),effects:be(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function ye(e,t,n){let o=ve(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let r=1;r<t.length;r++){!1===t[r].filter&&(n=!1);let i=!!t[r].sequential;o=ge(o,ve(e,t[r],i?o.changes.newLength:e.doc.length),i)}let r=fe.create(e,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return function(e){let t=e.startState,n=t.facet(le),o=e;for(let r=n.length-1;r>=0;r--){let i=n[r](e);i&&Object.keys(i).length&&(o=ge(e,ve(t,i,e.changes.newLength),!0))}return o==e?e:fe.create(t,e.changes,e.selection,o.effects,o.annotations,o.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let o of t.facet(se)){let t=o(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:me(n,t))}if(!0!==n){let o,r;if(!1===n)r=e.changes.invertedDesc,o=D.empty(t.doc.length);else{let t=e.changes.filter(n);o=t.changes,r=t.filtered.mapDesc(t.changes).invertedDesc}e=fe.create(t,o,e.selection&&e.selection.map(r),pe.mapEffects(e.effects,r),e.annotations,e.scrollIntoView)}let o=t.facet(ae);for(let n=o.length-1;n>=0;n--){let r=o[n](e);e=r instanceof fe?r:Array.isArray(r)&&1==r.length&&r[0]instanceof fe?r[0]:ye(t,be(r),!1)}return e}(r):r)}fe.time=ue.define(),fe.userEvent=ue.define(),fe.addToHistory=ue.define(),fe.remote=ue.define();const we=[];function be(e){return null==e?we:Array.isArray(e)?e:[e]}var ke=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(ke||(ke={}));const xe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Se;try{Se=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}function _e(e){return t=>{if(!/\S/.test(t))return ke.Space;if(function(e){if(Se)return Se.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||xe.test(n)))return!0}return!1}(t))return ke.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return ke.Word;return ke.Other}}class Ce{constructor(e,t,n,o,r,i){this.config=e,this.doc=t,this.selection=n,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=r,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)te(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return te(this,n),ne(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return ye(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:o,compartments:r}=n;for(let t of e.effects)t.is(Z.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((e,t)=>r.set(t,e))),n=null),r.set(t.value.compartment,t.value.extension)):t.is(pe.reconfigure)?(n=null,o=t.value):t.is(pe.appendConfig)&&(n=null,o=be(o).concat(t.value));if(n)t=e.startState.values.slice();else{n=ee.resolve(o,r,this),t=new Ce(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new Ce(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:N.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),o=this.changes(n.changes),r=[n.range],i=be(n.effects);for(let n=1;n<t.ranges.length;n++){let s=e(t.ranges[n]),a=this.changes(s.changes),l=a.map(o);for(let e=0;e<n;e++)r[e]=r[e].map(l);let c=o.mapDesc(a,!0);r.push(s.range.map(c)),o=o.compose(l),i=pe.mapEffects(i,l).concat(pe.mapEffects(be(s.effects),c))}return{changes:o,selection:N.create(r,t.mainIndex),effects:i}}changes(e=[]){return e instanceof D?e:D.of(e,this.doc.length,this.facet(Ce.lineSeparator))}toText(e){return o.of(e.split(this.facet(Ce.lineSeparator)||S))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(te(this,t),ne(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let o=e[n];o instanceof z&&null!=this.config.address[o.id]&&(t[n]=o.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let r=n[t],i=e[t];o.push(r.init((e=>r.spec.fromJSON(i,e))))}return Ce.create({doc:e.doc,selection:N.fromJSON(e.selection),extensions:t.extensions?o.concat([t.extensions]):o})}static create(e={}){let t=ee.resolve(e.extensions||[],new Map),n=e.doc instanceof o?e.doc:o.of((e.doc||"").split(t.staticFacet(Ce.lineSeparator)||S)),r=e.selection?e.selection instanceof N?e.selection:N.single(e.selection.anchor,e.selection.head):N.single(0);return P(r,n.length),t.staticFacet(re)||(r=r.asSingle()),new Ce(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Ce.tabSize)}get lineBreak(){return this.facet(Ce.lineSeparator)||"\n"}get readOnly(){return this.facet(ce)}phrase(e,...t){for(let t of this.facet(Ce.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let o=+(n||1);return!o||o>t.length?e:t[o-1]}))),e}languageDataAt(e,t,n=-1){let o=[];for(let r of this.facet(oe))for(let i of r(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&o.push(i[e]);return o}charCategorizer(e){return _e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:o}=this.doc.lineAt(e),r=this.charCategorizer(e),i=e-n,s=e-n;for(;i>0;){let e=m(t,i,!1);if(r(t.slice(e,i))!=ke.Word)break;i=e}for(;s<o;){let e=m(t,s);if(r(t.slice(s,e))!=ke.Word)break;s=e}return i==s?null:N.range(i+n,s+n)}}function De(e,t,n={}){let o={};for(let t of e)for(let e of Object.keys(t)){let r=t[e],i=o[e];if(void 0===i)o[e]=r;else if(i===r||void 0===r);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);o[e]=n[e](i,r)}}for(let e in t)void 0===o[e]&&(o[e]=t[e]);return o}Ce.allowMultipleSelections=re,Ce.tabSize=B.define({combine:e=>e.length?e[0]:4}),Ce.lineSeparator=ie,Ce.readOnly=ce,Ce.phrases=B.define({compare(e,t){let n=Object.keys(e),o=Object.keys(t);return n.length==o.length&&n.every((n=>e[n]==t[n]))}}),Ce.languageData=oe,Ce.changeFilter=se,Ce.transactionFilter=ae,Ce.transactionExtender=le,Z.reconfigure=pe.define();class Ee{eq(e){return this==e}range(e,t=e){return Ae.create(e,t,this)}}Ee.prototype.startSide=Ee.prototype.endSide=0,Ee.prototype.point=!1,Ee.prototype.mapMode=_.TrackDel;class Ae{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Ae(e,t,n)}}function Oe(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Te{constructor(e,t,n,o){this.from=e,this.to=t,this.value=n,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,o=0){let r=n?this.to:this.from;for(let i=o,s=r.length;;){if(i==s)return i;let o=i+s>>1,a=r[o]-e||(n?this.value[o].endSide:this.value[o].startSide)-t;if(o==i)return a>=0?i:s;a>=0?s=o:i=o+1}}between(e,t,n,o){for(let r=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,r);r<i;r++)if(!1===o(this.from[r]+e,this.to[r]+e,this.value[r]))return!1}map(e,t){let n=[],o=[],r=[],i=-1,s=-1;for(let a=0;a<this.value.length;a++){let l,c,u=this.value[a],d=this.from[a]+e,h=this.to[a]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(d,u.endSide),c<l))continue}else if(l=t.mapPos(d,u.startSide),c=t.mapPos(h,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(i<0&&(i=l),u.point&&(s=Math.max(s,c-l)),n.push(u),o.push(l-i),r.push(c-i))}return{mapped:n.length?new Te(o,r,n,s):null,pos:i}}}class Me{constructor(e,t,n,o){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=o}static create(e,t,n,o){return new Me(e,t,n,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:o=0,filterTo:r=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(Oe)),this.isEmpty)return t.length?Me.of(t):this;let s=new Ne(this,null,-1).goto(0),a=0,l=[],c=new Le;for(;s.value||a<t.length;)if(a<t.length&&(s.from-t[a].from||s.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(s.chunkIndex)<t[a].from)&&(!i||o>this.chunkEnd(s.chunkIndex)||r<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!i||o>s.to||r<s.from||i(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||l.push(Ae.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Me.empty:this.nextLayer.update({add:l,filter:i,filterFrom:o,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],o=-1;for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r],a=e.touchesRange(i,i+s.length);if(!1===a)o=Math.max(o,s.maxPoint),t.push(s),n.push(e.mapPos(i));else if(!0===a){let{mapped:r,pos:a}=s.map(i,e);r&&(o=Math.max(o,r.maxPoint),t.push(r),n.push(a))}}let r=this.nextLayer.map(e);return 0==t.length?r:new Me(n,t,r||Me.empty,o)}between(e,t,n){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let r=this.chunkPos[o],i=this.chunk[o];if(t>=r&&e<=r+i.length&&!1===i.between(r,e-r,t-r,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Pe.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Pe.from(e).goto(t)}static compare(e,t,n,o,r=-1){let i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=r)),s=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=r)),a=Ie(i,s,n),l=new Be(i,a,r),c=new Be(s,a,r);n.iterGaps(((e,t,n)=>je(l,e,c,t,n,o))),n.empty&&0==n.length&&je(l,0,c,0,0,o)}static eq(e,t,n=0,o){null==o&&(o=1e9);let r=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(r.length!=i.length)return!1;if(!r.length)return!0;let s=Ie(r,i),a=new Be(r,s,0).goto(n),l=new Be(i,s,0).goto(n);for(;;){if(a.to!=l.to||!Re(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>o)return!0;a.next(),l.next()}}static spans(e,t,n,o,r=-1){let i=new Be(e,null,r).goto(t),s=t,a=i.openStart;for(;;){let e=Math.min(i.to,n);if(i.point?(o.point(s,e,i.point,i.activeForPoint(i.to),a,i.pointRank),a=i.openEnd(e)+(i.to>e?1:0)):e>s&&(o.span(s,e,i.active,a),a=i.openEnd(e)),i.to>n)break;s=i.to,i.next()}return a}static of(e,t=!1){let n=new Le;for(let o of e instanceof Ae?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let o=e[n];if(Oe(t,o)>0)return e.slice().sort(Oe);t=o}return e}(e):e)n.add(o.from,o.to,o.value);return n.finish()}}Me.empty=new Me([],[],null,-1),Me.empty.nextLayer=Me.empty;class Le{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Te(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Le)).add(e,t,n)}addInner(e,t,n){let o=e-this.lastTo||n.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(o<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Me.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Me.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ie(e,t,n){let o=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&o.set(t.chunk[e],t.chunkPos[e]);let r=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let i=o.get(e.chunk[t]);null==i||(n?n.mapPos(i):i)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(i,i+e.chunk[t].length))||r.add(e.chunk[t])}return r}class Ne{constructor(e,t,n,o=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Pe{constructor(e){this.heap=e}static from(e,t=null,n=-1){let o=[];for(let r=0;r<e.length;r++)for(let i=e[r];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&o.push(new Ne(i,t,n,r));return 1==o.length?o[0]:new Pe(o)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Ue(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Ue(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ue(this.heap,0)}}}function Ue(e,t){for(let n=e[t];;){let o=1+(t<<1);if(o>=e.length)break;let r=e[o];if(o+1<e.length&&r.compare(e[o+1])>=0&&(r=e[o+1],o++),n.compare(r)<0)break;e[o]=n,e[t]=r,t=o}}class Be{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Pe.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ve(this.active,e),Ve(this.activeTo,e),Ve(this.activeRank,e),this.minActive=We(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:o,rank:r}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=r;)t++;Fe(this.active,t,n),Fe(this.activeTo,t,o),Fe(this.activeRank,t,r),e&&Fe(e,t,this.cursor.from),this.minActive=We(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null,o=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Ve(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<e&&(o=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.from<e&&this.cursor.to>e&&o++,this.cursor.next()}}}if(n){let t=0;for(;t<n.length&&n[t]<e;)t++;this.openStart=t+o}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function je(e,t,n,o,r,i){e.goto(t),n.goto(o);let s=o+r,a=o,l=o-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,o=t<0?e.to+l:n.to,r=Math.min(o,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Re(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||i.comparePoint(a,r,e.point,n.point):r>a&&!Re(e.active,n.active)&&i.compareRange(a,r,e.active,n.active),o>s)break;a=o,t<=0&&e.next(),t>=0&&n.next()}}function Re(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Ve(e,t){for(let n=t,o=e.length-1;n<o;n++)e[n]=e[n+1];e.pop()}function Fe(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function We(e,t){let n=-1,o=1e9;for(let r=0;r<t.length;r++)(t[r]-o||e[r].endSide-e[n].endSide)<0&&(n=r,o=t[r]);return n}function He(e,t,n=e.length){let o=0;for(let r=0;r<n;)9==e.charCodeAt(r)?(o+=t-o%t,r++):(o++,r=m(e,r));return o}function ze(e,t,n,o){for(let o=0,r=0;;){if(r>=t)return o;if(o==e.length)break;r+=9==e.charCodeAt(o)?n-r%n:1,o=m(e,o)}return!0===o?-1:e.length}},47421:(e,t,n)=>{"use strict";n.d(t,{$1:()=>Hn,$f:()=>Vn,AE:()=>mo,Eu:()=>fr,HQ:()=>yr,Nm:()=>Re,OO:()=>Ce,S2:()=>Ao,SJ:()=>Xo,Sd:()=>$o,Uw:()=>Yn,ZO:()=>wo,Zs:()=>Co,bF:()=>Fo,gB:()=>Wo,hJ:()=>Uo,l9:()=>oe,lg:()=>Oe,mH:()=>Go,p:()=>ie,qr:()=>so,tk:()=>Ln,v5:()=>er});var o=n(78120),r=n(28699),i=n(33952);function s(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function a(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function l(e,t){if(!t.anchorNode)return!1;try{return a(e,t.anchorNode)}catch(e){return!1}}function c(e){return 3==e.nodeType?k(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function u(e,t,n,o){return!!n&&(h(e,t,n,o,-1)||h(e,t,n,o,1))}function d(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function h(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:p(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=d(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(r<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=r<0?p(e):0}}}function p(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const f={left:0,right:0,top:0,bottom:0};function m(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function g(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class v{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,o){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=o}}let y,w=null;function b(e){if(e.setActive)return e.setActive();if(w)return e.focus(w);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==w?{get preventScroll(){return w={preventScroll:!0},!0}}:void 0),!w){w=!1;for(let e=0;e<t.length;){let n=t[e++],o=t[e++],r=t[e++];n.scrollTop!=o&&(n.scrollTop=o),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function k(e,t,n=t){let o=y||(y=document.createRange());return o.setEnd(e,n),o.setStart(e,t),o}function x(e,t,n){let o={key:t,code:t,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",o);r.synthetic=!0,e.dispatchEvent(r);let i=new KeyboardEvent("keyup",o);return i.synthetic=!0,e.dispatchEvent(i),r.defaultPrevented||i.defaultPrevented}function S(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class _{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new _(e.parentNode,d(e),t)}static after(e,t){return new _(e.parentNode,d(e)+1,t)}}const C=[];class D{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let t,n=this.dom,o=null;for(let r of this.children){if(r.dirty){if(!r.dom&&(t=o?o.nextSibling:n.firstChild)){let e=D.get(t);e&&(e.parent||e.constructor!=r.constructor)||r.reuseDOM(t)}r.sync(e),r.dirty=0}if(t=o?o.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&t!=r.dom&&(e.written=!0),r.dom.parentNode==n)for(;t&&t!=r.dom;)t=E(t);else n.insertBefore(r.dom,t);o=r.dom}for(t=o?o.nextSibling:n.firstChild,t&&e&&e.node==n&&(e.written=!0);t;)t=E(t)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let o=0==p(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==o&&t.firstChild!=t.lastChild&&(o=e==t.firstChild?-1:1),e=t}n=o<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!D.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let o=this.children[e];if(o.dom==n)return t;t+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let o=-1,r=-1,i=-1,s=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==o&&(o=a,r=l),l>t&&n.dom.parentNode==this.dom){i=a,s=c;break}c=u,l=u+n.breakAfter}return{from:r,to:s<0?n+this.length:s,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=C){this.markDirty();for(let n=e;n<t;n++){let e=this.children[n];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new A(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,n,o,r,i){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function E(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}D.prototype.breakAfter=0;class A{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function O(e,t,n,o,r,i,s,a,l){let{children:c}=e,u=c.length?c[t]:null,d=i.length?i[i.length-1]:null,h=d?d.breakAfter:s;if(!(t==o&&u&&!s&&!h&&i.length<2&&u.merge(n,r,i.length?d:null,0==n,a,l))){if(o<c.length){let e=c[o];e&&r<e.length?(t==o&&(e=e.split(r),r=0),!h&&d&&e.merge(0,r,d,!0,0,l)?i[i.length-1]=e:(r&&e.merge(0,r,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:s=1),o++}for(u&&(u.breakAfter=s,n>0&&(!s&&i.length&&u.merge(n,u.length,i[0],!1,a,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<o&&i.length;)if(c[o-1].become(i[i.length-1]))o--,i.pop(),l=i.length?0:a;else{if(!c[t].become(i[0]))break;t++,i.shift(),a=i.length?0:l}!i.length&&t&&o<c.length&&!c[t-1].breakAfter&&c[o].merge(0,0,c[t-1],!1,a,l)&&t--,(t<o||i.length)&&e.replaceChildren(t,o,i)}}function T(e,t,n,o,r,i){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),d=t-n;for(let e of o)d+=e.length;e.length+=d,O(e,c,u,a,l,o,0,r,i)}let M="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},L="undefined"!=typeof document?document:{documentElement:{style:{}}};const I=/Edge\/(\d+)/.exec(M.userAgent),N=/MSIE \d/.test(M.userAgent),P=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(M.userAgent),U=!!(N||P||I),B=!U&&/gecko\/(\d+)/i.test(M.userAgent),j=!U&&/Chrome\/(\d+)/.exec(M.userAgent),R="webkitFontSmoothing"in L.documentElement.style,V=!U&&/Apple Computer/.test(M.vendor),F=V&&(/Mobile\/\w+/.test(M.userAgent)||M.maxTouchPoints>2);var W={mac:F||/Mac/.test(M.platform),windows:/Win/.test(M.platform),linux:/Linux|X11/.test(M.platform),ie:U,ie_version:N?L.documentMode||6:P?+P[1]:I?+I[1]:0,gecko:B,gecko_version:B?+(/Firefox\/(\d+)/.exec(M.userAgent)||[0,0])[1]:0,chrome:!!j,chrome_version:j?+j[1]:0,ios:F,android:/Android\b/.test(M.userAgent),webkit:R,safari:V,webkit_version:R?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=L.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class H extends D{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return(!n||n instanceof H&&!(this.length-(t-e)+n.length>256))&&(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new H(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new _(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return $(this.dom,e,t)}}class z extends D{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(S(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,n,o,r,i){return(!n||!(!(n instanceof z&&n.mark.eq(this.mark))||e&&r<=0||t<this.length&&i<=0))&&(T(this,e,t,n?n.children:[],r-1,i-1),this.markDirty(),!0)}split(e){let t=[],n=0,o=-1,r=0;for(let i of this.children){let s=n+i.length;s>e&&t.push(n<e?i.split(e-n):i),o<0&&n>=e&&(o=r),n=s,r++}let i=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new z(this.mark,t,i)}domAtPos(e){return J(this.dom,this.children,e)}coordsAt(e,t){return Q(this,e,t)}}function $(e,t,n){let o=e.nodeValue.length;t>o&&(t=o);let r=t,i=t,s=0;0==t&&n<0||t==o&&n>=0?W.chrome||W.gecko||(t?(r--,s=1):i<o&&(i++,s=-1)):n<0?r--:i<o&&i++;let a=k(e,r,i).getClientRects();if(!a.length)return f;let l=a[(s?s<0:n>=0)?0:a.length-1];return W.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),s?m(l,s<0):l||null}class K extends D{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||K)(e,t,n)}split(e){let t=K.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,o,r,i){return!(n&&(!(n instanceof K&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof K&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return o.xv.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):o.xv.empty}domAtPos(e){return 0==e?_.before(this.dom):_.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),o=null;if(!n.length)return f;for(let t=e>0?n.length-1:0;o=n[t],!(e>0?0==t:t==n.length-1||o.top<o.bottom);t+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?o:m(o,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class q extends K{domAtPos(e){let{topView:t,text:n}=this.widget;return t?Y(e,0,t,n,((e,t)=>e.domAtPos(t)),(e=>new _(n,Math.min(e,n.nodeValue.length)))):new _(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:o}=this.widget;return n?G(e,t,n,o):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:o}=this.widget;return n?Y(e,t,n,o,((e,t,n)=>e.coordsAt(t,n)),((e,t)=>$(o,e,t))):$(o,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function Y(e,t,n,o,r,i){if(n instanceof z){for(let s of n.children){let n=a(s.dom,o),l=n?o.nodeValue.length:s.length;if(e<l||e==l&&s.getSide()<=0)return n?Y(e,t,s,o,r,i):r(s,e,t);e-=l}return r(n,n.length,-1)}return n.dom==o?i(e,t):r(n,e,t)}function G(e,t,n,o){if(n instanceof z)for(let r of n.children){let n=0,i=a(r.dom,o);if(a(r.dom,e))return n+(i?G(e,t,r,o):r.localPosFromDOM(e,t));n+=i?o.nodeValue.length:r.length}else if(n.dom==o)return Math.min(t,o.nodeValue.length);return n.localPosFromDOM(e,t)}class X extends D{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof X&&e.side==this.side}split(){return new X(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return _.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),n=function(e,t){let n=e.parent,o=n?n.children.indexOf(e):-1;for(;n&&o>=0;)if(t<0?o>0:o<n.children.length){let e=n.children[o+t];if(e instanceof H){let n=e.coordsAt(t<0?e.length:0,t);if(n)return n}o+=t}else{if(!(n instanceof z&&n.parent)){let e=n.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}o=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}get overrideDOMText(){return o.xv.empty}}function J(e,t,n){let o=0;for(let r=0;o<t.length;o++){let i=t[o],s=r+i.length;if(!(s==r&&i.getSide()<=0)){if(n>r&&n<s&&i.dom.parentNode==e)return i.domAtPos(n-r);if(n<=r)break;r=s}}for(;o>0;o--){let n=t[o-1].dom;if(n.parentNode==e)return _.after(n)}return new _(e,0)}function Z(e,t,n){let o,{children:r}=e;n>0&&t instanceof z&&r.length&&(o=r[r.length-1])instanceof z&&o.mark.eq(t.mark)?Z(o,t.children[0],n-1):(r.push(t),t.setParent(e)),e.length+=t.length}function Q(e,t,n){for(let o=0,r=0;r<e.children.length;r++){let i,s=e.children[r],a=o+s.length;if((n<=0||a==e.length||s.getSide()>0?a>=t:a>t)&&(t<a||r+1==e.children.length||(i=e.children[r+1]).length||i.getSide()>0)){let e=0;if(a==o){if(s.getSide()<=0)continue;e=n=-s.getSide()}let r=s.coordsAt(Math.max(0,t-o),n);return e&&r?m(r,n<0):r}o=a}let o=e.dom.lastChild;if(!o)return e.dom.getBoundingClientRect();let r=c(o);return r[r.length-1]||null}function ee(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function te(e,t){if(e==t)return!0;if(!e||!t)return!1;let n=Object.keys(e),o=Object.keys(t);if(n.length!=o.length)return!1;for(let r of n)if(-1==o.indexOf(r)||e[r]!==t[r])return!1;return!0}function ne(e,t,n){let o=null;if(t)for(let r in t)n&&r in n||e.removeAttribute(o=r);if(n)for(let r in n)t&&t[r]==n[r]||e.setAttribute(o=r,n[r]);return!!o}H.prototype.children=K.prototype.children=X.prototype.children=C;class oe{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var re=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(re||(re={}));class ie extends o.uU{constructor(e,t,n,o){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=o}get heightRelevant(){return!1}static mark(e){return new se(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new le(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,o=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:r,end:i}=ce(e,o);t=(r?o?-3e8:-1:5e8)-1,n=1+(i?o?2e8:1:-6e8)}return new le(e,t,n,o,e.widget||null,!0)}static line(e){return new ae(e)}static set(e,t=!1){return o.Xs.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}ie.none=o.Xs.empty;class se extends ie{constructor(e){let{start:t,end:n}=ce(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof se&&this.tagName==e.tagName&&this.class==e.class&&te(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}se.prototype.point=!1;class ae extends ie{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ae&&te(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ae.prototype.mapMode=o.gc.TrackBefore,ae.prototype.point=!0;class le extends ie{constructor(e,t,n,r,i,s){super(t,n,i,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?o.gc.TrackBefore:o.gc.TrackAfter:o.gc.TrackDel}get type(){return this.startSide<this.endSide?re.WidgetRange:this.startSide<=0?re.WidgetBefore:re.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof le&&(t=this.widget,n=e.widget,t==n||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function ce(e,t=!1){let{inclusiveStart:n,inclusiveEnd:o}=e;return null==n&&(n=e.inclusive),null==o&&(o=e.inclusive),{start:null!=n?n:t,end:null!=o?o:t}}function ue(e,t,n,o=0){let r=n.length-1;r>=0&&n[r]+o>=e?n[r]=Math.max(n[r],t):n.push(e,t)}le.prototype.point=!0;class de extends D{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,o,r,i){if(n){if(!(n instanceof de))return!1;this.dom||n.transferDOM(this)}return o&&this.setDeco(n?n.attrs:null),T(this,e,t,n?n.children:[],r,i),!0}split(e){let t=new de;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:o}=this.childPos(e);o&&(t.append(this.children[n].split(o),0),this.children[n].merge(o,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){te(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Z(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=ee(t,this.attrs||{})),n&&(this.attrs=ee({class:n},this.attrs||{}))}domAtPos(e){return J(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(S(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(ne(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let n=this.dom.lastChild;for(;n&&D.get(n)instanceof z;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(t=D.get(n))||void 0===t?void 0:t.isEditable)||W.ios&&this.children.some((e=>e instanceof H))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof H)||/[^ -~]/.test(t.text))return null;let n=c(t.dom);if(1!=n.length)return null;e+=n[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return Q(this,e,t)}become(e){return!1}get type(){return re.Text}static find(e,t){for(let n=0,o=0;n<e.children.length;n++){let r=e.children[n],i=o+r.length;if(i>=t){if(r instanceof de)return r;if(i>t)break}o=i+r.breakAfter}return null}}class he extends D{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,o,r,i){return!(n&&(!(n instanceof he&&this.widget.compare(n.widget))||e>0&&r<=0||t<this.length&&i<=0))&&(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?_.before(this.dom):_.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new he(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return C}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):o.xv.empty}domBoundsAround(){return null}become(e){return e instanceof he&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class pe{constructor(e,t,n,o){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof he&&e.type==re.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new de),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(fe(new X(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=t,this.textOff=0}let o=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,n)),this.getLine().append(fe(new H(this.text.slice(this.textOff,this.textOff+o)),t),n),this.atCursorPos=!0,this.textOff+=o,e-=o,n=0}}span(e,t,n,o){this.buildText(t-e,n,o),this.pos=t,this.openStart<0&&(this.openStart=o)}point(e,t,n,o,r,i){if(this.disallowBlockEffectsFor[i]&&n instanceof le){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof le)if(n.block){let{type:e}=n;e!=re.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new he(n.widget||new me("div"),s,e))}else{let i=K.create(n.widget||new me("span"),s,n.startSide),a=this.atCursorPos&&!i.isEditable&&r<=o.length&&(e<t||n.startSide>0),l=!i.isEditable&&(e<t||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(o),a&&(c.append(fe(new X(1),o),r),r=o.length+Math.max(0,r-o.length)),c.append(fe(i,o),r),this.atCursorPos=l,this.pendingBuffer=l?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,n,r,i){let s=new pe(e,t,n,i);return s.openEnd=o.Xs.spans(r,t,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function fe(e,t){for(let n of t)e=new z(n,[e],e.length);return e}class me extends oe{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const ge=o.r$.define(),ve=o.r$.define(),ye=o.r$.define(),we=o.r$.define(),be=o.r$.define(),ke=o.r$.define(),xe=o.r$.define({combine:e=>e.some((e=>e))});class Se{constructor(e,t="nearest",n="nearest",o=5,r=5){this.range=e,this.y=t,this.x=n,this.yMargin=o,this.xMargin=r}map(e){return e.empty?this:new Se(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const _e=o.Py.define({map:(e,t)=>e.map(t)});function Ce(e,t,n){let o=e.facet(we);o.length?o[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const De=o.r$.define({combine:e=>!e.length||e[0]});let Ee=0;const Ae=o.r$.define();class Oe{constructor(e,t,n,o){this.id=e,this.create=t,this.domEventHandlers=n,this.extension=o(this)}static define(e,t){const{eventHandlers:n,provide:o,decorations:r}=t||{};return new Oe(Ee++,e,n,(e=>{let t=[Ae.of(e)];return r&&t.push(Ie.of((t=>{let n=t.plugin(e);return n?r(n):ie.none}))),o&&t.push(o(e)),t}))}static fromClass(e,t){return Oe.define((t=>new e(t)),t)}}class Te{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Ce(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ce(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Ce(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Me=o.r$.define(),Le=o.r$.define(),Ie=o.r$.define(),Ne=o.r$.define(),Pe=o.r$.define(),Ue=o.r$.define();class Be{constructor(e,t,n,o){this.fromA=e,this.toA=t,this.fromB=n,this.toB=o}join(e){return new Be(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let o=e[t-1];if(!(o.fromA>n.toA)){if(o.toA<n.fromA)break;n=n.join(o),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let o=0,r=0,i=0,s=0;;o++){let a=o==e.length?null:e[o],l=i-s,c=a?a.fromB:1e9;for(;r<t.length&&t[r]<c;){let e=t[r],o=t[r+1],i=Math.max(s,e),a=Math.min(c,o);if(i<=a&&new Be(i+l,a+l,i,a).addToSet(n),o>c)break;r+=2}if(!a)return n;new Be(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),i=a.toA,s=a.toB}}}class je{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=o.as.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,o)=>r.push(new Be(e,t,n,o)))),this.changedRanges=r;let i=e.hasFocus;i!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=i,this.flags|=1)}static create(e,t,n){return new je(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Re=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Re||(Re={}));const Ve=Re.LTR,Fe=Re.RTL;function We(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const He=We("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ze=We("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$e=Object.create(null),Ke=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);$e[t]=n,$e[n]=-t}const qe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Ye{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?Fe:Ve}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,o){let r=-1;for(let i=0;i<e.length;i++){let s=e[i];if(s.from<=t&&s.to>=t){if(s.level==n)return i;(r<0||(0!=o?o<0?s.from<t:s.to>t:e[r].level>s.level))&&(r=i)}}if(r<0)throw new RangeError("Index out of range");return r}}const Ge=[];function Xe(e,t){let n=e.length,o=t==Ve?1:2,r=t==Ve?2:1;if(!e||1==o&&!qe.test(e))return Je(n);for(let t=0,r=o,s=o;t<n;t++){let n=(i=e.charCodeAt(t))<=247?He[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?ze[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203||8204==i?256:1;512==n?n=r:8==n&&4==s&&(n=16),Ge[t]=4==n?2:n,7&n&&(s=n),r=n}var i;for(let e=0,t=o,r=o;e<n;e++){let o=Ge[e];if(128==o)e<n-1&&t==Ge[e+1]&&24&t?o=Ge[e]=t:Ge[e]=256;else if(64==o){let o=e+1;for(;o<n&&64==Ge[o];)o++;let i=e&&8==t||o<n&&8==Ge[o]?1==r?1:8:256;for(let t=e;t<o;t++)Ge[t]=i;e=o-1}else 8==o&&1==r&&(Ge[e]=1);t=o,7&o&&(r=o)}for(let t,i,s,a=0,l=0,c=0;a<n;a++)if(i=$e[t=e.charCodeAt(a)])if(i<0){for(let e=l-3;e>=0;e-=3)if(Ke[e+1]==-i){let t=Ke[e+2],n=2&t?o:4&t?1&t?r:o:0;n&&(Ge[a]=Ge[Ke[e]]=n),l=e;break}}else{if(189==Ke.length)break;Ke[l++]=a,Ke[l++]=t,Ke[l++]=c}else if(2==(s=Ge[a])||1==s){let e=s==o;c=e?0:1;for(let t=l-3;t>=0;t-=3){let n=Ke[t+2];if(2&n)break;if(e)Ke[t+2]|=2;else{if(4&n)break;Ke[t+2]|=4}}}for(let e=0;e<n;e++)if(256==Ge[e]){let t=e+1;for(;t<n&&256==Ge[t];)t++;let r=1==(e?Ge[e-1]:o),i=r==(1==(t<n?Ge[t]:o))?r?1:2:o;for(let n=e;n<t;n++)Ge[n]=i;e=t-1}let s=[];if(1==o)for(let e=0;e<n;){let t=e,o=1!=Ge[e++];for(;e<n&&o==(1!=Ge[e]);)e++;if(o)for(let n=e;n>t;){let e=n,o=2!=Ge[--n];for(;n>t&&o==(2!=Ge[n-1]);)n--;s.push(new Ye(n,e,o?2:1))}else s.push(new Ye(t,e,0))}else for(let e=0;e<n;){let t=e,o=2==Ge[e++];for(;e<n&&o==(2==Ge[e]);)e++;s.push(new Ye(t,e,o?1:2))}return s}function Je(e){return[new Ye(0,e,0)]}let Ze="";function Qe(e,t,n,r,i){var s;let a=r.head-e.from,l=-1;if(0==a){if(!i||!e.length)return null;t[0].level!=n&&(a=t[0].side(!1,n),l=0)}else if(a==e.length){if(i)return null;let e=t[t.length-1];e.level!=n&&(a=e.side(!0,n),l=t.length-1)}l<0&&(l=Ye.find(t,a,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let c=t[l];a==c.side(i,n)&&(c=t[l+=i?1:-1],a=c.side(!i,n));let u=i==(c.dir==n),d=(0,o.cp)(e.text,a,u);if(Ze=e.text.slice(Math.min(a,d),Math.max(a,d)),d!=c.side(i,n))return o.jT.cursor(d+e.from,u?-1:1,c.level);let h=l==(i?t.length-1:0)?null:t[l+(i?1:-1)];return h||c.level==n?h&&h.level<c.level?o.jT.cursor(h.side(!i,n)+e.from,i?1:-1,h.level):o.jT.cursor(d+e.from,i?-1:1,c.level):o.jT.cursor(i?e.to:e.from,i?-1:1,n)}const et="￿";class tt{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(o.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=et}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let o=e;;){this.findPointBefore(n,o),this.readNode(o);let e=o.nextSibling;if(e==t)break;let r=D.get(o),i=D.get(e);(r&&i?r.breakAfter:(r?r.breakAfter:nt(o))||nt(e)&&("BR"!=o.nodeName||o.cmIgnore))&&this.lineBreak(),o=e}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let r,i=-1,s=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(r=o.exec(t))&&(i=r.index,s=r[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=s-1);n=i+s}}readNode(e){if(e.cmIgnore)return;let t=D.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function nt(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class ot{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class rt extends D{constructor(e){super(),this.view=e,this.compositionDeco=ie.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new de],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Be(0,0,0,e.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ie.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let n=st(e);if(!n)return ie.none;let{from:o,to:r,node:i,text:s}=n,a=t.mapPos(o,1),l=Math.max(a,t.mapPos(r,-1)),{state:c}=e,u=3==i.nodeType?i.nodeValue:new tt([],c).readRange(i.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),et)==u)l=a+u.length;else{if(c.doc.sliceString(Math.max(0,l-u.length),l,et)!=u)return ie.none;a=l-u.length}else if(c.doc.sliceString(a,l,et)!=u)return ie.none;let d=D.get(i);d instanceof q?d=d.widget.topView:d&&(d.parent=null);return ie.set(ie.replace({widget:new at(i,s,d),inclusive:!0}).range(a,l))}(this.view,e.changes)),(W.ie||W.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=function(e,t,n){let r=new ct;return o.Xs.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return t=Be.extendWithRanges(t,n),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=W.chrome||W.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(e),this.dirty=0,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof he&&e.widget instanceof it&&o.push(e.dom);n.updateGaps(o)}updateChildren(e,t){let n=this.childCursor(t);for(let t=e.length-1;;t--){let o=t>=0?e[t]:null;if(!o)break;let{fromA:r,toA:i,fromB:s,toB:a}=o,{content:l,breakAtStart:c,openStart:u,openEnd:d}=pe.build(this.view.state.doc,s,a,this.decorations,this.dynamicDecorationMap),{i:h,off:p}=n.findPos(i,1),{i:f,off:m}=n.findPos(r,-1);O(this,f,m,h,p,l,c,u,d)}}updateSelection(e=!1,t=!1){if(!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||W.ios&&this.view.inputState.rapidCompositionStart)return;let n=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,r=this.domAtPos(o.anchor),i=o.empty?r:this.domAtPos(o.head);if(W.gecko&&o.empty&&(1==(a=r).node.nodeType&&a.node.firstChild&&(0==a.offset||"false"==a.node.childNodes[a.offset-1].contentEditable)&&(a.offset==a.node.childNodes.length||"false"==a.node.childNodes[a.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>r.node.insertBefore(e,r.node.childNodes[r.offset]||null))),r=i=new _(e,0),n=!0}var a;let l=this.view.observer.selectionRange;!n&&l.focusNode&&u(r.node,r.offset,l.anchorNode,l.anchorOffset)&&u(i.node,i.offset,l.focusNode,l.focusOffset)||(this.view.observer.ignore((()=>{W.android&&W.chrome&&this.dom.contains(l.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=s(this.view.root);if(e)if(o.empty){if(W.gecko){let e=(t=r.node,n=r.offset,1!=t.nodeType?0:(n&&"false"==t.childNodes[n-1].contentEditable?1:0)|(n<t.childNodes.length&&"false"==t.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=lt(r.node,r.offset,1==e?1:-1);t&&(r=new _(t,1==e?0:t.nodeValue.length))}}e.collapse(r.node,r.offset),null!=o.bidiLevel&&null!=l.cursorBidiLevel&&(l.cursorBidiLevel=o.bidiLevel)}else if(e.extend)e.collapse(r.node,r.offset),e.extend(i.node,i.offset);else{let t=document.createRange();o.anchor>o.head&&([r,i]=[i,r]),t.setEnd(i.node,i.offset),t.setStart(r.node,r.offset),e.removeAllRanges(),e.addRange(t)}else;var t,n})),this.view.observer.setSelectionRange(r,i)),this.impreciseAnchor=r.precise?null:new _(l.anchorNode,l.anchorOffset),this.impreciseHead=i.precise?null:new _(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=s(this.view.root);if(!(t&&e.empty&&e.assoc&&t.modify))return;let n=de.find(this,e.head);if(!n)return;let o=n.posAtStart;if(e.head==o||e.head==o+n.length)return;let r=this.coordsAt(e.head,-1),i=this.coordsAt(e.head,1);if(!r||!i||r.bottom>i.top)return;let a=this.domAtPos(e.head+e.assoc);t.collapse(a.node,a.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||l(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let e=D.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof de)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,o=this.children.length-1;;o--){let r=this.children[o],i=n-r.breakAfter-r.length;if(e>i||e==i&&r.type!=re.WidgetBefore&&r.type!=re.WidgetAfter&&(!o||2==t||this.children[o-1].breakAfter||this.children[o-1].type==re.WidgetBefore&&t>-2))return r.coordsAt(e-i,t);n=i}}measureVisibleLineHeights(e){let t=[],{from:n,to:o}=e,r=this.view.contentDOM.clientWidth,i=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==Re.LTR;for(let e=0,l=0;l<this.children.length;l++){let u=this.children[l],d=e+u.length;if(d>o)break;if(e>=n){let n=u.dom.getBoundingClientRect();if(t.push(n.height),i){let t=u.dom.lastChild,o=t?c(t):[];if(o.length){let t=o[o.length-1],i=a?t.right-n.left:n.right-t.left;i>s&&(s=i,this.minWidth=r,this.minWidthFrom=e,this.minWidthTo=d)}}}e=d+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Re.RTL:Re.LTR}measureTextSize(){for(let e of this.children)if(e instanceof de){let t=e.measureTextSize();if(t)return t}let e,t,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(n);let o=c(n.firstChild)[0];e=n.getBoundingClientRect().height,t=o?o.width/27:7,n.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new A(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,o=0;;o++){let r=o==t.viewports.length?null:t.viewports[o],i=r?r.from-1:this.length;if(i>n){let o=t.lineBlockAt(i).bottom-t.lineBlockAt(n).top;e.push(ie.replace({widget:new it(o),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!r)break;n=r.to+1}return ie.set(e)}updateDeco(){let e=this.view.state.facet(Ie).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:n}=e,o=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!o)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(o={left:Math.min(o.left,t.left),top:Math.min(o.top,t.top),right:Math.max(o.right,t.right),bottom:Math.max(o.bottom,t.bottom)});let r=0,i=0,s=0,a=0;for(let e of this.view.state.facet(Pe).map((e=>e(this.view))))if(e){let{left:t,right:n,top:o,bottom:l}=e;null!=t&&(r=Math.max(r,t)),null!=n&&(i=Math.max(i,n)),null!=o&&(s=Math.max(s,o)),null!=l&&(a=Math.max(a,l))}let l={left:o.left-r,top:o.top-s,right:o.right+i,bottom:o.bottom+a};!function(e,t,n,o,r,i,s,a){let l=e.ownerDocument,c=l.defaultView;for(let u=e;u;)if(1==u.nodeType){let e,d=u==l.body;if(d)e=g(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let t=u.getBoundingClientRect();e={left:t.left,right:t.left+u.clientWidth,top:t.top,bottom:t.top+u.clientHeight}}let h=0,p=0;if("nearest"==r)t.top<e.top?(p=-(e.top-t.top+s),n>0&&t.bottom>e.bottom+p&&(p=t.bottom-e.bottom+p+s)):t.bottom>e.bottom&&(p=t.bottom-e.bottom+s,n<0&&t.top-p<e.top&&(p=-(e.top+p-t.top+s)));else{let o=t.bottom-t.top,i=e.bottom-e.top;p=("center"==r&&o<=i?t.top+o/2-i/2:"start"==r||"center"==r&&n<0?t.top-s:t.bottom-i+s)-e.top}if("nearest"==o?t.left<e.left?(h=-(e.left-t.left+i),n>0&&t.right>e.right+h&&(h=t.right-e.right+h+i)):t.right>e.right&&(h=t.right-e.right+i,n<0&&t.left<e.left+h&&(h=-(e.left+h-t.left+i))):h=("center"==o?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==o==a?t.left-i:t.right-(e.right-e.left)+i)-e.left,h||p)if(d)c.scrollBy(h,p);else{if(p){let e=u.scrollTop;u.scrollTop+=p,p=u.scrollTop-e}if(h){let e=u.scrollLeft;u.scrollLeft+=h,h=u.scrollLeft-e}t={left:t.left-h,top:t.top-p,right:t.right-h,bottom:t.bottom-p}}if(d)break;u=u.assignedSlot||u.parentNode,o=r="nearest"}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Re.LTR)}}class it extends oe{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function st(e){let t=e.observer.selectionRange,n=t.focusNode&&lt(t.focusNode,t.focusOffset,0);if(!n)return null;let o=e.docView.nearest(n);if(!o)return null;if(o instanceof de){let e=n;for(;e.parentNode!=o.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!D.get(t);)t=t.previousSibling;let r=t?D.get(t).posAtEnd:o.posAtStart;return{from:r,to:r,node:e,text:n}}{for(;;){let{parent:e}=o;if(!e)return null;if(e instanceof de)break;o=e}let e=o.posAtStart;return{from:e,to:e+o.length,node:o.dom,text:n}}}class at extends oe{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return q}}function lt(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=p(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}class ct{constructor(){this.changes=[]}compareRange(e,t){ue(e,t,this.changes)}comparePoint(e,t){ue(e,t,this.changes)}}function ut(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function dt(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function ht(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function pt(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function ft(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function mt(e,t,n){let o,r,i,s,a,l,u,d,h=!1;for(let p=e.firstChild;p;p=p.nextSibling){let e=c(p);for(let c=0;c<e.length;c++){let f=e[c];r&&ht(r,f)&&(f=pt(ft(f,r.bottom),r.top));let m=ut(t,f),g=dt(n,f);if(0==m&&0==g)return 3==p.nodeType?gt(p,t,n):mt(p,t,n);(!o||s>g||s==g&&i>m)&&(o=p,r=f,i=m,s=g,h=!m||(m>0?c<e.length-1:c>0)),0==m?n>f.bottom&&(!u||u.bottom<f.bottom)?(a=p,u=f):n<f.top&&(!d||d.top>f.top)&&(l=p,d=f):u&&ht(u,f)?u=ft(u,f.bottom):d&&ht(d,f)&&(d=pt(d,f.top))}}if(u&&u.bottom>=n?(o=a,r=u):d&&d.top<=n&&(o=l,r=d),!o)return{node:e,offset:0};let p=Math.max(r.left,Math.min(r.right,t));return 3==o.nodeType?gt(o,p,n):h&&"false"!=o.contentEditable?mt(o,p,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,o)+(t>=(r.left+r.right)/2?1:0)}}function gt(e,t,n){let o=e.nodeValue.length,r=-1,i=1e9,s=0;for(let a=0;a<o;a++){let o=k(e,a,a+1).getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(c.top==c.bottom)continue;s||(s=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<i){let n=t>=(c.left+c.right)/2,o=n;if(W.chrome||W.gecko){k(e,a).getBoundingClientRect().left==c.right&&(o=!n)}if(u<=0)return{node:e,offset:a+(o?1:0)};r=a+(o?1:0),i=u}}}return{node:e,offset:r>-1?r:s>0?e.nodeValue.length:0}}function vt(e,{x:t,y:n},o,r=-1){var i;let s,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,u=n-l;if(u<0)return 0;if(u>c)return e.state.doc.length;for(let t=e.defaultLineHeight/2,n=!1;s=e.elementAtHeight(u),s.type!=re.Text;)for(;u=r>0?s.bottom+t:s.top-t,!(u>=0&&u<=c);){if(n)return o?null:0;n=!0,r=-r}n=l+u;let d=s.from;if(d<e.viewport.from)return 0==e.viewport.from?0:o?null:yt(e,a,s,t,n);if(d>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:o?null:yt(e,a,s,t,n);let h=e.dom.ownerDocument,p=e.root.elementFromPoint?e.root:h,f=p.elementFromPoint(t,n);f&&!e.contentDOM.contains(f)&&(f=null),f||(t=Math.max(a.left+1,Math.min(a.right-1,t)),f=p.elementFromPoint(t,n),f&&!e.contentDOM.contains(f)&&(f=null));let m,g=-1;if(f&&0!=(null===(i=e.docView.nearest(f))||void 0===i?void 0:i.isEditable))if(h.caretPositionFromPoint){let e=h.caretPositionFromPoint(t,n);e&&({offsetNode:m,offset:g}=e)}else if(h.caretRangeFromPoint){let o=h.caretRangeFromPoint(t,n);o&&(({startContainer:m,startOffset:g}=o),(!e.contentDOM.contains(m)||W.safari&&function(e,t,n){let o;if(3!=e.nodeType||t!=(o=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return k(e,o-1,o).getBoundingClientRect().left>n}(m,g,t)||W.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}let o=1==e.nodeType?e.getBoundingClientRect():k(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-o.left>5}(m,g,t))&&(m=void 0))}if(!m||!e.docView.dom.contains(m)){let o=de.find(e.docView,d);if(!o)return u>s.top+s.height/2?s.to:s.from;({node:m,offset:g}=mt(o.dom,t,n))}return e.docView.posFromDOM(m,g)}function yt(e,t,n,r,i){let s=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){s+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+(0,o.Gz)(a,s,e.state.tabSize)}function wt(e,t,n,r){let i=e.state.doc.lineAt(t.head),s=e.bidiSpans(i),a=e.textDirectionAt(i.from);for(let l=t,c=null;;){let t=Qe(i,s,a,l,n),u=Ze;if(!t){if(i.number==(n?e.state.doc.lines:1))return l;u="\n",i=e.state.doc.line(i.number+(n?1:-1)),s=e.bidiSpans(i),t=o.jT.cursor(n?i.from:i.to)}if(c){if(!c(u))return l}else{if(!r)return t;c=r(u)}l=t}}function bt(e,t,n){let r=e.state.facet(Ne).map((t=>t(e)));for(;;){let e=!1;for(let i of r)i.between(n.from-1,n.from+1,((r,i,s)=>{n.from>r&&n.from<i&&(n=t.from>n.from?o.jT.cursor(r,1):o.jT.cursor(i,-1),e=!0)}));if(!e)return n}}class kt{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Dt){let n=Dt[t];e.contentDOM.addEventListener(t,(o=>{Ct(e,o)&&!this.ignoreDuringComposition(o)&&("keydown"==t&&this.keydown(e,o)||(this.mustFlushObserver(o)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,o)?o.preventDefault():n(e,o)))}),Et[t]),this.registeredEvents.push(t)}W.chrome&&102==W.chrome_version&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,W.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var n;let o;this.customHandlers=[];for(let r of t)if(o=null===(n=r.update(e).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:r.value,handlers:o});for(let t in o)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(n=>{Ct(e,n)&&this.runCustomHandlers(t,e,n)&&n.preventDefault()})))}}runCustomHandlers(e,t,n){for(let o of this.customHandlers){let r=o.handlers[e];if(r)try{if(r.call(o.plugin,n,t)||n.defaultPrevented)return!0}catch(e){Ce(t.state,e)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let o=n.handlers.scroll;if(o)try{o.call(n.plugin,t,e)}catch(t){Ce(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(W.android&&W.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return!(!W.ios||!(n=xt.find((e=>e.keyCode==t.keyCode)))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic)&&(this.pendingIOSKey=n,setTimeout((()=>this.flushIOSKey(e)),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,x(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(W.safari&&!W.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!W.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const xt=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],St=[16,17,18,20,91,92,224,225];class _t{constructor(e,t,n,r){this.view=e,this.style=n,this.mustSelect=r,this.lastEvent=t;let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(o.yy.allowMultipleSelections)&&function(e,t){let n=e.state.facet(ge);return n.length?n[0](t):W.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let n=e.state.facet(ve);return n.length?n[0](t):W.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let o=s(e.root);if(!o||0==o.rangeCount)return!0;let r=o.getRangeAt(0).getClientRects();for(let e=0;e<r.length;e++){let n=r[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Rt(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Ct(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,o=t.target;o!=e.contentDOM;o=o.parentNode)if(!o||11==o.nodeType||(n=D.get(o))&&n.ignoreEvent(t))return!1;return!0}const Dt=Object.create(null),Et=Object.create(null),At=W.ie&&W.ie_version<15||W.ios&&W.webkit_version<604;function Ot(e,t){let n,{state:r}=e,i=1,s=r.toText(t),a=s.lines==r.selection.ranges.length;if(null!=Ft&&r.selection.ranges.every((e=>e.empty))&&Ft==s.toString()){let e=-1;n=r.changeByRange((n=>{let l=r.doc.lineAt(n.from);if(l.from==e)return{range:n};e=l.from;let c=r.toText((a?s.line(i++).text:t)+r.lineBreak);return{changes:{from:l.from,insert:c},range:o.jT.cursor(n.from+c.length)}}))}else n=a?r.changeByRange((e=>{let t=s.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:o.jT.cursor(e.from+t.length)}})):r.replaceSelection(s);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Tt(e,t,n,r){if(1==r)return o.jT.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),s=t-i.from;if(0==i.length)return o.jT.cursor(t);0==s?n=1:s==i.length&&(n=-1);let a=s,l=s;n<0?a=(0,o.cp)(i.text,s,!1):l=(0,o.cp)(i.text,s);let c=r(i.text.slice(a,l));for(;a>0;){let e=(0,o.cp)(i.text,a,!1);if(r(i.text.slice(e,a))!=c)break;a=e}for(;l<i.length;){let e=(0,o.cp)(i.text,l);if(r(i.text.slice(l,e))!=c)break;l=e}return o.jT.range(a+i.from,l+i.from)}(e.state,t,n);{let n=de.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),i=n?n.posAtStart:r.from,s=n?n.posAtEnd:r.to;return s<e.state.doc.length&&s==r.to&&s++,o.jT.range(i,s)}}Dt.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():St.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},Dt.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Dt.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Et.touchstart=Et.touchmove={passive:!0},Dt.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3&&1==Rt(t))return;let n=null;for(let o of e.state.facet(ye))if(n=o(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=Nt(e,t),r=Rt(t),i=e.state.selection,s=n,a=t;return{update(e){e.docChanged&&(n&&(n.pos=e.changes.mapPos(n.pos)),i=i.map(e.changes),a=null)},get(t,l,c){let u;if(a&&t.clientX==a.clientX&&t.clientY==a.clientY?u=s:(u=s=Nt(e,t),a=t),!u||!n)return i;let d=Tt(e,u.pos,u.bias,r);if(n.pos!=u.pos&&!l){let t=Tt(e,n.pos,n.bias,r),i=Math.min(t.from,d.from),s=Math.max(t.to,d.to);d=i<d.from?o.jT.range(i,s):o.jT.range(s,i)}return l?i.replaceRange(i.main.extend(d.from,d.to)):c&&i.ranges.length>1&&i.ranges.some((e=>e.eq(d)))?function(e,t){for(let n=0;;n++)if(e.ranges[n].eq(t))return o.jT.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}(i,d):c?i.addRange(d):o.jT.create([d])}}}(e,t)),n){let o=e.root.activeElement!=e.contentDOM;o&&e.observer.ignore((()=>b(e.contentDOM))),e.inputState.startMouseSelection(new _t(e,t,n,o))}};let Mt=(e,t)=>e>=t.top&&e<=t.bottom,Lt=(e,t,n)=>Mt(t,n)&&e>=n.left&&e<=n.right;function It(e,t,n,o){let r=de.find(e.docView,t);if(!r)return 1;let i=t-r.posAtStart;if(0==i)return 1;if(i==r.length)return-1;let s=r.coordsAt(i,-1);if(s&&Lt(n,o,s))return-1;let a=r.coordsAt(i,1);return a&&Lt(n,o,a)?1:s&&Mt(o,s)?-1:1}function Nt(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:It(e,n,t.clientX,t.clientY)}}const Pt=W.ie&&W.ie_version<=11;let Ut=null,Bt=0,jt=0;function Rt(e){if(!Pt)return e.detail;let t=Ut,n=jt;return Ut=e,jt=Date.now(),Bt=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Bt+1)%3:1}function Vt(e,t,n,o){if(!n)return;let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:i}=e.inputState,s=o&&i&&i.dragging&&i.dragMove?{from:i.dragging.from,to:i.dragging.to}:null,a={from:r,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}Dt.dragstart=(e,t)=>{let{selection:{main:n}}=e.state,{mouseSelection:o}=e.inputState;o&&(o.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},Dt.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();let o=Array(n.length),r=0,i=()=>{++r==n.length&&Vt(e,t,o.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(o[e]=t.result),i()},t.readAsText(n[e])}}else Vt(e,t,t.dataTransfer.getData("Text"),!0)},Dt.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let n=At?null:t.clipboardData;n?(Ot(e,n.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Ot(e,n.value)}),50)}(e)};let Ft=null;function Wt(e){setTimeout((()=>{e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}function Ht(e,t){if(e.docView.compositionDeco.size){e.inputState.rapidCompositionStart=t;try{e.update([])}finally{e.inputState.rapidCompositionStart=!1}}}Dt.copy=Dt.cut=(e,t)=>{let{text:n,ranges:o,linewise:r}=function(e){let t=[],n=[],o=!1;for(let o of e.selection.ranges)o.empty||(t.push(e.sliceDoc(o.from,o.to)),n.push(o));if(!t.length){let r=-1;for(let{from:o}of e.selection.ranges){let i=e.doc.lineAt(o);i.number>r&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),r=i.number}o=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:o}}(e.state);if(!n&&!r)return;Ft=r?n:null;let i=At?null:t.clipboardData;i?(t.preventDefault(),i.clearData(),i.setData("text/plain",n)):function(e,t){let n=e.dom.parentNode;if(!n)return;let o=n.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=t,o.focus(),o.selectionEnd=t.length,o.selectionStart=0,setTimeout((()=>{o.remove(),e.focus()}),50)}(e,n),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"})},Dt.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Wt(e)},Dt.blur=e=>{e.observer.clearSelectionRange(),Wt(e)},Dt.compositionstart=Dt.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.compositionDeco.size&&(e.observer.flush(),Ht(e,!0)))},Dt.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,setTimeout((()=>{e.inputState.composing<0&&Ht(e,!1)}),50)},Dt.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Dt.beforeinput=(e,t)=>{var n;let o;if(W.chrome&&W.android&&(o=xt.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const zt=["pre-wrap","normal","pre-line","break-spaces"];class $t{constructor(){this.doc=o.xv.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return zt.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let o=e[n];o<0?n++:this.heightSamples[Math.floor(10*o)]||(t=!0,this.heightSamples[Math.floor(10*o)]=!0)}return t}refresh(e,t,n,o,r){let i=zt.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=i;if(this.lineWrapping=i,this.lineHeight=t,this.charWidth=n,this.lineLength=o,s){this.heightSamples={};for(let e=0;e<r.length;e++){let t=r[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class Kt{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class qt{constructor(e,t,n,o,r){this.from=e,this.length=t,this.top=n,this.height=o,this.type=r}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new qt(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Yt=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Yt||(Yt={}));const Gt=.001;class Xt{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Gt&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return Xt.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,o){let r=this;for(let i=o.length-1;i>=0;i--){let{fromA:s,toA:a,fromB:l,toB:c}=o[i],u=r.lineAt(s,Yt.ByPosNoHeight,t,0,0),d=u.to>=a?u:r.lineAt(a,Yt.ByPosNoHeight,t,0,0);for(c+=d.to-a,a=d.to;i>0&&u.from<=o[i-1].toA;)s=o[i-1].fromA,l=o[i-1].fromB,i--,s<u.from&&(u=r.lineAt(s,Yt.ByPosNoHeight,t,0,0));l+=u.from-s,s=u.from;let h=nn.build(n,e,l,c);r=r.replace(s,a,h)}return r.updateHeight(n,0)}static empty(){return new Zt(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,o=0,r=0;for(;;)if(t==n)if(o>2*r){let r=e[t-1];r.break?e.splice(--t,1,r.left,null,r.right):e.splice(--t,1,r.left,r.right),n+=1+r.break,o-=r.size}else{if(!(r>2*o))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,r-=t.size}}else if(o<r){let n=e[t++];n&&(o+=n.size)}else{let t=e[--n];t&&(r+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new en(Xt.of(e.slice(0,t)),i,Xt.of(e.slice(n)))}}Xt.prototype.size=1;class Jt extends Xt{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,o){return new qt(o,this.length,n,this.height,this.type)}lineAt(e,t,n,o,r){return this.blockAt(0,n,o,r)}forEachLine(e,t,n,o,r,i){e<=r+this.length&&t>=r&&i(this.blockAt(0,n,o,r))}updateHeight(e,t=0,n=!1,o){return o&&o.from<=t&&o.more&&this.setHeight(e,o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Zt extends Jt{constructor(e,t){super(e,t,re.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let o=n[0];return 1==n.length&&(o instanceof Zt||o instanceof Qt&&4&o.flags)&&Math.abs(this.length-o.length)<10?(o instanceof Qt?o=new Zt(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):Xt.of(n)}updateHeight(e,t=0,n=!1,o){return o&&o.from<=t&&o.more?this.setHeight(e,o.heights[o.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qt extends Xt{constructor(e){super(e,0)}lines(e,t){let n=e.lineAt(t).number,o=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:o,lineHeight:this.height/(o-n+1)}}blockAt(e,t,n,o){let{firstLine:r,lastLine:i,lineHeight:s}=this.lines(t,o),a=Math.max(0,Math.min(i-r,Math.floor((e-n)/s))),{from:l,length:c}=t.line(r+a);return new qt(l,c,n+s*a,s,re.Text)}lineAt(e,t,n,o,r){if(t==Yt.ByHeight)return this.blockAt(e,n,o,r);if(t==Yt.ByPosNoHeight){let{from:t,to:o}=n.lineAt(e);return new qt(t,o-t,0,0,re.Text)}let{firstLine:i,lineHeight:s}=this.lines(n,r),{from:a,length:l,number:c}=n.lineAt(e);return new qt(a,l,o+s*(c-i),s,re.Text)}forEachLine(e,t,n,o,r,i){let{firstLine:s,lineHeight:a}=this.lines(n,r);for(let l=Math.max(e,r),c=Math.min(r+this.length,t);l<=c;){let t=n.lineAt(l);l==e&&(o+=a*(t.number-s)),i(new qt(t.from,t.length,o,a,re.Text)),o+=a,l=t.to+1}}replace(e,t,n){let o=this.length-t;if(o>0){let e=n[n.length-1];e instanceof Qt?n[n.length-1]=new Qt(e.length+o):n.push(null,new Qt(o-1))}if(e>0){let t=n[0];t instanceof Qt?n[0]=new Qt(e+t.length):n.unshift(new Qt(e-1),null)}return Xt.of(n)}decomposeLeft(e,t){t.push(new Qt(e-1),null)}decomposeRight(e,t){t.push(null,new Qt(this.length-e-1))}updateHeight(e,t=0,n=!1,o){let r=t+this.length;if(o&&o.from<=t+this.length&&o.more){let n=[],i=Math.max(t,o.from),s=-1,a=e.heightChanged;for(o.from>t&&n.push(new Qt(o.from-t-1).updateHeight(e,t));i<=r&&o.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let r=o.heights[o.index++];-1==s?s=r:Math.abs(r-s)>=Gt&&(s=-2);let a=new Zt(t,r);a.outdated=!1,n.push(a),i+=t+1}i<=r&&n.push(null,new Qt(r-i).updateHeight(e,i));let l=Xt.of(n);return e.heightChanged=a||s<0||Math.abs(l.height-this.height)>=Gt||Math.abs(s-this.lines(e.doc,t).lineHeight)>=Gt,l}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class en extends Xt{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,o){let r=n+this.left.height;return e<r?this.left.blockAt(e,t,n,o):this.right.blockAt(e,t,r,o+this.left.length+this.break)}lineAt(e,t,n,o,r){let i=o+this.left.height,s=r+this.left.length+this.break,a=t==Yt.ByHeight?e<i:e<s,l=a?this.left.lineAt(e,t,n,o,r):this.right.lineAt(e,t,n,i,s);if(this.break||(a?l.to<s:l.from>s))return l;let c=t==Yt.ByPosNoHeight?Yt.ByPosNoHeight:Yt.ByPos;return a?l.join(this.right.lineAt(s,c,n,i,s)):this.left.lineAt(s,c,n,o,r).join(l)}forEachLine(e,t,n,o,r,i){let s=o+this.left.height,a=r+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,o,r,i),t>=a&&this.right.forEachLine(e,t,n,s,a,i);else{let l=this.lineAt(a,Yt.ByPos,n,o,r);e<l.from&&this.left.forEachLine(e,l.from-1,n,o,r,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,i)}}replace(e,t,n){let o=this.left.length+this.break;if(t<o)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-o,t-o,n));let r=[];e>0&&this.decomposeLeft(e,r);let i=r.length;for(let e of n)r.push(e);if(e>0&&tn(r,i-1),t<this.length){let e=r.length;this.decomposeRight(t,r),tn(r,e)}return Xt.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,o=n+this.break;if(e>=o)return this.right.decomposeRight(e-o,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<o&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Xt.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,o){let{left:r,right:i}=this,s=t+r.length+this.break,a=null;return o&&o.from<=t+r.length&&o.more?a=r=r.updateHeight(e,t,n,o):r.updateHeight(e,t,n),o&&o.from<=s+i.length&&o.more?a=i=i.updateHeight(e,s,n,o):i.updateHeight(e,s,n),a?this.balanced(r,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function tn(e,t){let n,o;null==e[t]&&(n=e[t-1])instanceof Qt&&(o=e[t+1])instanceof Qt&&e.splice(t-1,3,new Qt(n.length+1+o.length))}class nn{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Zt?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Zt(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let o=n.widget?n.widget.estimatedHeight:0;o<0&&(o=this.oracle.lineHeight);let r=t-e;n.block?this.addBlock(new Jt(r,o,n.type)):(r||o>=5)&&this.addLineDeco(o,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Zt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Qt(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Zt)return e;let t=new Zt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=re.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=re.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Zt||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Zt(0,-1));let n=e;for(let e of this.nodes)e instanceof Zt&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let i=new nn(n,e);return o.Xs.spans(t,n,r,i,0),i.finish(n)}}class on{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,o){(e<t||n&&n.heightRelevant||o&&o.heightRelevant)&&ue(e,t,this.changes,5)}}function rn(e,t){let n=e.getBoundingClientRect(),o=Math.max(0,n.left),r=Math.min(innerWidth,n.right),i=Math.max(0,n.top),s=Math.min(innerHeight,n.bottom),a=e.ownerDocument.body;for(let t=e.parentNode;t&&t!=a;)if(1==t.nodeType){let n=t,a=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=a.overflow){let a=n.getBoundingClientRect();o=Math.max(o,a.left),r=Math.min(r,a.right),i=Math.max(i,a.top),s=t==e.parentNode?a.bottom:Math.min(s,a.bottom)}t="absolute"==a.position||"fixed"==a.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:o-n.left,right:Math.max(o,r)-n.left,top:i-(n.top+t),bottom:Math.max(i,s)-(n.top+t)}}function sn(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class an{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],r=t[n];if(o.from!=r.from||o.to!=r.to||o.size!=r.size)return!1}return!0}draw(e){return ie.replace({widget:new ln(this.size,e)}).range(this.from,this.to)}}class ln extends oe{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cn{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new $t,this.scaler=gn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Re.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(Ie).filter((e=>"function"!=typeof e)),this.heightMap=Xt.empty().applyChanges(this.stateDeco,o.xv.empty,this.heightOracle.setDoc(e.doc),[new Be(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ie.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let o=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>o>=e&&o<=t))){let{from:t,to:n}=this.lineBlockAt(o);e.push(new un(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?gn:new vn(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:yn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Ie).filter((e=>"function"!=typeof e));let r=e.changedRanges,i=Be.extendWithRanges(r,function(e,t,n){let r=new on;return o.Xs.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:o.as.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=s&&(e.flags|=2);let a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),o=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Re.RTL:Re.LTR;let i=this.heightOracle.mustRefreshForWrapping(r),s=i||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,l=0,c=parseInt(n.paddingTop)||0,u=parseInt(n.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==u||(this.paddingTop=c,this.paddingBottom=u,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let d=(this.printing?sn:rn)(t,this.paddingTop),h=d.top-this.pixelViewport.top,p=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(s=!0)),!this.inView)return 0;let m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,a|=8),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(t)&&(i=!0),i||o.lineWrapping&&Math.abs(m-this.contentDOMWidth)>o.charWidth){let{lineHeight:n,charWidth:s}=e.docView.measureTextSize();i=o.refresh(r,n,s,m/s,t),i&&(e.docView.minWidth=0,a|=8)}h>0&&p>0?l=Math.max(h,p):h<0&&p<0&&(l=Math.min(h,p)),o.heightChanged=!1;for(let n of this.viewports){let r=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=this.heightMap.updateHeight(o,0,i,new Kt(n.from,r))}o.heightChanged&&(a|=2)}let g=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return g&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||g)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,r=this.state.doc,{visibleTop:i,visibleBottom:s}=this,a=new un(o.lineAt(i-1e3*n,Yt.ByHeight,r,0,0).from,o.lineAt(s+1e3*(1-n),Yt.ByHeight,r,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=o.lineAt(e,Yt.ByPos,r,0,0);n="center"==t.y?(s.top+s.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<a.from?s.top:s.bottom-i,a=new un(o.lineAt(n-500,Yt.ByHeight,r,0,0).from,o.lineAt(n+i+500,Yt.ByHeight,r,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),o=t.mapPos(e.to,1);return new un(this.heightMap.lineAt(n,Yt.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(o,Yt.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(e,Yt.ByPos,this.state.doc,0,0),{bottom:r}=this.heightMap.lineAt(t,Yt.ByPos,this.state.doc,0,0),{visibleTop:i,visibleBottom:s}=this;return(0==e||o<=i-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||r>=s+Math.max(10,Math.min(n,250)))&&o>i-2e3&&r<s+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let o of e)t.touchesRange(o.from,o.to)||n.push(new an(t.mapPos(o.from),t.mapPos(o.to),o.size));return n}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=Re.LTR)return t;for(let n of this.viewportLines){if(n.length<4e3)continue;let o,r,i=dn(n.from,n.to,this.stateDeco);if(i.total<4e3)continue;if(this.heightOracle.lineWrapping){let e=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;o=hn(i,(this.visibleTop-n.top-e)/n.height),r=hn(i,(this.visibleBottom-n.top+e)/n.height)}else{let e=i.total*this.heightOracle.charWidth,t=2e3*this.heightOracle.charWidth;o=hn(i,(this.pixelViewport.left-t)/e),r=hn(i,(this.pixelViewport.right+t)/e)}let s=[];o>n.from&&s.push({from:n.from,to:o}),r<n.to&&s.push({from:r,to:n.to});let a=this.state.selection.main;a.from>=n.from&&a.from<=n.to&&fn(s,a.from-10,a.from+10),!a.empty&&a.to>=n.from&&a.to<=n.to&&fn(s,a.to-10,a.to+10);for(let{from:o,to:r}of s)r-o>1e3&&t.push(mn(e,(e=>e.from>=n.from&&e.to<=n.to&&Math.abs(e.from-o)<1e3&&Math.abs(e.to-r)<1e3))||new an(o,r,this.gapSize(n,o,r,i)))}return t}gapSize(e,t,n,o){let r=pn(o,n)-pn(o,t);return this.heightOracle.lineWrapping?e.height*r:o.total*this.heightOracle.charWidth*r}updateLineGaps(e){an.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ie.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];o.Xs.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||yn(this.heightMap.lineAt(e,Yt.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return yn(this.heightMap.lineAt(this.scaler.fromDOM(e),Yt.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return yn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class un{constructor(e,t){this.from=e,this.to=t}}function dn(e,t,n){let r=[],i=e,s=0;return o.Xs.spans(n,e,t,{span(){},point(e,t){e>i&&(r.push({from:i,to:e}),s+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),s+=t-i),{total:s,ranges:r}}function hn({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let o=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:r}=t[e],i=r-n;if(o<=i)return n+o;o-=i}}function pn(e,t){let n=0;for(let{from:o,to:r}of e.ranges){if(t<=r){n+=t-o;break}n+=r-o}return n/e.total}function fn(e,t,n){for(let o=0;o<e.length;o++){let r=e[o];if(r.from<n&&r.to>t){let i=[];r.from<t&&i.push({from:r.from,to:t}),r.to>n&&i.push({from:n,to:r.to}),e.splice(o,1,...i),o+=i.length-1}}}function mn(e,t){for(let n of e)if(t(n))return n}const gn={toDOM:e=>e,fromDOM:e=>e,scale:1};class vn{constructor(e,t,n){let o=0,r=0,i=0;this.viewports=n.map((({from:n,to:r})=>{let i=t.lineAt(n,Yt.ByPos,e,0,0).top,s=t.lineAt(r,Yt.ByPos,e,0,0).bottom;return o+=s-i,{from:n,to:r,top:i,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-o)/(t.height-o);for(let e of this.viewports)e.domTop=i+(e.top-r)*this.scale,i=e.domBottom=e.domTop+(e.bottom-e.top),r=e.bottom}toDOM(e){for(let t=0,n=0,o=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return o+(e-n)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);n=r.bottom,o=r.domBottom}}fromDOM(e){for(let t=0,n=0,o=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return n+(e-o)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);n=r.bottom,o=r.domBottom}}}function yn(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),o=t.toDOM(e.bottom);return new qt(e.from,e.length,n,o-n,Array.isArray(e.type)?e.type.map((e=>yn(e,t))):e.type)}const wn=o.r$.define({combine:e=>e.join(" ")}),bn=o.r$.define({combine:e=>e.indexOf(!0)>-1}),kn=r.V.newName(),xn=r.V.newName(),Sn=r.V.newName(),_n={"&light":"."+xn,"&dark":"."+Sn};function Cn(e,t,n){return new r.V(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const Dn=Cn("."+kn,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},_n),En={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},An=W.ie&&W.ie_version<=11;class On{constructor(e,t,n){this.view=e,this.onChange=t,this.onScrollChanged=n,this.active=!1,this.selectionRange=new v,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(W.ie&&W.ie_version<=11||W.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),An&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver((()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()})),this.resize.observe(e.scrollDOM)),this.win=e.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,n=this.selectionRange;if(t.state.facet(De)?t.root.activeElement!=this.dom:!l(t.dom,n))return;let o=n.anchorNode&&t.docView.nearest(n.anchorNode);o&&o.ignoreEvent(e)||((W.ie&&W.ie_version<=11||W.android&&W.chrome)&&!t.state.selection.main.empty&&n.focusNode&&u(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:e}=this,t=W.safari&&11==e.root.nodeType&&function(){let e=document.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}()==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let o=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);u(a.node,a.offset,i,s)&&([o,r,i,s]=[i,s,o,r]);return{anchorNode:o,anchorOffset:r,focusNode:i,focusOffset:s}}(this.view)||s(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=l(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,o=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=o)return!1;for(;;)if(o){if(1!=n.nodeType)return!1;let e=n.childNodes[o-1];"false"==e.contentEditable?o--:(n=e,o=p(n))}else{if(n==e)return!0;o=d(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,En),An&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),An&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame((()=>{let e=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||x(this.dom,e.key,e.keyCode)})),this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,n=-1,o=!1;for(let r of e){let e=this.readMutation(r);e&&(e.typeOver&&(o=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:o}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:n,typeOver:o}=this.processRecords(),r=this.selectionChanged&&l(this.dom,this.selectionRange);if(t<0&&!r)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=this.view.state,s=this.onChange(t,n,o);return this.view.state==i&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let n=Tn(t,e.previousSibling||e.target.previousSibling,-1),o=Tn(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:o?t.posBefore(o):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resize)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function Tn(e,t,n){for(;t;){let o=D.get(t);if(o&&o.parent==e)return o;let r=t.parentNode;t=r!=e.dom?r:n>0?t.nextSibling:t.previousSibling}return null}function Mn(e,t,n,r){let i,s,l=e.state.selection.main;if(t>-1){let r=e.docView.domBoundsAround(t,n,0);if(!r||e.state.readOnly)return!1;let{from:a,to:c}=r,u=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:i}=e.observer.selectionRange;n&&(t.push(new ot(n,o)),r==n&&i==o||t.push(new ot(r,i)));return t}(e),d=new tt(u,e.state);d.readRange(r.startDOM,r.endDOM);let h=l.from,p=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||W.android&&d.text.length<c-a)&&(h=l.to,p="end");let f=function(e,t,n,o){let r=Math.min(e.length,t.length),i=0;for(;i<r&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==r&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==o){n-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.length<t.length){i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i}else if(a<i){i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i}return{from:i,toA:s,toB:a}}(e.state.doc.sliceString(a,c,et),d.text,h-a,p);f&&(W.chrome&&13==e.inputState.lastKeyCode&&f.toB==f.from+2&&"￿￿"==d.text.slice(f.from,f.toB)&&f.toB--,i={from:a+f.from,to:a+f.toA,insert:o.xv.of(d.text.slice(f.from,f.toB).split(et))}),s=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?o.jT.single(n+t,r+t):null}(u,a)}else if(e.hasFocus||!e.state.facet(De)){let t=e.observer.selectionRange,{impreciseHead:n,impreciseAnchor:r}=e.docView,i=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!a(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),c=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!a(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);i==l.head&&c==l.anchor||(s=o.jT.single(c,i))}if(!i&&!s)return!1;if(!i&&r&&!l.empty&&s&&s.main.empty?i={from:l.from,to:l.to,insert:e.state.doc.slice(l.from,l.to)}:i&&i.from>=l.from&&i.to<=l.to&&(i.from!=l.from||i.to!=l.to)&&l.to-l.from-(i.to-i.from)<=4?i={from:l.from,to:l.to,insert:e.state.doc.slice(l.from,i.from).append(i.insert).append(e.state.doc.slice(i.to,l.to))}:(W.mac||W.android)&&i&&i.from==i.to&&i.from==l.head-1&&"."==i.insert.toString()&&(i={from:l.from,to:l.to,insert:o.xv.of([" "])}),i){let t=e.state;if(W.ios&&e.inputState.flushIOSKey(e))return!0;if(W.android&&(i.from==l.from&&i.to==l.to&&1==i.insert.length&&2==i.insert.lines&&x(e.contentDOM,"Enter",13)||i.from==l.from-1&&i.to==l.to&&0==i.insert.length&&x(e.contentDOM,"Backspace",8)||i.from==l.from&&i.to==l.to+1&&0==i.insert.length&&x(e.contentDOM,"Delete",46)))return!0;let n,r=i.insert.toString();if(e.state.facet(ke).some((t=>t(e,i.from,i.to,r))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,i.from>=l.from&&i.to<=l.to&&i.to-i.from>=(l.to-l.from)/3&&(!s||s.main.empty&&s.main.from==i.from+i.insert.length)&&e.inputState.composing<0){let o=l.from<i.from?t.sliceDoc(l.from,i.from):"",r=l.to>i.to?t.sliceDoc(i.to,l.to):"";n=t.replaceSelection(e.state.toText(o+i.insert.sliceString(0,void 0,e.state.lineBreak)+r))}else{let r=t.changes(i),a=s&&!t.selection.main.eq(s.main)&&s.main.to<=r.newLength?s.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&i.to<=l.to&&i.to>=l.to-10){let s=e.state.sliceDoc(i.from,i.to),c=st(e)||e.state.doc.lineAt(l.head),u=l.to-i.to,d=l.to-l.from;n=t.changeByRange((n=>{if(n.from==l.from&&n.to==l.to)return{changes:r,range:a||n.map(r)};let h=n.to-u,p=h-s.length;if(n.to-n.from!=d||e.state.sliceDoc(p,h)!=s||c&&n.to>=c.from&&n.from<=c.to)return{range:n};let f=t.changes({from:p,to:h,insert:i.insert}),m=n.to-l.to;return{changes:f,range:a?o.jT.range(Math.max(0,a.anchor+m),Math.max(0,a.head+m)):n.map(f)}}))}else n={changes:r,selection:a&&t.selection.replaceRange(a)}}let a="input.type";return e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(n,{scrollIntoView:!0,userEvent:a}),!0}if(s&&!s.main.eq(l)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:s,scrollIntoView:t,userEvent:n}),!0}return!1}class Ln{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new cn(e.state||o.yy.create(e)),this.plugins=this.state.facet(Ae).map((e=>new Te(e)));for(let e of this.plugins)e.update(this);this.observer=new On(this,((e,t,n)=>Mn(this,e,t,n)),(e=>{this.inputState.runScrollHandlers(this,e),this.observer.intersecting&&this.measure()})),this.inputState=new kt(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new rt(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof o.YW?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,i=this.state;for(let t of e){if(t.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=t.state}if(this.destroyed)return void(this.viewState.state=i);if(this.observer.clear(),i.facet(o.yy.phrases)!=this.state.facet(o.yy.phrases))return this.setState(i);t=je.create(this,i,e);let s=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(s&&(s=s.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;s=new Se(e.empty?e:o.jT.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(_e)&&(s=e.value)}this.viewState.update(t,s),this.bidiCache=Pn.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(Ue)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(wn)!=t.state.facet(wn)&&(this.viewState.mustMeasureContent=!0),(n||r||s||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(be))e(t)}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new cn(e),this.plugins=e.facet(Ae).map((e=>new Te(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new rt(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ae),n=e.state.facet(Ae);if(t!=n){let o=[];for(let r of n){let n=t.indexOf(r);if(n<0)o.push(new Te(r));else{let t=this.plugins[n];t.mustUpdate=e,o.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=o,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:n,scrollTop:o,clientHeight:r}=this.scrollDOM,i=o>n-r-4?n:o;try{for(let e=0;;e++){this.updateState=1;let n=this.viewport,o=this.viewState.lineBlockAtHeight(i),r=this.viewState.measure(this);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];4&r||([this.measureRequests,s]=[s,this.measureRequests]);let a=s.map((e=>{try{return e.read(this)}catch(e){return Ce(this.state,e),Nn}})),l=je.create(this,this.state,[]),c=!1,u=!1;l.flags|=r,t?t.flags|=r:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),c=this.docView.update(l));for(let e=0;e<s.length;e++)if(a[e]!=Nn)try{let t=s[e];t.write&&t.write(a[e],this)}catch(e){Ce(this.state,e)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=!0;else{let e=this.viewState.lineBlockAt(o.from).top-o.top;(e>1||e<-1)&&(this.scrollDOM.scrollTop+=e,u=!0)}if(c&&this.docView.updateSelection(!0),this.viewport.from==n.from&&this.viewport.to==n.to&&!u&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(be))e(t)}get themeClasses(){return kn+" "+(this.state.facet(bn)?Sn:xn)+" "+this.state.facet(wn)}updateAttrs(){let e=Un(this,Me,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(De)?"true":"false",class:"cm-content",style:`${W.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Un(this,Le,t);let n=this.observer.ignore((()=>{let n=ne(this.contentDOM,this.contentAttrs,t),o=ne(this.dom,this.editorAttrs,e);return n||o}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)if(e.is(Ln.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(Ue),r.V.mount(this.root,this.styleModules.concat(Dn).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),e){if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return bt(this,e,wt(this,e,t,n))}moveByGroup(e,t){return bt(this,e,wt(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return e=>{let t=r(e);return i==o.D0.Space&&(i=t),i==t}}(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let i=e.state.doc.lineAt(t.head),s=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(s){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(i.from),a=e.posAtCoords({x:n==(r==Re.LTR)?t.right-1:t.left+1,y:(s.top+s.bottom)/2});if(null!=a)return o.jT.cursor(a,n?-1:1)}let a=de.find(e.docView,t.head),l=a?n?a.posAtEnd:a.posAtStart:n?i.to:i.from;return o.jT.cursor(l,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return bt(this,e,function(e,t,n,r){let i=t.head,s=n?1:-1;if(i==(n?e.state.doc.length:0))return o.jT.cursor(i,t.assoc);let a,l=t.goalColumn,c=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(i),d=e.documentTop;if(u)null==l&&(l=u.left-c.left),a=s<0?u.top:u.bottom;else{let t=e.viewState.lineBlockAt(i);null==l&&(l=Math.min(c.right-c.left,e.defaultCharacterWidth*(i-t.from))),a=(s<0?t.top:t.bottom)+d}let h=c.left+l,p=null!=r?r:e.defaultLineHeight>>1;for(let n=0;;n+=10){let r=a+(p+n)*s,u=vt(e,{x:h,y:r},!1,s);if(r<c.top||r>c.bottom||(s<0?u<i:u>i))return o.jT.cursor(u,t.assoc,void 0,l)}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),vt(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let o=this.state.doc.lineAt(e),r=this.bidiSpans(o);return m(n,r[Ye.find(r,e-o.from,-1,t)].dir==Re.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(xe)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>In)return Je(e.length);let t=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t)return n.order;let n=Xe(e.text,t);return this.bidiCache.push(new Pn(e.from,e.to,t,n)),n}get hasFocus(){var e;return(document.hasFocus()||W.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{b(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return _e.of(new Se("number"==typeof e?o.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Oe.define((()=>({})),{eventHandlers:e})}static theme(e,t){let n=r.V.newName(),o=[wn.of(n),Ue.of(Cn(`.${n}`,e))];return t&&t.dark&&o.push(bn.of(!0)),o}static baseTheme(e){return o.Wl.lowest(Ue.of(Cn("."+kn,e,_n)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),o=n&&D.get(n)||D.get(e);return(null===(t=null==o?void 0:o.rootView)||void 0===t?void 0:t.view)||null}}Ln.styleModule=Ue,Ln.inputHandler=ke,Ln.perLineTextDirection=xe,Ln.exceptionSink=we,Ln.updateListener=be,Ln.editable=De,Ln.mouseSelectionStyle=ye,Ln.dragMovesSelection=ve,Ln.clickAddsSelectionRange=ge,Ln.decorations=Ie,Ln.atomicRanges=Ne,Ln.scrollMargins=Pe,Ln.darkTheme=bn,Ln.contentAttributes=Le,Ln.editorAttributes=Me,Ln.lineWrapping=Ln.contentAttributes.of({class:"cm-lineWrapping"}),Ln.announce=o.Py.define();const In=4096,Nn={};class Pn{constructor(e,t,n,o){this.from=e,this.to=t,this.dir=n,this.order=o}static update(e,t){if(t.empty)return e;let n=[],o=e.length?e[e.length-1].dir:Re.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let i=e[r];i.dir!=o||t.touchesRange(i.from,i.to)||n.push(new Pn(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.order))}return n}}function Un(e,t,n){for(let o=e.state.facet(t),r=o.length-1;r>=0;r--){let t=o[r],i="function"==typeof t?t(e):t;i&&ee(i,n)}return n}const Bn=W.mac?"mac":W.windows?"win":W.linux?"linux":"key";function jn(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const Rn=o.Wl.default(Ln.domEventHandlers({keydown:(e,t)=>$n(Wn(t.state),e,t,"editor")})),Vn=o.r$.define({enables:Rn}),Fn=new WeakMap;function Wn(e){let t=e.facet(Vn),n=Fn.get(t);return n||Fn.set(t,n=function(e,t=Bn){let n=Object.create(null),o=Object.create(null),r=(e,t)=>{let n=o[e];if(null==n)o[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,o,i,s)=>{let a=n[e]||(n[e]=Object.create(null)),l=o.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let o,r,i,s,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))o=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?s=!0:r=!0}}return o&&(a="Alt-"+a),r&&(a="Ctrl-"+a),s&&(a="Meta-"+a),i&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let n=l.slice(0,t).join(" ");r(n,!0),a[n]||(a[n]={preventDefault:!0,commands:[t=>{let o=zn={view:t,prefix:n,scope:e};return setTimeout((()=>{zn==o&&(zn=null)}),4e3),!0}]})}let c=l.join(" ");r(c,!1);let u=a[c]||(a[c]={preventDefault:!1,commands:[]});u.commands.push(i),s&&(u.preventDefault=!0)};for(let n of e){let e=n[t]||n.key;if(e)for(let t of n.scope?n.scope.split(" "):["editor"])i(t,e,n.run,n.preventDefault),n.shift&&i(t,"Shift-"+e,n.shift,n.preventDefault)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}function Hn(e,t,n){return $n(Wn(e.state),t,e,n)}let zn=null;function $n(e,t,n,r){let s=(0,i.YG)(t),a=(0,o.gm)(s,0),l=(0,o.nZ)(a)==s.length&&" "!=s,c="",u=!1;zn&&zn.view==n&&zn.scope==r&&(c=zn.prefix+" ",(u=St.indexOf(t.keyCode)<0)&&(zn=null));let d,h=e=>{if(e){for(let t of e.commands)if(t(n))return!0;e.preventDefault&&(u=!0)}return!1},p=e[r];if(p){if(h(p[c+jn(s,t,!l)]))return!0;if(l&&(t.shiftKey||t.altKey||t.metaKey||a>127)&&(d=i.ue[t.keyCode])&&d!=s){if(h(p[c+jn(d,t,!0)]))return!0;if(t.shiftKey&&i.uY[t.keyCode]!=d&&h(p[c+jn(i.uY[t.keyCode],t,!1)]))return!0}else if(l&&t.shiftKey&&h(p[c+jn(s,t,!0)]))return!0}return u}const Kn=!W.ios,qn=o.r$.define({combine:e=>(0,o.BO)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Yn(e={}){return[qn.of(e),Xn,Zn]}class Gn{constructor(e,t,n,o,r){this.left=e,this.top=t,this.width=n,this.height=o,this.className=r}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const Xn=Oe.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(qn).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(qn)!=e.state.facet(qn);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(qn),n=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let n=Math.max(t.from,e.viewport.from),o=Math.min(t.to,e.viewport.to),r=e.textDirection==Re.LTR,i=e.contentDOM,s=i.getBoundingClientRect(),a=Qn(e),l=window.getComputedStyle(i.firstChild),c=s.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),u=s.right-parseInt(l.paddingRight),d=to(e,n),h=to(e,o),p=d.type==re.Text?d:null,f=h.type==re.Text?h:null;e.lineWrapping&&(p&&(p=eo(e,n,p)),f&&(f=eo(e,o,f)));if(p&&f&&p.from==f.from)return g(v(t.from,t.to,p));{let n=p?v(t.from,null,p):y(d,!1),o=f?v(null,t.to,f):y(h,!0),r=[];return(p||d).to<(f||h).from-1?r.push(m(c,n.bottom,u,o.top)):n.bottom<o.top&&e.elementAtHeight((n.bottom+o.top)/2).type==re.Text&&(n.bottom=o.top=(n.bottom+o.top)/2),g(n).concat(r).concat(g(o))}function m(e,t,n,o){return new Gn(e-a.left,t-a.top-.01,n-e,o-t+.01,"cm-selectionBackground")}function g({top:e,bottom:t,horizontal:n}){let o=[];for(let r=0;r<n.length;r+=2)o.push(m(n[r],e,n[r+1],t));return o}function v(t,n,o){let i=1e9,s=-1e9,a=[];function l(t,n,l,d,h){let p=e.coordsAtPos(t,t==o.to?-2:2),f=e.coordsAtPos(l,l==o.from?2:-2);i=Math.min(p.top,f.top,i),s=Math.max(p.bottom,f.bottom,s),h==Re.LTR?a.push(r&&n?c:p.left,r&&d?u:f.right):a.push(!r&&d?c:f.left,!r&&n?u:p.right)}let d=null!=t?t:o.from,h=null!=n?n:o.to;for(let o of e.visibleRanges)if(o.to>d&&o.from<h)for(let r=Math.max(o.from,d),i=Math.min(o.to,h);;){let o=e.state.doc.lineAt(r);for(let s of e.bidiSpans(o)){let e=s.from+o.from,a=s.to+o.from;if(e>=i)break;a>r&&l(Math.max(e,r),null==t&&e<=d,Math.min(a,i),null==n&&a>=h,s.dir)}if(r=o.to+1,r>=i)break}return 0==a.length&&l(d,null==t,h,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function y(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),o=[];for(let n of e.selection.ranges){let r=n==e.selection.main;if(n.empty?!r||Kn:t.drawRangeCursor){let e=no(this.view,n,r);e&&o.push(e)}}return{rangePieces:n,cursors:o}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,n)=>t.adjust(e[n])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Jn={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Kn&&(Jn[".cm-line"].caretColor="transparent !important");const Zn=o.Wl.highest(Ln.theme(Jn));function Qn(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Re.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function eo(e,t,n){let r=o.jT.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:re.Text}}function to(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let e of n.type)if(e.to>t||e.to==t&&(e.to==n.to||e.type==re.Text))return e;return n}function no(e,t,n){let o=e.coordsAtPos(t.head,t.assoc||1);if(!o)return null;let r=Qn(e);return new Gn(o.left-r.left,o.top-r.top,-1,o.bottom-o.top,n?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const oo=o.Py.define({map:(e,t)=>null==e?null:t.mapPos(e)}),ro=o.QQ.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(oo)?t.value:e),e))}),io=Oe.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(ro);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(ro)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(ro),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(ro)!=e&&this.view.dispatch({effects:oo.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function so(){return[ro,io]}function ao(e,t,n,o,r){t.lastIndex=0;for(let i,s=e.iterRange(n,o),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;i=t.exec(s.value);)r(a+i.index,i)}class lo{constructor(e){const{regexp:t,decoration:n,decorate:o,boundary:r,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,o)this.addMatch=(e,t,n,r)=>o(r,n,n+e[0].length,e,t);else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");{let e="function"==typeof n?n:()=>n;this.addMatch=(t,n,o,r)=>r(o,o+t[0].length,e(t,n,o))}}this.boundary=r,this.maxLength=i}createDeco(e){let t=new o.f_,n=t.add.bind(t);for(let{from:t,to:o}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let o=[];for(let{from:r,to:i}of n)r=Math.max(e.state.doc.lineAt(r).from,r-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),o.length&&o[o.length-1].to>=r?o[o.length-1].to=i:o.push({from:r,to:i});return o}(e,this.maxLength))ao(e.state.doc,this.regexp,t,o,((t,o)=>this.addMatch(o,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,o=-1;return e.docChanged&&e.changes.iterChanges(((t,r,i,s)=>{s>e.view.viewport.from&&i<e.view.viewport.to&&(n=Math.min(i,n),o=Math.max(s,o))})),e.viewportChanged||o-n>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,t.map(e.changes),n,o):t}updateRange(e,t,n,o){for(let r of e.visibleRanges){let i=Math.max(r.from,n),s=Math.min(r.to,o);if(s>i){let n=e.state.doc.lineAt(i),o=n.to<s?e.state.doc.lineAt(s):n,a=Math.max(r.from,n.from),l=Math.min(r.to,o.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){a=i;break}for(;s<o.to;s++)if(this.boundary.test(o.text[s-o.from])){l=s;break}}let c,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==o)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,d);else ao(e.state.doc,this.regexp,a,l,((t,n)=>this.addMatch(n,e,t,d)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:u})}}return t}}const co=null!=/x/.unicode?"gu":"g",uo=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",co),ho={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let po=null;const fo=o.r$.define({combine(e){let t=(0,o.BO)(e,{render:null,specialChars:uo,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==po&&"undefined"!=typeof document&&document.body){let t=document.body.style;po=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return po||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,co)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,co)),t}});function mo(e={}){return[fo.of(e),go||(go=Oe.fromClass(class{constructor(e){this.view=e,this.decorations=ie.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(fo)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new lo({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,s=(0,o.gm)(t[0],0);if(9==s){let e=i.lineAt(r),t=n.state.tabSize,s=(0,o.IS)(e.text,t,r-e.from);return ie.replace({widget:new yo((t-s%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=ie.replace({widget:new vo(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(fo);e.startState.facet(fo)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let go=null;class vo extends oe{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=(n=this.code)>=32?"•":10==n?"␤":String.fromCharCode(9216+n);var n;let o=e.state.phrase("Control character")+" "+(ho[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,o,t);if(r)return r;let i=document.createElement("span");return i.textContent=t,i.title=o,i.setAttribute("aria-label",o),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class yo extends oe{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function wo(){return ko}const bo=ie.line({class:"cm-activeLine"}),ko=Oe.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let o of e.state.selection.ranges){if(!o.empty)return ie.none;let r=e.lineBlockAt(o.head);r.from>t&&(n.push(bo.range(r.from)),t=r.from)}return ie.set(n)}},{decorations:e=>e.decorations});const xo=2e3;function So(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,s=i>xo?-1:i==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,o.IS)(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function _o(e,t){let n=So(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),o=e.state.doc.lineAt(t);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(e.changes)}},get(t,i,s){let a=So(e,t);if(!a)return r;let l=function(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),s=[];if(t.off>xo||n.off>xo||t.col<0||n.col<0){let a=Math.min(t.off,n.off),l=Math.max(t.off,n.off);for(let t=r;t<=i;t++){let n=e.doc.line(t);n.length<=l&&s.push(o.jT.range(n.from+a,n.to+l))}}else{let a=Math.min(t.col,n.col),l=Math.max(t.col,n.col);for(let t=r;t<=i;t++){let n=e.doc.line(t),r=(0,o.Gz)(n.text,a,e.tabSize,!0);if(r>-1){let t=(0,o.Gz)(n.text,l,e.tabSize);s.push(o.jT.range(n.from+r,n.from+t))}}}return s}(e.state,n,a);return l.length?s?o.jT.create(l.concat(r.ranges)):o.jT.create(l):r}}:null}function Co(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Ln.mouseSelectionStyle.of(((e,n)=>t(n)?_o(e,n):null))}const Do={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},Eo={style:"cursor: crosshair"};function Ao(e={}){let[t,n]=Do[e.key||"Alt"],o=Oe.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)}}});return[o,Ln.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.isDown)?Eo:null}))]}const Oo="-10000px";class To{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e){let t=e.state.facet(this.facet),n=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let o=[];for(let t=0;t<n.length;t++){let r=n[t],i=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(i=e)}if(i<0)o[t]=this.createTooltipView(r);else{let n=o[t]=this.tooltipViews[i];n.update&&n.update(e)}}}for(let e of this.tooltipViews)o.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=n,this.tooltipViews=o,!0}}function Mo(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Lo=o.r$.define({combine:e=>{var t,n,o;return{position:W.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(o=e.find((e=>e.tooltipSpace)))||void 0===o?void 0:o.tooltipSpace)||Mo}}}),Io=Oe.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=e.state.facet(Lo);this.position=n.position,this.parent=n.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new To(e,Uo,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let n=t||e.geometryChanged,o=e.state.facet(Lo);if(o.position!=this.position){this.position=o.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Oo,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(Lo).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:n}=e,o=[];for(let r=0;r<this.manager.tooltips.length;r++){let i=this.manager.tooltips[r],s=this.manager.tooltipViews[r],{dom:a}=s,l=e.pos[r],c=e.size[r];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1){a.style.top=Oo;continue}let u=i.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,d=u?7:0,h=c.right-c.left,p=c.bottom-c.top,f=s.offset||Po,m=this.view.textDirection==Re.LTR,g=c.width>n.right-n.left?m?n.left:n.right-c.width:m?Math.min(l.left-(u?14:0)+f.x,n.right-h):Math.max(n.left,l.left-h+(u?14:0)-f.x),v=!!i.above;!i.strictSide&&(v?l.top-(c.bottom-c.top)-f.y<n.top:l.bottom+(c.bottom-c.top)+f.y>n.bottom)&&v==n.bottom-l.bottom>l.top-n.top&&(v=!v);let y=v?l.top-p-d-f.y:l.bottom+d+f.y,w=g+h;if(!0!==s.overlap)for(let e of o)e.left<w&&e.right>g&&e.top<y+p&&e.bottom>y&&(y=v?e.top-p-2-d:e.bottom+d+2);"absolute"==this.position?(a.style.top=y-e.parent.top+"px",a.style.left=g-e.parent.left+"px"):(a.style.top=y+"px",a.style.left=g+"px"),u&&(u.style.left=l.left+(m?f.x:-f.x)-(g+14-7)+"px"),!0!==s.overlap&&o.push({left:g,top:y,right:w,bottom:y+p}),a.classList.toggle("cm-tooltip-above",v),a.classList.toggle("cm-tooltip-below",!v),s.positioned&&s.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Oo}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),No=Ln.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Po={x:0,y:0},Uo=o.r$.define({enables:[Io,No]}),Bo=o.r$.define();class jo{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new To(e,Bo,(e=>this.createHostedView(e)))}static create(e){return new jo(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const Ro=Uo.compute([Bo],(e=>{let t=e.facet(Bo).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:jo.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class Vo{constructor(e,t,n,o,r){this.view=e,this.source=t,this.field=n,this.setHover=o,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let n=this.view.coordsAtPos(t);if(null==n||e.y<n.top||e.y>n.bottom||e.x<n.left-this.view.defaultCharacterWidth||e.x>n.right+this.view.defaultCharacterWidth)return;let o=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((e=>e.from<=t&&e.to>=t)),r=o&&o.dir==Re.RTL?-1:1,i=this.source(this.view,t,e.x<n.left?-r:r);if(null==i?void 0:i.then){let e=this.pending={pos:t};i.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>Ce(this.view.state,e,"hover tooltip")))}else i&&this.view.dispatch({effects:this.setHover.of(i)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:o}=n||this.pending,r=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:o;(o==r?this.view.posAtCoords(this.lastMove)==o:function(e,t,n,o,r,i){let s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-r,r-t.bottom,t.left-o,o-t.right)<=i)return!0}return!1}(this.view,o,r,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Fo(e,t={}){let n=o.Py.define(),r=o.QQ.define({create:()=>null,update(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){let t=r.changes.mapPos(e.pos,-1,o.gc.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);n.pos=t,null!=e.end&&(n.end=r.changes.mapPos(e.end)),e=n}for(let t of r.effects)t.is(n)&&(e=t.value),t.is(Ho)&&(e=null);return e},provide:e=>Bo.from(e)});return[r,Oe.define((o=>new Vo(o,e,r,n,t.hoverTime||300))),Ro]}function Wo(e,t){let n=e.plugin(Io);if(!n)return null;let o=n.manager.tooltips.indexOf(t);return o<0?null:n.manager.tooltipViews[o]}const Ho=o.Py.define();const zo=o.r$.define({combine(e){let t,n;for(let o of e)t=t||o.topContainer,n=n||o.bottomContainer;return{topContainer:t,bottomContainer:n}}});function $o(e,t){let n=e.plugin(Ko),o=n?n.specs.indexOf(t):-1;return o>-1?n.panels[o]:null}const Ko=Oe.fromClass(class{constructor(e){this.input=e.state.facet(Go),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(zo);this.top=new qo(e,!0,t.topContainer),this.bottom=new qo(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(zo);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new qo(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new qo(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Go);if(n!=this.input){let t=n.filter((e=>e)),o=[],r=[],i=[],s=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),s.push(t)):(t=this.panels[a],t.update&&t.update(e)),o.push(t),(t.top?r:i).push(t)}this.specs=t,this.panels=o,this.top.sync(r),this.bottom.sync(i);for(let e of s)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Ln.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class qo{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Yo(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Yo(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Yo(e){let t=e.nextSibling;return e.remove(),t}const Go=o.r$.define({enables:Ko});class Xo extends o.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Xo.prototype.elementClass="",Xo.prototype.toDOM=void 0,Xo.prototype.mapMode=o.gc.TrackBefore,Xo.prototype.startSide=Xo.prototype.endSide=-1,Xo.prototype.point=!0;const Jo=o.r$.define(),Zo={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>o.Xs.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Qo=o.r$.define();function er(e){return[nr(),Qo.of(Object.assign(Object.assign({},Zo),e))]}const tr=o.r$.define({combine:e=>e.some((e=>e))});function nr(e){let t=[or];return e&&!1===e.fixed&&t.push(tr.of(!0)),t}const or=Oe.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(Qo).map((t=>new ar(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(tr),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,o=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(o<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(tr)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=o.Xs.iter(this.view.state.facet(Jo),this.view.viewport.from),r=[],i=this.gutters.map((e=>new sr(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let n of e.type)if(n.type==re.Text){t=n;break}}else t=e.type==re.Text?e:void 0;if(t){r.length&&(r=[]),ir(n,r,e.from);for(let e of i)e.line(this.view,t,r)}}for(let e of i)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(Qo),n=e.state.facet(Qo),r=e.docChanged||e.heightChanged||e.viewportChanged||!o.Xs.eq(e.startState.facet(Jo),e.state.facet(Jo),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let o=[];for(let r of n){let n=t.indexOf(r);n<0?o.push(new ar(this.view,r)):(this.gutters[n].update(e),o.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Ln.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==Re.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))});function rr(e){return Array.isArray(e)?e:[e]}function ir(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class sr{constructor(e,t,n){this.gutter=e,this.height=n,this.localMarkers=[],this.i=0,this.cursor=o.Xs.iter(e.markers,t.from)}line(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),ir(this.cursor,this.localMarkers,t.from);let o=n.length?this.localMarkers.concat(n):this.localMarkers,r=this.gutter.config.lineMarker(e,t,o);r&&o.unshift(r);let i=this.gutter;if(0==o.length&&!i.config.renderEmptyElements)return;let s=t.top-this.height;if(this.i==i.elements.length){let n=new lr(e,t.height,s,o);i.elements.push(n),i.dom.appendChild(n.dom)}else i.elements[this.i].update(e,t.height,s,o);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ar{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(o=>{let r=e.lineBlockAtHeight(o.clientY-e.documentTop);t.domEventHandlers[n](e,r,o)&&o.preventDefault()}));this.markers=rr(t.markers(e)),t.initialSpacer&&(this.spacer=new lr(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=rr(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!o.Xs.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class lr{constructor(e,t,n,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,o)}update(e,t,n,o){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,o)||this.setMarkers(e,o)}setMarkers(e,t){let n="cm-gutterElement",o=this.dom.firstChild;for(let r=0,i=0;;){let s=i,a=r<t.length?t[r++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=i;e<this.markers.length;e++)if(this.markers[e].compare(a)){s=e,l=!0;break}}else s=this.markers.length;for(;i<s;){let e=this.markers[i++];if(e.toDOM){e.destroy(o);let t=o.nextSibling;o.remove(),o=t}}if(!a)break;a.toDOM&&(l?o=o.nextSibling:this.dom.insertBefore(a.toDOM(e),o)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const cr=o.r$.define(),ur=o.r$.define({combine:e=>(0,o.BO)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let o=n[e],r=t[e];n[e]=o?(e,t,n)=>o(e,t,n)||r(e,t,n):r}return n}})});class dr extends Xo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function hr(e,t){return e.state.facet(ur).formatNumber(t,e.state)}const pr=Qo.compute([ur],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(cr),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new dr(hr(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(ur)!=e.state.facet(ur),initialSpacer:e=>new dr(hr(e,mr(e.state.doc.lines))),updateSpacer(e,t){let n=hr(t.view,mr(t.view.state.doc.lines));return n==e.number?e:new dr(n)},domEventHandlers:e.facet(ur).domEventHandlers})));function fr(e={}){return[ur.of(e),nr(),pr]}function mr(e){let t=9;for(;t<e;)t=10*t+9;return t}const gr=new class extends Xo{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},vr=Jo.compute(["selection"],(e=>{let t=[],n=-1;for(let o of e.selection.ranges)if(o.empty){let r=e.doc.lineAt(o.head).from;r>n&&(n=r,t.push(gr.range(r)))}return o.Xs.of(t)}));function yr(){return vr}},41113:(e,t,n)=>{"use strict";n.d(t,{FE:()=>N,Jq:()=>c,L3:()=>o,Lj:()=>u,_b:()=>L,hr:()=>T,i9:()=>M,md:()=>s,mp:()=>f,vj:()=>p});const o=1024;let r=0;class i{constructor(e,t){this.from=e,this.to=t}}class s{constructor(e={}){this.id=r++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=c.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}s.closedBy=new s({deserialize:e=>e.split(" ")}),s.openedBy=new s({deserialize:e=>e.split(" ")}),s.group=new s({deserialize:e=>e.split(" ")}),s.contextHash=new s({perNode:!0}),s.lookAhead=new s({perNode:!0}),s.mounted=new s({perNode:!0});class a{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}}const l=Object.create(null);class c{constructor(e,t,n,o=0){this.name=e,this.props=t,this.id=n,this.flags=o}static define(e){let t=e.props&&e.props.length?Object.create(null):l,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),o=new c(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(o)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return o}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(s.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let o of n.split(" "))t[o]=e[n];return e=>{for(let n=e.prop(s.group),o=-1;o<(n?n.length:0);o++){let r=t[o<0?e.name:n[o]];if(r)return r}}}}c.none=new c("",Object.create(null),0,8);class u{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let o=null;for(let t of e){let e=t(n);e&&(o||(o=Object.assign({},n.props)),o[e[0].id]=e[1])}t.push(o?new c(n.name,o,n.id,n.flags):n)}return new u(t)}}const d=new WeakMap,h=new WeakMap;var p;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(p||(p={}));class f{constructor(e,t,n,o,r){if(this.type=e,this.children=t,this.positions=n,this.length=o,this.props=null,r&&r.length){this.props=Object.create(null);for(let[e,t]of r)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(s.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new C(this.topNode,e)}cursorAt(e,t=0,n=0){let o=d.get(this)||this.topNode,r=new C(o);return r.moveTo(e,t),d.set(this,r._tree),r}get topNode(){return new b(this,0,0,null)}resolve(e,t=0){let n=w(d.get(this)||this.topNode,e,t,!1);return d.set(this,n),n}resolveInner(e,t=0){let n=w(h.get(this)||this.topNode,e,t,!0);return h.set(this,n),n}iterate(e){let{enter:t,leave:n,from:o=0,to:r=this.length}=e;for(let i=this.cursor((e.mode||0)|p.IncludeAnonymous);;){let e=!1;if(i.from<=r&&i.to>=o&&(i.type.isAnonymous||!1!==t(i))){if(i.firstChild())continue;e=!0}for(;e&&n&&!i.type.isAnonymous&&n(i),!i.nextSibling();){if(!i.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:O(c.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new f(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new f(c.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=o,reused:a=[],minRepeatType:l=r.types.length}=e,c=Array.isArray(n)?new m(n,n.length):n,u=r.types,d=0,h=0;function p(e,t,n,o,s){let{id:f,start:m,end:x,size:S}=c,_=h;for(;S<0;){if(c.next(),-1==S){let t=a[f];return n.push(t),void o.push(m-e)}if(-3==S)return void(d=f);if(-4==S)return void(h=f);throw new RangeError(`Unrecognized record size: ${S}`)}let C,D,E=u[f],A=m-e;if(x-m<=i&&(D=b(c.pos-t,s))){let t=new Uint16Array(D.size-D.skip),n=c.pos-D.size,o=t.length;for(;c.pos>n;)o=k(D.start,t,o);C=new g(t,x-D.start,r),A=D.start-e}else{let e=c.pos-S;c.next();let t=[],n=[],o=f>=l?f:-1,r=0,s=x;for(;c.pos>e;)o>=0&&c.id==o&&c.size>=0?(c.end<=s-i&&(y(t,n,m,r,c.end,s,o,_),r=t.length,s=c.end),c.next()):p(m,e,t,n,o);if(o>=0&&r>0&&r<t.length&&y(t,n,m,r,m,s,o,_),t.reverse(),n.reverse(),o>-1&&r>0){let e=v(E);C=O(E,t,n,0,t.length,0,x-m,e,e)}else C=w(E,t,n,x-m,_-x)}n.push(C),o.push(A)}function v(e){return(t,n,o)=>{let r,i,a=0,l=t.length-1;if(l>=0&&(r=t[l])instanceof f){if(!l&&r.type==e&&r.length==o)return r;(i=r.prop(s.lookAhead))&&(a=n[l]+r.length+i)}return w(e,t,n,o,a)}}function y(e,t,n,o,i,s,a,l){let c=[],u=[];for(;e.length>o;)c.push(e.pop()),u.push(t.pop()+n-i);e.push(w(r.types[a],c,u,s-i,l-s)),t.push(i-n)}function w(e,t,n,o,r=0,i){if(d){let e=[s.contextHash,d];i=i?[e].concat(i):[e]}if(r>25){let e=[s.lookAhead,r];i=i?[e].concat(i):[e]}return new f(e,t,n,o,i)}function b(e,t){let n=c.fork(),o=0,r=0,s=0,a=n.end-i,u={size:0,start:0,skip:0};e:for(let i=n.pos-e;n.pos>i;){let e=n.size;if(n.id==t&&e>=0){u.size=o,u.start=r,u.skip=s,s+=4,o+=4,n.next();continue}let c=n.pos-e;if(e<0||c<i||n.start<a)break;let d=n.id>=l?4:0,h=n.start;for(n.next();n.pos>c;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=l&&(d+=4);n.next()}r=h,o+=e,s+=d}return(t<0||o==e)&&(u.size=o,u.start=r,u.skip=s),u.size>4?u:void 0}function k(e,t,n){let{id:o,start:r,end:i,size:s}=c;if(c.next(),s>=0&&o<l){let a=n;if(s>4){let o=c.pos-(s-4);for(;c.pos>o;)n=k(e,t,n)}t[--n]=a,t[--n]=i-e,t[--n]=r-e,t[--n]=o}else-3==s?d=o:-4==s&&(h=o);return n}let x=[],S=[];for(;c.pos>0;)p(e.start||0,e.bufferStart||0,x,S,-1);let _=null!==(t=e.length)&&void 0!==t?t:x.length?S[0]+x[0].length:0;return new f(u[e.topID],x.reverse(),S.reverse(),_)}(e)}}f.empty=new f(c.none,[],[],0);class m{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new m(this.buffer,this.index)}}class g{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return c.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],o=this.set.types[t],r=o.name;if(/\W/.test(r)&&!o.isError&&(r=JSON.stringify(r)),n==(e+=4))return r;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return r+"("+i.join(",")+")"}findChild(e,t,n,o,r){let{buffer:i}=this,s=-1;for(let a=e;a!=t&&!(v(r,o,i[a+1],i[a+2])&&(s=a,n>0));a=i[a+3]);return s}slice(e,t,n,o){let r=this.buffer,i=new Uint16Array(t-e);for(let o=e,s=0;o<t;)i[s++]=r[o++],i[s++]=r[o++]-n,i[s++]=r[o++]-n,i[s++]=r[o++]-e;return new g(i,o-n,this.set)}}function v(e,t,n,o){switch(e){case-2:return n<t;case-1:return o>=t&&n<t;case 0:return n<t&&o>t;case 1:return n<=t&&o>t;case 2:return o>t;case 4:return!0}}function y(e,t){let n=e.childBefore(t);for(;n;){let t=n.lastChild;if(!t||t.to!=n.to)break;t.type.isError&&t.from==t.to?(e=n,n=t.prevSibling):n=t}return e}function w(e,t,n,o){for(var r;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!o&&e instanceof b&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=o?0:p.IgnoreOverlays;if(o)for(let o=e,s=o.parent;s;o=s,s=o.parent)o instanceof b&&o.index<0&&(null===(r=s.enter(t,n,i))||void 0===r?void 0:r.from)!=o.from&&(e=s);for(;;){let o=e.enter(t,n,i);if(!o)return e;e=o}}class b{constructor(e,t,n,o){this._tree=e,this.from=t,this.index=n,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,o,r=0){for(let i=this;;){for(let{children:a,positions:l}=i._tree,c=t>0?a.length:-1;e!=c;e+=t){let c=a[e],u=l[e]+i.from;if(v(o,n,u,u+c.length))if(c instanceof g){if(r&p.ExcludeBuffers)continue;let s=c.findChild(0,c.buffer.length,t,n-u,o);if(s>-1)return new _(new S(i,c,e,u),null,s)}else if(r&p.IncludeAnonymous||!c.type.isAnonymous||D(c)){let a;if(!(r&p.IgnoreMounts)&&c.props&&(a=c.prop(s.mounted))&&!a.overlay)return new b(a.tree,u,e,i);let l=new b(c,u,e,i);return r&p.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?c.children.length-1:0,t,n,o)}}if(r&p.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let o;if(!(n&p.IgnoreOverlays)&&(o=this._tree.prop(s.mounted))&&o.overlay){let n=e-this.from;for(let{from:e,to:r}of o.overlay)if((t>0?e<=n:e<n)&&(t<0?r>=n:r>n))return new b(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new C(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return w(this,e,t,!1)}resolveInner(e,t=0){return w(this,e,t,!0)}enterUnfinishedNodesBefore(e){return y(this,e)}getChild(e,t=null,n=null){let o=k(this,e,t,n);return o.length?o[0]:null}getChildren(e,t=null,n=null){return k(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return x(this,e)}}function k(e,t,n,o){let r=e.cursor(),i=[];if(!r.firstChild())return i;if(null!=n)for(;!r.type.is(n);)if(!r.nextSibling())return i;for(;;){if(null!=o&&r.type.is(o))return i;if(r.type.is(t)&&i.push(r.node),!r.nextSibling())return null==o?i:[]}}function x(e,t,n=t.length-1){for(let o=e.parent;n>=0;o=o.parent){if(!o)return!1;if(!o.type.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}class S{constructor(e,t,n,o){this.parent=e,this.buffer=t,this.index=n,this.start=o}}class _{constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,n){let{buffer:o}=this.context,r=o.findChild(this.index+4,o.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new _(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&p.ExcludeBuffers)return null;let{buffer:o}=this.context,r=o.findChild(this.index+4,o.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new _(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new _(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new _(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new C(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,o=this.index+4,r=n.buffer[this.index+3];if(r>o){let i=n.buffer[this.index+1],s=n.buffer[this.index+2];e.push(n.slice(o,r,i,s)),t.push(0)}return new f(this.type,e,t,this.to-this.from)}resolve(e,t=0){return w(this,e,t,!1)}resolveInner(e,t=0){return w(this,e,t,!0)}enterUnfinishedNodesBefore(e){return y(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let o=k(this,e,t,n);return o.length?o[0]:null}getChildren(e,t=null,n=null){return k(this,e,t,n)}get node(){return this}matchContext(e){return x(this,e)}}class C{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof b)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:o}=this.buffer;return this.type=t||o.set.types[o.buffer[e]],this.from=n+o.buffer[e+1],this.to=n+o.buffer[e+2],!0}yield(e){return!!e&&(e instanceof b?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:o}=this.buffer,r=o.findChild(this.index+4,o.buffer[this.index+3],e,t-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&p.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&p.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&p.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(o.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=o)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let o=t+e,r=e<0?-1:n._tree.children.length;o!=r;o+=e){let e=n._tree.children[o];if(this.mode&p.IncludeAnonymous||e instanceof g||!e.type.isAnonymous||D(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let o=this.index,r=this.stack.length;r>=0;){for(let i=e;i;i=i._parent)if(i.index==o){if(o==this.index)return i;t=i,n=r+1;break e}o=this.stack[--r]}for(let e=n;e<this.stack.length;e++)t=new _(this.buffer,t,this.stack[e]);return this.bufferNode=new _(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let o=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(o=!0)}for(;o&&t&&t(this),o=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,o=!0}}}matchContext(e){if(!this.buffer)return x(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let o=e.length-1,r=this.stack.length-1;o>=0;r--){if(r<0)return x(this.node,e,o);let i=n[t.buffer[this.stack[r]]];if(!i.isAnonymous){if(e[o]&&e[o]!=i.name)return!1;o--}}return!0}}function D(e){return e.children.some((e=>e instanceof g||!e.type.isAnonymous||D(e)))}const E=new WeakMap;function A(e,t){if(!e.isAnonymous||t instanceof g||t.type!=e)return 1;let n=E.get(t);if(null==n){n=1;for(let o of t.children){if(o.type!=e||!(o instanceof f)){n=1;break}n+=A(e,o)}E.set(t,n)}return n}function O(e,t,n,o,r,i,s,a,l){let c=0;for(let n=o;n<r;n++)c+=A(e,t[n]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,o,r,s,a){for(let c=r;c<s;){let r=c,p=o[c],f=A(e,n[c]);for(c++;c<s;c++){let t=A(e,n[c]);if(f+t>=u)break;f+=t}if(c==r+1){if(f>u){let e=n[r];t(e.children,e.positions,0,e.children.length,o[r]+a);continue}d.push(n[r])}else{let t=o[c-1]+n[c-1].length-p;d.push(O(e,n,o,r,c,p,t,null,l))}h.push(p+a-i)}}(t,n,o,r,0),(a||l)(d,h,s)}class T{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let o=this.map.get(e);o||this.map.set(e,o=new Map),o.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof _?this.setBuffer(e.context.buffer,e.index,t):e instanceof b&&this.map.set(e.tree,t)}get(e){return e instanceof _?this.getBuffer(e.context.buffer,e.index):e instanceof b?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class M{constructor(e,t,n,o,r=!1,i=!1){this.from=e,this.to=t,this.tree=n,this.offset=o,this.open=(r?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let o=[new M(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&o.push(n);return o}static applyChanges(e,t,n=128){if(!t.length)return e;let o=[],r=1,i=e.length?e[0]:null;for(let s=0,a=0,l=0;;s++){let c=s<t.length?t[s]:null,u=c?c.fromA:1e9;if(u-a>=n)for(;i&&i.from<u;){let t=i;if(a>=t.from||u<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new M(e,n,t.tree,t.offset+l,s>0,!!c)}if(t&&o.push(t),i.to>u)break;i=r<e.length?e[r++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return o}}class L{startParse(e,t,n){return"string"==typeof e&&(e=new I(e)),n=n?n.length?n.map((e=>new i(e.from,e.to))):[new i(0,0)]:[new i(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let o=this.startParse(e,t,n);for(;;){let e=o.advance();if(e)return e}}}class I{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function N(e){return(t,n,o,r)=>new j(t,e,n,o,r)}class P{constructor(e,t,n,o,r){this.parser=e,this.parse=t,this.overlay=n,this.target=o,this.ranges=r}}class U{constructor(e,t,n,o,r,i,s){this.parser=e,this.predicate=t,this.mounts=n,this.index=o,this.start=r,this.target=i,this.prev=s,this.depth=0,this.ranges=[]}}const B=new s({perNode:!0});class j{constructor(e,t,n,o,r){this.nest=t,this.input=n,this.fragments=o,this.ranges=r,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let e=this.baseParse.advance();if(!e)return null;if(this.baseParse=null,this.baseTree=e,this.startInner(),null!=this.stoppedAt)for(let e of this.inner)e.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let e=this.baseTree;return null!=this.stoppedAt&&(e=new f(e.type,e.children,e.positions,e.length,e.propValues.concat([[B,this.stoppedAt]]))),e}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[s.mounted.id]=new a(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new H(this.fragments),t=null,n=null,o=new C(new b(this.baseTree,this.ranges[0].from,0,null),p.IncludeAnonymous|p.IgnoreMounts);e:for(let r,s;null==this.stoppedAt||o.from<this.stoppedAt;){let a,l=!0;if(e.hasNode(o)){if(t){let e=t.mounts.find((e=>e.frag.from<=o.from&&e.frag.to>=o.to&&e.mount.overlay));if(e)for(let n of e.mount.overlay){let r=n.from+e.pos,i=n.to+e.pos;r>=o.from&&i<=o.to&&!t.ranges.some((e=>e.from<i&&e.to>r))&&t.ranges.push({from:r,to:i})}}l=!1}else if(n&&(s=R(n.ranges,o.from,o.to)))l=2!=s;else if(!o.type.isAnonymous&&o.from<o.to&&(r=this.nest(o,this.input))){o.tree||F(o);let s=e.findMounts(o.from,r.parser);if("function"==typeof r.overlay)t=new U(r.parser,r.overlay,s,this.inner.length,o.from,o.tree,t);else{let e=z(this.ranges,r.overlay||[new i(o.from,o.to)]);e.length&&this.inner.push(new P(r.parser,r.parser.startParse(this.input,K(s,e),e),r.overlay?r.overlay.map((e=>new i(e.from-o.from,e.to-o.from))):null,o.tree,e)),r.overlay?e.length&&(n={ranges:e,depth:0,prev:n}):l=!1}}else t&&(a=t.predicate(o))&&(!0===a&&(a=new i(o.from,o.to)),a.from<a.to&&t.ranges.push(a));if(l&&o.firstChild())t&&t.depth++,n&&n.depth++;else for(;!o.nextSibling();){if(!o.parent())break e;if(t&&!--t.depth){let e=z(this.ranges,t.ranges);e.length&&this.inner.splice(t.index,0,new P(t.parser,t.parser.startParse(this.input,K(t.mounts,e),e),t.ranges.map((e=>new i(e.from-t.start,e.to-t.start))),t.target,e)),t=t.prev}n&&!--n.depth&&(n=n.prev)}}}}function R(e,t,n){for(let o of e){if(o.from>=n)break;if(o.to>t)return o.from<=t&&o.to>=n?2:1}return 0}function V(e,t,n,o,r,i){if(t<n){let s=e.buffer[t+1],a=e.buffer[n-2];o.push(e.slice(t,n,s,a)),r.push(s-i)}}function F(e){let{node:t}=e,n=0;do{e.parent(),n++}while(!e.tree);let o=0,r=e.tree,i=0;for(;i=r.positions[o]+e.from,!(i<=t.from&&i+r.children[o].length>=t.to);o++);let s=r.children[o],a=s.buffer;r.children[o]=function e(n,o,r,l,c){let u=n;for(;a[u+2]+i<=t.from;)u=a[u+3];let d=[],h=[];V(s,n,u,d,h,l);let p=a[u+1],m=a[u+2],g=p+i==t.from&&m+i==t.to&&a[u]==t.type.id;return d.push(g?t.toTree():e(u+4,a[u+3],s.set.types[a[u]],p,m-p)),h.push(p-l),V(s,a[u+3],o,d,h,l),new f(r,d,h,c)}(0,a.length,c.none,0,s.length);for(let o=0;o<=n;o++)e.childAfter(t.from)}class W{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(p.IncludeAnonymous|p.IgnoreMounts)}moveTo(e){let{cursor:t}=this,n=e-this.offset;for(;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,p.IgnoreOverlays|p.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(!(t.children.length&&0==t.positions[0]&&t.children[0]instanceof f))break;t=t.children[0]}return!1}}class H{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=null!==(t=n.tree.prop(B))&&void 0!==t?t:n.to,this.inner=new W(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(e=t.tree.prop(B))&&void 0!==e?e:t.to,this.inner=new W(t.tree,-t.offset)}}findMounts(e,t){var n;let o=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let e=this.inner.cursor.node;e;e=e.parent){let r=null===(n=e.tree)||void 0===n?void 0:n.prop(s.mounted);if(r&&r.parser==t)for(let t=this.fragI;t<this.fragments.length;t++){let n=this.fragments[t];if(n.from>=e.to)break;n.tree==this.curFrag.tree&&o.push({frag:n,pos:e.from-n.offset,mount:r})}}}return o}}function z(e,t){let n=null,o=t;for(let r=1,s=0;r<e.length;r++){let a=e[r-1].to,l=e[r].from;for(;s<o.length;s++){let e=o[s];if(e.from>=l)break;e.to<=a||(n||(o=n=t.slice()),e.from<a?(n[s]=new i(e.from,a),e.to>l&&n.splice(s+1,0,new i(l,e.to))):e.to>l?n[s--]=new i(l,e.to):n.splice(s--,1))}}return o}function $(e,t,n,o){let r=0,s=0,a=!1,l=!1,c=-1e9,u=[];for(;;){let d=r==e.length?1e9:a?e[r].to:e[r].from,h=s==t.length?1e9:l?t[s].to:t[s].from;if(a!=l){let e=Math.max(c,n),t=Math.min(d,h,o);e<t&&u.push(new i(e,t))}if(c=Math.min(d,h),1e9==c)break;d==c&&(a?(a=!1,r++):a=!0),h==c&&(l?(l=!1,s++):l=!0)}return u}function K(e,t){let n=[];for(let{pos:o,mount:r,frag:s}of e){let e=o+(r.overlay?r.overlay[0].from:0),a=e+r.tree.length,l=Math.max(s.from,e),c=Math.min(s.to,a);if(r.overlay){let a=$(t,r.overlay.map((e=>new i(e.from+o,e.to+o))),l,c);for(let t=0,o=l;;t++){let i=t==a.length,l=i?c:a[t].from;if(l>o&&n.push(new M(o,l,r.tree,-e,s.from>=o,s.to<=l)),i)break;o=a[t].to}}else n.push(new M(l,c,r.tree,-e,s.from>=e,s.to<=a))}return n}},35524:(e,t,n)=>{"use strict";n.d(t,{Gv:()=>c,QR:()=>h,bW:()=>f,pJ:()=>M});var o=n(41113);let r=0;class i{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=r++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new i([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new a;return t=>t.modified.indexOf(e)>-1?t:a.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let s=0;class a{constructor(){this.instances=[],this.id=s++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(o=t,r=n.modified,o.length==r.length&&o.every(((e,t)=>e==r[t])));var o,r}));if(n)return n;let o=[],r=new i(o,e,t);for(let e of t)e.instances.push(r);let s=l(t);for(let t of e.set)for(let e of s)o.push(a.get(t,e));return r}}function l(e){let t=[e];for(let n=0;n<e.length;n++)for(let o of l(e.slice(0,n).concat(e.slice(n+1))))t.push(o);return t}function c(e){let t=Object.create(null);for(let n in e){let o=e[n];Array.isArray(o)||(o=[o]);for(let e of n.split(" "))if(e){let n=[],r=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){r=1;break}let o=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!o)throw new RangeError("Invalid path: "+e);if(n.push("*"==o[0]?"":'"'==o[0][0]?JSON.parse(o[0]):o[0]),t+=o[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){r=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let s=n.length-1,a=n[s];if(!a)throw new RangeError("Invalid path: "+e);let l=new d(o,r,s>0?n.slice(0,s):null);t[a]=l.sort(t[a])}}return u.add(t)}const u=new o.md;class d{constructor(e,t,n,o){this.tags=e,this.mode=t,this.context=n,this.next=o}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function h(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:o,all:r=null}=t||{};return{style:e=>{let t=r;for(let o of e)for(let e of o.set){let o=n[e.id];if(o){t=t?t+" "+o:o;break}}return t},scope:o}}function p(e,t){let n=null;for(let o of e){let e=o.style(t);e&&(n=n?n+" "+e:e)}return n}function f(e,t,n,o=0,r=e.length){let i=new m(o,Array.isArray(t)?t:[t],n);i.highlightRange(e.cursor(),o,r,"",i.highlighters),i.flush(r)}class m{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,i){let{type:s,from:a,to:l}=e;if(a>=n||l<=t)return;s.isTop&&(i=this.highlighters.filter((e=>!e.scope||e.scope(s))));let c=r,d=s.prop(u),h=!1;for(;d;){if(!d.context||e.matchContext(d.context)){let e=p(i,d.tags);e&&(c&&(c+=" "),c+=e,1==d.mode?r+=(r?" ":"")+e:0==d.mode&&(h=!0));break}d=d.next}if(this.startSpan(e.from,c),h)return;let f=e.tree&&e.tree.prop(o.md.mounted);if(f&&f.overlay){let o=e.node.enter(f.overlay[0].from+a,1),s=this.highlighters.filter((e=>!e.scope||e.scope(f.tree.type))),u=e.firstChild();for(let d=0,h=a;;d++){let p=d<f.overlay.length?f.overlay[d]:null,m=p?p.from+a:l,g=Math.max(t,h),v=Math.min(n,m);if(g<v&&u)for(;e.from<v&&(this.highlightRange(e,g,v,r,i),this.startSpan(Math.min(n,e.to),c),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;h=p.to+a,h>t&&(this.highlightRange(o.cursor(),Math.max(t,p.from+a),Math.min(n,h),r,s),this.startSpan(h,c))}u&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),c)}}while(e.nextSibling());e.parent()}}}const g=i.define,v=g(),y=g(),w=g(y),b=g(y),k=g(),x=g(k),S=g(k),_=g(),C=g(_),D=g(),E=g(),A=g(),O=g(A),T=g(),M={comment:v,lineComment:g(v),blockComment:g(v),docComment:g(v),name:y,variableName:g(y),typeName:w,tagName:g(w),propertyName:b,attributeName:g(b),className:g(y),labelName:g(y),namespace:g(y),macroName:g(y),literal:k,string:x,docString:g(x),character:g(x),attributeValue:g(x),number:S,integer:g(S),float:g(S),bool:g(k),regexp:g(k),escape:g(k),color:g(k),url:g(k),keyword:D,self:g(D),null:g(D),atom:g(D),unit:g(D),modifier:g(D),operatorKeyword:g(D),controlKeyword:g(D),definitionKeyword:g(D),moduleKeyword:g(D),operator:E,derefOperator:g(E),arithmeticOperator:g(E),logicOperator:g(E),bitwiseOperator:g(E),compareOperator:g(E),updateOperator:g(E),definitionOperator:g(E),typeOperator:g(E),controlOperator:g(E),punctuation:A,separator:g(A),bracket:O,angleBracket:g(O),squareBracket:g(O),paren:g(O),brace:g(O),content:_,heading:C,heading1:g(C),heading2:g(C),heading3:g(C),heading4:g(C),heading5:g(C),heading6:g(C),contentSeparator:g(_),list:g(_),quote:g(_),emphasis:g(_),strong:g(_),link:g(_),monospace:g(_),strikethrough:g(_),inserted:g(),deleted:g(),changed:g(),invalid:g(),meta:T,documentMeta:g(T),annotation:g(T),processingInstruction:g(T),definition:i.defineModifier(),constant:i.defineModifier(),function:i.defineModifier(),standard:i.defineModifier(),local:i.defineModifier(),special:i.defineModifier()};h([{tag:M.link,class:"tok-link"},{tag:M.heading,class:"tok-heading"},{tag:M.emphasis,class:"tok-emphasis"},{tag:M.strong,class:"tok-strong"},{tag:M.keyword,class:"tok-keyword"},{tag:M.atom,class:"tok-atom"},{tag:M.bool,class:"tok-bool"},{tag:M.url,class:"tok-url"},{tag:M.labelName,class:"tok-labelName"},{tag:M.inserted,class:"tok-inserted"},{tag:M.deleted,class:"tok-deleted"},{tag:M.literal,class:"tok-literal"},{tag:M.string,class:"tok-string"},{tag:M.number,class:"tok-number"},{tag:[M.regexp,M.escape,M.special(M.string)],class:"tok-string2"},{tag:M.variableName,class:"tok-variableName"},{tag:M.local(M.variableName),class:"tok-variableName tok-local"},{tag:M.definition(M.variableName),class:"tok-variableName tok-definition"},{tag:M.special(M.variableName),class:"tok-variableName2"},{tag:M.definition(M.propertyName),class:"tok-propertyName tok-definition"},{tag:M.typeName,class:"tok-typeName"},{tag:M.namespace,class:"tok-namespace"},{tag:M.className,class:"tok-className"},{tag:M.macroName,class:"tok-macroName"},{tag:M.propertyName,class:"tok-propertyName"},{tag:M.operator,class:"tok-operator"},{tag:M.comment,class:"tok-comment"},{tag:M.meta,class:"tok-meta"},{tag:M.invalid,class:"tok-invalid"},{tag:M.punctuation,class:"tok-punctuation"}])},73048:(e,t,n)=>{"use strict";function o(e){return null!==e&&"object"==typeof e}function r(e,t,n=".",i){if(!o(t))return r(e,{},n,i);const s=Object.assign({},t);for(const t in e){if("__proto__"===t||"constructor"===t)continue;const a=e[t];null!=a&&(i&&i(s,t,a,n)||(Array.isArray(a)&&Array.isArray(s[t])?s[t]=a.concat(s[t]):o(a)&&o(s[t])?s[t]=r(a,s[t],(n?`${n}.`:"")+t.toString(),i):s[t]=a))}return s}function i(e){return(...t)=>t.reduce(((t,n)=>r(t,n,"",e)),{})}n.d(t,{ZP:()=>s});const s=i();i(((e,t,n,o)=>{if(void 0!==e[t]&&"function"==typeof n)return e[t]=n(e[t]),!0})),i(((e,t,n,o)=>{if(Array.isArray(e[t])&&"function"==typeof n)return e[t]=n(e[t]),!0}))},53416:(e,t,n)=>{"use strict";n.d(t,{kP:()=>r,x0:()=>i});let o=e=>crypto.getRandomValues(new Uint8Array(e)),r=(e,t=21)=>((e,t,n)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*o*t/e.length);return(i=t)=>{let s="";for(;;){let t=n(r),a=r;for(;a--;)if(s+=e[t[a]&o]||"",s.length===i)return s}}})(e,t,o),i=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},28699:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});const o="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),r="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class s{constructor(e,t){this.rules=[];let{finish:n}=t||{};function o(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function r(e,t,i,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let n in t){let s=t[n];if(/&/.test(n))r(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),s,i);else if(s&&"object"==typeof s){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(o(n),s,a,c)}else null!=s&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+s+";")}(a.length||c)&&i.push((!n||l||s?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)r(o(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=i[o]||1;return i[o]=e+1,"ͼ"+e.toString(36)}static mount(e,t){(e[r]||new l(e)).mount(Array.isArray(t)?t:[t])}}let a=null;class l{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(a)return e.adoptedStyleSheets=[a.sheet].concat(e.adoptedStyleSheets),e[r]=a;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),a=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[r]=this}mount(e){let t=this.sheet,n=0,o=0;for(let r=0;r<e.length;r++){let i=e[r],s=this.modules.indexOf(i);if(s<o&&s>-1&&(this.modules.splice(s,1),o--,s=-1),-1==s){if(this.modules.splice(o++,0,i),t)for(let e=0;e<i.rules.length;e++)t.insertRule(i.rules[e],n++)}else{for(;o<s;)n+=this.modules[o++].rules.length;n+=i.rules.length,o++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}},86121:(e,t,n)=>{"use strict";n.d(t,{$B:()=>r,$Q:()=>o,IV:()=>s,t8:()=>i});var o=!1,r=!0;function i(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function s(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]}},22201:(e,t,n)=>{"use strict";n.d(t,{iS:()=>Ee,p7:()=>Ue,r5:()=>M,tv:()=>je,yj:()=>Re});var o=n(66252),r=n(2262);
/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const i="undefined"!=typeof window;function s(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const a=Object.assign;function l(e,t){const n={};for(const o in t){const r=t[o];n[o]=u(r)?r.map(e):e(r)}return n}const c=()=>{},u=Array.isArray;const d=/\/$/;function h(e,t,n="/"){let o,r={},i="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(o=o||t.slice(0,a),s=t.slice(a,t.length)),o=function(e,t){if(e.startsWith("/"))return e;0;if(!e)return t;const n=t.split("/"),o=e.split("/");let r,i,s=n.length-1;for(r=0;r<o.length;r++)if(i=o[r],"."!==i){if(".."!==i)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}(null!=o?o:t,n),{fullPath:o+(i&&"?")+i+s,path:o,query:r,hash:s}}function p(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function f(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function m(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!g(e[n],t[n]))return!1;return!0}function g(e,t){return u(e)?v(e,t):u(t)?v(t,e):e===t}function v(e,t){return u(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var y,w;!function(e){e.pop="pop",e.push="push"}(y||(y={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(w||(w={}));function b(e){if(!e)if(i){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),(e=>e.replace(d,""))(e)}const k=/^[^#]+#/;function x(e,t){return e.replace(k,"#")+t}const S=()=>({left:window.pageXOffset,top:window.pageYOffset});function _(e){let t;if("el"in e){const n=e.el,o="string"==typeof n&&n.startsWith("#");0;const r="string"==typeof n?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function C(e,t){return(history.state?history.state.position-t:-1)+e}const D=new Map;let E=()=>location.protocol+"//"+location.host;function A(e,t){const{pathname:n,search:o,hash:r}=t,i=e.indexOf("#");if(i>-1){let t=r.includes(e.slice(i))?e.slice(i).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),p(n,"")}return p(n,e)+o+r}function O(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?S():null}}function T(e){const t=function(e){const{history:t,location:n}=window,o={value:A(e,n)},r={value:t.state};function i(o,i,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+o:E()+e+o;try{t[s?"replaceState":"pushState"](i,"",l),r.value=i}catch(e){console.error(e),n[s?"replace":"assign"](l)}}return r.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:r,push:function(e,n){const s=a({},r.value,t.state,{forward:e,scroll:S()});i(s.current,s,!0),i(e,a({},O(o.value,e,null),{position:s.position+1},n),!1),o.value=e},replace:function(e,n){i(e,a({},t.state,O(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),o.value=e}}}(e=b(e)),n=function(e,t,n,o){let r=[],i=[],s=null;const l=({state:i})=>{const a=A(e,location),l=n.value,c=t.value;let u=0;if(i){if(n.value=a,t.value=i,s&&s===l)return void(s=null);u=c?i.position-c.position:0}else o(a);r.forEach((e=>{e(n.value,l,{delta:u,type:y.pop,direction:u?u>0?w.forward:w.back:w.unknown})}))};function c(){const{history:e}=window;e.state&&e.replaceState(a({},e.state,{scroll:S()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:function(){s=n.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}}}(e,t.state,t.location,t.replace);const o=a({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:x.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function M(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),T(e)}function L(e){return"string"==typeof e||"symbol"==typeof e}const I={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},N=Symbol("");var P;!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(P||(P={}));function U(e,t){return a(new Error,{type:e,[N]:!0},t)}function B(e,t){return e instanceof Error&&N in e&&(null==t||!!(e.type&t))}const j="[^/]+?",R={sensitive:!1,strict:!1,start:!0,end:!0},V=/[.+*?^${}()[\]/\\]/g;function F(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function W(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const e=F(o[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-o.length)){if(H(o))return 1;if(H(r))return-1}return r.length-o.length}function H(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const z={type:0,value:""},$=/[a-zA-Z0-9_]/;function K(e,t,n){const o=function(e,t){const n=a({},R,t),o=[];let r=n.start?"^":"";const i=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(r+="/");for(let o=0;o<t.length;o++){const s=t[o];let a=40+(n.sensitive?.25:0);if(0===s.type)o||(r+="/"),r+=s.value.replace(V,"\\$&"),a+=40;else if(1===s.type){const{value:e,repeatable:n,optional:l,regexp:c}=s;i.push({name:e,repeatable:n,optional:l});const u=c||j;if(u!==j){a+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;o||(d=l&&t.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}o.push(e)}if(n.strict&&n.end){const e=o.length-1;o[e][o[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:o,keys:i,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let e=1;e<t.length;e++){const o=t[e]||"",r=i[e-1];n[r.name]=o&&r.repeatable?o.split("/"):o}return n},stringify:function(t){let n="",o=!1;for(const r of e){o&&n.endsWith("/")||(n+="/"),o=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:a}=e,l=i in t?t[i]:"";if(u(l)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${i}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):o=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[z]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,o=n;const r=[];let i;function s(){i&&r.push(i),i=[]}let a,l=0,c="",u="";function d(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&d(),s()):":"===a?(d(),n=1):h();break;case 4:h(),n=o;break;case 1:"("===a?n=2:$.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state")}else o=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}(e.path),n);const r=a(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function q(e,t){const n=[],o=new Map;function r(e,n,o){const l=!o,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Y(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);u.aliasOf=o&&o.record;const d=J(t,e),h=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(a({},u,{components:o?o.record.components:u.components,path:e,aliasOf:o?o.record:u}))}let p,f;for(const t of h){const{path:a}=t;if(n&&"/"!==a[0]){const e=n.record.path,o="/"===e[e.length-1]?"":"/";t.path=n.record.path+(a&&o+a)}if(p=K(t,n,d),o?o.alias.push(p):(f=f||p,f!==p&&f.alias.push(p),l&&e.name&&!G(p)&&i(e.name)),u.children){const e=u.children;for(let t=0;t<e.length;t++)r(e[t],p,o&&o.children[t])}o=o||p,s(p)}return f?()=>{i(f)}:c}function i(e){if(L(e)){const t=o.get(e);t&&(o.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){let t=0;for(;t<n.length&&W(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Z(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!G(e)&&o.set(e.record.name,e)}return t=J({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:function(e,t){let r,i,s,l={};if("name"in e&&e.name){if(r=o.get(e.name),!r)throw U(1,{location:e});s=r.record.name,l=a(function(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=r.stringify(l)}else if("path"in e)i=e.path,r=n.find((e=>e.re.test(i))),r&&(l=r.parse(i),s=r.record.name);else{if(r=t.name?o.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw U(1,{location:e,currentLocation:t});s=r.record.name,l=a({},t.params,e.params),i=r.stringify(l)}const c=[];let u=r;for(;u;)c.unshift(u.record),u=u.parent;return{name:s,path:i,params:l,matched:c,meta:X(c)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return o.get(e)}}}function Y(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]="boolean"==typeof n?n:n[o];return t}function G(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function X(e){return e.reduce(((e,t)=>a(e,t.meta)),{})}function J(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Z(e,t){return t.children.some((t=>t===e||Z(e,t)))}const Q=/#/g,ee=/&/g,te=/\//g,ne=/=/g,oe=/\?/g,re=/\+/g,ie=/%5B/g,se=/%5D/g,ae=/%5E/g,le=/%60/g,ce=/%7B/g,ue=/%7C/g,de=/%7D/g,he=/%20/g;function pe(e){return encodeURI(""+e).replace(ue,"|").replace(ie,"[").replace(se,"]")}function fe(e){return pe(e).replace(re,"%2B").replace(he,"+").replace(Q,"%23").replace(ee,"%26").replace(le,"`").replace(ce,"{").replace(de,"}").replace(ae,"^")}function me(e){return null==e?"":function(e){return pe(e).replace(Q,"%23").replace(oe,"%3F")}(e).replace(te,"%2F")}function ge(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function ve(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const o=n[e].replace(re," "),r=o.indexOf("="),i=ge(r<0?o:o.slice(0,r)),s=r<0?null:ge(o.slice(r+1));if(i in t){let e=t[i];u(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function ye(e){let t="";for(let n in e){const o=e[n];if(n=fe(n).replace(ne,"%3D"),null==o){void 0!==o&&(t+=(t.length?"&":"")+n);continue}(u(o)?o.map((e=>e&&fe(e))):[o&&fe(o)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function we(e){const t={};for(const n in e){const o=e[n];void 0!==o&&(t[n]=u(o)?o.map((e=>null==e?null:""+e)):null==o?o:""+o)}return t}const be=Symbol(""),ke=Symbol(""),xe=Symbol(""),Se=Symbol(""),_e=Symbol("");function Ce(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function De(e,t,n){const r=()=>{e[t].delete(n)};(0,o.Ah)(r),(0,o.se)(r),(0,o.dl)((()=>{e[t].add(n)})),e[t].add(n)}function Ee(e){const t=(0,o.f3)(be,{}).value;t&&De(t,"leaveGuards",e)}function Ae(e,t,n,o,r){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise(((s,a)=>{const l=e=>{var l;!1===e?a(U(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(l=e)||l&&"object"==typeof l?a(U(2,{from:t,to:e})):(i&&o.enterCallbacks[r]===i&&"function"==typeof e&&i.push(e),s())},c=e.call(o&&o.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>a(e)))}))}function Oe(e,t,n,o){const r=[];for(const a of e){0;for(const e in a.components){let l=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if("object"==typeof(i=l)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(l.__vccOpts||l)[t];i&&r.push(Ae(i,n,o,a,e))}else{let i=l();0,r.push((()=>i.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const i=s(r)?r.default:r;a.components[e]=i;const l=(i.__vccOpts||i)[t];return l&&Ae(l,n,o,a,e)()}))))}}}var i;return r}function Te(e){const t=(0,o.f3)(xe),n=(0,o.f3)(Se),i=(0,o.Fl)((()=>t.resolve((0,r.SU)(e.to)))),s=(0,o.Fl)((()=>{const{matched:e}=i.value,{length:t}=e,o=e[t-1],r=n.matched;if(!o||!r.length)return-1;const s=r.findIndex(f.bind(null,o));if(s>-1)return s;const a=Le(e[t-2]);return t>1&&Le(o)===a&&r[r.length-1].path!==a?r.findIndex(f.bind(null,e[t-2])):s})),a=(0,o.Fl)((()=>s.value>-1&&function(e,t){for(const n in t){const o=t[n],r=e[n];if("string"==typeof o){if(o!==r)return!1}else if(!u(r)||r.length!==o.length||o.some(((e,t)=>e!==r[t])))return!1}return!0}(n.params,i.value.params))),l=(0,o.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&m(n.params,i.value.params)));return{route:i,href:(0,o.Fl)((()=>i.value.href)),isActive:a,isExactActive:l,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[(0,r.SU)(e.replace)?"replace":"push"]((0,r.SU)(e.to)).catch(c):Promise.resolve()}}}const Me=(0,o.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Te,setup(e,{slots:t}){const n=(0,r.qj)(Te(e)),{options:i}=(0,o.f3)(xe),s=(0,o.Fl)((()=>({[Ie(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Ie(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:(0,o.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}});function Le(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ie=(e,t,n)=>null!=e?e:null!=t?t:n;function Ne(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Pe=(0,o.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=(0,o.f3)(_e),s=(0,o.Fl)((()=>e.route||i.value)),l=(0,o.f3)(ke,0),c=(0,o.Fl)((()=>{let e=(0,r.SU)(l);const{matched:t}=s.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),u=(0,o.Fl)((()=>s.value.matched[c.value]));(0,o.JJ)(ke,(0,o.Fl)((()=>c.value+1))),(0,o.JJ)(be,u),(0,o.JJ)(_e,s);const d=(0,r.iH)();return(0,o.YP)((()=>[d.value,u.value,e.name]),(([e,t,n],[o,r,i])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&f(t,r)&&o||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=s.value,i=e.name,l=u.value,c=l&&l.components[i];if(!c)return Ne(n.default,{Component:c,route:r});const h=l.props[i],p=h?!0===h?r.params:"function"==typeof h?h(r):h:null,f=(0,o.h)(c,a({},p,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(l.instances[i]=null)},ref:d}));return Ne(n.default,{Component:f,route:r})||f}}});function Ue(e){const t=q(e.routes,e),n=e.parseQuery||ve,s=e.stringifyQuery||ye,d=e.history;const p=Ce(),g=Ce(),v=Ce(),w=(0,r.XI)(I);let b=I;i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=l.bind(null,(e=>""+e)),x=l.bind(null,me),E=l.bind(null,ge);function A(e,o){if(o=a({},o||w.value),"string"==typeof e){const r=h(n,e,o.path),i=t.resolve({path:r.path},o),s=d.createHref(r.fullPath);return a(r,i,{params:E(i.params),hash:ge(r.hash),redirectedFrom:void 0,href:s})}let r;if("path"in e)r=a({},e,{path:h(n,e.path,o.path).path});else{const t=a({},e.params);for(const e in t)null==t[e]&&delete t[e];r=a({},e,{params:x(e.params)}),o.params=x(o.params)}const i=t.resolve(r,o),l=e.hash||"";i.params=k(E(i.params));const c=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(s,a({},e,{hash:(u=l,pe(u).replace(ce,"{").replace(de,"}").replace(ae,"^")),path:i.path}));var u;const p=d.createHref(c);return a({fullPath:c,hash:l,query:s===ye?we(e.query):e.query||{}},i,{redirectedFrom:void 0,href:p})}function O(e){return"string"==typeof e?h(n,e,w.value.path):a({},e)}function T(e,t){if(b!==e)return U(8,{from:t,to:e})}function M(e){return P(e)}function N(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let o="function"==typeof n?n(e):n;return"string"==typeof o&&(o=o.includes("?")||o.includes("#")?o=O(o):{path:o},o.params={}),a({query:e.query,hash:e.hash,params:"path"in o?{}:e.params},o)}}function P(e,t){const n=b=A(e),o=w.value,r=e.state,i=e.force,l=!0===e.replace,c=N(n);if(c)return P(a(O(c),{state:r,force:i,replace:l}),t||n);const u=n;let d;return u.redirectedFrom=t,!i&&function(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&f(t.matched[o],n.matched[r])&&m(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(s,o,n)&&(d=U(16,{to:u,from:o}),X(o,o,!0,!1)),(d?Promise.resolve(d):R(u,o)).catch((e=>B(e)?B(e,2)?e:G(e):Y(e,u,o))).then((e=>{if(e){if(B(e,2))return P(a({replace:l},O(e.to),{state:r,force:i}),t||u)}else e=F(u,o,!0,l,r);return V(u,o,e),e}))}function j(e,t){const n=T(e,t);return n?Promise.reject(n):Promise.resolve()}function R(e,t){let n;const[o,r,i]=function(e,t){const n=[],o=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>f(e,i)))?o.push(i):n.push(i));const a=e.matched[s];a&&(t.matched.find((e=>f(e,a)))||r.push(a))}return[n,o,r]}(e,t);n=Oe(o.reverse(),"beforeRouteLeave",e,t);for(const r of o)r.leaveGuards.forEach((o=>{n.push(Ae(o,e,t))}));const s=j.bind(null,e,t);return n.push(s),Be(n).then((()=>{n=[];for(const o of p.list())n.push(Ae(o,e,t));return n.push(s),Be(n)})).then((()=>{n=Oe(r,"beforeRouteUpdate",e,t);for(const o of r)o.updateGuards.forEach((o=>{n.push(Ae(o,e,t))}));return n.push(s),Be(n)})).then((()=>{n=[];for(const o of e.matched)if(o.beforeEnter&&!t.matched.includes(o))if(u(o.beforeEnter))for(const r of o.beforeEnter)n.push(Ae(r,e,t));else n.push(Ae(o.beforeEnter,e,t));return n.push(s),Be(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Oe(i,"beforeRouteEnter",e,t),n.push(s),Be(n)))).then((()=>{n=[];for(const o of g.list())n.push(Ae(o,e,t));return n.push(s),Be(n)})).catch((e=>B(e,8)?e:Promise.reject(e)))}function V(e,t,n){for(const o of v.list())o(e,t,n)}function F(e,t,n,o,r){const s=T(e,t);if(s)return s;const l=t===I,c=i?history.state:{};n&&(o||l?d.replace(e.fullPath,a({scroll:l&&c&&c.scroll},r)):d.push(e.fullPath,r)),w.value=e,X(e,t,n,l),G()}let W;function H(){W||(W=d.listen(((e,t,n)=>{if(!ee.listening)return;const o=A(e),r=N(o);if(r)return void P(a(r,{replace:!0}),o).catch(c);b=o;const s=w.value;var l,u;i&&(l=C(s.fullPath,n.delta),u=S(),D.set(l,u)),R(o,s).catch((e=>B(e,12)?e:B(e,2)?(P(e.to,o).then((e=>{B(e,20)&&!n.delta&&n.type===y.pop&&d.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&d.go(-n.delta,!1),Y(e,o,s)))).then((e=>{(e=e||F(o,s,!1))&&(n.delta&&!B(e,8)?d.go(-n.delta,!1):n.type===y.pop&&B(e,20)&&d.go(-1,!1)),V(o,s,e)})).catch(c)})))}let z,$=Ce(),K=Ce();function Y(e,t,n){G(e);const o=K.list();return o.length?o.forEach((o=>o(e,t,n))):console.error(e),Promise.reject(e)}function G(e){return z||(z=!e,H(),$.list().forEach((([t,n])=>e?n(e):t())),$.reset()),e}function X(t,n,r,s){const{scrollBehavior:a}=e;if(!i||!a)return Promise.resolve();const l=!r&&function(e){const t=D.get(e);return D.delete(e),t}(C(t.fullPath,0))||(s||!r)&&history.state&&history.state.scroll||null;return(0,o.Y3)().then((()=>a(t,n,l))).then((e=>e&&_(e))).catch((e=>Y(e,t,n)))}const J=e=>d.go(e);let Z;const Q=new Set,ee={currentRoute:w,listening:!0,addRoute:function(e,n){let o,r;return L(e)?(o=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,o)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:A,options:e,push:M,replace:function(e){return M(a(O(e),{replace:!0}))},go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:p.add,beforeResolve:g.add,afterEach:v.add,onError:K.add,isReady:function(){return z&&w.value!==I?Promise.resolve():new Promise(((e,t)=>{$.add([e,t])}))},install(e){e.component("RouterLink",Me),e.component("RouterView",Pe),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(w)}),i&&!Z&&w.value===I&&(Z=!0,M(d.location).catch((e=>{0})));const t={};for(const e in I)t[e]=(0,o.Fl)((()=>w.value[e]));e.provide(xe,this),e.provide(Se,(0,r.qj)(t)),e.provide(_e,w);const n=e.unmount;Q.add(e),e.unmount=function(){Q.delete(e),Q.size<1&&(b=I,W&&W(),W=null,w.value=I,Z=!1,z=!1),n()}}};return ee}function Be(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function je(){return(0,o.f3)(xe)}function Re(){return(0,o.f3)(Se)}},23002:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Se,pm:()=>xe});var o,r=n(66252),i=n(49963),s=n(2262),a=n(3577),l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&h(e,n,t[n]);return e},f=e=>"function"==typeof e,m=e=>"string"==typeof e,g=e=>m(e)&&e.trim().length>0,v=e=>void 0===e,y=e=>"object"==typeof e&&null!==e,w=e=>window.TouchEvent&&e instanceof TouchEvent,b=e=>S(e,"component")&&k(e.component),k=e=>{return!v(e)&&(m(e)||(f(t=e)||y(t))||b(e));var t},x=e=>y(e)&&["height","width","right","left","top","bottom"].every((t=>"number"==typeof e[t])),S=(e,t)=>(y(e)||f(e))&&t in e,_=(o=0,()=>o++);function C(e){return w(e)?e.targetTouches[0].clientX:e.clientX}function D(e){return w(e)?e.targetTouches[0].clientY:e.clientY}var E,A,O,T,M,L,I=e=>b(e)?I(e.component):(e=>S(e,"tag")&&g(e.tag))(e)?(0,r.aZ)({render:()=>e}):"string"==typeof e?e:(0,s.IU)((0,s.SU)(e)),N=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach((e=>e(t)))}};(A=E||(E={})).SUCCESS="success",A.ERROR="error",A.WARNING="warning",A.INFO="info",A.DEFAULT="default",(T=O||(O={})).TOP_LEFT="top-left",T.TOP_CENTER="top-center",T.TOP_RIGHT="top-right",T.BOTTOM_LEFT="bottom-left",T.BOTTOM_CENTER="bottom-center",T.BOTTOM_RIGHT="bottom-right",(L=M||(M={})).ADD="add",L.DISMISS="dismiss",L.UPDATE="update",L.CLEAR="clear",L.UPDATE_DEFAULTS="update_defaults";var P="Vue-Toastification",U={type:{type:String,default:E.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},B={type:U.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},j={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:U.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},R={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},V={transition:{type:[Object,String],default:`${P}__bounce`}},F={CORE_TOAST:{position:{type:String,default:O.TOP_RIGHT},draggable:U.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:U.trueBoolean,pauseOnHover:U.trueBoolean,closeOnClick:U.trueBoolean,timeout:R.timeout,hideProgressBar:R.hideProgressBar,toastClassName:U.classNames,bodyClassName:U.classNames,icon:B.customIcon,closeButton:j.component,closeButtonClassName:j.classNames,showCloseButtonOnHover:j.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new N}},TOAST:{id:{type:[String,Number],required:!0,default:0},type:U.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER:{container:{type:[Object,Function],default:()=>document.body},newestOnTop:U.trueBoolean,maxToasts:{type:Number,default:20},transition:V.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:U.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},PROGRESS_BAR:R,ICON:B,TRANSITION:V,CLOSE_BUTTON:j},W=(0,r.aZ)({name:"VtProgressBar",props:F.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${P}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});W.render=function(e,t){return(0,r.wg)(),(0,r.iD)("div",{style:(0,a.normalizeStyle)(e.style),class:(0,a.normalizeClass)(e.cpClass)},null,6)};var H=W,z=(0,r.aZ)({name:"VtCloseButton",props:F.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?I(this.component):"button"},classes(){const e=[`${P}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),$=(0,r.Uk)(" × ");z.render=function(e,t){return(0,r.wg)(),(0,r.j4)((0,r.LL)(e.buttonComponent),(0,r.dG)({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:(0,r.w5)((()=>[$])),_:1},16,["aria-label","class"])};var K=z,q={},Y={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},G=[(0,r._)("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];q.render=function(e,t){return(0,r.wg)(),(0,r.iD)("svg",Y,G)};var X=q,J={},Z={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Q=[(0,r._)("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];J.render=function(e,t){return(0,r.wg)(),(0,r.iD)("svg",Z,Q)};var ee=J,te={},ne={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},oe=[(0,r._)("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];te.render=function(e,t){return(0,r.wg)(),(0,r.iD)("svg",ne,oe)};var re=te,ie={},se={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ae=[(0,r._)("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];ie.render=function(e,t){return(0,r.wg)(),(0,r.iD)("svg",se,ae)};var le=ie,ce=(0,r.aZ)({name:"VtIcon",props:F.ICON,computed:{customIconChildren(){return S(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return m(this.customIcon)?this.trimValue(this.customIcon):S(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return S(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:k(this.customIcon)?I(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[E.DEFAULT]:ee,[E.INFO]:ee,[E.SUCCESS]:X,[E.ERROR]:le,[E.WARNING]:re}[this.type]},iconClasses(){const e=[`${P}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue:(e,t="")=>g(e)?e.trim():t}});ce.render=function(e,t){return(0,r.wg)(),(0,r.j4)((0,r.LL)(e.component),{class:(0,a.normalizeClass)(e.iconClasses)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.toDisplayString)(e.customIconChildren),1)])),_:1},8,["class"])};var ue=ce,de=(0,r.aZ)({name:"VtToast",components:{ProgressBar:H,CloseButton:K,Icon:ue},inheritAttrs:!1,props:Object.assign({},F.CORE_TOAST,F.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const e=[`${P}__toast`,`${P}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${P}__toast--rtl`),e},bodyClasses(){return[`${P}__toast-${m(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return x(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:S,getVueComponentFromObj:I,closeToast(){this.eventBus.emit(M.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:C(e),y:D(e)},this.dragStart=C(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:C(e),y:D(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,x(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),he=["role"];de.render=function(e,t){const n=(0,r.up)("Icon"),o=(0,r.up)("CloseButton"),s=(0,r.up)("ProgressBar");return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.normalizeClass)(e.classes),style:(0,a.normalizeStyle)(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?((0,r.wg)(),(0,r.j4)(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):(0,r.kq)("v-if",!0),(0,r._)("div",{role:e.accessibility.toastRole||"alert",class:(0,a.normalizeClass)(e.bodyClasses)},["string"==typeof e.content?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)((0,a.toDisplayString)(e.content),1)],2112)):((0,r.wg)(),(0,r.j4)((0,r.LL)(e.getVueComponentFromObj(e.content)),(0,r.dG)({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},(0,r.mx)(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,he),e.closeButton?((0,r.wg)(),(0,r.j4)(o,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:(0,i.withModifiers)(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):(0,r.kq)("v-if",!0),e.timeout?((0,r.wg)(),(0,r.j4)(s,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):(0,r.kq)("v-if",!0)],38)};var pe=de,fe=(0,r.aZ)({name:"VtTransition",props:F.TRANSITION,emits:["leave"],methods:{hasProp:S,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});fe.render=function(e,t){return(0,r.wg)(),(0,r.j4)(i.TransitionGroup,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])};var me=fe,ge=(0,r.aZ)({name:"VueToastification",devtools:{hide:!0},components:{Toast:pe,VtTransition:me},props:Object.assign({},F.CORE_TOAST,F.CONTAINER,F.TRANSITION),data:()=>({count:0,positions:Object.values(O),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(M.ADD,this.addToast),e.on(M.CLEAR,this.clearToasts),e.on(M.DISMISS,this.dismissToast),e.on(M.UPDATE,this.updateToast),e.on(M.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){var t;f(e)&&(e=await e()),t=this.$el,v(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove(),e.appendChild(this.$el)},setToast(e){v(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=(e=>{if("string"==typeof e)return e;const t=S(e,"props")&&y(e.props)?e.props:{},n=S(e,"listeners")&&y(e.listeners)?e.listeners:{};return{component:I(e),props:t,listeners:n}})(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];v(t)||v(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach((e=>{this.dismissToast(e)}))},getPositionToasts(e){const t=this.filteredToasts.filter((t=>t.position===e)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){v(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${P}__container`,e].concat(this.defaults.containerClassName)}}});ge.render=function(e,t){const n=(0,r.up)("Toast"),o=(0,r.up)("VtTransition");return(0,r.wg)(),(0,r.iD)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.positions,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r.Wm)(o,{transition:e.defaults.transition,class:(0,a.normalizeClass)(e.getClasses(t))},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.getPositionToasts(t),(e=>((0,r.wg)(),(0,r.j4)(n,(0,r.dG)({key:e.id},e),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])};var ve=ge,ye=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new N;t&&(0,r.Y3)((()=>{const t=(0,i.createApp)(ve,p({},e)),n=t.mount(document.createElement("div")),o=e.onMounted;if(v(o)||o(n,t),e.shareAppContext){const n=e.shareAppContext;!0===n?console.warn(`[${P}] App to share context with was not provided.`):(t._context.components=n._context.components,t._context.directives=n._context.directives,t._context.mixins=n._context.mixins,t._context.provides=n._context.provides,t.config.globalProperties=n.config.globalProperties)}}));const o=(e,t)=>{const o=Object.assign({},{id:_(),type:E.DEFAULT},t,{content:e});return n.emit(M.ADD,o),o.id};return o.clear=()=>n.emit(M.CLEAR,void 0),o.updateDefaults=e=>{n.emit(M.UPDATE_DEFAULTS,e)},o.dismiss=e=>{n.emit(M.DISMISS,e)},o.update=function(e,{content:t,options:o},r=!1){const i=Object.assign({},o,{content:t});n.emit(M.UPDATE,{id:e,options:i,create:r})},o.success=(e,t)=>o(e,Object.assign({},t,{type:E.SUCCESS})),o.info=(e,t)=>o(e,Object.assign({},t,{type:E.INFO})),o.error=(e,t)=>o(e,Object.assign({},t,{type:E.ERROR})),o.warning=(e,t)=>o(e,Object.assign({},t,{type:E.WARNING})),o};function we(e){return"undefined"==typeof window?(()=>{const e=()=>console.warn(`[${P}] This plugin does not support SSR!`);return new Proxy(e,{get:()=>e})})():(t=e,["on","off","emit"].every((e=>S(t,e)&&f(t[e])))?ye({eventBus:e},!1):ye(e,!0));var t}var be=Symbol("VueToastification"),ke=new N,xe=e=>{if(e)return we(e);const t=(0,r.FN)()?(0,r.f3)(be,void 0):void 0;return t||we(ke)},Se=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const n=we(p({eventBus:ke},t));e.provide(be,n)}},33952:(e,t,n)=>{"use strict";n.d(t,{YG:()=>d,uY:()=>r,ue:()=>o});for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),a="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=s||i&&+i[1]<57,c=0;c<10;c++)o[48+c]=o[96+c]=String(c);for(c=1;c<=24;c++)o[c+111]="F"+c;for(c=65;c<=90;c++)o[c]=String.fromCharCode(c+32),r[c]=String.fromCharCode(c);for(var u in o)r.hasOwnProperty(u)||(r[u]=o[u]);function d(e){var t=!(l&&(e.ctrlKey||e.altKey||e.metaKey)||a&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?r:o)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=r,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>(({30:"locales/locale-vi-popup-json",163:"locales/locale-en-common-json",194:"locales/locale-en-blocks-json",325:"locales/locale-fr-newtab-json",342:"locales/locale-vi-blocks-json",366:"locales/locale-fr-popup-json",381:"locales/locale-zh-common-json",450:"locales/locale-zh-popup-json",466:"locales/locale-zh-TW-blocks-json",531:"locales/locale-fr-blocks-json",601:"locales/locale-zh-newtab-json",612:"locales/locale-zh-TW-popup-json",631:"locales/locale-vi-newtab-json",639:"locales/locale-zh-blocks-json",652:"locales/locale-zh-TW-common-json",719:"locales/locale-fr-common-json",825:"locales/locale-vi-common-json",835:"locales/locale-en-newtab-json",910:"locales/locale-en-popup-json",915:"locales/locale-zh-TW-newtab-json"}[e]||e)+".bundle.js"),s.miniCssF=e=>e+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="automa:",s.l=(n,o,r,i)=>{if(e[n])e[n].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[o];var h=(t,o)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(o))),t)return t(o)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="/",n=e=>new Promise(((t,n)=>{var o=s.miniCssF(e),r=s.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(s=n[o]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var s;if((r=(s=i[o]).getAttribute("data-href"))===e||r===t)return s}})(o,r))return t();((e,t,n,o)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=i=>{if(r.onerror=r.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,r.parentNode.removeChild(r),o(l)}},r.href=t,document.head.appendChild(r)})(e,r,t,n)})),o={532:0},s.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{71:1}[e]&&t.push(o[e]=n(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{var e={532:0};s.f.j=(t,n)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var i=s.p+s.u(t),a=new Error;s.l(i,(n=>{if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[i,a,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)l(s)}for(t&&t(n);c<i.length;c++)r=i[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkautoma=self.webpackChunkautoma||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=s(49963),t=s(66252),n=s(3577),o=s(2262);const r=s.p+"logoFirefox.svg",i=s.p+"logo.svg";var a=s(7043),l=s(22201);function c(e,t){const n=h(e),o=h(t),r=n.pop(),i=o.pop(),s=g(n,o);return 0!==s?s:r&&i?g(r.split("."),i.split(".")):r||i?r?-1:1:0}const u=(e,t,n)=>{w(n);const o=c(e,t);return v[n].includes(o)};c.validate=e=>"string"==typeof e&&/^[v\d]/.test(e)&&d.test(e),c.compare=u,c.sastisfies=(e,t)=>{const n=t.match(/^([<>=~^]+)/),o=n?n[1]:"=";if("^"!==o&&"~"!==o)return u(e,t,o);const[r,i,s]=h(e),[a,l,c]=h(t);return 0===m(r,a)&&("^"===o?g([i,s],[l,c])>=0:0===m(i,l)&&m(s,c)>=0)};const d=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,h=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(d);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},p=e=>"*"===e||"x"===e||"X"===e,f=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},m=(e,t)=>{if(p(e)||p(t))return 0;const[n,o]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(f(e),f(t));return n>o?1:n<o?-1:0},g=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=m(e[n]||0,t[n]||0);if(0!==o)return o}return 0},v={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},y=Object.keys(v),w=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===y.indexOf(e))throw new Error(`Invalid operator, expected one of ${y.join("|")}`)};var b=s(93150),k=s.n(b),x=s(95684),S=s(73048),_=s(72378),C=s.n(_);const D=(0,x.Q_)("main",{storageMap:{settings:"settings"},state:()=>({copiedEls:{edges:[],nodes:[]},settings:{locale:"en",deleteLogAfter:30,editor:{minZoom:.6,maxZoom:1.3,arrow:!1,snapToGrid:!1,lineType:"default",snapGrid:{0:15,1:15}}},retrieved:!0}),actions:{loadSettings(){return k().storage.local.get("settings").then((({settings:e})=>{this.settings=(0,S.ZP)(e||{},this.settings),this.retrieved=!0}))},async updateSettings(e={}){this.settings=C()(this.settings,e),await this.saveToStorage("settings")}}});var E=s(18154),A=s(53416);const O=(0,x.Q_)("folder",{storageMap:{items:"folders"},state:()=>({items:[],retrieved:!1}),actions:{async addFolder(e){return this.items.push({name:e,id:(0,A.x0)()}),await this.saveToStorage("items"),this.items.at(-1)},async deleteFolder(e){const t=this.items.findIndex((t=>t.id===e));return-1===t?null:(this.items.splice(t,1),await this.saveToStorage("items"),t)},async updateFolder(e,t={}){const n=this.items.findIndex((t=>t.id===e));return-1===n?null:(Object.assign(this.items[n],t),await this.saveToStorage("items"),this.items[n])},load(){return k().storage.local.get("folders").then((({folders:e})=>(this.items=e||[],this.retrieved=!0,e)))}}});var T=s(42822),M=s(8355);const L=(0,x.Q_)("team-workflows",{storageMap:{workflows:"teamWorkflows"},state:()=>({workflows:{},retrieved:!1}),getters:{toArray:e=>Object.values(e.workflows),getByTeam:e=>t=>e.workflows?Object.values(e.workflows[t]||{}):[],getById:e=>(t,n)=>e.workflows&&e.workflows[t]&&e.workflows[t][n]||null},actions:{async insert(e,t){this.workflows[e]||(this.workflows[e]={}),Array.isArray(t)?t.forEach((t=>{this.workflows[e][t.id]=t})):this.workflows[e][t.id]=t,await this.saveToStorage("workflows")},async update({teamId:e,id:t,data:n,deepmerge:o=!1}){return Boolean(this.workflows[e]?.[t])?(o?this.workflows[e][t]=C()(this.workflows[e][t],n):Object.assign(this.workflows[e][t],n),await this.saveToStorage("workflows"),this.workflows[e][t]):null},async delete(e,t){this.workflows[e]&&(delete this.workflows[e][t],await this.saveToStorage("workflows"),await(0,M.BV)(t))},async loadData(){const{teamWorkflows:e}=await k().storage.local.get("teamWorkflows");this.workflows=e||{},this.retrieved=!0}}}),I=[{name:"Light",id:"light"},{name:"Dark",id:"dark"},{name:"System",id:"system"}];function N(){const e=(0,o.iH)("system");async function n(t){if(!I.some((({id:e})=>e===t)))return;let n="dark"===t;"system"===t&&(n=window.matchMedia("(prefers-color-scheme: dark)").matches),document.documentElement.classList.toggle("dark",n),e.value=t,await k().storage.local.set({theme:t})}async function r(){let{theme:e}=await k().storage.local.get("theme");return e||(e="system"),e}return(0,t.bv)((async()=>{e.value=await r()})),{init:async function(){const e=await r();await n(e)},themes:I,activeTheme:e,set:n,get:r}}var P=s(31263),U=s(9924);const B=(0,x.Q_)("hosted-workflows",{storageMap:{workflows:"workflowHosts"},state:()=>({workflows:{},retrieved:!1}),getters:{getById:e=>t=>e.workflows[t],toArray:e=>Object.values(e.workflows)},actions:{async loadData(){const{workflowHosts:e}=await k().storage.local.get("workflowHosts");this.workflows=e||{},this.retrieved=!0},async insert(e,t="hostId"){return Array.isArray(e)?e.forEach((e=>{this.workflows[e[t]]=e})):this.workflows[e[t]]=e,await this.saveToStorage("workflows"),e},async delete(e){return delete this.workflows[e],await this.saveToStorage("workflows"),await(0,M.BV)(e),e},async update({id:e,data:t}){return this.workflows[e]?(Object.assign(this.workflows[e],t),await this.saveToStorage("workflows"),this.workflows[e]):null},async addHostedWorkflow(e){if(this.workflows[e])throw new Error("exist");const t=(0,E.L)();if(!t.user&&this.toArray.length>=3)throw new Error("rate-exceeded");if(t.getHostedWorkflows.some((t=>e===t.hostId)))throw new Error("exist");const n=await(0,U.a8)("/workflows/hosted",{method:"POST",body:JSON.stringify({hostId:e})}),o=await n.json();if(!n.ok){const e=new Error(o.message);throw e.data=o.data,e}if(null===o)throw new Error("not-found");o.hostId=e,o.createdAt=Date.now();const r=(0,P.No)(o.drawflow);return await(0,M.W5)(e,r),this.workflows[e]=o,await this.saveToStorage("workflows"),o},async fetchWorkflows(e){if(!e||0===e.length)return null;const t=await(0,U.a8)("/workflows/hosted",{method:"POST",body:JSON.stringify({hosts:e})}),n=await t.json();if(!t.ok)throw new Error(n.message);const o=[];return n.forEach((({hostId:e,status:t,data:n})=>{if("deleted"===t)return delete this.workflows[e],void(0,M.BV)(e);if("updated"===t){const t=(0,P.No)(n.drawflow);(0,M.W5)(e,t)}n.hostId=e,o.push(n),this.workflows[e]=n})),await this.saveToStorage("workflows"),o}}}),j=(0,x.Q_)("shared-workflows",{state:()=>({workflows:{}}),getters:{toArray:e=>Object.values(e.workflows),getById:e=>t=>e.workflows&&e.workflows[t]||null},actions:{insert(e){Array.isArray(e)?e.forEach((e=>{this.workflows[e.id]=e})):this.workflows[e.id]=e},update({id:e,data:t}){return this.workflows[e]?(Object.assign(this.workflows[e],t),this.workflows[e]):null},delete(e){delete this.workflows[e]},async fetchWorkflows(e=!0){if(!(0,E.L)().user)return;const t=await(0,U.tO)("shared-workflows",(async()=>{try{const e=await(0,U.a8)("/me/workflows/shared?data=all");if(200!==e.status)throw new Error(e.statusText);const t=await e.json();return t.reduce(((e,t)=>(t.table=t.table||t.dataColumns||[],t.createdAt=new Date(t.createdAt||Date.now()).getTime(),e[t.id]=t,e)),{})}catch(e){return console.error(e),{}}}),e);this.workflows=t||{}}}});var R=s(64989),V=s(80841);const F=(0,a.o)({legacy:!1,fallbackLocale:"en"});async function W(e,n){if(!R.Zv.some((({id:t})=>t===e)))return console.error(`${e} locale is not supported`),null;const o=async(t,n=!1)=>{try{const o=await s(65577)(`./${e}/${t}`);n?F.global.mergeLocaleMessage(e,o.default):F.global.setLocaleMessage(e,o.default)}catch(e){console.error(e)}};return"en"===e||F.global.availableLocales.includes("en")||await W("en",n),V.Z.locale(e),await o("common.json"),await o(`${n}.json`,!0),await o("blocks.json",!0),(0,t.Y3)()}const H=F,z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,$=Object.keys,K=Array.isArray;function q(e,t){return"object"!=typeof t||$(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||z.Promise||(z.Promise=Promise);const Y=Object.getPrototypeOf,G={}.hasOwnProperty;function X(e,t){return G.call(e,t)}function J(e,t){"function"==typeof t&&(t=t(Y(e))),("undefined"==typeof Reflect?$:Reflect.ownKeys)(t).forEach((n=>{Q(e,n,t[n])}))}const Z=Object.defineProperty;function Q(e,t,n,o){Z(e,t,q(n&&X(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},o))}function ee(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Q(e.prototype,"constructor",e),{extend:J.bind(null,e.prototype)}}}}const te=Object.getOwnPropertyDescriptor;function ne(e,t){let n;return te(e,t)||(n=Y(e))&&ne(n,t)}const oe=[].slice;function re(e,t,n){return oe.call(e,t,n)}function ie(e,t){return t(e)}function se(e){if(!e)throw new Error("Assertion Failed")}function ae(e){z.setImmediate?setImmediate(e):setTimeout(e,0)}function le(e,t){return e.reduce(((e,n,o)=>{var r=t(n,o);return r&&(e[r[0]]=r[1]),e}),{})}function ce(e,t){if(X(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],o=0,r=t.length;o<r;++o){var i=ce(e,t[o]);n.push(i)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:ce(a,t.substr(s+1))}}function ue(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){se("string"!=typeof n&&"length"in n);for(var o=0,r=t.length;o<r;++o)ue(e,t[o],n[o])}else{var i=t.indexOf(".");if(-1!==i){var s=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?K(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var l=e[s];l&&X(e,s)||(l=e[s]={}),ue(l,a,n)}}else void 0===n?K(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function de(e){var t={};for(var n in e)X(e,n)&&(t[n]=e[n]);return t}const he=[].concat;function pe(e){return he.apply([],e)}const fe="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pe([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>z[e])),me=fe.map((e=>z[e]));le(fe,(e=>[e,!0]));let ge=null;function ve(e){ge="undefined"!=typeof WeakMap&&new WeakMap;const t=ye(e);return ge=null,t}function ye(e){if(!e||"object"!=typeof e)return e;let t=ge&&ge.get(e);if(t)return t;if(K(e)){t=[],ge&&ge.set(e,t);for(var n=0,o=e.length;n<o;++n)t.push(ye(e[n]))}else if(me.indexOf(e.constructor)>=0)t=e;else{const n=Y(e);for(var r in t=n===Object.prototype?{}:Object.create(n),ge&&ge.set(e,t),e)X(e,r)&&(t[r]=ye(e[r]))}return t}const{toString:we}={};function be(e){return we.call(e).slice(8,-1)}const ke="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",xe="symbol"==typeof ke?function(e){var t;return null!=e&&(t=e[ke])&&t.apply(e)}:function(){return null},Se={};function _e(e){var t,n,o,r;if(1===arguments.length){if(K(e))return e.slice();if(this===Se&&"string"==typeof e)return[e];if(r=xe(e)){for(n=[];!(o=r.next()).done;)n.push(o.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Ce="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var De="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ee(e,t){De=e,Ae=t}var Ae=()=>!0;const Oe=!new Error("").stack;function Te(){if(Oe)try{throw Te.arguments,new Error}catch(e){return e}return new Error}function Me(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Ae).map((e=>"\n"+e)).join("")):""}var Le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ie=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Le),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pe(e,t){this._e=Te(),this.name=e,this.message=t}function Ue(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Be(e,t,n,o){this._e=Te(),this.failures=t,this.failedKeys=o,this.successCount=n,this.message=Ue(e,t)}function je(e,t){this._e=Te(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Ue(e,t)}ee(Pe).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Me(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ee(Be).from(Pe),ee(je).from(Pe);var Re=Ie.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Ve=Pe;var Fe=Ie.reduce(((e,t)=>{var n=t+"Error";function o(e,o){this._e=Te(),this.name=n,e?"string"==typeof e?(this.message=`${e}${o?"\n "+o:""}`,this.inner=o||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Ne[t]||n,this.inner=null)}return ee(o).from(Ve),e[t]=o,e}),{});Fe.Syntax=SyntaxError,Fe.Type=TypeError,Fe.Range=RangeError;var We=Le.reduce(((e,t)=>(e[t+"Error"]=Fe[t],e)),{}),He=Ie.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Fe[t]),e)),{});function ze(){}function $e(e){return e}function Ke(e,t){return null==e||e===$e?t:function(n){return t(e(n))}}function qe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ye(e,t){return e===ze?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var o=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?qe(o,this.onsuccess):o),r&&(this.onerror=this.onerror?qe(r,this.onerror):r),void 0!==i?i:n}}function Ge(e,t){return e===ze?t:function(){e.apply(this,arguments);var n=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?qe(n,this.onsuccess):n),o&&(this.onerror=this.onerror?qe(o,this.onerror):o)}}function Xe(e,t){return e===ze?t:function(n){var o=e.apply(this,arguments);q(n,o);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?qe(r,this.onsuccess):r),i&&(this.onerror=this.onerror?qe(i,this.onerror):i),void 0===o?void 0===s?void 0:s:q(o,s)}}function Je(e,t){return e===ze?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Ze(e,t){return e===ze?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var o=this,r=arguments.length,i=new Array(r);r--;)i[r]=arguments[r];return n.then((function(){return t.apply(o,i)}))}return t.apply(this,arguments)}}He.ModifyError=Be,He.DexieError=Pe,He.BulkError=je;var Qe={};const[et,tt,nt]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Y(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Y(t),e]})(),ot=tt&&tt.then,rt=et&&et.constructor,it=!!nt;var st=!1,at=nt?()=>{nt.then(Tt)}:z.setImmediate?setImmediate.bind(null,Tt):z.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Tt(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Tt,0)},lt=function(e,t){vt.push([e,t]),ut&&(at(),ut=!1)},ct=!0,ut=!0,dt=[],ht=[],pt=null,ft=$e,mt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:en,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{en(e[0],e[1])}catch(e){}}))}},gt=mt,vt=[],yt=0,wt=[];function bt(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ze,this._lib=!1;var t=this._PSD=gt;if(De&&(this._stackHolder=Te(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Qe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&_t(this,this._value))}this._state=null,this._value=null,++t.ref,St(this,e)}const kt={get:function(){var e=gt,t=Vt;function n(n,o){var r=!e.global&&(e!==gt||t!==Vt);const i=r&&!zt();var s=new bt(((t,s)=>{Dt(this,new xt(Zt(n,e,r,i),Zt(o,e,r,i),t,s,e))}));return De&&Ot(s,this),s}return n.prototype=Qe,n},set:function(e){Q(this,"then",e&&e.prototype===Qe?kt:{get:function(){return e},set:kt.set})}};function xt(e,t,n,o,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=o,this.psd=r}function St(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Mt();t&&"function"==typeof t.then?St(e,((e,n)=>{t instanceof bt?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ct(e)),n&&Lt()}}),_t.bind(null,e))}catch(t){_t(e,t)}}function _t(e,t){if(ht.push(t),null===e._state){var n=e._lib&&Mt();t=ft(t),e._state=!1,e._value=t,De&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=ne(t,"stack");t._promise=e,Q(t,"stack",{get:()=>st?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){dt.some((t=>t._value===e._value))||dt.push(e)}(e),Ct(e),n&&Lt()}}function Ct(e){var t=e._listeners;e._listeners=[];for(var n=0,o=t.length;n<o;++n)Dt(e,t[n]);var r=e._PSD;--r.ref||r.finalize(),0===yt&&(++yt,lt((()=>{0==--yt&&It()}),[]))}function Dt(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++yt,lt(Et,[n,e,t])}else e._listeners.push(t)}function Et(e,t,n){try{pt=t;var o,r=t._value;t._state?o=e(r):(ht.length&&(ht=[]),o=e(r),-1===ht.indexOf(r)&&function(e){for(var t=dt.length;t;)if(dt[--t]._value===e._value)return void dt.splice(t,1)}(t)),n.resolve(o)}catch(e){n.reject(e)}finally{pt=null,0==--yt&&It(),--n.psd.ref||n.psd.finalize()}}function At(e,t,n){if(t.length===n)return t;var o="";if(!1===e._state){var r,i,s=e._value;null!=s?(r=s.name||"Error",i=s.message||s,o=Me(s,0)):(r=s,i=""),t.push(r+(i?": "+i:"")+o)}return De&&((o=Me(e._stackHolder,2))&&-1===t.indexOf(o)&&t.push(o),e._prev&&At(e._prev,t,n)),t}function Ot(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Tt(){Mt()&&Lt()}function Mt(){var e=ct;return ct=!1,ut=!1,e}function Lt(){var e,t,n;do{for(;vt.length>0;)for(e=vt,vt=[],n=e.length,t=0;t<n;++t){var o=e[t];o[0].apply(null,o[1])}}while(vt.length>0);ct=!0,ut=!0}function It(){var e=dt;dt=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=wt.slice(0),n=t.length;n;)t[--n]()}function Nt(e){return new bt(Qe,!1,e)}function Pt(e,t){var n=gt;return function(){var o=Mt(),r=gt;try{return Yt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Yt(r,!1),o&&Lt()}}}J(bt.prototype,{then:kt,_then:function(e,t){Dt(this,new xt(null,null,e,t,gt))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Nt(e))):this.then(null,(e=>e&&e.name===t?n(e):Nt(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Nt(t))))},stack:{get:function(){if(this._stack)return this._stack;try{st=!0;var e=At(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{st=!1}}},timeout:function(e,t){return e<1/0?new bt(((n,o)=>{var r=setTimeout((()=>o(new Fe.Timeout(t))),e);this.then(n,o).finally(clearTimeout.bind(null,r))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Q(bt.prototype,Symbol.toStringTag,"Dexie.Promise"),mt.env=Gt(),J(bt,{all:function(){var e=_e.apply(null,arguments).map($t);return new bt((function(t,n){0===e.length&&t([]);var o=e.length;e.forEach(((r,i)=>bt.resolve(r).then((n=>{e[i]=n,--o||t(e)}),n)))}))},resolve:e=>{if(e instanceof bt)return e;if(e&&"function"==typeof e.then)return new bt(((t,n)=>{e.then(t,n)}));var t=new bt(Qe,!0,e);return Ot(t,pt),t},reject:Nt,race:function(){var e=_e.apply(null,arguments).map($t);return new bt(((t,n)=>{e.map((e=>bt.resolve(e).then(t,n)))}))},PSD:{get:()=>gt,set:e=>gt=e},totalEchoes:{get:()=>Vt},newPSD:Wt,usePSD:Xt,scheduler:{get:()=>lt,set:e=>{lt=e}},rejectionMapper:{get:()=>ft,set:e=>{ft=e}},follow:(e,t)=>new bt(((n,o)=>Wt(((t,n)=>{var o=gt;o.unhandleds=[],o.onunhandled=n,o.finalize=qe((function(){!function(e){wt.push((function t(){e(),wt.splice(wt.indexOf(t),1)})),++yt,lt((()=>{0==--yt&&It()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),o.finalize),e()}),t,n,o)))}),rt&&(rt.allSettled&&Q(bt,"allSettled",(function(){const e=_e.apply(null,arguments).map($t);return new bt((t=>{0===e.length&&t([]);let n=e.length;const o=new Array(n);e.forEach(((e,r)=>bt.resolve(e).then((e=>o[r]={status:"fulfilled",value:e}),(e=>o[r]={status:"rejected",reason:e})).then((()=>--n||t(o)))))}))})),rt.any&&"undefined"!=typeof AggregateError&&Q(bt,"any",(function(){const e=_e.apply(null,arguments).map($t);return new bt(((t,n)=>{0===e.length&&n(new AggregateError([]));let o=e.length;const r=new Array(o);e.forEach(((e,i)=>bt.resolve(e).then((e=>t(e)),(e=>{r[i]=e,--o||n(new AggregateError(r))}))))}))})));const Ut={awaits:0,echoes:0,id:0};var Bt=0,jt=[],Rt=0,Vt=0,Ft=0;function Wt(e,t,n,o){var r=gt,i=Object.create(r);i.parent=r,i.ref=0,i.global=!1,i.id=++Ft;var s=mt.env;i.env=it?{Promise:bt,PromiseProp:{value:bt,configurable:!0,writable:!0},all:bt.all,race:bt.race,allSettled:bt.allSettled,any:bt.any,resolve:bt.resolve,reject:bt.reject,nthen:Qt(s.nthen,i),gthen:Qt(s.gthen,i)}:{},t&&q(i,t),++r.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Xt(i,e,n,o);return 0===i.ref&&i.finalize(),a}function Ht(){return Ut.id||(Ut.id=++Bt),++Ut.awaits,Ut.echoes+=100,Ut.id}function zt(){return!!Ut.awaits&&(0==--Ut.awaits&&(Ut.id=0),Ut.echoes=100*Ut.awaits,!0)}function $t(e){return Ut.echoes&&e&&e.constructor===rt?(Ht(),e.then((e=>(zt(),e)),(e=>(zt(),tn(e))))):e}function Kt(e){++Vt,Ut.echoes&&0!=--Ut.echoes||(Ut.echoes=Ut.id=0),jt.push(gt),Yt(e,!0)}function qt(){var e=jt[jt.length-1];jt.pop(),Yt(e,!1)}function Yt(e,t){var n=gt;if((t?!Ut.echoes||Rt++&&e===gt:!Rt||--Rt&&e===gt)||Jt(t?Kt.bind(null,e):qt),e!==gt&&(gt=e,n===mt&&(mt.env=Gt()),it)){var o=mt.env.Promise,r=e.env;tt.then=r.nthen,o.prototype.then=r.gthen,(n.global||e.global)&&(Object.defineProperty(z,"Promise",r.PromiseProp),o.all=r.all,o.race=r.race,o.resolve=r.resolve,o.reject=r.reject,r.allSettled&&(o.allSettled=r.allSettled),r.any&&(o.any=r.any))}}function Gt(){var e=z.Promise;return it?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(z,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:tt.then,gthen:e.prototype.then}:{}}function Xt(e,t,n,o,r){var i=gt;try{return Yt(e,!0),t(n,o,r)}finally{Yt(i,!1)}}function Jt(e){ot.call(et,e)}function Zt(e,t,n,o){return"function"!=typeof e?e:function(){var r=gt;n&&Ht(),Yt(t,!0);try{return e.apply(this,arguments)}finally{Yt(r,!1),o&&Jt(zt)}}}function Qt(e,t){return function(n,o){return e.call(this,Zt(n,t),Zt(o,t))}}function en(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var o,r={promise:t,reason:e};if(z.document&&document.createEvent?((o=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),q(o,r)):z.CustomEvent&&q(o=new CustomEvent("unhandledrejection",{detail:r}),r),o&&z.dispatchEvent&&(dispatchEvent(o),!z.PromiseRejectionEvent&&z.onunhandledrejection))try{z.onunhandledrejection(o)}catch(e){}De&&o&&!o.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+ot).indexOf("[native code]")&&(Ht=zt=ze);var tn=bt.reject;function nn(e,t,n,o){if(e.idbdb&&(e._state.openComplete||gt.letThrough||e._vip)){var r=e._createTransaction(t,n,e._dbSchema);try{r.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Re.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>nn(e,t,n,o)))):tn(r)}return r._promise(t,((e,t)=>Wt((()=>(gt.trans=r,o(e,t,r)))))).then((e=>r._completion.then((()=>e))))}if(e._state.openComplete)return tn(new Fe.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return tn(new Fe.DatabaseClosed);e.open().catch(ze)}return e._state.dbReadyPromise.then((()=>nn(e,t,n,o)))}const on=String.fromCharCode(65535),rn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sn=[],an="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ln=an,cn=an,un=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function dn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const hn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function pn(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ve(t))[e],t)}class fn{_trans(e,t,n){const o=this._tx||gt.trans,r=this.name;function i(e,n,o){if(!o.schema[r])throw new Fe.NotFound("Table "+r+" not part of transaction");return t(o.idbtrans,o)}const s=Mt();try{return o&&o.db===this.db?o===gt.trans?o._promise(e,i,n):Wt((()=>o._promise(e,i,n)),{trans:o,transless:gt.transless||gt}):nn(this.db,e,[this.name],i)}finally{s&&Lt()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(K(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=$(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==on)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&De&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:o}=this.schema,r=this.db._deps.indexedDB;function i(e,t){try{return 0===r.cmp(e,t)}catch(e){return!1}}const[s,a]=t.reduce((([t,n],r)=>{const s=o[r],a=e[r];return[t||s,t||!s?dn(n,s&&s.multi?e=>{const t=ce(e,r);return K(t)&&t.some((e=>i(a,e)))}:e=>i(a,ce(e,r))):n]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,K(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var o in t)if(X(t,o))try{n[o]=t[o]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){q(this,e)}))}add(e,t){const{auto:n,keyPath:o}=this.schema.primKey;let r=e;return o&&n&&(r=pn(o)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[r]}))).then((e=>e.numFailures?bt.reject(e.failures[0]):e.lastResult)).then((t=>{if(o)try{ue(e,o,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||K(e))return this.where(":id").equals(e).modify(t);{const n=ce(e,this.schema.primKey.keyPath);if(void 0===n)return tn(new Fe.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?$(t).forEach((n=>{ue(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:o}=this.schema.primKey;let r=e;return o&&n&&(r=pn(o)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[r],keys:null!=t?[t]:null}))).then((e=>e.numFailures?bt.reject(e.failures[0]):e.lastResult)).then((t=>{if(o)try{ue(e,o,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?bt.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:hn}))).then((e=>e.numFailures?bt.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const o=Array.isArray(t)?t:void 0,r=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&o)throw new Fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=i&&n?e.map(pn(i)):e;return this.core.mutate({trans:t,type:"add",keys:o,values:a,wantResults:r}).then((({numFailures:e,results:t,lastResult:n,failures:o})=>{if(0===e)return r?t:n;throw new je(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,o)}))}))}bulkPut(e,t,n){const o=Array.isArray(t)?t:void 0,r=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&o)throw new Fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=i&&n?e.map(pn(i)):e;return this.core.mutate({trans:t,type:"put",keys:o,values:a,wantResults:r}).then((({numFailures:e,results:t,lastResult:n,failures:o})=>{if(0===e)return r?t:n;throw new je(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,o)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:o})=>{if(0===e)return n;throw new je(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,o)}))}}function mn(e){var t={},n=function(n,o){if(o){for(var r=arguments.length,i=new Array(r-1);--r;)i[r-1]=arguments[r];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var o=1,r=arguments.length;o<r;++o)i(arguments[o]);return n;function i(e,o,r){if("object"==typeof e)return s(e);o||(o=Je),r||(r=ze);var i={subscribers:[],fire:r,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=o(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(o,r)}};return t[e]=n[e]=i,i}function s(e){$(e).forEach((function(t){var n=e[t];if(K(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Fe.InvalidArgument("Invalid event config");var o=i(t,$e,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];o.subscribers.forEach((function(e){ae((function(){e.apply(null,t)}))}))}))}}))}}function gn(e,t){return ee(t).from({prototype:e}),t}function vn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function yn(e,t){e.filter=dn(e.filter,t)}function wn(e,t,n){var o=e.replayFilter;e.replayFilter=o?()=>dn(o(),t()):t,e.justLimit=n&&!o}function bn(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Fe.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function kn(e,t,n){const o=bn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:o,range:e.range}})}function xn(e,t,n,o){const r=e.replayFilter?dn(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},s=(e,n,o)=>{if(!r||r(n,o,(e=>n.stop(e)),(e=>n.fail(e)))){var s=n.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),X(i,a)||(i[a]=!0,t(e,n,o))}};return Promise.all([e.or._iterate(s,n),Sn(kn(e,o,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Sn(kn(e,o,n),dn(e.algorithm,r),t,!e.keysOnly&&e.valueMapper)}function Sn(e,t,n,o){var r=Pt(o?(e,t,r)=>n(o(e),t,r):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=ze}),(t=>{e.fail(t),n=ze}))||r(e.value,e,(e=>n=e)),n()}))}))}function _n(e,t){try{const n=Cn(e),o=Cn(t);if(n!==o)return"Array"===n?1:"Array"===o?-1:"binary"===n?1:"binary"===o?-1:"string"===n?1:"string"===o?-1:"Date"===n?1:"Date"!==o?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,o=t.length,r=n<o?n:o;for(let n=0;n<r;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===o?0:n<o?-1:1}(Dn(e),Dn(t));case"Array":return function(e,t){const n=e.length,o=t.length,r=n<o?n:o;for(let n=0;n<r;++n){const o=_n(e[n],t[n]);if(0!==o)return o}return n===o?0:n<o?-1:1}(e,t)}}catch(e){}return NaN}function Cn(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=be(e);return"ArrayBuffer"===n?"binary":n}function Dn(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class En{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,tn.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,tn.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=dn(t.algorithm,e)}_iterate(e,t){return xn(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&q(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>xn(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(vn(t,!0))return n.count({trans:e,query:{index:bn(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var o=0;return xn(t,(()=>(++o,!1)),e,n).then((()=>o))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),o=n[0],r=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[o]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,r),o=i(t,r);return n<o?-s:n>o?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&vn(t,!0)&&t.limit>0){const{valueMapper:n}=t,o=bn(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:o,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return xn(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,vn(t)?wn(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):wn(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),wn(this._ctx,(()=>{var t=e;return function(e,n,o){return--t<=0&&n(o),t>=0}}),!0),this}until(e,t){return yn(this._ctx,(function(n,o,r){return!e(n.value)||(o(r),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return yn(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=dn(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&vn(t,!0)&&t.limit>0)return this._read((e=>{var n=bn(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return yn(this._ctx,(function(e){var t=e.primaryKey.toString(),o=X(n,t);return n[t]=!0,!o})),this}modify(e){var t=this._ctx;return this._write((n=>{var o;if("function"==typeof e)o=e;else{var r=$(e),i=r.length;o=function(t){for(var n=!1,o=0;o<i;++o){var s=r[o],a=e[s];ce(t,s)!==a&&(ue(t,s,a),n=!0)}return n}}const s=t.table.core,{outbound:a,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let d=0;const h=[],p=(e,t)=>{const{failures:n,numFailures:o}=t;d+=e-o;for(let e of $(n))u.push(n[e])};return this.clone().primaryKeys().then((r=>{const i=u=>{const d=Math.min(c,r.length-u);return s.getMany({trans:n,keys:r.slice(u,u+d),cache:"immutable"}).then((h=>{const f=[],m=[],g=a?[]:null,v=[];for(let e=0;e<d;++e){const t=h[e],n={value:ve(t),primKey:r[u+e]};!1!==o.call(n,n.value,n)&&(null==n.value?v.push(r[u+e]):a||0===_n(l(t),l(n.value))?(m.push(n.value),a&&g.push(r[u+e])):(v.push(r[u+e]),f.push(n.value)))}const y=vn(t)&&t.limit===1/0&&("function"!=typeof e||e===An)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&s.mutate({trans:n,type:"add",values:f}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||y&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:g,values:m,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(v.length>0||y&&e===An)&&s.mutate({trans:n,type:"delete",keys:v,criteria:y}).then((e=>p(v.length,e))))).then((()=>r.length>u+d&&i(u+c)))}))};return i(0).then((()=>{if(u.length>0)throw new Be("Error modifying one or more objects",u,d,h);return r.length}))}))}))}delete(){var e=this._ctx,t=e.range;return vn(e)&&(e.isPrimKey&&!cn||3===t.type)?this._write((n=>{const{primaryKey:o}=e.table.core.schema,r=t;return e.table.core.count({trans:n,query:{index:o,range:r}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:r}).then((({failures:e,lastResult:n,results:o,numFailures:r})=>{if(r)throw new Be("Could not delete some values",Object.keys(e).map((t=>e[t])),t-r);return t-r}))))})):this.modify(An)}}const An=(e,t)=>t.value=null;function On(e,t){return e<t?-1:e===t?0:1}function Tn(e,t){return e>t?-1:e===t?0:1}function Mn(e,t,n){var o=e instanceof Bn?new e.Collection(e):e;return o._ctx.error=n?new n(t):new TypeError(t),o}function Ln(e){return new e.Collection(e,(()=>Un(""))).limit(0)}function In(e,t,n,o,r,i){for(var s=Math.min(e.length,o.length),a=-1,l=0;l<s;++l){var c=t[l];if(c!==o[l])return r(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):r(e[l],o[l])<0?e.substr(0,l)+o[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;r(e[l],c)<0&&(a=l)}return s<o.length&&"next"===i?e+n.substr(e.length):s<e.length&&"prev"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+o[a]+n.substr(a+1)}function Nn(e,t,n,o){var r,i,s,a,l,c,u,d=n.length;if(!n.every((e=>"string"==typeof e)))return Mn(e,"String expected.");function h(e){r=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?On:Tn;var t=n.map((function(e){return{lower:i(e),upper:r(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":o}h("next");var p=new e.Collection(e,(()=>Pn(a[0],l[d-1]+o)));p._ondirectionchange=function(e){h(e)};var f=0;return p._addAlgorithm((function(e,n,o){var r=e.key;if("string"!=typeof r)return!1;var h=i(r);if(t(h,l,f))return!0;for(var p=null,m=f;m<d;++m){var g=In(r,h,a[m],l[m],s,c);null===g&&null===p?f=m+1:(null===p||s(p,g)>0)&&(p=g)}return n(null!==p?function(){e.continue(p+u)}:o),!1})),p}function Pn(e,t,n,o){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:o}}function Un(e){return{type:1,lower:e,upper:e}}class Bn{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,o){n=!1!==n,o=!0===o;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||o)&&(!n||!o)?Ln(this):new this.Collection(this,(()=>Pn(e,t,!n,!o)))}catch(e){return Mn(this,rn)}}equals(e){return null==e?Mn(this,rn):new this.Collection(this,(()=>Un(e)))}above(e){return null==e?Mn(this,rn):new this.Collection(this,(()=>Pn(e,void 0,!0)))}aboveOrEqual(e){return null==e?Mn(this,rn):new this.Collection(this,(()=>Pn(e,void 0,!1)))}below(e){return null==e?Mn(this,rn):new this.Collection(this,(()=>Pn(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Mn(this,rn):new this.Collection(this,(()=>Pn(void 0,e)))}startsWith(e){return"string"!=typeof e?Mn(this,"String expected."):this.between(e,e+on,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Nn(this,((e,t)=>0===e.indexOf(t[0])),[e],on)}equalsIgnoreCase(e){return Nn(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=_e.apply(Se,arguments);return 0===e.length?Ln(this):Nn(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=_e.apply(Se,arguments);return 0===e.length?Ln(this):Nn(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,on)}anyOf(){const e=_e.apply(Se,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Mn(this,rn)}if(0===e.length)return Ln(this);const n=new this.Collection(this,(()=>Pn(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let o=0;return n._addAlgorithm(((n,r,i)=>{const s=n.key;for(;t(s,e[o])>0;)if(++o,o===e.length)return r(i),!1;return 0===t(s,e[o])||(r((()=>{n.continue(e[o])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=_e.apply(Se,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Mn(this,rn)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,o=this._ascending,r=this._descending,i=this._min,s=this._max;if(0===e.length)return Ln(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0)))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Fe.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=o;function d(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let o=0,r=e.length;for(;o<r;++o){const r=e[o];if(n(t[0],r[1])<0&&n(t[1],r[0])>0){r[0]=i(r[0],t[0]),r[1]=s(r[1],t[1]);break}}return o===r&&e.push(t),e}),[]),c.sort(d)}catch(e){return Mn(this,rn)}let h=0;const p=l?e=>o(e,c[h][1])>0:e=>o(e,c[h][1])>=0,f=a?e=>r(e,c[h][0])>0:e=>r(e,c[h][0])>=0;let m=p;const g=new this.Collection(this,(()=>Pn(c[0][0],c[c.length-1][1],!a,!l)));return g._ondirectionchange=e=>{"next"===e?(m=p,u=o):(m=f,u=r),c.sort(d)},g._addAlgorithm(((e,t,n)=>{for(var r=e.key;m(r);)if(++h,h===c.length)return t(n),!1;return!!function(e){return!p(e)&&!f(e)}(r)||(0===this._cmp(r,c[h][1])||0===this._cmp(r,c[h][0])||t((()=>{u===o?e.continue(c[h][0]):e.continue(c[h][1])})),!1)})),g}startsWithAnyOf(){const e=_e.apply(Se,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Ln(this):this.inAnyRange(e.map((e=>[e,e+on]))):Mn(this,"startsWithAnyOf() only works with strings")}}function jn(e){return Pt((function(t){return Rn(t),e(t.target.error),!1}))}function Rn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Vn=mn(null,"storagemutated");class Fn{_lock(){return se(!gt.global),++this._reculock,1!==this._reculock||gt.global||(gt.lockOwnerFor=this),this}_unlock(){if(se(!gt.global),0==--this._reculock)for(gt.global||(gt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Xt(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&gt.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(se(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Fe.DatabaseClosed(n);case"MissingAPIError":throw new Fe.MissingAPI(n.message,n);default:throw new Fe.OpenFailed(n)}if(!this.active)throw new Fe.TransactionInactive;return se(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Pt((t=>{Rn(t),this._reject(e.error)})),e.onabort=Pt((t=>{Rn(t),this.active&&this._reject(new Fe.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Pt((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Vn.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return tn(new Fe.ReadOnly("Transaction is readonly"));if(!this.active)return tn(new Fe.TransactionInactive);if(this._locked())return new bt(((o,r)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(o,r)},gt])}));if(n)return Wt((()=>{var e=new bt(((e,n)=>{this._lock();const o=t(e,n,this);o&&o.then&&o.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var o=new bt(((e,n)=>{var o=t(e,n,this);o&&o.then&&o.then(e,n)}));return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=bt.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var o=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(o.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new bt(((e,o)=>{n.then((n=>t._waitingQueue.push(Pt(e.bind(null,n)))),(e=>t._waitingQueue.push(Pt(o.bind(null,e))))).finally((()=>{t._waitingFor===r&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Fe.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(X(t,e))return t[e];const n=this.schema[e];if(!n)throw new Fe.NotFound("Table "+e+" not part of transaction");const o=new this.db.Table(e,n,this);return o.core=this.db.core.table(e),t[e]=o,o}}function Wn(e,t,n,o,r,i,s){return{name:e,keyPath:t,unique:n,multi:o,auto:r,compound:i,src:(n&&!s?"&":"")+(o?"*":"")+(r?"++":"")+Hn(t)}}function Hn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function zn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:le(n,(e=>[e.name,e]))}}let $n=e=>{try{return e.only([[]]),$n=()=>[[]],[[]]}catch(e){return $n=()=>on,on}};function Kn(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>ce(t,e)}(e):t=>ce(t,e)}function qn(e){return[].slice.call(e)}let Yn=0;function Gn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Xn(e,t,n){function o(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:o,lowerOpen:r,upperOpen:i}=e;return void 0===n?void 0===o?null:t.upperBound(o,!!i):void 0===o?t.lowerBound(n,!!r):t.bound(n,o,!!r,!!i)}const{schema:r,hasGetAll:i}=function(e,t){const n=qn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,o=K(t),r=null==t,i={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:r,compound:o,keyPath:t,autoIncrement:n,unique:!0,extractKey:Kn(t)},indexes:qn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:o,keyPath:r}=e,s={name:t,compound:K(r),keyPath:r,unique:n,multiEntry:o,extractKey:Kn(r)};return i[Gn(r)]=s,s})),getIndexByKeyPath:e=>i[Gn(e)]};return i[":id"]=s.primaryKey,null!=t&&(i[Gn(t)]=s.primaryKey),s}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=r.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:r,values:i,range:s}){return new Promise(((a,l)=>{a=Pt(a);const c=e.objectStore(t),u=null==c.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=r||i||{length:1};if(r&&i&&r.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],m=[];let g=0;const v=e=>{++g,Rn(e)};if("deleteRange"===n){if(4===s.type)return a({numFailures:g,failures:m,results:[],lastResult:void 0});3===s.type?f.push(p=c.clear()):f.push(p=c.delete(o(s)))}else{const[e,t]=d?u?[i,r]:[i,null]:[r,null];if(d)for(let o=0;o<h;++o)f.push(p=t&&void 0!==t[o]?c[n](e[o],t[o]):c[n](e[o])),p.onerror=v;else for(let t=0;t<h;++t)f.push(p=c[n](e[t])),p.onerror=v}const y=e=>{const t=e.target.result;f.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:g,failures:m,results:"delete"===n?r:f.map((e=>e.result)),lastResult:t})};p.onerror=e=>{v(e),y(e)},p.onsuccess=y}))},getMany:({trans:e,keys:n})=>new Promise(((o,r)=>{o=Pt(o);const i=e.objectStore(t),s=n.length,a=new Array(s);let l,c=0,u=0;const d=e=>{const t=e.target;a[t._pos]=t.result,++u===c&&o(a)},h=jn(r);for(let e=0;e<s;++e)null!=n[e]&&(l=i.get(n[e]),l._pos=e,l.onsuccess=d,l.onerror=h,++c);0===c&&o(a)})),get:({trans:e,key:n})=>new Promise(((o,r)=>{o=Pt(o);const i=e.objectStore(t).get(n);i.onsuccess=e=>o(e.target.result),i.onerror=jn(r)})),query:function(e){return n=>new Promise(((r,i)=>{r=Pt(r);const{trans:s,values:a,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:d,range:h}=c,p=s.objectStore(t),f=d.isPrimaryKey?p:p.index(d.name),m=o(h);if(0===l)return r({result:[]});if(e){const e=a?f.getAll(m,u):f.getAllKeys(m,u);e.onsuccess=e=>r({result:e.target.result}),e.onerror=jn(i)}else{let e=0;const t=a||!("openKeyCursor"in f)?f.openCursor(m):f.openKeyCursor(m),n=[];t.onsuccess=o=>{const i=t.result;return i?(n.push(a?i.value:i.primaryKey),++e===l?r({result:n}):void i.continue()):r({result:n})},t.onerror=jn(i)}}))}(i),openCursor:function({trans:e,values:n,query:r,reverse:i,unique:s}){return new Promise(((a,l)=>{a=Pt(a);const{index:c,range:u}=r,d=e.objectStore(t),h=c.isPrimaryKey?d:d.index(c.name),p=i?s?"prevunique":"prev":s?"nextunique":"next",f=n||!("openKeyCursor"in h)?h.openCursor(o(u),p):h.openKeyCursor(o(u),p);f.onerror=jn(l),f.onsuccess=Pt((t=>{const n=f.result;if(!n)return void a(null);n.___id=++Yn,n.done=!1;const o=n.continue.bind(n);let r=n.continuePrimaryKey;r&&(r=r.bind(n));const i=n.advance.bind(n),s=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Pt(l),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Pt(e),f.onerror=jn(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=s,e(t)}})),a=()=>{if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=Pt((e=>{f.onsuccess=a,a()})),n.continue=o,n.continuePrimaryKey=r,n.advance=i,a(),t},a(n)}),l)}))},count({query:e,trans:n}){const{index:r,range:i}=e;return new Promise(((e,s)=>{const a=n.objectStore(t),l=r.isPrimaryKey?a:a.index(r.name),c=o(i),u=c?l.count(c):l.count();u.onsuccess=Pt((t=>e(t.target.result))),u.onerror=jn(s)}))}}}(e))),a={};return s.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:$n(t),schema:r}}function Jn({_novip:e},t){const n=t.db,o=function(e,t,{IDBKeyRange:n,indexedDB:o},r){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(Xn(t,n,r),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=o.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function Zn({_novip:e},t,n,o){n.forEach((n=>{const r=o[n];t.forEach((t=>{const o=ne(t,n);(!o||"value"in o&&void 0===o.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Q(t,n,{get(){return this.table(n)},set(e){Z(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,r))}))}))}function Qn({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function eo(e,t){return e._cfg.version-t._cfg.version}function to(e,t,n,o){const r=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,r);i.create(n),i._completion.catch(o);const s=i._reject.bind(i),a=gt.transless||gt;Wt((()=>{gt.trans=i,gt.transless=a,0===t?($(r).forEach((e=>{oo(n,e,r[e].primKey,r[e].indexes)})),Jn(e,n),bt.follow((()=>e.on.populate.fire(i))).catch(s)):function({_novip:e},t,n,o){const r=[],i=e._versions;let s=e._dbSchema=io(e,e.idbdb,o),a=!1;return i.filter((e=>e._cfg.version>=t)).forEach((i=>{r.push((()=>{const r=s,l=i._cfg.dbschema;so(e,r,o),so(e,l,o),s=e._dbSchema=l;const c=no(r,l);c.add.forEach((e=>{oo(o,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new Fe.Upgrade("Not yet support for changing primary key");{const t=o.objectStore(e.name);e.add.forEach((e=>ro(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),ro(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const u=i._cfg.contentUpgrade;if(u&&i._cfg.version>t){Jn(e,o),n._memoizedTables={},a=!0;let t=de(l);c.del.forEach((e=>{t[e]=r[e]})),Qn(e,[e.Transaction.prototype]),Zn(e,[e.Transaction.prototype],$(t),t),n.schema=t;const i=Ce(u);let s;i&&Ht();const d=bt.follow((()=>{if(s=u(n),s&&i){var e=zt.bind(null,null);s.then(e,e)}}));return s&&"function"==typeof s.then?bt.resolve(s):d.then((()=>s))}})),r.push((t=>{a&&ln||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(i._cfg.dbschema,t),Qn(e,[e.Transaction.prototype]),Zn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return r.length?bt.resolve(r.shift()(n.idbtrans)).then(e):bt.resolve()}().then((()=>{var e,t;t=o,$(e=s).forEach((n=>{t.db.objectStoreNames.contains(n)||oo(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(s)}))}function no(e,t){const n={del:[],add:[],change:[]};let o;for(o in e)t[o]||n.del.push(o);for(o in t){const r=e[o],i=t[o];if(r){const e={name:o,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||r.primKey.auto!==i.primKey.auto&&!an)e.recreate=!0,n.change.push(e);else{const t=r.idxByName,o=i.idxByName;let s;for(s in t)o[s]||e.del.push(s);for(s in o){const n=t[s],r=o[s];n?n.src!==r.src&&e.change.push(r):e.add.push(r)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([o,i])}return n}function oo(e,t,n,o){const r=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return o.forEach((e=>ro(r,e))),r}function ro(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function io(e,t,n){const o={};return re(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let r=t.keyPath;const i=Wn(Hn(r),r||"",!1,!1,!!t.autoIncrement,r&&"string"!=typeof r,!0),s=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);r=n.keyPath;var a=Wn(n.name,r,!!n.unique,!!n.multiEntry,!1,r&&"string"!=typeof r,!1);s.push(a)}o[e]=zn(e,i,s)})),o}function so({_novip:e},t,n){const o=n.db.objectStoreNames;for(let r=0;r<o.length;++r){const i=o[r],s=n.objectStore(i);e._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const n=s.indexNames[e],o=s.index(n).keyPath,r="string"==typeof o?o:"["+re(o).join("+")+"]";if(t[i]){const e=t[i].idxByName[r];e&&(e.name=n,delete t[i].idxByName[r],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&z.WorkerGlobalScope&&z instanceof z.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ao{_parseStoresSpec(e,t){$(e).forEach((n=>{if(null!==e[n]){var o=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),o=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Wn(n,o||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),K(o),0===t)})),r=o.shift();if(r.multi)throw new Fe.Schema("Primary key cannot be multi-valued");o.forEach((e=>{if(e.auto)throw new Fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Fe.Schema("Index must have a name and cannot be an empty string")})),t[n]=zn(n,r,o)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,e):e;const n=t._versions,o={};let r={};return n.forEach((e=>{q(o,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(o,r)})),t._dbSchema=r,Qn(t,[t._allTables,t,t.Transaction.prototype]),Zn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],$(r),r),t._storeNames=$(r),this}upgrade(e){return this._cfg.contentUpgrade=Ze(this._cfg.contentUpgrade||ze,e),this}}function lo(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new To("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function co(e){return e&&"function"==typeof e.databases}function uo(e){return Wt((function(){return gt.letThrough=!0,e()}))}function ho(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function po(e){var t=t=>e.next(t),n=r(t),o=r((t=>e.throw(t)));function r(e){return t=>{var r=e(t),i=r.value;return r.done?i:i&&"function"==typeof i.then?i.then(n,o):K(i)?Promise.all(i).then(n,o):n(i)}}return r(t)()}function fo(e,t,n){var o=arguments.length;if(o<2)throw new Fe.InvalidArgument("Too few arguments");for(var r=new Array(o-1);--o;)r[o-1]=arguments[o];n=r.pop();var i=pe(r);return[e,i,n]}function mo(e,t,n,o,r){return bt.resolve().then((()=>{const i=gt.transless||gt,s=e._createTransaction(t,n,e._dbSchema,o),a={trans:s,transless:i};if(o)s.idbtrans=o.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Re.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>mo(e,t,n,null,r)))):tn(o)}const l=Ce(r);let c;l&&Ht();const u=bt.follow((()=>{if(c=r.call(s,s),c)if(l){var e=zt.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=po(c))}),a);return(c&&"function"==typeof c.then?bt.resolve(c).then((e=>s.active?e:tn(new Fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(o&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),tn(e))))}))}function go(e,t,n){const o=K(e)?e.slice():[e];for(let e=0;e<n;++e)o.push(t);return o}const vo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:o}=n,r={},i=[];function s(e,t,n){const o=Gn(e),a=r[o]=r[o]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...n,isVirtual:c,keyTail:t,keyLength:l,extractKey:Kn(e),unique:!c&&n.unique};return a.push(u),u.isPrimaryKey||i.push(u),l>1&&s(2===l?e[0]:e.slice(0,l-1),t+1,n),a.sort(((e,t)=>e.keyTail-t.keyTail)),u}const a=s(o.primaryKey.keyPath,0,o.primaryKey);r[":id"]=[a];for(const e of o.indexes)s(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(o=t.query.range,r=n.keyTail,{type:1===o.type?2:o.type,lower:go(o.lower,o.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:go(o.upper,o.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}:t;var o,r}const c={...n,schema:{...o,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=r[Gn(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:o,isVirtual:r,keyLength:i}=t.query.index;return r?n.openCursor(l(t)).then((n=>n&&function(n){const r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(go(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value(t,r){n.continuePrimaryKey(go(t,e.MAX_KEY,o),r)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return r}(n))):n.openCursor(t)}};return c}}}};function yo(e,t,n,o){return n=n||{},o=o||"",$(e).forEach((r=>{if(X(t,r)){var i=e[r],s=t[r];if("object"==typeof i&&"object"==typeof s&&i&&s){const e=be(i);e!==be(s)?n[o+r]=t[r]:"Object"===e?yo(i,s,n,o+r+"."):i!==s&&(n[o+r]=t[r])}else i!==s&&(n[o+r]=t[r])}else n[o+r]=void 0})),$(t).forEach((r=>{X(e,r)||(n[o+r]=t[r])})),n}const wo={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:o}=n.schema,r={...n,mutate(e){const r=gt.trans,{deleting:i,creating:s,updating:a}=r.table(t).hook;switch(e.type){case"add":if(s.fire===ze)break;return r._promise("readwrite",(()=>l(e)),!0);case"put":if(s.fire===ze&&a.fire===ze)break;return r._promise("readwrite",(()=>l(e)),!0);case"delete":if(i.fire===ze)break;return r._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(i.fire===ze)break;return r._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=gt.trans,r=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(o,e);if(!r)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:r}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,r).then((l=>{const c=r.map(((n,r)=>{const c=l[r],u={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(u,n,c,t);else if("add"===e.type||void 0===c){const i=s.fire.call(u,n,e.values[r],t);null==n&&null!=i&&(n=i,e.keys[r]=n,o.outbound||ue(e.values[r],o.keyPath,n))}else{const o=yo(c,e.values[r]),i=a.fire.call(u,o,n,c,t);if(i){const t=e.values[r];Object.keys(i).forEach((e=>{X(t,e)?t[e]=i[e]:ue(t,e,i[e])}))}}return u}));return n.mutate(e).then((({failures:t,results:n,numFailures:o,lastResult:i})=>{for(let o=0;o<r.length;++o){const i=n?n[o]:r[o],s=c[o];null==i?s.onerror&&s.onerror(t[o]):s.onsuccess&&s.onsuccess("put"===e.type&&l[o]?e.values[o]:i)}return{failures:t,results:n,numFailures:o,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,r){return n.query({trans:e,values:!1,query:{index:o,range:t},limit:r}).then((({result:n})=>l({type:"delete",keys:n,trans:e}).then((o=>o.numFailures>0?Promise.reject(o.failures[0]):n.length<r?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},r)))))}}};return r}})};function bo(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const o=[];for(let r=0,i=0;r<t.keys.length&&i<e.length;++r)0===_n(t.keys[r],e[i])&&(o.push(n?ve(t.values[r]):t.values[r]),++i);return o.length===e.length?o:null}catch(e){return null}}const ko={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=bo(e.keys,e.trans._cache,"clone"===e.cache);return t?bt.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ve(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function xo(e){return!("from"in e)}const So=function(e,t){if(!this){const t=new So;return e&&"d"in e&&q(t,e),t}q(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function _o(e,t,n){const o=_n(t,n);if(isNaN(o))return;if(o>0)throw RangeError();if(xo(e))return q(e,{from:t,to:n,d:1});const r=e.l,i=e.r;if(_n(n,e.from)<0)return r?_o(r,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Eo(e);if(_n(t,e.to)>0)return i?_o(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Eo(e);_n(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),_n(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;r&&!e.l&&Co(e,r),i&&s&&Co(e,i)}function Co(e,t){xo(t)||function e(t,{from:n,to:o,l:r,r:i}){_o(t,n,o),r&&e(t,r),i&&e(t,i)}(e,t)}function Do(e){let t=xo(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&_n(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||_n(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Eo(e){var t,n;const o=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),r=o>1?"r":o<-1?"l":"";if(r){const t="r"===r?"l":"r",n={...e},o=e[r];e.from=o.from,e.to=o.to,e[r]=o[r],n[r]=o[t],e[t]=n,n.d=Ao(n)}e.d=Ao(e)}function Ao({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}J(So.prototype,{add(e){return Co(this,e),this},addKey(e){return _o(this,e,e),this},addKeys(e){return e.forEach((e=>_o(this,e,e))),this},[ke](){return Do(this)}});const Oo={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new So(e.MIN_KEY,e.MAX_KEY);return{...e,table:o=>{const r=e.table(o),{schema:i}=r,{primaryKey:s}=i,{extractKey:a,outbound:l}=s,c={...r,mutate:e=>{const s=e.trans,a=s.mutatedParts||(s.mutatedParts={}),l=e=>{const n=`idb://${t}/${o}/${e}`;return a[n]||(a[n]=new So)},c=l(""),u=l(":dels"),{type:d}=e;let[h,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const f=e.trans._cache;return r.mutate(e).then((e=>{if(K(h)){"delete"!==d&&(h=e.results),c.addKeys(h);const t=bo(h,f);t||"add"===d||u.addKeys(h),(t||p)&&function(e,t,n,o){t.indexes.forEach((function(t){const r=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const s=e=>t.multiEntry&&K(e)?e.forEach((e=>r.addKey(e))):r.addKey(e);(n||o).forEach(((e,t)=>{const r=n&&i(n[t]),a=o&&i(o[t]);0!==_n(r,a)&&(null!=r&&s(r),null!=a&&s(a))}))}))}(l,i,t,p)}else if(h){const e={from:h.lower,to:h.upper};u.add(e),c.add(e)}else c.add(n),u.add(n),i.indexes.forEach((e=>l(e.name).add(n)));return e}))}},u=({query:{index:t,range:n}})=>{var o,r;return[t,new So(null!==(o=n.lower)&&void 0!==o?o:e.MIN_KEY,null!==(r=n.upper)&&void 0!==r?r:e.MAX_KEY)]},d={get:e=>[s,new So(e.key)],getMany:e=>[s,(new So).addKeys(e.keys)],count:u,query:u,openCursor:u};return $(d).forEach((e=>{c[e]=function(i){const{subscr:s}=gt;if(s){const c=e=>{const n=`idb://${t}/${o}/${e}`;return s[n]||(s[n]=new So)},u=c(""),h=c(":dels"),[p,f]=d[e](i);if(c(p.name||"").add(f),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&i.values&&r.query({...i,values:!1});return r[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&i.values)return t.then((({result:e})=>(u.addKeys(e),n)));const e=i.values?n.result.map(a):n.result;i.values?u.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return r[e].apply(this,arguments)}})),c}}}};class To{constructor(e,t){this._middlewares={},this.verno=0;const n=To.dependencies;this._options=t={addons:To.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:o}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const r={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ze,dbReadyPromise:null,cancelOpen:ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;r.dbReadyPromise=new bt((e=>{r.dbReadyResolve=e})),r.openCanceller=new bt(((e,t)=>{r.cancelOpen=t})),this._state=r,this.name=e,this.on=mn(this,"populate","blocked","versionchange","close",{ready:[Ze,ze]}),this.on.ready.subscribe=ie(this.on.ready.subscribe,(e=>(t,n)=>{To.vip((()=>{const o=this._state;if(o.openComplete)o.dbOpenError||bt.resolve().then(t),n&&e(t);else if(o.onReadyBeingFired)o.onReadyBeingFired.push(t),n&&e(t);else{e(t);const o=this;n||e((function e(){o.on.ready.unsubscribe(t),o.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,gn(En.prototype,(function(e,t){this.db=i;let n=hn,o=null;if(t)try{n=t()}catch(e){o=e}const r=e._ctx,s=r.table,a=s.hook.reading.fire;this._ctx={table:s,index:r.index,isPrimKey:!r.index||s.schema.primKey.keyPath&&r.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:r.or,valueMapper:a!==$e?a:null}}))),this.Table=function(e){return gn(fn.prototype,(function(t,n,o){this.db=e,this._tx=o,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:mn(null,{creating:[Ye,ze],reading:[Ke,$e],updating:[Xe,ze],deleting:[Ge,ze]})}))}(this),this.Transaction=function(e){return gn(Fn.prototype,(function(t,n,o,r,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=o,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=mn(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new bt(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),tn(e)}))}))}(this),this.Version=function(e){return gn(ao.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return gn(Bn.prototype,(function(t,n,o){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:o};const r=e._deps.indexedDB;if(!r)throw new Fe.MissingAPI;this._cmp=this._ascending=r.cmp.bind(r),this._descending=(e,t)=>r.cmp(t,e),this._max=(e,t)=>r.cmp(e,t)>0?e:t,this._min=(e,t)=>r.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=$n(t.IDBKeyRange),this._createTransaction=(e,t,n,o)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,o),this._fireOnBlocked=e=>{this.on("blocked").fire(e),sn.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(vo),this.use(wo),this.use(Oo),this.use(ko),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Fe.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(eo),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||gt.letThrough||this._vip)?e():new bt(((e,t)=>{if(this._state.openComplete)return t(new Fe.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Fe.DatabaseClosed);this.open().catch(ze)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:o}){o&&this.unuse({stack:e,name:o});const r=this._middlewares[e]||(this._middlewares[e]=[]);return r.push({stack:e,create:t,level:null==n?10:n,name:o}),r.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?tn(t.dbOpenError):e));De&&(t.openCanceller._stackHolder=Te()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const o=t.openCanceller;function r(){if(t.openCanceller!==o)throw new Fe.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,s=null,a=!1;return bt.race([o,("undefined"==typeof navigator?bt.resolve():ho()).then((()=>new bt(((o,i)=>{if(r(),!n)throw new Fe.MissingAPI;const l=e.name,c=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!c)throw new Fe.MissingAPI;c.onerror=jn(i),c.onblocked=Pt(e._fireOnBlocked),c.onupgradeneeded=Pt((o=>{if(s=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=Rn,s.abort(),c.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=Pt((()=>{i(new Fe.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{s.onerror=jn(i);var r=o.oldVersion>Math.pow(2,62)?0:o.oldVersion;a=r<1,e._novip.idbdb=c.result,to(e,r/10,s,i)}}),i),c.onsuccess=Pt((()=>{s=null;const n=e._novip.idbdb=c.result,r=re(n.objectStoreNames);if(r.length>0)try{const o=n.transaction(1===(i=r).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const o=e._dbSchema=io(0,t,n);e._storeNames=re(t.objectStoreNames,0),Zn(e,[e._allTables],$(o),o)}(e,n,o):(so(e,e._dbSchema,o),function(e,t){const n=no(io(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,o)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Jn(e,o)}catch(e){}var i;sn.push(e),n.onversionchange=Pt((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Pt((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!co(e)&&"__dbnames"!==n&&lo(e,t).put({name:n}).catch(ze)}(e._deps,l),o()}),i)}))))]).then((()=>(r(),t.onReadyBeingFired=[],bt.resolve(uo((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let o=t.onReadyBeingFired.reduce(Ze,ze);return t.onReadyBeingFired=[],bt.resolve(uo((()=>o(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{s&&s.abort()}catch(e){}return o===t.openCanceller&&e._close(),tn(n)})).finally((()=>{t.openComplete=!0,i()}))}(this)}_close(){const e=this._state,t=sn.indexOf(this);if(t>=0&&sn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new bt((t=>{e.dbReadyResolve=t})),e.openCanceller=new bt(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Fe.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new bt(((n,o)=>{const r=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Pt((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!co(e)&&"__dbnames"!==n&&lo(e,t).delete(n).catch(ze)}(this._deps,this.name),n()})),e.onerror=jn(o),e.onblocked=this._fireOnBlocked};if(e)throw new Fe.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(r):r()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return $(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=fo.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let o=gt.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);const r=-1!==e.indexOf("?");let i,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Fe.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!r)throw new Fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&s.forEach((e=>{if(o&&-1===o.storeNames.indexOf(e)){if(!r)throw new Fe.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),r&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,((t,n)=>{n(e)})):tn(e)}const a=mo.bind(null,this,i,s,o,n);return o?o._promise(i,a,"lock"):gt.trans?Xt(gt.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!X(this._allTables,e))throw new Fe.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Mo="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Lo{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Mo](){return this}}function Io(e,t){return $(t).forEach((n=>{Co(e[n]||(e[n]=new So),t[n])})),e}function No(e){return new Lo((t=>{const n=Ce(e);let o=!1,r={},i={};const s={get closed(){return o},unsubscribe:()=>{o=!0,Vn.storagemutated.unsubscribe(u)}};t.start&&t.start(s);let a=!1,l=!1;function c(){return $(i).some((e=>r[e]&&function(e,t){const n=Do(t);let o=n.next();if(o.done)return!1;let r=o.value;const i=Do(e);let s=i.next(r.from),a=s.value;for(;!o.done&&!s.done;){if(_n(a.from,r.to)<=0&&_n(a.to,r.from)>=0)return!0;_n(r.from,a.from)<0?r=(o=n.next(a.from)).value:a=(s=i.next(r.from)).value}return!1}(r[e],i[e])))}const u=e=>{Io(r,e),c()&&d()},d=()=>{if(a||o)return;r={};const h={},p=function(t){n&&Ht();const o=()=>Wt(e,{subscr:t,trans:null}),r=gt.trans?Xt(gt.transless,o):o();return n&&r.then(zt,zt),r}(h);l||(Vn("storagemutated",u),l=!0),a=!0,Promise.resolve(p).then((e=>{a=!1,o||(c()?d():(r={},i=h,t.next&&t.next(e)))}),(e=>{a=!1,t.error&&t.error(e),s.unsubscribe()}))};return d(),s}))}let Po;try{Po={indexedDB:z.indexedDB||z.mozIndexedDB||z.webkitIndexedDB||z.msIndexedDB,IDBKeyRange:z.IDBKeyRange||z.webkitIDBKeyRange}}catch(z){Po={indexedDB:null,IDBKeyRange:null}}const Uo=To;function Bo(e){let t=jo;try{jo=!0,Vn.storagemutated.fire(e)}finally{jo=t}}J(Uo,{...He,delete:e=>new Uo(e,{addons:[]}).delete(),exists:e=>new Uo(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return co(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):lo(e,t).toCollection().primaryKeys()}(Uo.dependencies).then(e)}catch(e){return tn(new Fe.MissingAPI)}},defineClass:()=>function(e){q(this,e)},ignoreTransaction:e=>gt.trans?Xt(gt.transless,e):e(),vip:uo,async:function(e){return function(){try{var t=po(e.apply(this,arguments));return t&&"function"==typeof t.then?t:bt.resolve(t)}catch(e){return tn(e)}}},spawn:function(e,t,n){try{var o=po(e.apply(n,t||[]));return o&&"function"==typeof o.then?o:bt.resolve(o)}catch(e){return tn(e)}},currentTransaction:{get:()=>gt.trans||null},waitFor:function(e,t){const n=bt.resolve("function"==typeof e?Uo.ignoreTransaction(e):e).timeout(t||6e4);return gt.trans?gt.trans.waitFor(n):n},Promise:bt,debug:{get:()=>De,set:e=>{Ee(e,"dexie"===e?()=>!0:un)}},derive:ee,extend:q,props:J,override:ie,Events:mn,on:Vn,liveQuery:No,extendObservabilitySet:Io,getByKeyPath:ce,setByKeyPath:ue,delByKeyPath:function(e,t){"string"==typeof t?ue(e,t,void 0):"length"in t&&[].map.call(t,(function(t){ue(e,t,void 0)}))},shallowClone:de,deepClone:ve,getObjectDiff:yo,cmp:_n,asap:ae,minKey:-1/0,addons:[],connections:sn,errnames:Re,dependencies:Po,semVer:"3.2.2",version:"3.2.2".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Uo.maxKey=$n(Uo.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Vn("storagemutated",(e=>{if(!jo){let t;an?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),jo=!0,dispatchEvent(t),jo=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{jo||Bo(e)})));let jo=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");Vn("storagemutated",(t=>{jo||e.postMessage(t)})),e.onmessage=e=>{e.data&&Bo(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Vn("storagemutated",(e=>{try{jo||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Bo(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Bo(e.changedParts)}))}bt.rejectionMapper=function(e,t){if(!e||e instanceof Pe||e instanceof TypeError||e instanceof SyntaxError||!e.name||!We[e.name])return e;var n=new We[e.name](t||e.message,e);return"stack"in e&&Q(n,"stack",{get:function(){return this.inner.stack}}),n},Ee(De,un);const Ro=new To("logs");Ro.version(1).stores({ctxData:"++id, logId",logsData:"++id, logId",histories:"++id, logId",items:"++id, name, endedAt, workflowId, status, collectionId"});const Vo=Ro,Fo={class:"font-semibold text-lg"},Wo={class:"mt-1 dark:text-gray-100 text-gray-700"},Ho={class:"space-y-2 mt-4"},zo={__name:"AppSurvey",setup(e){const r={testimonial:{title:"Hi There 👋",body:"Thank you for using Automa, and if you have a great experience. Would you like to give us a testimonial?",button:"Give Testimonial",url:"https://testimonial.to/automa"},survey:{title:"How do you think we're doing?",body:"To help us make Automa as best it can be, we need a few minutes of your time to get your feedback.",button:"Take Survey",url:"https://www.automa.site/survey"}},i=(0,o.Um)({show:!0,type:"survey"});function s(){let e=!0;"survey"===i.type&&(e=(new Date).toString()),i.show=!1,localStorage.setItem(`has-${i.type}`,e)}const a=(0,t.Fl)((()=>r[i.type]));return(0,t.bv)((async function(){try{const{isFirstTime:e}=await k().storage.local.get("isFirstTime");if(e)return i.show=!1,localStorage.setItem("has-testimonial",!0),void localStorage.setItem("has-survey",Date.now());const t=localStorage.getItem("has-survey");if(!t)return;const n=(0,V.Z)().diff(t,"day");n>=2&&!localStorage.getItem("has-testimonial")?(i.show=!0,i.type="testimonial"):i.show=!1}catch(e){console.error(e)}})),(e,r)=>{const l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-button"),u=(0,t.up)("ui-card");return(0,o.SU)(i).show?((0,t.wg)(),(0,t.j4)(u,{key:0,class:"fixed bottom-8 right-8 shadow-2xl border-2 w-72 group"},{default:(0,t.w5)((()=>[(0,t._)("button",{class:"absolute bg-white shadow-md rounded-full -right-2 -top-2 transition scale-0 group-hover:scale-100",onClick:s},[(0,t.Wm)(l,{class:"text-gray-600",name:"riCloseLine"})]),(0,t._)("h2",Fo,(0,n.toDisplayString)((0,o.SU)(a).title),1),(0,t._)("p",Wo,(0,n.toDisplayString)((0,o.SU)(a).body),1),(0,t._)("div",Ho,[(0,t.Wm)(c,{href:(0,o.SU)(a).url,tag:"a",target:"_blank",rel:"noopener",class:"w-full block",variant:"accent"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(a).button),1)])),_:1},8,["href"])])])),_:1})):(0,t.kq)("",!0)}}};var $o=s(97710),Ko=s(13861),qo=s(85595);function Yo(e,n={}){const r=(0,o.XI)(null),i=(0,t.FN)(),s=i&&i.ctx;return(0,t.Y3)((()=>{let t=[];t=Array.isArray(e)?e.map((e=>e._tippy||(0,qo.Z)(e))):s._tooltipGroup||[],r.value=(0,Ko.XB)(t,{...qo.v,...n,theme:"tooltip-theme",placement:"right",moveTransition:"transform 0.2s ease-out",overrides:["placement","theme"]}),e||(s.__tpSingleton=r.value)})),(0,t.Ah)((()=>{r.value?.destroy()})),r}const Go=e=>((0,t.dD)("data-v-0351b328"),e=e(),(0,t.Cn)(),e),Xo={class:"fixed flex flex-col items-center h-screen left-0 top-0 w-16 py-6 bg-white dark:bg-gray-800 z-50"},Jo=["title"],Zo=["href","onClick"],Qo={class:"p-2 rounded-lg transition-colors inline-block"},er={key:0,class:"absolute h-4 w-4 text-xs dark:text-black text-white rounded-full bg-accent -top-1 right-2"},tr=Go((()=>(0,t._)("div",{class:"flex-grow"},null,-1))),nr={class:"inline-block p-1 bg-box-transparent rounded-full"},or=["src"],rr={class:"w-44"},ir={class:"flex items-center"},sr={class:"flex-1 text-overflow"},ar={class:"mb-2"},lr={__name:"AppSidebar",setup(r){Yo();const{t:s}=(0,a.QT)(),c=(0,l.tv)(),u=(0,E.L)(),d=(0,T.I)(),h=k().runtime.getManifest().version,p={free:"bg-box-transparent",pro:"bg-accent text-white",business:"bg-accent text-white"},f=[{id:"workflow",icon:"riFlowChart",path:"/workflows",shortcut:(0,$o.KM)("page:workflows","/workflows")},{id:"schedule",icon:"riTimeLine",path:"/schedule",shortcut:(0,$o.KM)("page:schedule","/triggers")},{id:"storage",icon:"riHardDrive2Line",path:"/storage",shortcut:(0,$o.KM)("page:storage","/storage")},{id:"log",icon:"riHistoryLine",path:"/logs",shortcut:(0,$o.KM)("page:logs","/logs")},{id:"settings",icon:"riSettings3Line",path:"/settings",shortcut:(0,$o.KM)("page:settings","/settings")}],m=(0,o.iH)(null),g=(0,o.iH)(!1),v=(0,t.Fl)((()=>d.states.length));function y({target:e}){g.value=!0,m.value.style.transform=`translate(-50%, ${e.offsetTop}px)`}return(0,$o.bx)(f.map((({shortcut:e})=>e)),(({data:e})=>{e&&c.push(e)})),(r,a)=>{const l=(0,t.up)("v-remixicon"),c=(0,t.up)("router-link"),d=(0,t.up)("ui-popover"),w=(0,t.up)("ui-list-item"),b=(0,t.up)("ui-list"),k=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("aside",Xo,[(0,t._)("img",{title:`v${(0,o.SU)(h)}`,src:i,class:"w-10 mb-4 mx-auto"},null,8,Jo),(0,t._)("div",{class:"space-y-2 w-full relative text-center",onMouseleave:a[0]||(a[0]=e=>g.value=!1)},[(0,t.wy)((0,t._)("div",{ref_key:"hoverIndicator",ref:m,class:"rounded-lg h-10 w-10 absolute left-1/2 bg-box-transparent transition-transform duration-200",style:{transform:"translate(-50%, 0)"}},null,512),[[e.vShow,g.value]]),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(f,(e=>(0,t.Wm)(c,{key:e.id,to:e.path,custom:""},{default:(0,t.w5)((({href:r,navigate:i,isActive:a})=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("a",{class:(0,n.normalizeClass)([{"is-active":a},"z-10 relative w-full flex items-center justify-center tab relative"]),href:r,onClick:i,onMouseenter:y},[(0,t._)("div",Qo,[(0,t.Wm)(l,{name:e.icon},null,8,["name"])]),"log"===e.id&&(0,o.SU)(v)>0?((0,t.wg)(),(0,t.iD)("span",er,(0,n.toDisplayString)((0,o.SU)(v)),1)):(0,t.kq)("",!0)],42,Zo)),[[k,`${(0,o.SU)(s)(`common.${e.id}`,2)} (${e.shortcut.readable})`,"right",{group:!0}]])])),_:2},1032,["to"]))),64))],32),tr,(0,o.SU)(u).user?((0,t.wg)(),(0,t.j4)(d,{key:0,trigger:"mouseenter click",placement:"right"},{trigger:(0,t.w5)((()=>[(0,t._)("span",nr,[(0,t._)("img",{src:(0,o.SU)(u).user.avatar_url,height:"32",width:"32",class:"rounded-full"},null,8,or)])])),default:(0,t.w5)((()=>[(0,t._)("div",rr,[(0,t._)("div",ir,[(0,t._)("p",sr,(0,n.toDisplayString)((0,o.SU)(u).user.username),1),(0,t._)("span",{title:"Subscription",class:(0,n.normalizeClass)([p[(0,o.SU)(u).user.subscription],"px-2 py-1 rounded-md text-sm capitalize"])},(0,n.toDisplayString)((0,o.SU)(u).user.subscription),3)])])])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(d,{trigger:"mouseenter",placement:"right",class:"my-4"},{trigger:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riGroupLine"})])),default:(0,t.w5)((()=>[(0,t._)("p",ar,(0,n.toDisplayString)((0,o.SU)(s)("home.communities")),1),(0,t.Wm)(b,{class:"w-40"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.Pz),(e=>((0,t.wg)(),(0,t.j4)(w,{key:e.name,href:e.url,small:"",tag:"a",target:"_blank",rel:"noopener"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:e.icon,class:"mr-2"},null,8,["name"]),(0,t.Uk)(" "+(0,n.toDisplayString)(e.name),1)])),_:2},1032,["href"])))),128))])),_:1})])),_:1}),(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{to:"/about"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{class:"cursor-pointer",name:"riInformationLine"})])),_:1})),[[k,(0,o.SU)(s)("settings.menu.about"),"right",{group:!0}]])])}}};var cr=s(83744);const ur=(0,cr.Z)(lr,[["__scopeId","data-v-0351b328"]]);const dr={class:"pl-16"},hr={class:"text-center"},pr=(0,t._)("p",{class:"font-semibold text-xl"},"Oops!! 😬",-1),fr={class:"mt-2 text-gray-600 dark:text-gray-200"},mr={key:0,class:"p-4 shadow-2xl z-50 fixed bottom-8 left-1/2 -translate-x-1/2 rounded-lg bg-accent text-white dark:text-gray-900 flex items-center"},gr=["href"],vr={key:1,class:"py-8 text-center"},yr={__name:"App",setup(e){let s;s="moz-extension:"===window.location.protocol?r:i;const c=document.createElement("link");c.rel="icon",c.href=s,document.head.appendChild(c);const{t:d}=(0,a.QT)(),h=D(),p=N(),f=(0,l.tv)(),m=(0,E.L)(),g=O(),v=(0,T.I)(),y=L(),w=j(),b=B();p.init();const x=(0,o.iH)(!1),S=(0,o.iH)(!1),_=k().runtime.getManifest().version,C=localStorage.getItem("ext-version")||"0.0.0";async function A(){try{if(!l.tv.user)return;const{backup:e,hosted:t}=await(0,U._i)();if(m.hostedWorkflows=t||{},e&&e.length>0){const{lastBackup:t}=k().storage.local.get("lastBackup");if(!t){const t=e.map((({id:e})=>e));m.backupIds=t,await k().storage.local.set({backupIds:t,lastBackup:(new Date).toISOString()})}await v.insertOrUpdate(e,{checkUpdateDate:!0})}m.retrieved=!0}catch(e){console.error(e)}}async function M(){const e=[],t=m.getHostedWorkflows,n=b.workflows;Object.keys(n).forEach((o=>{t.find((e=>e.hostId===o))||e.push({hostId:o,updatedAt:n[o].updatedAt})})),await b.fetchWorkflows(e)}return window.addEventListener("storage",(({key:e,newValue:t})=>{if("workflowState"!==e)return;const n=(0,P.Rx)(t,{});v.states=Object.values(n).filter((({isDestroyed:e})=>!e))})),k().runtime.onMessage.addListener((({type:e,data:t})=>{"workflow:added"===e&&("team"===t.source?y.loadData().then((()=>{f.push(`/teams/${t.teamId}/workflows/${t.workflowId}?permission=true`)})):v.loadData().then((()=>{f.push(`/workflows/${t.workflowId}?permission=true`)})))})),(async()=>{try{const{isFirstTime:t}=await k().storage.local.get("isFirstTime");S.value=!t&&u(_,C,">"),await Promise.allSettled([g.load(),h.loadSettings(),v.loadData(),y.loadData(),b.loadData()]),await W(h.settings.locale,"newtab"),await(e=h.settings.locale,F.global.locale.value=e,void document.querySelector("html").setAttribute("lang",e)),await async function(){try{const{logs:e,logsCtxData:t,migration:n}=await k().storage.local.get(["logs","migration","logsCtxData"]),o=n||{},r={};if(!o.logs&&e){const n=new Set,i=[],s=[],a=[],l=[];for(let o=e.length-1;o>0;o-=1){const{data:r,history:c,...u}=e[o],d=u.id;!n.has(d)&&n.size<500&&(i.push(u),a.push({logId:d,data:r}),l.push({logId:d,data:c}),s.push({logId:d,data:t[d]}),n.add(d))}await Promise.all([Vo.items.bulkAdd(i),Vo.ctxData.bulkAdd(s),Vo.logsData.bulkAdd(a),Vo.histories.bulkAdd(l)]),r.logs=e,o.logs=!0,await k().storage.local.remove("logs")}await k().storage.local.set({migration:o,...r})}catch(e){console.error(e)}}(),await m.loadUser({useCache:!1,ttl:2}),x.value=!0,await Promise.allSettled([w.fetchWorkflows(),A(),M()]),function(){const e=h.settings.deleteLogAfter;if("never"===e)return;const t=+localStorage.getItem("checkDeleteLogs")||Date.now()-864e5;if((0,V.Z)().diff((0,V.Z)(t),"day")<1)return;const n=Date.now()-864e5*e;Vo.items.where("endedAt").below(n).toArray().then((e=>{const t=e.map((({id:e})=>e));Vo.items.bulkDelete(t),Vo.ctxData.where("logId").anyOf(t).delete(),Vo.logsData.where("logId").anyOf(t).delete(),Vo.histories.where("logId").anyOf(t).delete(),localStorage.setItem("checkDeleteLogs",Date.now())}))}()}catch(e){x.value=!0,console.error(e)}var e;localStorage.setItem("ext-version",_)})(),(e,r)=>{const i=(0,t.up)("router-view"),s=(0,t.up)("ui-button"),a=(0,t.up)("ui-dialog"),l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-spinner");return(0,t.wg)(),(0,t.iD)(t.HY,null,[x.value?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(ur),(0,t._)("main",dr,[(0,t.Wm)(i)]),(0,t.Wm)(a,null,{auth:(0,t.w5)((()=>[(0,t._)("div",hr,[pr,(0,t._)("p",fr,(0,n.toDisplayString)((0,o.SU)(d)("auth.text")),1),(0,t.Wm)(s,{tag:"a",href:"https://www.automa.site/auth",class:"mt-6 w-full block",variant:"accent"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(d)("auth.signIn")),1)])),_:1})])])),_:1}),S.value?((0,t.wg)(),(0,t.iD)("div",mr,[(0,t.Wm)(l,{name:"riInformationLine",class:"mr-3"}),(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(d)("updateMessage.text1",{version:(0,o.SU)(_)})),1),(0,t._)("a",{href:"https://github.com/AutomaApp/automa/releases/latest",target:"_blank",rel:"noopener",class:"underline ml-1"},(0,n.toDisplayString)((0,o.SU)(d)("updateMessage.text2")),9,gr),(0,t._)("button",{class:"ml-6 text-gray-200 dark:text-gray-600",onClick:r[0]||(r[0]=e=>S.value=!1)},[(0,t.Wm)(l,{size:"20",name:"riCloseLine"})])])):(0,t.kq)("",!0)],64)):((0,t.wg)(),(0,t.iD)("div",vr,[(0,t.Wm)(c,{color:"text-accent",size:"28"})])),(0,t.Wm)(zo)],64)}}},wr=yr,br={class:"py-16 max-w-xl mx-auto"},kr={class:"font-semibold text-3xl mb-8"},xr=(0,t._)("p",{class:"text-lg"},[(0,t.Uk)(" Get started by reading the documentation or browsing workflows in the Automa Marketplace. "),(0,t._)("br"),(0,t.Uk)(" To learn how to use Automa, watch the tutorials on our YouTube Channel. ")],-1),Sr={class:"mt-8 space-x-2 flex items-center"},_r=["href"],Cr={class:"mt-2"},Dr={class:"mt-8"},Er={class:"space-x-2 flex items-center mt-2"},Ar=["href"],Or={class:"mt-2"},Tr={__name:"Welcome",setup(e){const{t:r}=(0,a.QT)(),i=[{name:"GitHub",icon:"riGithubFill",url:"https://github.com/AutomaApp/automa"},{name:"Twitter",icon:"riTwitterLine",url:"https://twitter.com/AutomaApp"},{name:"Discord",icon:"riDiscordLine",url:"https://discord.gg/C6khwwTE84"}],s=[{name:r("common.docs"),icon:"riBook3Line",url:"https://docs.automa.site"},{name:r("welcome.marketplace"),icon:"riCompass3Line",url:"https://www.automa.site/workflows"},{name:"YouTube",icon:"riYoutubeLine",url:"https://youtube.com/channel/UCL3qU64hW0fsIj2vOayOQUQ"},{name:"Blog",icon:"riArticleLine",url:"https://blog.automa.site"}];return(e,a)=>{const l=(0,t.up)("v-remixicon");return(0,t.wg)(),(0,t.iD)("div",br,[(0,t._)("h1",kr,(0,n.toDisplayString)((0,o.SU)(r)("welcome.title")),1),xr,(0,t._)("div",Sr,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(s,(e=>(0,t._)("a",{key:e.name,href:e.url,target:"_blank",rel:"noopener",class:"p-4 rounded-lg hoverable flex-1 transition border-2 w-40"},[(0,t.Wm)(l,{size:"28",name:e.icon},null,8,["name"]),(0,t._)("p",Cr,(0,n.toDisplayString)(e.name),1)],8,_r))),64))]),(0,t._)("div",Dr,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(r)("home.communities")),1),(0,t._)("div",Er,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(i,(e=>(0,t._)("a",{key:e.name,href:e.url,target:"_blank",rel:"noopener",class:"p-4 rounded-lg hoverable transition border-2 w-40"},[(0,t.Wm)(l,{size:"28",name:e.icon},null,8,["name"]),(0,t._)("p",Or,(0,n.toDisplayString)(e.name),1)],8,Ar))),64))])])])}}},Mr=Tr;var Lr=s(23002),Ir=s(32364);function Nr(){const e=(e,t={})=>{Ir.Z.emit("show-dialog",{type:e,options:t})};return{custom:function(t,n={}){e(t,{...n,custom:!0})},prompt:function(t={}){e("prompt",t)},confirm:function(t={}){e("confirm",t)}}}const Pr="contextMenus",Ur=e=>k().permissions.contains({permissions:e}),Br={trigger:{name:Pr,hasPermission:({data:e})=>"context-menu"!==e.type||Ur([Pr])},clipboard:{name:"clipboardRead",hasPermission:()=>Ur(["clipboardRead"])},notification:{name:"notifications",hasPermission:()=>Ur(["notifications"])},"handle-download":{name:"downloads",hasPermission:()=>Ur(["downloads"])},"save-assets":{name:"downloads",hasPermission:()=>Ur(["downloads"])},cookie:{name:"cookies",hasPermission:()=>Ur(["cookies"])}};async function jr(e){let t=[];const n=[],o="string"==typeof e?(0,P.Rx)(e):e;t=o.nodes?o.nodes:Object.values(o.drawflow?.Home?.data||{});for(const e of t){const t=e.label||e.name,o=Br[t];if(o&&!n.includes(o.name)){await o.hasPermission(e)||n.push(o.name)}}return n}function Rr(e={}){return new Promise(((t,n)=>{(0,P.y)(["application/json"],e).then((e=>{const n=({target:e})=>{const n=JSON.parse(e.result),o=(0,T.I)();n.includedWorkflows&&(Object.keys(n.includedWorkflows).forEach((e=>{if(Boolean(o.workflows[e]))return;const t=n.includedWorkflows[e];t.table=t.table||t.dataColumns,delete t.dataColumns,o.insert({...t,id:e,createdAt:Date.now()})})),delete n.includedWorkflows),n.table=n.table||n.dataColumns,delete n.dataColumns,o.insert({...n,createdAt:Date.now()}).then(t)};e.forEach((e=>{const t=new FileReader;t.onload=n,t.readAsText(e)}))})).catch((e=>{console.error(e),n(e)}))}))}const Vr={name:"",icon:"",table:[],settings:{},globalData:"",dataColumns:[],description:"",drawflow:{nodes:[],edges:[]},version:k().runtime.getManifest().version};function Fr(e,t=[]){if(!e)return null;const n=["name","icon","table","version","drawflow","settings","globalData","description",...t],o={extVersion:k().runtime.getManifest().version};return n.forEach((t=>{o[t]=e[t]??Vr[t]})),o}function Wr({drawflow:e},t,n=3,o={}){if(0===n)return o;const r=(0,P.Rx)(e,e),i=r?.drawflow?.Home.data??r.nodes??null;if(!i)return o;const s=(e,r)=>{if("execute-workflow"!==e||o[r])return;const i=t.getById(r);i&&(o[r]=Fr(i),Wr(i,t,n-1,o))};return r.nodes?r.nodes.forEach((e=>{s(e.label,e.data.workflowId)})):Object.values(i).forEach((({data:e,name:t})=>{s(t,e.workflowId)})),o}function Hr(e){if(e.isProtected)return;const t=Wr(e,(0,T.I)()),n=Fr(e);n.includedWorkflows=t;const o=new Blob([JSON.stringify(n)],{type:"application/json"}),r=URL.createObjectURL(o);(0,P.AG)(`${e.name}.automa.json`,r)}const zr=s.p+"alien.svg",$r=(e,t="px")=>"number"==typeof e?e+t:e;function Kr({style:e},t,n){if("object"==typeof t)for(const[n,o]of Object.entries(t))e[n]=$r(o);else void 0!==n&&(e[t]=$r(n))}function qr(e){return(t,n,o,r={})=>{t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);for(const i of t)for(const t of n)i[e](t,o,{capture:!1,...r});return[t,n,o,r]}}const Yr=qr("addEventListener"),Gr=qr("removeEventListener"),Xr=e=>{const t=e.touches&&e.touches[0]||e;return{tap:t,x:t.clientX,y:t.clientY,target:t.target}};function Jr(e,t,n="touch"){switch(n){case"center":{const n=t.left+t.width/2,o=t.top+t.height/2;return n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom}case"cover":return t.left>=e.left&&t.top>=e.top&&t.right<=e.right&&t.bottom<=e.bottom;case"touch":return e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom;default:throw new Error(`Unkown intersection mode: ${n}`)}}function Zr(e,t){const n=e.indexOf(t);~n&&e.splice(n,1)}function Qr(e,t=document){const n=Array.isArray(e)?e:[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];"string"==typeof r?o.push(...Array.from(t.querySelectorAll(r))):r instanceof Element&&o.push(r)}return o}const ei=()=>matchMedia("(hover: none), (pointer: coarse)").matches,ti=(e,t)=>{for(const[n,o]of Object.entries(e)){const r=t[n];e[n]=void 0===r?e[n]:"object"!=typeof r||"object"!=typeof o||null===o||Array.isArray(o)?r:ti(o,r)}return e},{abs:ni,max:oi,min:ri,ceil:ii}=Math;class si extends class{constructor(){this.t=new Map,this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent}addEventListener(e,t){const n=this.t.get(e)||new Set;return this.t.set(e,n),n.add(t),this}removeEventListener(e,t){return this.t.get(e)?.delete(t),this}dispatchEvent(e,...t){let n=!0;for(const o of this.t.get(e)||[])n=!1!==o(...t)&&n;return n}unbindAllListeners(){this.t.clear()}}{constructor(e){super(),this.i={touched:[],stored:[],selected:[],changed:{added:[],removed:[]}},this.o=[],this.h=new DOMRect,this.l={y1:0,x2:0,y2:0,x1:0},this.u=!0,this.p=!0,this.m={x:0,y:0},this.v={x:0,y:0},this.disable=this.g.bind(this,!1),this.enable=this.g,this._=ti({selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,behaviour:{overlap:"invert",intersect:"touch",startThreshold:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:0,y:0}}},features:{range:!0,touch:!0,singleTap:{allow:!0,intersect:"native"}},startAreas:["html"],boundaries:["html"],container:"body"},e);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))"function"==typeof this[e]&&(this[e]=this[e].bind(this));const{document:t,selectionAreaClass:n,selectionContainerClass:o}=this._;this.S=t.createElement("div"),this.A=t.createElement("div"),this.A.appendChild(this.S),this.S.classList.add(n),o&&this.A.classList.add(o),Kr(this.S,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),Kr(this.A,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this.T=(e=>{let t,n=-1,o=!1;return{next(...r){t=r,o||(o=!0,n=requestAnimationFrame((()=>{e(...t),o=!1})))},cancel(){cancelAnimationFrame(n),o=!1}}})((e=>{this.L(),this.C(),this.M("move",e),this.j()})),this.enable()}g(e=!0){const{document:t,features:n}=this._,o=e?Yr:Gr;o(t,"mousedown",this.k),n.touch&&o(t,"touchstart",this.k,{passive:!1})}k(e,t=!1){const{x:n,y:o,target:r}=Xr(e),{_:i}=this,{document:s}=this._,a=r.getBoundingClientRect(),l=Qr(i.startAreas,i.document),c=Qr(i.boundaries,i.document);this.O=c.find((e=>Jr(e.getBoundingClientRect(),a)));const u=function(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let n=e.target.parentElement;for(t=[e.target,n];n=n.parentElement;)t.push(n);return t.push(document,window),t}(e);if(!this.O||!l.find((e=>u.includes(e)))||!c.find((e=>u.includes(e))))return;if(!t&&!1===this.M("beforestart",e))return;this.l={x1:n,y1:o,x2:0,y2:0};const d=s.scrollingElement||s.body;this.v={x:d.scrollLeft,y:d.scrollTop},this.u=!0,this.clearSelection(!1),Yr(s,["touchmove","mousemove"],this.R,{passive:!1}),Yr(s,["mouseup","touchcancel","touchend"],this.$),Yr(s,"scroll",this.D)}F(e){const{singleTap:{intersect:t},range:n}=this._.features,o=Xr(e);let r=null;if("native"===t)r=o.target;else if("touch"===t){this.resolveSelectables();const{x:e,y:t}=o;r=this.o.find((n=>{const{right:o,left:r,top:i,bottom:s}=n.getBoundingClientRect();return e<o&&e>r&&t<s&&t>i}))}if(!r)return;for(this.resolveSelectables();!this.o.includes(r);){if(!r.parentElement)return;r=r.parentElement}const{stored:i}=this.i;if(this.M("start",e),e.shiftKey&&i.length&&n){const e=this.q??i[0],[t,n]=4&e.compareDocumentPosition(r)?[r,e]:[e,r],o=[...this.o.filter((e=>4&e.compareDocumentPosition(t)&&2&e.compareDocumentPosition(n))),t,n];this.select(o)}else i.includes(r)&&(1===i.length||e.ctrlKey||i.every((e=>this.i.stored.includes(e))))?this.deselect(r):(this.q=r,this.select(r));this.M("stop",e)}R(e){const{container:t,document:n,features:o,behaviour:{startThreshold:r}}=this._,{x1:i,y1:s}=this.l,{x:a,y:l}=Xr(e),c=typeof r;if("number"===c&&ni(a+l-(i+s))>=r||"object"===c&&ni(a-i)>=r.x||ni(l-s)>=r.y){if(Gr(n,["mousemove","touchmove"],this.R,{passive:!1}),!1===this.M("beforedrag",e))return void Gr(n,["mouseup","touchcancel","touchend"],this.$);Yr(n,["mousemove","touchmove"],this.H,{passive:!1}),Kr(this.S,"display","block"),Qr(t,n)[0].appendChild(this.A),this.resolveSelectables(),this.u=!1,this.W=this.O.getBoundingClientRect(),this.p=this.O.scrollHeight!==this.O.clientHeight||this.O.scrollWidth!==this.O.clientWidth,this.p&&(Yr(n,"wheel",this.I,{passive:!1}),this.o=this.o.filter((e=>this.O.contains(e)))),this.N(),this.M("start",e),this.H(e)}o.touch&&ei()&&e.preventDefault()}N(){const{A:e,O:t,S:n}=this,o=this.W=t.getBoundingClientRect();this.p?(Kr(e,{top:o.top,left:o.left,width:o.width,height:o.height}),Kr(n,{marginTop:-o.top,marginLeft:-o.left})):(Kr(e,{top:0,left:0,width:"100%",height:"100%"}),Kr(n,{marginTop:0,marginLeft:0}))}H(e){const{x:t,y:n}=Xr(e),{m:o,l:r,_:i,T:s}=this,{features:a}=i,{speedDivider:l}=i.behaviour.scrolling,c=this.O;if(r.x2=t,r.y2=n,this.p&&(o.y||o.x)){const t=()=>{if(!o.x&&!o.y)return;const{scrollTop:n,scrollLeft:i}=c;o.y&&(c.scrollTop+=ii(o.y/l),r.y1-=c.scrollTop-n),o.x&&(c.scrollLeft+=ii(o.x/l),r.x1-=c.scrollLeft-i),s.next(e),requestAnimationFrame(t)};requestAnimationFrame(t)}else s.next(e);a.touch&&ei()&&e.preventDefault()}D(){const{v:e,_:{document:t}}=this,{scrollTop:n,scrollLeft:o}=t.scrollingElement||t.body;this.l.x1+=e.x-o,this.l.y1+=e.y-n,e.x=o,e.y=n,this.N(),this.T.next(null)}I(e){const{manualSpeed:t}=this._.behaviour.scrolling,n=e.deltaY?e.deltaY>0?1:-1:0,o=e.deltaX?e.deltaX>0?1:-1:0;this.m.y+=n*t,this.m.x+=o*t,this.H(e),e.preventDefault()}L(){const{m:e,l:t,h:n,O:o,W:r,_:i}=this,{scrollTop:s,scrollHeight:a,clientHeight:l,scrollLeft:c,scrollWidth:u,clientWidth:d}=o,h=r,{x1:p,y1:f}=t;let{x2:m,y2:g}=t;const{behaviour:{scrolling:{startScrollMargins:v}}}=i;m<h.left+v.x?(e.x=c?-ni(h.left-m+v.x):0,m=m<h.left?h.left:m):m>h.right-v.x?(e.x=u-c-d?ni(h.left+h.width-m-v.x):0,m=m>h.right?h.right:m):e.x=0,g<h.top+v.y?(e.y=s?-ni(h.top-g+v.y):0,g=g<h.top?h.top:g):g>h.bottom-v.y?(e.y=a-s-l?ni(h.top+h.height-g-v.y):0,g=g>h.bottom?h.bottom:g):e.y=0;const y=ri(p,m),w=ri(f,g),b=oi(p,m),k=oi(f,g);n.x=y,n.y=w,n.width=b-y,n.height=k-w}j(){const{x:e,y:t,width:n,height:o}=this.h,{style:r}=this.S;r.left=`${e}px`,r.top=`${t}px`,r.width=`${n}px`,r.height=`${o}px`}$(e,t){const{document:n,features:o}=this._,{u:r}=this;Gr(n,["mousemove","touchmove"],this.R),Gr(n,["touchmove","mousemove"],this.H),Gr(n,["mouseup","touchcancel","touchend"],this.$),Gr(n,"scroll",this.D),this.U(),e&&r&&o.singleTap.allow?this.F(e):r||t||(this.C(),this.M("stop",e)),this.m.x=0,this.m.y=0,this.p&&Gr(n,"wheel",this.I,{passive:!0}),this.A.remove(),this.T?.cancel(),Kr(this.S,"display","none")}C(){const{o:e,_:t,i:n,h:o}=this,{stored:r,selected:i,touched:s}=n,{intersect:a,overlap:l}=t.behaviour,c="invert"===l,u=[],d=[],h=[];for(let t=0;t<e.length;t++){const n=e[t];if(Jr(o,n.getBoundingClientRect(),a)){if(i.includes(n))r.includes(n)&&!s.includes(n)&&s.push(n);else{if(c&&r.includes(n)){h.push(n);continue}d.push(n)}u.push(n)}}c&&d.push(...r.filter((e=>!i.includes(e))));const p="keep"===l;for(let e=0;e<i.length;e++){const t=i[e];u.includes(t)||p&&r.includes(t)||h.push(t)}n.selected=u,n.changed={added:d,removed:h},this.q=u[u.length-1]}M(e,t){return this.emit(e,{event:t,store:this.i,selection:this})}U(){const{_:e,i:t}=this,{selected:n,changed:o,touched:r,stored:i}=t,s=n.filter((e=>!i.includes(e)));switch(e.behaviour.overlap){case"drop":t.stored=[...s,...i.filter((e=>!r.includes(e)))];break;case"invert":t.stored=[...s,...i.filter((e=>!o.removed.includes(e)))];break;case"keep":t.stored=[...i,...n.filter((e=>!i.includes(e)))]}}trigger(e,t=!0){this.k(e,t)}resolveSelectables(){this.o=Qr(this._.selectables,this._.document)}clearSelection(e=!0){this.i={stored:e?[]:this.i.stored,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this.i.stored}getSelectionArea(){return this.S}cancel(e=!1){this.$(null,!e)}destroy(){this.cancel(),this.disable(),this.A.remove(),super.unbindAllListeners()}select(e,t=!1){const{changed:n,selected:o,stored:r}=this.i,i=Qr(e,this._.document).filter((e=>!o.includes(e)&&!r.includes(e)));return r.push(...i),o.push(...i),n.added.push(...i),!t&&this.M("move",null),i}deselect(e,t=!1){const{selected:n,stored:o,changed:r}=this.i;return!(!n.includes(e)&&!o.includes(e)||(r.removed.push(e),Zr(o,e),Zr(n,e),!t&&this.M("move",null),0))}}si.version="3.0.0";const ai=(e,t)=>e?`${e}--${t}`:t;function li(e="",t={},n=""){let o={name:ai(n,e),data:t};return k().runtime.sendMessage(o)}const ci={class:"flex items-center mb-4"},ui={key:1,class:"p-2 rounded-lg bg-box-transparent"},di=(0,t._)("div",{class:"flex-grow"},null,-1),hi={key:2,class:"text-sm text-gray-600 dark:text-gray-200"},pi={class:"capitalize"},fi={class:"line-clamp font-semibold leading-tight"},mi={class:"flex items-center text-gray-600 dark:text-gray-200"},gi={class:"flex-1"},vi={__name:"SharedCard",props:{disabled:Boolean,data:{type:Object,default:()=>({})},icon:{type:String,default:"riGlobalLine"},showDetails:{type:Boolean,default:!0},menu:{type:Array,default:()=>[]}},emits:["execute","click","menuSelected"],setup(r){const i=r,s=(0,o.Um)({triggerText:null,date:(0,V.Z)(i.data.createdAt).fromNow()});return(i,a)=>{const l=(0,t.up)("ui-img"),c=(0,t.up)("v-remixicon"),u=(0,t.up)("ui-list-item"),d=(0,t.up)("ui-list"),h=(0,t.up)("ui-popover"),p=(0,t.up)("ui-card"),f=(0,t.Q2)("close-popover");return(0,t.wg)(),(0,t.j4)(p,{class:"hover:ring-2 flex flex-col group hover:ring-accent dark:hover:ring-gray-200"},{default:(0,t.w5)((()=>[(0,t.WI)(i.$slots,"header",{},(()=>[(0,t._)("div",ci,[r.data.icon?.startsWith("http")?((0,t.wg)(),(0,t.j4)(l,{key:0,src:r.data.icon,class:"overflow-hidden rounded-lg",style:{height:"40px",width:"40px"},alt:"Can not display"},null,8,["src"])):((0,t.wg)(),(0,t.iD)("span",ui,[(0,t.Wm)(c,{name:r.data.icon||r.icon},null,8,["name"])])),di,r.data.isDisabled?((0,t.wg)(),(0,t.iD)("span",hi," Disabled ")):r.disabled?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:3,class:"invisible group-hover:visible",onClick:a[0]||(a[0]=e=>i.$emit("execute",r.data))},[(0,t.Wm)(c,{name:"riPlayLine"})])),r.showDetails?((0,t.wg)(),(0,t.j4)(h,{key:4,class:"h-6 ml-2"},{trigger:(0,t.w5)((()=>[(0,t._)("button",null,[(0,t.Wm)(c,{name:"riMoreLine"})])])),default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"space-y-1",style:{"min-width":"150px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.menu,(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(u,(0,t.dG)({key:e.id},e.attrs||{},{class:"cursor-pointer",onClick:t=>i.$emit("menuSelected",{id:e.id,data:r.data})}),{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:e.icon,class:"mr-2 -ml-1"},null,8,["name"]),(0,t._)("span",pi,(0,n.toDisplayString)(e.name),1)])),_:2},1040,["onClick"])),[[f]]))),128))])),_:1})])),_:1})):(0,t.kq)("",!0)])])),(0,t._)("div",{class:"cursor-pointer flex-1",onClick:a[1]||(a[1]=e=>i.$emit("click",r.data))},[(0,t._)("p",fi,(0,n.toDisplayString)(r.data.name),1),(0,t.wy)((0,t._)("p",{class:"text-gray-600 dark:text-gray-200 line-clamp leading-tight mb-1"},(0,n.toDisplayString)(r.data.description),513),[[e.vShow,r.data.description]])]),(0,t._)("div",mi,[(0,t._)("p",gi,(0,n.toDisplayString)((0,o.SU)(s).date),1),(0,t.WI)(i.$slots,"footer-content")])])),_:3})}}},yi={key:0,class:"py-12 flex items-center"},wi=(0,t._)("img",{src:zr,class:"w-96"},null,-1),bi={class:"ml-4"},ki={class:"text-2xl font-semibold max-w-md mb-6"},xi={class:"workflows-container"},Si={class:"flex items-center mb-4"},_i={key:1,class:"p-2 rounded-lg bg-box-transparent inline-block"},Ci={key:1,class:"py-2"},Di=(0,t._)("div",{class:"flex-grow"},null,-1),Ei=["onClick"],Ai={class:"capitalize"},Oi={class:"capitalize"},Ti={key:0,class:"flex items-center justify-between mt-8"},Mi=["value"],Li={class:"mb-6 text-right text-gray-600 dark:text-gray-200"},Ii={class:"space-x-2 flex"},Ni={__name:"WorkflowsLocal",props:{search:{type:String,default:""},folderId:{type:String,default:""},sort:{type:Object,default:()=>({by:"",order:""})},perPage:{type:Number,default:18}},setup(r){const i=r,{t:s}=(0,a.QT)(),l=Nr(),c=(0,E.L)(),u=(0,T.I)(),d=j(),h=(0,o.Um)({selectedWorkflows:[]}),p=(0,o.Um)({id:"",name:"",show:!1,description:""}),f=(0,o.Um)({currentPage:1,perPage:+`${i.perPage}`||18}),m=new si({container:".workflows-list",startareas:[".workflows-list"],boundaries:[".workflows-list"],selectables:[".local-workflow"]});m.on("beforestart",(({event:e})=>"INPUT"!==e.target.tagName&&!e.target.closest(".local-workflow"))).on("start",(()=>{h.selectedWorkflows=[],m.getSelection().forEach((e=>{e.classList.remove("ring-2")})),m.clearSelection()})).on("move",(e=>{e.store.changed.added.forEach((e=>{e.classList.add("ring-2")})),e.store.changed.removed.forEach((e=>{e.classList.remove("ring-2")}))})).on("stop",(e=>{h.selectedWorkflows=e.store.selected.map((e=>e.dataset?.workflow))}));const g=(0,t.Fl)((()=>{const e=u.getWorkflows.filter((({name:e,folderId:t})=>e.toLocaleLowerCase().includes(i.search.toLocaleLowerCase())&&(!i.folderId||i.folderId===t)));return(0,P.e8)({data:e,key:i.sort.by,order:i.sort.order})})),v=(0,t.Fl)((()=>g.value.slice((f.currentPage-1)*f.perPage,f.currentPage*f.perPage)));function y(){Object.assign(p,{id:"",name:"",show:!1,description:""})}function w(){u.update({id:p.id,data:{name:p.name,description:p.description}}),y()}function b({name:e,id:t}){l.confirm({title:s("workflow.delete"),okVariant:"danger",body:s("message.delete",{name:e}),onConfirm:()=>{u.delete(t)}})}function k({target:e,key:t}){if(!["INPUT","TEXTAREA","SELECT"].includes(e.tagName)&&"Delete"===t&&0!==h.selectedWorkflows.length)if(1===h.selectedWorkflows.length){const[e]=h.selectedWorkflows;b(u.getById(e))}else l.confirm({title:s("workflow.delete"),okVariant:"danger",body:s("message.delete",{name:`${h.selectedWorkflows.length} workflows`}),onConfirm:async()=>{await u.delete(h.selectedWorkflows)}})}function x({dataTransfer:e,target:t}){const n=[...h.selectedWorkflows],o=t.dataset?.workflow;o&&!n.includes(o)&&n.push(o),e.setData("workflows",JSON.stringify(n))}const S=[{id:"duplicate",name:s("common.duplicate"),icon:"riFileCopyLine",action:function(e){const t={...e,createdAt:Date.now()};["$id","data","id","isDisabled"].forEach((e=>{delete t[e]})),u.insert(t)}},{id:"export",name:s("common.export"),icon:"riDownloadLine",action:Hr},{id:"rename",name:s("common.rename"),icon:"riPencilLine",action:function({name:e,description:t,id:n}){Object.assign(p,{id:n,name:e,show:!0,description:t})}},{id:"delete",name:s("common.delete"),icon:"riDeleteBin7Line",action:b}];return(0,t.bv)((()=>{window.addEventListener("keydown",k)})),(0,t.Jd)((()=>{window.removeEventListener("keydown",k)})),(r,i)=>{const a=(0,t.up)("ui-img"),l=(0,t.up)("v-remixicon"),h=(0,t.up)("ui-list-item"),m=(0,t.up)("ui-list"),b=(0,t.up)("ui-popover"),k=(0,t.up)("ui-pagination"),_=(0,t.up)("ui-input"),C=(0,t.up)("ui-textarea"),D=(0,t.up)("ui-button"),E=(0,t.up)("ui-modal"),A=(0,t.Q2)("close-popover"),O=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[0===(0,o.SU)(u).getWorkflows.length?((0,t.wg)(),(0,t.iD)("div",yi,[wi,(0,t._)("div",bi,[(0,t._)("h1",ki,(0,n.toDisplayString)((0,o.SU)(s)("message.empty")),1)])])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",xi,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(v),(e=>((0,t.wg)(),(0,t.j4)(vi,{key:e.id,data:e,"data-workflow":e.id,draggable:"true",class:"cursor-default select-none ring-accent local-workflow",onDragstart:x,onClick:i[0]||(i[0]=e=>r.$router.push(`/workflows/${e.id}`))},{header:(0,t.w5)((()=>[(0,t._)("div",Si,[e&&!e.isDisabled?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[e.icon.startsWith("http")?((0,t.wg)(),(0,t.j4)(a,{key:0,src:e.icon,class:"rounded-lg overflow-hidden",style:{height:"40px",width:"40px"},alt:"Can not display"},null,8,["src"])):((0,t.wg)(),(0,t.iD)("span",_i,[(0,t.Wm)(l,{name:e.icon},null,8,["name"])]))],64)):((0,t.wg)(),(0,t.iD)("p",Ci,(0,n.toDisplayString)((0,o.SU)(s)("common.disabled")),1)),Di,e.isDisabled?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:2,class:"invisible group-hover:visible",onClick:t=>function(e){li("workflow:execute",e,"background")}(e)},[(0,t.Wm)(l,{name:"riPlayLine"})],8,Ei)),(0,t.Wm)(b,{class:"h-6 ml-2"},{trigger:(0,t.w5)((()=>[(0,t._)("button",null,[(0,t.Wm)(l,{name:"riMoreLine"})])])),default:(0,t.w5)((()=>[(0,t.Wm)(m,{class:"space-y-1",style:{"min-width":"150px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{class:"cursor-pointer",onClick:t=>function({id:e,isDisabled:t}){u.update({id:e,data:{isDisabled:!t}})}(e)},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riToggleLine",class:"mr-2 -ml-1"}),(0,t._)("span",Ai,(0,n.toDisplayString)((0,o.SU)(s)("common."+(e.isDisabled?"enable":"disable"))),1)])),_:2},1032,["onClick"]),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(S,(o=>(0,t.wy)((0,t.Wm)(h,{key:o.id,class:"cursor-pointer",onClick:t=>o.action(e)},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:o.icon,class:"mr-2 -ml-1"},null,8,["name"]),(0,t._)("span",Oi,(0,n.toDisplayString)(o.name),1)])),_:2},1032,["onClick"]),[[A]]))),64))])),_:2},1024)])),_:2},1024)])])),"footer-content":(0,t.w5)((()=>[(0,o.SU)(d).getById(e.id)?(0,t.wy)(((0,t.wg)(),(0,t.j4)(l,{key:0,name:"riShareLine",size:"20",class:"ml-2"},null,512)),[[O,(0,o.SU)(s)("workflow.share.sharedAs",{name:(0,o.SU)(d).getById(e.id)?.name.slice(0,64)}),"bottom",{group:!0}]]):(0,t.kq)("",!0),(0,o.SU)(c).hostedWorkflows[e.id]?(0,t.wy)(((0,t.wg)(),(0,t.j4)(l,{key:1,name:"riBaseStationLine",size:"20",class:"ml-2"},null,512)),[[O,(0,o.SU)(s)("workflow.host.title"),"bottom",{group:!0}]]):(0,t.kq)("",!0)])),_:2},1032,["data","data-workflow"])))),128))]),(0,o.SU)(g).length>18?((0,t.wg)(),(0,t.iD)("div",Ti,[(0,t._)("div",null,[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("components.pagination.text1"))+" ",1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>(0,o.SU)(f).perPage=e),class:"p-1 rounded-md bg-input"},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([18,32,64,128],(e=>(0,t._)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,Mi))),64))],512),[[e.vModelSelect,(0,o.SU)(f).perPage]]),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(s)("components.pagination.text2",{count:(0,o.SU)(g).length})),1)]),(0,t.Wm)(k,{modelValue:(0,o.SU)(f).currentPage,"onUpdate:modelValue":i[2]||(i[2]=e=>(0,o.SU)(f).currentPage=e),"per-page":(0,o.SU)(f).perPage,records:(0,o.SU)(g).length},null,8,["modelValue","per-page","records"])])):(0,t.kq)("",!0)],64)),(0,t.Wm)(E,{modelValue:(0,o.SU)(p).show,"onUpdate:modelValue":i[5]||(i[5]=e=>(0,o.SU)(p).show=e),title:"Workflow"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{modelValue:(0,o.SU)(p).name,"onUpdate:modelValue":i[3]||(i[3]=e=>(0,o.SU)(p).name=e),placeholder:(0,o.SU)(s)("common.name"),autofocus:"",class:"w-full mb-4",onKeyup:(0,e.withKeys)(w,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),(0,t.Wm)(C,{modelValue:(0,o.SU)(p).description,"onUpdate:modelValue":i[4]||(i[4]=e=>(0,o.SU)(p).description=e),placeholder:(0,o.SU)(s)("common.description"),height:"165px",class:"w-full dark:text-gray-200",max:"300",style:{"min-height":"140px"}},null,8,["modelValue","placeholder"]),(0,t._)("p",Li,(0,n.toDisplayString)((0,o.SU)(p).description.length)+"/300 ",1),(0,t._)("div",Ii,[(0,t.Wm)(D,{class:"w-full",onClick:y},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("common.cancel")),1)])),_:1}),(0,t.Wm)(D,{variant:"accent",class:"w-full",onClick:w},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("common.update")),1)])),_:1})])])),_:1},8,["modelValue"])],64)}}},Pi=Ni,Ui={__name:"WorkflowsShared",props:{search:{type:String,default:""},sort:{type:Object,default:()=>({by:"",order:""})}},setup(e){const n=e,r=j(),i=(0,t.Fl)((()=>{const e=r.toArray.filter((({name:e})=>e.toLocaleLowerCase().includes(n.search.toLocaleLowerCase())));return(0,P.e8)({data:e,key:n.sort.by,order:n.sort.order})}));return(e,n)=>((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(i),(o=>((0,t.wg)(),(0,t.j4)(vi,{key:o.id,data:o,"show-details":!1,onExecute:e=>function(e){li("workflow:execute",e,"background")}(o),onClick:n[0]||(n[0]=t=>e.$router.push(`/workflows/${t.id}/shared`))},null,8,["data","onExecute"])))),128))}},Bi={__name:"WorkflowsHosted",props:{search:{type:String,default:""},sort:{type:Object,default:()=>({by:"",order:""})}},setup(e){const n=e,{t:r}=(0,a.QT)(),i=Nr(),s=B(),l=[{id:"delete",name:r("common.delete"),icon:"riDeleteBin7Line"}],c=(0,t.Fl)((()=>{const e=s.toArray.filter((({name:e})=>e.toLocaleLowerCase().includes(n.search.toLocaleLowerCase())));return(0,P.e8)({data:e,key:n.sort.by,order:n.sort.order})}));return(e,n)=>((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(c),(o=>((0,t.wg)(),(0,t.j4)(vi,{key:o.hostId,data:o,menu:l,onExecute:e=>function(e){li("workflow:execute",e,"background")}(o),onClick:n[0]||(n[0]=t=>e.$router.push(`/workflows/${t.hostId}/host`)),onMenuSelected:e=>async function(e){i.confirm({title:r("workflow.delete"),okVariant:"danger",body:r("message.delete",{name:e.name}),onConfirm:async()=>{try{await s.delete(e.hostId)}catch(e){console.error(e)}}})}(o)},null,8,["data","onExecute","onMenuSelected"])))),128))}},ji=Bi,Ri={class:"mt-6 pt-4 border-t"},Vi={class:"flex items-center text-gray-600 dark:text-gray-300"},Fi=(0,t._)("span",{class:"flex-1"}," Folders ",-1),Wi=(0,t._)("p",{class:"flex-1 text-overflow"},"All",-1),Hi={class:"flex-1 text-overflow"},zi={__name:"WorkflowsFolder",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:r}){const{t:i}=(0,a.QT)(),s=Nr(),l=O(),c=(0,T.I)(),u=(0,t.Fl)((()=>l.items));function d(e,t){const n=e.target.closest(".ui-list-item");n&&(e.preventDefault(),n.classList.toggle("ring-2",t))}function h(){s.prompt({title:i("workflows.folder.new"),placeholder:i("workflows.folder.name"),okText:i("common.add"),onConfirm:e=>!(!e||!e.trim())&&(l.addFolder(e),!0)})}async function p({dataTransfer:e},t){const n=(0,P.Rx)(e.getData("workflows"),null);if(n&&Array.isArray(n))try{for(const e of n)await c.update({id:e,data:{folderId:t}})}catch(e){console.error(e)}}return(a,c)=>{const f=(0,t.up)("v-remixicon"),m=(0,t.up)("ui-list-item"),g=(0,t.up)("ui-list"),v=(0,t.up)("ui-popover"),y=(0,t.Q2)("close-popover");return(0,t.wg)(),(0,t.iD)("div",Ri,[(0,t._)("div",Vi,[Fi,(0,t._)("button",{class:"dark:hover:text-gray-100 hover:text-black rounded-md transition",onClick:h},[(0,t.Wm)(f,{size:"20",name:"riAddLine",class:"inline-block align-sub"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(i)("common.new")),1)])]),(0,t.Wm)(g,{class:"mt-2 space-y-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{small:"",class:"cursor-pointer",active:""===e.modelValue,onDragover:c[0]||(c[0]=e=>d(e,!0)),onDragleave:c[1]||(c[1]=e=>d(e,!1)),onDrop:c[2]||(c[2]=e=>p(e,"")),onClick:c[3]||(c[3]=e=>a.$emit("update:modelValue",""))},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riFolderLine",class:"mr-2"}),Wi])),_:1},8,["active"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(u),(u=>((0,t.wg)(),(0,t.j4)(m,{key:u.id,active:u.id===e.modelValue,small:"",class:"group overflow-hidden cursor-pointer",onDragover:c[4]||(c[4]=e=>d(e,!0)),onDragleave:c[5]||(c[5]=e=>d(e,!1)),onDrop:e=>p(e,u.id),onClick:e=>a.$emit("update:modelValue",u.id)},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riFolderLine",class:"mr-2"}),(0,t._)("p",Hi,(0,n.toDisplayString)(u.name),1),(0,t.Wm)(v,{class:"leading-none"},{trigger:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riMoreLine",class:"group-hover:visible cursor-pointer invisible"})])),default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"w-36 space-y-1"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{class:"cursor-pointer",onClick:e=>function({id:e,name:t}){s.prompt({inputValue:t,okText:i("common.rename"),title:i("workflows.folder.rename"),placeholder:i("workflows.folder.name"),onConfirm:t=>!(!t||!t.trim()||(l.updateFolder(e,{name:t}),0))})}(u)},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riPencilLine",class:"mr-2 -ml-1"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(i)("common.rename")),1)])),_:2},1032,["onClick"])),[[y]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{class:"cursor-pointer",onClick:e=>function({name:e,id:t}){s.confirm({title:i("workflows.folder.delete"),body:i("message.delete",{name:e}),okText:i("common.delete"),okVariant:"danger",onConfirm(){l.deleteFolder(t),r("update:modelValue","")}})}(u)},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riDeleteBin7Line",class:"mr-2 -ml-1"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(i)("common.delete")),1)])),_:2},1032,["onClick"])),[[y]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["active","onDrop","onClick"])))),128))])),_:1})])}}},$i=zi,Ki=s.p+"files-and-folder.svg",qi={key:0,class:"text-center my-4"},Yi=(0,t.Uk)(" You must "),Gi=(0,t._)("a",{href:"https://www.automa.site/auth",class:"underline",target:"_blank"},"login",-1),Xi=(0,t.Uk)(" to use these workflows "),Ji={key:1,class:"text-center"},Zi=(0,t._)("img",{src:Ki,class:"mx-auto w-96"},null,-1),Qi=(0,t._)("p",{class:"text-lg font-semibold"},"Nothing to see here",-1),es=(0,t._)("p",{class:"text-gray-600 dark:text-gray-200"}," Browse workflows that been shared by your team ",-1),ts=(0,t.Uk)(" Browse workflows "),ns={key:2,class:"workflows-container"},rs={__name:"WorkflowsUserTeam",props:{active:Boolean,search:{type:String,default:""},teamId:{type:[String,Number],default:""},sort:{type:Object,default:()=>({by:"",order:""})}},setup(e){const r=e,i=[{id:"delete",name:"Delete",hasAccess:!0,icon:"riDeleteBin7Line",attrs:{class:"text-red-400 dark:text-red-500"}},{id:"delete-team",name:"Delete from team",icon:"riDeleteBin7Line",permissions:["owner","create"],attrs:{class:"text-red-400 dark:text-red-500"}}],{t:s}=(0,a.QT)(),c=(0,Lr.pm)(),u=Nr(),d=(0,l.tv)(),h=(0,E.L)(),p=L(),f=(0,t.Fl)((()=>"(unknown)"===r.teamId)),m=(0,t.Fl)((()=>i.filter((e=>!e.permissions||h.validateTeamAccess(r.teamId,e.permissions))))),g=(0,t.Fl)((()=>f.value?Object.keys(p.workflows).reduce(((e,t)=>{const n=h.user?.teams?.some((e=>e.id===t||e.id===+t));return n||e.push(...Object.values(p.workflows[t])),e}),[]):p.getByTeam(r.teamId))),v=(0,t.Fl)((()=>{if(!r.active)return[];const e=g.value.filter((({name:e})=>e.toLocaleLowerCase().includes(r.search.toLocaleLowerCase())));return(0,P.e8)({data:e,key:r.sort.by,order:r.sort.order})}));function y({id:e,data:t}){"delete"===e?u.confirm({title:s("workflow.delete"),okVariant:"danger",body:s("message.delete",{name:t.name}),onConfirm:()=>{p.delete(t.teamId,t.id)}}):"delete-team"===e&&u.confirm({async:!0,title:"Delete workflow from team",okVariant:"danger",body:`Are you sure want to delete the "${t.name}" workflow from this team?`,onConfirm:async()=>{try{const e=await(0,U.a8)(`/teams/${r.teamId}/workflows/${t.id}`,{method:"DELETE"}),n=await e.json();if(!e.ok&&404!==e.status)throw new Error(n.message);return await p.delete(r.teamId,t.id),!0}catch(e){return c.error("Something went wrong"),console.error(e),!1}}})}function w({id:e}){f.value||d.push(`/teams/${r.teamId}/workflows/${e}`)}return(r,i)=>{const s=(0,t.up)("ui-spinner"),a=(0,t.up)("ui-button");return(0,o.SU)(h).user?(0,o.SU)(f)||0!==(0,o.SU)(g).length?((0,t.wg)(),(0,t.iD)("div",ns,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(v),(e=>((0,t.wg)(),(0,t.j4)(vi,{key:e.id,data:e,menu:(0,o.SU)(m),disabled:(0,o.SU)(f),onMenuSelected:y,onExecute:t=>function(e){li("workflow:execute",e,"background")}(e),onClick:w},{"footer-content":(0,t.w5)((()=>[(0,t._)("span",{class:(0,n.normalizeClass)([(0,o.SU)(R.QB)[e.tag],"text-sm rounded-md text-black capitalize p-1"])},(0,n.toDisplayString)(e.tag),3)])),_:2},1032,["data","menu","disabled","onExecute"])))),128))])):((0,t.wg)(),(0,t.iD)("div",Ji,[Zi,Qi,es,(0,t.Wm)(a,{href:`http://www.automa.site/workflows?teamId=${e.teamId}&workflowsBy=team`,tag:"a",target:"_blank",variant:"accent",class:"mt-8 inline-block"},{default:(0,t.w5)((()=>[ts])),_:1},8,["href"])])):((0,t.wg)(),(0,t.iD)("p",qi,[(0,o.SU)(h).retrieved?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[Yi,Gi,Xi],64)):((0,t.wg)(),(0,t.j4)(s,{key:0,color:"text-accent"}))]))}}},is=rs,ss={class:"font-semibold"},as={class:"ml-4 flex-1 overflow-hidden"},ls={class:"leading-tight"},cs={class:"text-gray-600 dark:text-gray-200 leading-tight"},us={class:"text-right mt-8"},ds={__name:"SharedPermissionsModal",props:{permissions:{type:Array,default:()=>[]}},emits:["update:modelValue","granted"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)(),l={cookies:"mdiCookieOutline",downloads:"riDownloadLine",clipboardRead:"riClipboardLine",contextMenus:"riFileListLine",notifications:"riNotification3Line"};function c(){k().permissions.request({permissions:(0,o.IU)(i.permissions)}).then((()=>{r("update:modelValue",!1),r("granted",!0)}))}return(i,a)=>{const u=(0,t.up)("v-remixicon"),d=(0,t.up)("ui-list-item"),h=(0,t.up)("ui-list"),p=(0,t.up)("ui-button"),f=(0,t.up)("ui-modal");return(0,t.wg)(),(0,t.j4)(f,{title:(0,o.SU)(s)("workflowPermissions.title"),persist:""},{default:(0,t.w5)((()=>[(0,t._)("p",ss,(0,n.toDisplayString)((0,o.SU)(s)("workflowPermissions.description")),1),(0,t.Wm)(h,{class:"mt-2 space-y-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.permissions,(e=>((0,t.wg)(),(0,t.j4)(d,{key:e,small:"",style:{"align-items":"flex-start"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{name:l[e],class:"mt-1"},null,8,["name"]),(0,t._)("div",as,[(0,t._)("p",ls,(0,n.toDisplayString)((0,o.SU)(s)(`workflowPermissions.${e}.title`)),1),(0,t._)("p",cs,(0,n.toDisplayString)((0,o.SU)(s)(`workflowPermissions.${e}.description`)),1)])])),_:2},1024)))),128))])),_:1}),(0,t._)("div",us,[(0,t.Wm)(p,{class:"mr-2",onClick:a[0]||(a[0]=e=>r("update:modelValue",!1))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("common.cancel")),1)])),_:1}),(0,t.Wm)(p,{variant:"accent",onClick:c},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("workflow.blocks.clipboard.grantPermission")),1)])),_:1})])])),_:1},8,["title"])}}},hs=ds,ps={class:"container pt-8 pb-4"},fs={class:"text-2xl font-semibold capitalize"},ms={class:"flex items-start mt-8"},gs={class:"w-60 sticky top-8"},vs={class:"flex w-full"},ys={class:"ml-4 capitalize"},ws=(0,t._)("span",{class:"ml-4 capitalize flex-1 text-left"}," Team Workflows ",-1),bs={class:"text-overflow"},ks={class:"ml-4 capitalize flex-1 text-left"},xs={class:"capitalize"},Ss={class:"capitalize"},_s={class:"capitalize"},Cs={class:"flex items-center"},Ds=(0,t._)("div",{class:"flex-grow"},null,-1),Es={class:"mr-4"},As={class:"flex items-center workflow-sort"},Os=["value"],Ts={class:"mb-6 text-right text-gray-600 dark:text-gray-200"},Ms={class:"space-x-2 flex"},Ls={__name:"Workflows",setup(r){Yo();const{t:i}=(0,a.QT)(),s=(0,Lr.pm)(),c=Nr(),u=(0,l.tv)(),d=(0,E.L)(),h=(0,T.I)(),p=L(),f=B(),m=["name","createdAt"],{teamId:g,active:v}=u.currentRoute.value.query,y=JSON.parse(localStorage.getItem("workflow-sorts")||"{}"),w=d.user?.teams?.some((({id:e})=>e===g||e===+g)),b=(0,o.Um)({teams:[],query:"",activeFolder:"",activeTab:v||"local",teamId:w?g:"",perPage:y.perPage||18,sortBy:y.sortBy||"createdAt",sortOrder:y.sortOrder||"desc"}),k=(0,o.Um)({name:"",show:!1,description:""}),x=(0,o.Um)({items:[],showModal:!1}),S=(0,t.Fl)((()=>f.toArray));function _(){Object.assign(k,{name:"",show:!1,description:""})}function C(e={}){"team"!==e.activeTab&&(e.teamId=""),Object.assign(b,e)}function D(){h.insert({name:k.name,description:k.description}),_()}function A(){c.prompt({async:!0,inputType:"url",okText:i("common.add"),title:i("workflow.host.add"),label:i("workflow.host.id"),placeholder:"abcd123",onConfirm:async e=>{if((0,P.cb)(e))return!1;const t=e.replace(/\s/g,"");try{return await f.addHostedWorkflow(t),!0}catch(e){const n={exists:i("workflow.host.messages.hostExist"),"rate-exceeded":i("message.rateExceeded"),"not-found":i("workflow.host.messages.notFound",{id:t})}[e.message]||e.message;return s.error(n),!1}}})}async function O(){try{const e=await Rr({multiple:!0}),t=Object.values(e);let n=[];for(const e of t)if(e.drawflow){const t=await jr(e.drawflow);n.push(...t)}if(n=Array.from(new Set(n)),0===n.length)return;x.items=n,x.showModal=!0}catch(e){console.error(e)}}const M=(0,$o.bx)(["action:search","action:new"],(({id:e})=>{if("action:search"===e){document.querySelector("#search-input input")?.focus()}else k.show=!0}));return(0,t.YP)((()=>[b.sortOrder,b.sortBy,b.perPage]),(([e,t,n])=>{localStorage.setItem("workflow-sorts",JSON.stringify({sortOrder:e,sortBy:t,perPage:n}))})),(0,t.YP)((()=>[b.activeTab,b.teamId]),(([e,t])=>{const n={active:e};t&&(n.teamId=t),u.replace({...u.currentRoute.value,query:n})})),(0,t.bv)((()=>{const e=[];let t=!1;Object.keys(p.workflows).forEach((n=>{const o=d.user?.teams?.find((e=>e.id===n||e.id===+n));o?e.push({name:o.name,id:o.id}):!t&&p.getByTeam(n).length>0&&(t=!0,e.unshift({name:"(unknown)",id:"(unknown)"}))})),b.teams=e})),(r,s)=>{const a=(0,t.up)("ui-button"),l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-list-item"),u=(0,t.up)("ui-list"),h=(0,t.up)("ui-popover"),p=(0,t.up)("ui-expand"),f=(0,t.up)("ui-input"),g=(0,t.up)("ui-select"),v=(0,t.up)("ui-tab-panel"),y=(0,t.up)("ui-tab-panels"),w=(0,t.up)("ui-textarea"),E=(0,t.up)("ui-modal"),T=(0,t.Q2)("close-popover"),L=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",ps,[(0,t._)("h1",fs,(0,n.toDisplayString)((0,o.SU)(i)("common.workflow",2)),1),(0,t._)("div",ms,[(0,t._)("div",gs,[(0,t._)("div",vs,[(0,t.Wm)(a,{title:(0,o.SU)(M)["action:new"].readable,variant:"accent",class:"border-r rounded-r-none flex-1 font-semibold",onClick:s[0]||(s[0]=e=>(0,o.SU)(k).show=!0)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("workflow.new")),1)])),_:1},8,["title"]),(0,t.Wm)(h,null,{trigger:(0,t.w5)((()=>[(0,t.Wm)(a,{icon:"",class:"rounded-l-none",variant:"accent"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riArrowLeftSLine",rotate:"-90"})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"space-y-1"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{class:"cursor-pointer",onClick:O},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("workflow.import")),1)])),_:1})),[[T]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(c,{class:"cursor-pointer",onClick:A},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("workflow.host.add")),1)])),_:1})),[[T]])])),_:1})])),_:1})]),(0,t.Wm)(u,{class:"mt-6 space-y-2"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{tag:"a",href:"https://www.automa.site/workflows",target:"_blank"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riCompass3Line"}),(0,t._)("span",ys,(0,n.toDisplayString)((0,o.SU)(i)("workflow.browse")),1)])),_:1}),(0,o.SU)(b).teams.length>0?((0,t.wg)(),(0,t.j4)(p,{key:0,"append-icon":"","header-class":"px-4 py-2 rounded-lg mb-1 hoverable w-full flex items-center"},{header:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riTeamLine"}),ws])),default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"space-y-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(b).teams,(e=>((0,t.wg)(),(0,t.j4)(c,{key:e.id,active:(0,o.SU)(b).teamId===e.id||+(0,o.SU)(b).teamId===e.id,title:e.name,color:"bg-box-transparent font-semibold",class:"pl-14 cursor-pointer",onClick:t=>C({activeTab:"team",teamId:e.id})},{default:(0,t.w5)((()=>[(0,t._)("span",bs,(0,n.toDisplayString)(e.name),1)])),_:2},1032,["active","title","onClick"])))),128))])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(p,{"model-value":!0,"append-icon":"","header-class":"px-4 py-2 rounded-lg hoverable w-full flex items-center"},{header:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riFlowChart"}),(0,t._)("span",ks,(0,n.toDisplayString)((0,o.SU)(i)("workflow.my")),1)])),default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"space-y-1 mt-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{tag:"button",active:"local"===(0,o.SU)(b).activeTab,color:"bg-box-transparent font-semibold",class:"pl-14",onClick:s[1]||(s[1]=e=>C({activeTab:"local"}))},{default:(0,t.w5)((()=>[(0,t._)("span",xs,(0,n.toDisplayString)((0,o.SU)(i)("workflow.type.local")),1)])),_:1},8,["active"]),(0,o.SU)(d).user?((0,t.wg)(),(0,t.j4)(c,{key:0,active:"shared"===(0,o.SU)(b).activeTab,tag:"button",color:"bg-box-transparent font-semibold",class:"pl-14",onClick:s[2]||(s[2]=e=>C({activeTab:"shared"}))},{default:(0,t.w5)((()=>[(0,t._)("span",Ss,(0,n.toDisplayString)((0,o.SU)(i)("workflow.type.shared")),1)])),_:1},8,["active"])):(0,t.kq)("",!0),(0,o.SU)(S)?.length>0?((0,t.wg)(),(0,t.j4)(c,{key:1,active:"host"===(0,o.SU)(b).activeTab,color:"bg-box-transparent font-semibold",tag:"button",class:"pl-14",onClick:s[3]||(s[3]=e=>C({activeTab:"host"}))},{default:(0,t.w5)((()=>[(0,t._)("span",_s,(0,n.toDisplayString)((0,o.SU)(i)("workflow.type.host")),1)])),_:1},8,["active"])):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1}),"local"===(0,o.SU)(b).activeTab?((0,t.wg)(),(0,t.j4)($i,{key:0,modelValue:(0,o.SU)(b).activeFolder,"onUpdate:modelValue":s[4]||(s[4]=e=>(0,o.SU)(b).activeFolder=e)},null,8,["modelValue"])):(0,t.kq)("",!0)]),(0,t._)("div",{class:"flex-1 workflows-list ml-8",style:{"min-height":"calc(100vh - 8rem)"},onDblclick:s[9]||(s[9]=(...e)=>r.clearSelectedWorkflows&&r.clearSelectedWorkflows(...e))},[(0,t._)("div",Cs,[(0,t.Wm)(f,{id:"search-input",modelValue:(0,o.SU)(b).query,"onUpdate:modelValue":s[5]||(s[5]=e=>(0,o.SU)(b).query=e),placeholder:`${(0,o.SU)(i)("common.search")}... (${(0,o.SU)(M)["action:search"].readable})`,"prepend-icon":"riSearch2Line"},null,8,["modelValue","placeholder"]),Ds,(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",Es,[(0,t.Wm)(a,{tag:"router-link",to:"/backup",class:"inline-block",icon:""},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riUploadCloud2Line"})])),_:1})])),[[L,(0,o.SU)(i)("workflow.backupCloud"),"bottom",{group:!0}]]),(0,t._)("div",As,[(0,t.Wm)(a,{icon:"",class:"rounded-r-none border-gray-300 dark:border-gray-700 border-r",onClick:s[6]||(s[6]=e=>(0,o.SU)(b).sortOrder="asc"===(0,o.SU)(b).sortOrder?"desc":"asc")},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"asc"===(0,o.SU)(b).sortOrder?"riSortAsc":"riSortDesc"},null,8,["name"])])),_:1}),(0,t.Wm)(g,{modelValue:(0,o.SU)(b).sortBy,"onUpdate:modelValue":s[7]||(s[7]=e=>(0,o.SU)(b).sortBy=e),placeholder:(0,o.SU)(i)("sort.sortBy")},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(m,(e=>(0,t._)("option",{key:e,value:e},(0,n.toDisplayString)((0,o.SU)(i)(`sort.${e}`)),9,Os))),64))])),_:1},8,["modelValue","placeholder"])])]),(0,t.Wm)(y,{modelValue:(0,o.SU)(b).activeTab,"onUpdate:modelValue":s[8]||(s[8]=e=>(0,o.SU)(b).activeTab=e),class:"flex-1 mt-6"},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{value:"team",cache:""},{default:(0,t.w5)((()=>[(0,t.Wm)(is,{active:"team"===(0,o.SU)(b).activeTab,"team-id":(0,o.SU)(b).teamId,search:(0,o.SU)(b).query,sort:{by:(0,o.SU)(b).sortBy,order:(0,o.SU)(b).sortOrder}},null,8,["active","team-id","search","sort"])])),_:1}),(0,t.Wm)(v,{value:"shared",class:"workflows-container"},{default:(0,t.w5)((()=>[(0,t.Wm)(Ui,{search:(0,o.SU)(b).query,sort:{by:(0,o.SU)(b).sortBy,order:(0,o.SU)(b).sortOrder}},null,8,["search","sort"])])),_:1}),(0,t.Wm)(v,{value:"host",class:"workflows-container"},{default:(0,t.w5)((()=>[(0,t.Wm)(ji,{search:(0,o.SU)(b).query,sort:{by:(0,o.SU)(b).sortBy,order:(0,o.SU)(b).sortOrder}},null,8,["search","sort"])])),_:1}),(0,t.Wm)(v,{value:"local"},{default:(0,t.w5)((()=>[(0,t.Wm)(Pi,{search:(0,o.SU)(b).query,"per-page":(0,o.SU)(b).perPage,"folder-id":(0,o.SU)(b).activeFolder,sort:{by:(0,o.SU)(b).sortBy,order:(0,o.SU)(b).sortOrder}},null,8,["search","per-page","folder-id","sort"])])),_:1})])),_:1},8,["modelValue"])],32)]),(0,t.Wm)(E,{modelValue:(0,o.SU)(k).show,"onUpdate:modelValue":s[12]||(s[12]=e=>(0,o.SU)(k).show=e),title:"Workflow"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{modelValue:(0,o.SU)(k).name,"onUpdate:modelValue":s[10]||(s[10]=e=>(0,o.SU)(k).name=e),placeholder:(0,o.SU)(i)("common.name"),autofocus:"",class:"w-full mb-4",onKeyup:(0,e.withKeys)(D,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),(0,t.Wm)(w,{modelValue:(0,o.SU)(k).description,"onUpdate:modelValue":s[11]||(s[11]=e=>(0,o.SU)(k).description=e),placeholder:(0,o.SU)(i)("common.description"),height:"165px",class:"w-full dark:text-gray-200",max:"300"},null,8,["modelValue","placeholder"]),(0,t._)("p",Ts,(0,n.toDisplayString)((0,o.SU)(k).description.length)+"/300 ",1),(0,t._)("div",Ms,[(0,t.Wm)(a,{class:"w-full",onClick:_},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("common.cancel")),1)])),_:1}),(0,t.Wm)(a,{variant:"accent",class:"w-full",onClick:D},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("common.add")),1)])),_:1})])])),_:1},8,["modelValue"]),(0,t.Wm)(hs,{modelValue:(0,o.SU)(x).showModal,"onUpdate:modelValue":s[13]||(s[13]=e=>(0,o.SU)(x).showModal=e),permissions:(0,o.SU)(x).items},null,8,["modelValue","permissions"])])}}},Is=Ls;function Ns(e){const t="string"==typeof e.drawflow?(0,P.Rx)(e.drawflow,{}):e.drawflow;if(!t?.drawflow)return e;const n=(0,P.No)(t);if(!n)return e;const o=t.drawflow.Home.data,r=new Set,i=[],s=[];return function e(t){if(r.has(t))return;const n=o[t];i.push({id:n.id,type:n.html,label:n.name,position:{x:n.pos_x,y:n.pos_y},data:n.data});const a=[],l=Object.values(n.outputs);l.forEach((({connections:e},t)=>{let o=t+1;const r=l.length-1===t,i="conditions"===n.name,c="BlockBasicWithFallback"===n.html,u="BlockBasic"===n.html&&o>=2;(i||c||u)&&r&&(o="fallback"),i&&!r&&(o=n.data.conditions[t].id),e.forEach((({node:e,output:t})=>{const r=`${n.id}-output-${o}`,i=`${e}-${t.replace("_","-")}`;s.push({sourceHandle:r,targetHandle:i,source:n.id,target:e,updatable:!0,selectable:!0,id:`vueflow__edge-${r}-${i}`,class:`source-${r} target-${i}`}),a.push(e)}))})),r.add(t),a.forEach((t=>{e(t)}))}(n.id),e.drawflow={edges:s,nodes:i,x:0,y:0,zoom:0},e}async function Ps(e,t,n,o=!1){if(!e||"manual"===e.type&&!o)return null;const r=t("workflow.blocks.trigger.name");if("manual"===e.type)return`${r}: ${t("workflow.blocks.trigger.items.manual")}`;const i=t(`workflow.blocks.trigger.items.${e.type}`);let s="";if("keyboard-shortcut"===e.type)s=(0,$o.v3)(e.shortcut);else if("visit-web"===e.type)s=e.url;else if(["specific-day","date"].includes(e.type)){const e=(await k().alarms.get(n))?.scheduledTime;s=(0,V.Z)(e||Date.now()).format("DD-MMM-YYYY, hh:mm A")}return s=s&&`: \n ${s}`,`${r} (${i})${s}`}var Us,Bs=s(86121);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const js="undefined"!=typeof window;Object.prototype.toString,js&&(null==(Us=null==window?void 0:window.navigator)?void 0:Us.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);Bs.$B,Bs.$B,Bs.$B;function Rs(e){return!!(0,o.nZ)()&&((0,o.EB)(e),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function Vs(e){return function(e,t){const n=(0,o.iH)(null==t?void 0:t.initialValue),r=e.subscribe({next:e=>n.value=e,error:null==t?void 0:t.onError});return Rs((()=>{r.unsubscribe()})),n}(No(e))}const Fs={class:"logs-table"},Ws={key:0,class:"border-x border-t px-4 py-2"},Hs=(0,t.Uk)(" Stop selected "),zs={class:"w-full"},$s={class:"divide-y dark:divide-gray-800"},Ks={key:0,class:"w-8"},qs={class:"w-4/12"},Ys=["title"],Gs={title:"Executing block",class:"text-overflow"},Xs={class:"align-middle inline-block ml-3 text-overflow"},Js={class:"text-right"},Zs={class:"inline-block py-1 w-16 text-center text-sm rounded-md dark:text-black bg-blue-300"},Qs={class:"text-right"},ea={class:"text-overflow w-4/12",style:{"min-width":"140px","max-width":"330px"}},ta={class:"log-time w-3/12 dark:text-gray-200"},na=["title"],oa=["title"],ra={class:"text-right"},ia=["title"],sa={__name:"SharedLogsTable",props:{logs:{type:Array,default:()=>[]},running:{type:Array,default:()=>[]},hideSelect:Boolean},setup(e){const{t:r,te:i}=(0,a.QT)(),s={error:"bg-red-200 dark:bg-red-300",success:"bg-green-200 dark:bg-green-300",stopped:"bg-yellow-200 dark:bg-yellow-300"},l=(0,o.qj)({selected:[]});function c(e){li("workflow:stop",e,"background")}function u(e,t){return"relative"===t?(0,V.Z)(e).fromNow():(0,V.Z)(e).format(t)}function d({message:e}){const t=`log.messages.${e}`;return e&&i(t)?r(t):""}function h(){l.selected.forEach((e=>{c(e)})),l.selected=[]}return(i,a)=>{const p=(0,t.up)("ui-button"),f=(0,t.up)("transition-expand"),m=(0,t.up)("ui-checkbox"),g=(0,t.up)("router-link"),v=(0,t.up)("v-remixicon"),y=(0,t.up)("ui-spinner");return(0,t.wg)(),(0,t.iD)("div",Fs,[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[l.selected.length>0?((0,t.wg)(),(0,t.iD)("div",Ws,[(0,t.Wm)(p,{onClick:h},{default:(0,t.w5)((()=>[Hs])),_:1})])):(0,t.kq)("",!0)])),_:1}),(0,t._)("table",zs,[(0,t._)("tbody",$s,[e.running&&e.running[0]?.state?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(e.running,(i=>((0,t.wg)(),(0,t.iD)("tr",{key:i.id,class:"p-2 border"},[e.hideSelect?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("td",Ks,[(0,t.Wm)(m,{"model-value":l.selected.includes(i.id),class:"align-text-bottom",onChange:e=>function(e,t){if(e)return void l.selected.push(t);const n=l.selected.indexOf(t);-1!==n&&l.selected.splice(n,1)}(e,i.id)},null,8,["model-value","onChange"])])),(0,t._)("td",qs,[(0,t.Wm)(g,{to:`/logs/${i.id}/running`,class:"inline-block text-overflow w-full align-middle min-h",style:{"min-height":"28px"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.state.name),1)])),_:2},1032,["to"])]),(0,t._)("td",{class:"log-time w-2/12 dark:text-gray-200",title:(0,o.SU)(r)("log.duration")},[(0,t.Wm)(v,{name:"riTimerLine"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(P.g9)(i.state?.startedTimestamp,Date.now())),1)],8,Ys),(0,t._)("td",Gs,[(0,t.Wm)(y,{color:"text-accent",size:"20"}),(0,t._)("span",Xs,(0,n.toDisplayString)((0,o.SU)(r)(`workflow.blocks.${i.state.currentBlock[0].name}.name`)),1)]),(0,t._)("td",Js,[(0,t._)("span",Zs,(0,n.toDisplayString)((0,o.SU)(r)("common.running")),1)]),(0,t._)("td",Qs,[(0,t.Wm)(p,{small:"",class:"text-sm",onClick:e=>c(i.id)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.stop")),1)])),_:2},1032,["onClick"])])])))),128)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.logs,(e=>((0,t.wg)(),(0,t.iD)("tr",{key:e.id,class:"hoverable"},[(0,t.WI)(i.$slots,"item-prepend",{log:e}),(0,t._)("td",ea,[(0,t.Wm)(g,{to:`/logs/${e.id}`,class:"inline-block text-overflow w-full align-middle min-h",style:{"min-height":"28px"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["to"])]),(0,t._)("td",ta,[(0,t.Wm)(v,{title:(0,o.SU)(r)("log.startedDate"),name:"riCalendarLine",class:"mr-2 inline-block align-middle"},null,8,["title"]),(0,t._)("span",{title:u(e.startedAt,"DD MMM YYYY, hh:mm A")},(0,n.toDisplayString)(u(e.startedAt,"relative")),9,na)]),(0,t._)("td",{class:"log-time w-2/12 dark:text-gray-200",title:(0,o.SU)(r)("log.duration")},[(0,t.Wm)(v,{name:"riTimerLine"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(P.g9)(e.startedAt,e.endedAt)),1)],8,oa),(0,t._)("td",ra,[(0,t._)("span",{class:(0,n.normalizeClass)([s[e.status],"inline-block py-1 w-16 text-center text-sm rounded-md dark:text-black"]),title:"error"===e.status?d(e):null},(0,n.toDisplayString)((0,o.SU)(r)(`logStatus.${e.status}`)),11,ia)]),(0,t.WI)(i.$slots,"item-append",{log:e})])))),128)),(0,t.WI)(i.$slots,"table:append")])])])}}},aa=(0,cr.Z)(sa,[["__scopeId","data-v-c4431206"]]),la={key:0,class:"text-center"},ca=(0,t._)("img",{src:Ki,class:"mx-auto max-w-sm"},null,-1),ua={class:"text-xl font-semibold"},da={class:"text-right"},ha={__name:"EditorLogs",props:{workflowId:{type:String,default:""},workflowStates:{type:Array,default:()=>[]}},setup(e){const r=e,{t:i}=(0,a.QT)(),s=Vs((()=>Vo.items.where("workflowId").equals(r.workflowId).reverse().limit(14).sortBy("endedAt")));return(r,a)=>{const l=(0,t.up)("v-remixicon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,o.SU)(s)&&0!==(0,o.SU)(s).length||0!==e.workflowStates.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",la,[ca,(0,t._)("p",ua,(0,n.toDisplayString)((0,o.SU)(i)("message.noData")),1)])),(0,t.Wm)(aa,{logs:(0,o.SU)(s),running:e.workflowStates,"hide-select":"",class:"w-full"},{"item-append":(0,t.w5)((({log:e})=>[(0,t._)("td",da,[(0,t.Wm)(l,{name:"riDeleteBin7Line",class:"inline-block text-red-500 cursor-pointer dark:text-red-400",onClick:t=>{return n=e.id,void Vo.items.delete(n).then((()=>{Vo.ctxData.where("logId").equals(n).delete(),Vo.histories.where("logId").equals(n).delete(),Vo.logsData.where("logId").equals(n).delete()}));var n}},null,8,["onClick"])])])),_:1},8,["logs","running"])],64)}}},pa=ha;var fa=s(32992),ma=s(83465),ga=s.n(ma);const va={class:"bg-white dark:bg-gray-800 ml-2 inline-flex items-center rounded-lg"},ya=["placeholder"],wa={class:"flex-1 overflow-hidden"},ba={class:"text-overflow"},ka={class:"text-sm text-overflow leading-none text-gray-600 dark:text-gray-300"},xa={__name:"EditorSearchBlocks",props:{editor:{type:Object,default:()=>({})}},setup(r){const i=r,{t:s}=(0,a.QT)(),l={rectX:0,rectY:0,position:{x:0,y:0,zoom:1}},c=(0,o.iH)(null),u=(0,o.qj)({query:"",active:!1,selected:!1,autocompleteItems:[]}),d=(0,$o.bx)("editor:search-blocks",(()=>{u.active=!0,document.querySelector("#search-blocks")?.focus()}));function h({item:e,text:t}){const n=t.toLocaleLowerCase();return e.name.toLocaleLowerCase().includes(n)||e.description.toLocaleLowerCase().includes(n)}function p(){u.active=!u.active,u.active&&document.querySelector("#search-blocks")?.focus()}function f(){const e=document.querySelector(".vue-flow");e.classList.add("add-transition");const{width:t,height:n}=e.getBoundingClientRect();l.rectX=t/2,l.rectY=n/2,l.position=i.editor.getTransform(),u.autocompleteItems=i.editor.getNodes.value.map((({computedPosition:e,id:t,data:n,label:o})=>({id:t,position:e,description:n.description||"",name:s(`workflow.blocks.${o}.name`)})))}function m(){document.querySelectorAll(".search-select-node").forEach((e=>{e.classList.remove("search-select-node")}))}function g(){u.selected||i.editor.setTransform(l.position),u.query="",u.active=!1,u.selected=!1,Object.assign(l,{rectX:0,rectY:0,position:{x:0,y:0,zoom:1}}),c.value.state.showPopover=!1,m(),setTimeout((()=>{document.querySelector(".vue-flow").classList.remove("add-transition")}),500)}function v(){document.querySelector("#search-blocks")?.blur()}function y({item:e}){const{x:t,y:n}=e.position,{rectX:o,rectY:r}=l;m(),document.querySelector(`[data-id="${e.id}"]`)?.classList.add("search-select-node"),i.editor.setTransform({zoom:1,x:-(t-o),y:-(n-r)})}function w(e){u.selected=!0;const t=i.editor.getNode.value(e.item.id);i.editor.addSelectedNodes([t]),y(e),v()}return(r,i)=>{const a=(0,t.up)("v-remixicon"),l=(0,t.up)("ui-autocomplete"),m=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",va,[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"hoverable p-2 rounded-lg rounded-lg",icon:"",onClick:p},[(0,t.Wm)(a,{name:"riSearch2Line"})])),[[m,`${(0,o.SU)(s)("workflow.searchBlocks.title")} (${(0,o.SU)(d)["editor:search-blocks"].readable})`]]),(0,t.Wm)(l,{ref_key:"autocompleteEl",ref:c,"model-value":u.query,items:u.autocompleteItems,"custom-filter":h,"item-key":"id","item-label":"name",onCancel:v,onSelect:y,onSelected:w},{item:(0,t.w5)((({item:e})=>[(0,t._)("div",wa,[(0,t._)("p",ba,(0,n.toDisplayString)(e.name),1),(0,t._)("p",ka,(0,n.toDisplayString)(e.description),1)])])),default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("input",{id:"search-blocks","onUpdate:modelValue":i[0]||(i[0]=e=>u.query=e),placeholder:(0,o.SU)(s)("common.search"),style:(0,n.normalizeStyle)({width:u.active?"250px":"0px"}),type:"search",autocomplete:"off",class:"py-2 focus:ring-0 rounded-lg bg-transparent",onFocus:f,onBlur:g},null,44,ya),[[e.vModelText,u.query]])])),_:1},8,["model-value","items"])])}}},Sa=(0,cr.Z)(xa,[["__scopeId","data-v-40e936e6"]]),_a={key:1,class:"flex items-end absolute p-4 left-0 bottom-0 z-10"},Ca={class:"rounded-lg bg-white dark:bg-gray-800 inline-block"},Da=(0,t._)("hr",{class:"h-6 border-r inline-block"},null,-1),Ea={__name:"WorkflowEditor",props:{id:{type:String,default:"editor"},data:{type:Object,default:()=>({x:0,y:0,zoom:0,nodes:[],edges:[]})},options:{type:Object,default:()=>({})},editorControls:{type:Boolean,default:!0},minimap:{type:Boolean,default:!0},disabled:Boolean},emits:["edit","init","update:node","delete:node"],setup(e,{emit:r}){const i=e,l={BlockBasic:["BlockExportData"],BlockBasicWithFallback:["BlockWebhook"]},c=-1!==navigator.appVersion.indexOf("Mac"),u=s(31234),d=u.keys().reduce(((e,t)=>{const n=t.replace(/(.\/)|\.vue$/g,""),o=u(t).default;return l[n]&&l[n].forEach((t=>{e[`node-${t}`]=o})),e[`node-${n}`]=o,e}),{}),{t:h}=(0,a.QT)(),p=D(),f=(0,fa.U8)({id:i.id,edgeUpdaterRadius:20,deleteKeyCode:"Delete",elevateEdgesOnSelect:!0,defaultZoom:i.data?.zoom??1,minZoom:Math.abs(+p.settings.editor.minZoom||.5),maxZoom:Math.abs(+p.settings.editor.maxZoom||1.2),multiSelectionKeyCode:c?"Meta":"Control",defaultPosition:(m=i.data?.position,Array.isArray(m)?m:[0,0]),...i.options});var m;f.onConnect((e=>{e.class=`source-${e.sourceHandle} target-${e.targetHandle}`,e.updatable=!0,f.addEdges([e])})),f.onEdgeUpdate((({edge:e,connection:t})=>{t.sourceHandle.includes("output")&&t.targetHandle.includes("output")||Object.assign(e,t)}));const g=p.settings.editor,v=(0,t.Fl)((()=>i.options.disabled??i.disabled));function y({label:e}){const{category:t}=R.wq[e],{color:n}=R.bd[t];return n}function w(e){v.value||(f.removeNodes([e]),r("delete:node",e))}function b(e){v.value&&e.shiftKey&&(e.stopPropagation(),e.preventDefault())}return(0,t.YP)((()=>i.disabled),(e=>{["nodesDraggable","edgesUpdatable","nodesConnectable","elementsSelectable"].forEach((t=>{f[t].value=!e}))}),{immediate:!0}),(0,t.bv)((()=>{g.snapToGrid&&(f.snapToGrid.value=!0,f.snapGrid.value=Object.values(g.snapGrid)),f.setNodes(i.data?.nodes||[]),f.setEdges(i.data?.edges||[]),f.setTransform({x:i.data?.x||0,y:i.data?.y||0,zoom:i.data?.zoom||1}),window.addEventListener("mousedown",b,!0),r("init",f)})),(0,t.Jd)((()=>{window.removeEventListener("mousedown",b,!0)})),(s,a)=>{const l=(0,t.up)("v-remixicon"),c=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.j4)((0,o.SU)(fa.DB),{id:i.id,class:(0,n.normalizeClass)({disabled:(0,o.SU)(v)}),"default-edge-options":{updatable:!0,selectable:!0,type:(0,o.SU)(g).lineType,markerEnd:(0,o.SU)(g).arrow?(0,o.SU)(fa.QZ).ArrowClosed:""}},(0,t.Nv)({default:(0,t.w5)((()=>[(0,t.Wm)((0,o.SU)(fa.Aq)),e.minimap?((0,t.wg)(),(0,t.j4)((0,o.SU)(fa.a9),{key:0,"node-class-name":y})):(0,t.kq)("",!0),e.editorControls?((0,t.wg)(),(0,t.iD)("div",_a,[(0,t.WI)(s.$slots,"controls-prepend"),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"control-button mr-2",onClick:a[0]||(a[0]=e=>(0,o.SU)(f).fitView())},[(0,t.Wm)(l,{name:"riFullscreenLine"})])),[[c,(0,o.SU)(h)("workflow.editor.resetZoom"),void 0,{group:!0}]]),(0,t._)("div",Ca,[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"p-2 rounded-lg relative z-10",onClick:a[1]||(a[1]=e=>(0,o.SU)(f).zoomOut())},[(0,t.Wm)(l,{name:"riSubtractLine"})])),[[c,(0,o.SU)(h)("workflow.editor.zoomOut"),void 0,{group:!0}]]),Da,(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"p-2 rounded-lg",onClick:a[2]||(a[2]=e=>(0,o.SU)(f).zoomIn())},[(0,t.Wm)(l,{name:"riAddLine"})])),[[c,(0,o.SU)(h)("workflow.editor.zoomIn"),void 0,{group:!0}]])]),(0,t.Wm)(Sa,{editor:(0,o.SU)(f)},null,8,["editor"]),(0,t.WI)(s.$slots,"controls-append")])):(0,t.kq)("",!0)])),_:2},[(0,t.Ko)((0,o.SU)(d),((e,n)=>({name:n,fn:(0,t.w5)((n=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e),(0,t.dG)(n,{onDelete:w,onEdit:e=>function({id:e,label:t,data:n},o={}){v.value||r("edit",{id:t,blockId:e,data:ga()(n),...o})}(n,e),onUpdate:e=>function(e,t={}){if(v.value)return;const n=f.getNode.value(e);n.data={...n.data,...t},r("update:node",n)}(n.id,e)}),null,16,["onEdit","onUpdate"]))]))})))]),1032,["id","class","default-edge-options"])}}},Aa=Ea,Oa={key:0,class:"h-screen relative"},Ta={class:"absolute top-0 left-0 w-full flex items-center p-4 z-10"},Ma={class:"inline-block"},La={class:"ml-2 max-w-sm"},Ia={key:0,class:"ml-2 p-1 text-center inline-block text-xs rounded-full bg-accent text-white dark:text-black",style:{"min-width":"25px"}},Na=(0,t._)("div",{class:"flex-grow"},null,-1),Pa={class:"p-2 hoverable rounded-lg"},Ua={__name:"Host",setup(e){Yo();const{t:r}=(0,a.QT)(),i=(0,l.yj)(),s=(0,l.tv)(),c=Nr(),u=(0,T.I)(),d=B(),h=i.params.id,p={disabled:!0,fitViewOnInit:!0,nodesDraggable:!1,edgesUpdatable:!1,nodesConnectable:!1,elementsSelectable:!1},f=(0,$o.bx)("editor:execute-workflow",b),m=(0,o.qj)({editorKey:0,retrieved:!1,loadingSync:!1,activeTab:"editor",trigger:"Trigger: Manually"}),g=(0,t.Fl)((()=>d.getById(h))),v=(0,t.Fl)((()=>u.getWorkflowStates(h)));function y(){m.loadingSync=!0;const e={hostId:g.value.hostId,updatedAt:null};d.fetchWorkflows([e]).then((()=>{g.value||s.replace("/workflows"),k(),m.loadingSync=!1})).catch((e=>{console.error(e),m.loadingSync=!1}))}async function w(){c.confirm({title:r("workflow.delete"),okVariant:"danger",body:r("message.delete",{name:g.value.name}),onConfirm:async()=>{try{await d.delete(h),s.replace("/workflows")}catch(e){console.error(e)}}})}function b(){li("workflow:execute",{...g.value,id:h},"background")}async function k(){const e=(0,P.No)(g.value.drawflow);e&&(m.triggerText=await Ps(e.data,r,h,!0))}function x(e){e.setInteractive(!1)}return(0,t.YP)(g,(()=>{m.editorKey+=1})),(0,t.bv)((()=>{const e=d.workflows[h];if(!e)return void s.push("/workflows");const t=Ns(e);d.update({id:h,...t}),k(),m.retrieved=!0})),(e,s)=>{const a=(0,t.up)("ui-img"),l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-card"),u=(0,t.up)("ui-tab"),d=(0,t.up)("ui-tabs"),k=(0,t.up)("ui-button"),S=(0,t.up)("ui-tab-panel"),_=(0,t.up)("ui-tab-panels"),C=(0,t.Q2)("tooltip");return(0,o.SU)(g)?((0,t.wg)(),(0,t.iD)("div",Oa,[(0,t._)("div",Ta,[(0,t.Wm)(c,{padding:"px-2",class:"flex items-center overflow-hidden",style:{"min-width":"150px",height:"48px"}},{default:(0,t.w5)((()=>[(0,t._)("span",Ma,[(0,o.SU)(g).icon.startsWith("http")?((0,t.wg)(),(0,t.j4)(a,{key:0,src:(0,o.SU)(g).icon,class:"w-8 h-8"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(l,{key:1,name:(0,o.SU)(g).icon,size:"26"},null,8,["name"]))]),(0,t._)("div",La,[(0,t._)("p",{class:(0,n.normalizeClass)([{"text-lg":!(0,o.SU)(g).description},"font-semibold leading-tight text-overflow"])},(0,n.toDisplayString)((0,o.SU)(g).name),3),(0,t._)("p",{class:(0,n.normalizeClass)([{"text-sm":(0,o.SU)(g).description},"text-gray-600 leading-tight dark:text-gray-200 text-overflow"])},(0,n.toDisplayString)((0,o.SU)(g).description),3)])])),_:1}),(0,t.Wm)(d,{modelValue:m.activeTab,"onUpdate:modelValue":s[0]||(s[0]=e=>m.activeTab=e),class:"border-none px-2 rounded-lg h-full space-x-1 bg-white dark:bg-gray-800 ml-4",style:{height:"48px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{value:"editor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.editor")),1)])),_:1}),(0,t.Wm)(u,{value:"logs"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.log",2))+" ",1),(0,o.SU)(v).length>0?((0,t.wg)(),(0,t.iD)("span",Ia,(0,n.toDisplayString)((0,o.SU)(v).length),1)):(0,t.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),Na,(0,t.Wm)(c,{padding:"p-1"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",Pa,[(0,t.Wm)(l,{name:"riFlashlightLine"})])),[[C,m.triggerText,void 0,{group:!0}]]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"p-2 hoverable rounded-lg",onClick:b},[(0,t.Wm)(l,{name:"riPlayLine"})])),[[C,`${(0,o.SU)(r)("common.execute")} (${(0,o.SU)(f)["editor:execute-workflow"].readable})`,void 0,{group:!0}]])])),_:1}),(0,t.Wm)(c,{padding:"p-1 ml-4 flex items-center"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"p-2 hoverable rounded-lg mr-2",onClick:w},[(0,t.Wm)(l,{name:"riDeleteBin7Line"})])),[[C,(0,o.SU)(r)("common.delete"),void 0,{group:!0}]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(k,{loading:m.loadingSync,variant:"accent",onClick:y},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("workflow.host.sync.title")),1)])),_:1},8,["loading"])),[[C,(0,o.SU)(r)("workflow.host.sync.description"),void 0,{group:!0}]])])),_:1})]),(0,t.Wm)(_,{modelValue:m.activeTab,"onUpdate:modelValue":s[1]||(s[1]=e=>m.activeTab=e),class:(0,n.normalizeClass)([{"container pb-4 pt-24":"editor"!==m.activeTab},"h-full"])},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{class:"h-full",value:"editor"},{default:(0,t.w5)((()=>[m.retrieved?((0,t.wg)(),(0,t.j4)(Aa,{id:(0,o.SU)(i).params.id,key:m.editorKey,data:(0,o.SU)(g).drawflow,options:p,disabled:!0,class:"h-full w-full",onInit:x},null,8,["id","data"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(S,{value:"logs"},{default:(0,t.w5)((()=>[(0,t.Wm)(pa,{"workflow-id":(0,o.SU)(h),"workflow-states":(0,o.SU)(v)},null,8,["workflow-id","workflow-states"])])),_:1})])),_:1},8,["modelValue","class"])])):(0,t.kq)("",!0)}}},Ba=Ua;var ja=s(70681),Ra=s.n(ja),Va=s(31528),Fa=s.n(Va),Wa=s(39832),Ha=s.n(Wa),za=s(52153),$a=s.n(za),Ka=s(88010),qa=s.n(Ka),Ya=s(40452),Ga=s.n(Ya),Xa=s(55743),Ja=s.n(Xa);function Za(e,t){let n="";return[18,35,-5,47,-4,45,-18,20,-21,48,-1,42,36,41,34,-6].forEach((e=>{n+=String.fromCharCode(e+69)})),n}const Qa={encrypt:function(e){const t=Za(),n=Ga().encrypt(e,t).toString();return qa()(n,$a()(t)).toString()+n},decrypt:function(e){const t=Za(),n=e.substring(0,64),o=e.substring(64);if(n!==qa()(o,$a()(t)).toString())return"";const r=Ga().decrypt(o,t).toString(Ja());return(0,P.Rx)(r,r)}},el=(...e)=>e.every((e=>!Number.isNaN(+e))),tl={date(...e){let t=new Date,n="DD-MM-YYYY";1===e.length?n=e[0]:e.length>=2&&(t=new Date(e[0]),n=e[1]);const o=t instanceof Date&&!isNaN(t),r=(0,V.Z)(o?t:Date.now());let i=r.format(n);return"relative"===n?i=r.fromNow():"timestamp"===n&&(i=r.valueOf()),i},randint:(e=0,t=100)=>Math.round(Math.random()*(+t-+e)+ +e),getLength(e){const t=(0,P.Rx)(e,e);return t.length??t},slice(e,t,n){if(!e||!e.slice)return e;const o=Number.isNaN(+t)?0:+t,r=Number.isNaN(+n)?e.length:+n;return e.slice(o,r)},multiply:(e,t)=>el(e,t)?+e*+t:e,increment:(e,t)=>el(e,t)?+e+ +t:e,divide:(e,t)=>el(e,t)?+e/+t:e,subtract:(e,t)=>el(e,t)?+e-+t:e,randData(e){if(Array.isArray(e)){return e[Math.floor(Math.random()*e.length)]}const t=e=>e[Math.floor(Math.random()*e.length)],n="abcdefghijklmnopqrstuvwxyz",o="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[0,1,2,3,4,5,6,7,8,9],i='!@#$%^&*()-_+={}[]|;:\'"<>,./?"',s={l:()=>t(n),u:()=>t(o),d:()=>t(r),s:()=>t(i),f(){return this.l()+this.u()},n(){return this.l()+this.d()},m(){return this.u()+this.d()},i(){return this.l()+this.u()+this.d()},a:()=>t(n+o+r.join("")+i)};return`${e}`.replace(/\?[a-zA-Z]/g,(e=>s[e.at(-1)]?.()??e))},filter:(e,t)=>(0,P.Kn)(e)||Array.isArray(e)?Ha().query(e,t):e};const nl=new To("storage");nl.version(2).stores({tablesData:"++id, tableId",tablesItems:"++id, name, createdAt, modifiedAt",variables:"++id, &name",credentials:"++id, &name"});const ol=nl,rl=(0,A.kP)("1234567890abcdefghijklmnopqrstuvwxyz",7);const il=class{static isNode(e){return e.closest(".vue-flow__handle")?null:e.closest(".vue-flow__node")}static isHandle(e){return e.closest(".vue-flow__handle.source")}static isEdge(e){return e.closest(".vue-flow__edge")}static replaceNode(e,{block:t,target:n}){const o=e.getNode.value(n.dataset.id);if("blocks-group"===o.label||t.fromBlockBasic)return;let r=t;t.fromBlockBasic&&(r={...R.wq[t.id],id:t.id});const i=o.data?.onError?.enable&&!R.xh.includes(r.id)?{...r.data,onError:o.data.onError}:r.data,s={id:rl(),data:i,label:r.id,type:r.component,position:o.position},a=e.getEdges.value.reduce(((e,{targetHandle:t,sourceHandle:n,target:r,source:i})=>{let a=!1;return r===o.id?(t=t.replace(r,s.id),r=s.id,a=!0):i===o.id&&(n=n.replace(i,s.id),i=s.id,a=!0),a&&e.push({source:i,target:r,sourceHandle:n,targetHandle:t,id:`edge-${rl()}`,class:`source-${n} target-${t}`}),e}),[]);e.removeNodes([o]),e.addNodes([s]),e.addEdges(a)}static appendNode(e,{target:t,nodeId:n}){const{nodeid:o,handleid:r}=t.dataset;o&&r&&e.addEdges([{source:o,target:n,sourceHandle:r,targetHandle:`${n}-input-1`}])}static insertBetweenNode(e,{target:t,nodeId:n,outputs:o}){if(!t)return;const r=[],i={target:"",source:"",targetHandle:"",sourceHandle:""};t.classList.forEach((e=>{if(e.startsWith("source-")){const t=e.replace("source-",""),n=t.indexOf("-output"),o=t.slice(0,n);return i.source=o,void(i.sourceHandle=t)}if(e.startsWith("target-")){const t=e.replace("target-",""),n=t.indexOf("-input"),o=t.slice(0,n);i.target=o,i.targetHandle=t}})),e.getEdges.value.forEach((e=>{const t=e.targetHandle===i.targetHandle,n=e.sourceHandle===i.sourceHandle;t&&n&&r.push({type:"remove",id:e.id})})),o>0&&r.push({type:"add",item:{source:n,id:`edge-${rl()}`,target:i.target,sourceHandle:`${n}-output-1`,targetHandle:i.targetHandle}}),r.push({type:"add",item:{target:n,id:`edge-${rl()}`,source:i.source,targetHandle:`${n}-input-1`,sourceHandle:i.sourceHandle}}),e.applyEdgeChanges(r)}};const sl=class{constructor(e,t={}){this.editor=e,this.state=t}nodeAdded(e){const t=[];return e.forEach((e=>{t.push(e.id),this.state.nodes[e.id]=e})),{name:"node-added",execute:()=>{this.editor.addNodes(e)},undo:()=>{this.editor.removeNodes(t)}}}nodeRemoved(e){return{name:"node-removed",execute:()=>{this.editor.removeNodes(e)},undo:()=>{const t=e.map((e=>this.state.nodes[e]));this.editor.addNodes(t)}}}edgeAdded(e){const t=[];return e.forEach((e=>{t.push(e.id),this.state.edges[e.id]=e})),{name:"edge-added",execute:()=>{this.editor.addEdges(e)},undo:()=>{this.editor.removeEdges(t)}}}edgeRemoved(e){return{name:"edge-removed",execute:()=>{this.editor.removeEdges(e)},undo:()=>{const t=e.map((e=>this.state.edges[e]));this.editor.addEdges(t)}}}};function al(e){this.content=e}al.prototype={constructor:al,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,r=o.find(e),i=o.content.slice();return-1==r?i.push(n||e,t):(i[r+1]=t,n&&(i[r]=n)),new al(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new al(n)},addToStart:function(e,t){return new al([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new al(n)},addBefore:function(e,t,n){var o=this.remove(t),r=o.content.slice(),i=o.find(e);return r.splice(-1==i?r.length:i,0,t,n),new al(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=al.from(e)).size?new al(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=al.from(e)).size?new al(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=al.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},al.from=function(e){if(e instanceof al)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new al(t)};const ll=al;function cl(e,t,n){for(let o=0;;o++){if(o==e.childCount||o==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(o),i=t.child(o);if(r!=i){if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let e=0;r.text[e]==i.text[e];e++)n++;return n}if(r.content.size||i.content.size){let e=cl(r.content,i.content,n+1);if(null!=e)return e}n+=r.nodeSize}else n+=r.nodeSize}}function ul(e,t,n,o){for(let r=e.childCount,i=t.childCount;;){if(0==r||0==i)return r==i?null:{a:n,b:o};let s=e.child(--r),a=t.child(--i),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:o};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,o--;return{a:n,b:o}}if(s.content.size||a.content.size){let e=ul(s.content,a.content,n-1,o-1);if(e)return e}n-=l,o-=l}else n-=l,o-=l}}class dl{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,o=0,r){for(let i=0,s=0;s<t;i++){let a=this.content[i],l=s+a.nodeSize;if(l>e&&!1!==n(a,o+s,r||null,i)&&a.content.size){let r=s+1;a.nodesBetween(Math.max(0,e-r),Math.min(a.content.size,t-r),n,o+r)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,o){let r="",i=!0;return this.nodesBetween(e,t,((s,a)=>{s.isText?(r+=s.text.slice(Math.max(e,a)-a,t-a),i=!n):s.isLeaf?(o?r+="function"==typeof o?o(s):o:s.type.spec.leafText&&(r+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(r+=n,i=!0)}),0),r}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,o=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(o[o.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)o.push(e.content[r]);return new dl(o,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],o=0;if(t>e)for(let r=0,i=0;i<t;r++){let s=this.content[r],a=i+s.nodeSize;a>e&&((i<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),o+=s.nodeSize),i=a}return new dl(n,o)}cutByIndex(e,t){return e==t?dl.empty:0==e&&t==this.content.length?this:new dl(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let o=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return o[e]=t,new dl(o,r)}addToStart(e){return new dl([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new dl(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let o=this.content[t];e(o,n,t),n+=o.nodeSize}}findDiffStart(e,t=0){return cl(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return ul(this,e,t,n)}findIndex(e,t=-1){if(0==e)return pl(0,e);if(e==this.size)return pl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let r=o+this.child(n).nodeSize;if(r>=e)return r==e||t>0?pl(n+1,r):pl(n,o);o=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return dl.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new dl(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return dl.empty;let t,n=0;for(let o=0;o<e.length;o++){let r=e[o];n+=r.nodeSize,o&&r.isText&&e[o-1].sameMarkup(r)?(t||(t=e.slice(0,o)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new dl(t||e,n)}static from(e){if(!e)return dl.empty;if(e instanceof dl)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new dl([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}dl.empty=new dl([],0);const hl={index:0,offset:0};function pl(e,t){return hl.index=e,hl.offset=t,hl}function fl(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!fl(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!fl(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class ml{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let o=0;o<e.length;o++){let r=e[o];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,o));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&fl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return ml.none;if(e instanceof ml)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}ml.none=[];class gl extends Error{}class vl{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=wl(this.content,e+this.openStart,t);return n&&new vl(n,this.openStart,this.openEnd)}removeBetween(e,t){return new vl(yl(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return vl.empty;let n=t.openStart||0,o=t.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new vl(dl.fromJSON(e,t.content),n,o)}static maxOpen(e,t=!0){let n=0,o=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)o++;return new vl(e,n,o)}}function yl(e,t,n){let{index:o,offset:r}=e.findIndex(t),i=e.maybeChild(o),{index:s,offset:a}=e.findIndex(n);if(r==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(o,i.copy(yl(i.content,t-r-1,n-r-1)))}function wl(e,t,n,o){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r);if(i==t||s.isText)return o&&!o.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=wl(s.content,t-i-1,n);return a&&e.replaceChild(r,s.copy(a))}function bl(e,t,n){if(n.openStart>e.depth)throw new gl("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new gl("Inconsistent open depths");return kl(e,t,n,0)}function kl(e,t,n,o){let r=e.index(o),i=e.node(o);if(r==t.index(o)&&o<e.depth-n.openStart){let s=kl(e,t,n,o+1);return i.copy(i.content.replaceChild(r,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=o||t.depth!=o){let{start:r,end:s}=function(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)o=t.node(e).copy(dl.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}(n,e);return Dl(i,El(e,r,s,t,o))}{let o=e.parent,r=o.content;return Dl(o,r.cut(0,e.parentOffset).append(n.content).append(r.cut(t.parentOffset)))}}return Dl(i,Al(e,t,o))}function xl(e,t){if(!t.type.compatibleContent(e.type))throw new gl("Cannot join "+t.type.name+" onto "+e.type.name)}function Sl(e,t,n){let o=e.node(n);return xl(o,t.node(n)),o}function _l(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Cl(e,t,n,o){let r=(t||e).node(n),i=0,s=t?t.index(n):r.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(_l(e.nodeAfter,o),i++));for(let e=i;e<s;e++)_l(r.child(e),o);t&&t.depth==n&&t.textOffset&&_l(t.nodeBefore,o)}function Dl(e,t){if(!e.type.validContent(t))throw new gl("Invalid content for node "+e.type.name);return e.copy(t)}function El(e,t,n,o,r){let i=e.depth>r&&Sl(e,t,r+1),s=o.depth>r&&Sl(n,o,r+1),a=[];return Cl(null,e,r,a),i&&s&&t.index(r)==n.index(r)?(xl(i,s),_l(Dl(i,El(e,t,n,o,r+1)),a)):(i&&_l(Dl(i,Al(e,t,r+1)),a),Cl(t,n,r,a),s&&_l(Dl(s,Al(n,o,r+1)),a)),Cl(o,null,r,a),new dl(a)}function Al(e,t,n){let o=[];if(Cl(null,e,n,o),e.depth>n){_l(Dl(Sl(e,t,n+1),Al(e,t,n+1)),o)}return Cl(t,null,n,o),new dl(o)}vl.empty=new vl(dl.empty,0,0);class Ol{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=e.child(t);return n?e.child(t).cut(n):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],o=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)o+=n.child(t).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return ml.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),o=e.maybeChild(t);if(!n){let e=n;n=o,o=e}let r=n.marks;for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||o&&r[i].isInSet(o.marks)||(r=r[i--].removeFromSet(r));return r}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,o=e.parent.maybeChild(e.index());for(var r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||o&&n[r].isInSet(o.marks)||(n=n[r--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Il(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],o=0,r=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(r),s=r-i;if(n.push(t,e,o+i),!s)break;if(t=t.child(e),t.isText)break;r=s-1,o+=i+1}return new Ol(t,n,r)}static resolveCached(e,t){for(let n=0;n<Tl.length;n++){let o=Tl[n];if(o.pos==t&&o.doc==e)return o}let n=Tl[Ml]=Ol.resolve(e,t);return Ml=(Ml+1)%Ll,n}}let Tl=[],Ml=0,Ll=12;class Il{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Nl=Object.create(null);class Pl{constructor(e,t,n,o=ml.none){this.type=e,this.attrs=t,this.marks=o,this.content=n||dl.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,o=0){this.content.nodesBetween(e,t,n,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,o){return this.content.textBetween(e,t,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&fl(this.attrs,t||e.defaultAttrs||Nl)&&ml.sameSet(this.marks,n||ml.none)}copy(e=null){return e==this.content?this:new Pl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Pl(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return vl.empty;let o=this.resolve(e),r=this.resolve(t),i=n?0:o.sharedDepth(t),s=o.start(i),a=o.node(i).content.cut(o.pos-s,r.pos-s);return new vl(a,o.depth-i,r.depth-i)}replace(e,t,n){return bl(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let o=this.content.child(t-1);return{node:o,index:t-1,offset:n-o.nodeSize}}resolve(e){return Ol.resolveCached(this,e)}resolveNoCache(e){return Ol.resolve(this,e)}rangeHasMark(e,t,n){let o=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(o=!0),!o))),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Bl(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=dl.empty,o=0,r=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,o,r),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=o;e<r;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,o){if(o&&!this.type.allowsMarks(o))return!1;let r=this.contentMatchAt(e).matchType(n),i=r&&r.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=ml.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!ml.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let o=dl.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,o,n)}}Pl.prototype.text=void 0;class Ul extends Pl{constructor(e,t,n,o){if(super(e,t,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Bl(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ul(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ul(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Bl(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class jl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Rl(e,t);if(null==n.next)return jl.empty;let o=Vl(n);n.next&&n.err("Unexpected trailing text");let r=function(e){let t=Object.create(null);return n(Kl(e,0));function n(o){let r=[];o.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let o;for(let e=0;e<r.length;e++)r[e][0]==t&&(o=r[e][1]);Kl(e,n).forEach((e=>{o||r.push([t,o=[]]),-1==o.indexOf(e)&&o.push(e)}))}))}));let i=t[o.join(",")]=new jl(o.indexOf(e.length-1)>-1);for(let e=0;e<r.length;e++){let o=r[e][1].sort($l);i.next.push({type:r[e][0],next:t[o.join(",")]||n(o)})}return i}}(function(e){let t=[[]];return r(i(e,0),n()),t;function n(){return t.push([])-1}function o(e,n,o){let r={term:o,to:n};return t[e].push(r),r}function r(e,t){e.forEach((e=>e.to=t))}function i(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(i(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return o(t,s),r(i(e.expr,s),s),[o(s)]}if("plus"==e.type){let s=n();return r(i(e.expr,t),s),r(i(e.expr,s),s),[o(s)]}if("opt"==e.type)return[o(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();r(i(e.expr,s),t),s=t}if(-1==e.max)r(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();o(s,t),r(i(e.expr,s),t),s=t}return[o(s)]}if("name"==e.type)return[o(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let o=0;;o++){let s=i(e.exprs[o],t);if(o==e.exprs.length-1)return s;r(s,t=n())}}}(o));return function(e,t){for(let n=0,o=[e];n<o.length;n++){let e=o[n],r=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!r||n.isText||n.hasRequiredAttrs()||(r=!1),-1==o.indexOf(s)&&o.push(s)}r&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let o=this;for(let r=t;o&&r<n;r++)o=o.matchType(e.child(r).type);return o}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let o=[this];return function r(i,s){let a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return dl.from(s.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==o.indexOf(n)){o.push(n);let e=r(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),r=o.match;if(r.matchType(e)){let e=[];for(let t=o;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<r.next.length;e++){let{type:i,next:s}=r.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||o.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:o}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let o=0;o<n.next.length;o++)-1==e.indexOf(n.next[o].next)&&t(n.next[o].next)}(this),e.map(((t,n)=>{let o=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)o+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return o})).join("\n")}}jl.empty=new jl(!0);class Rl{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vl(e){let t=[];do{t.push(Fl(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Fl(e){let t=[];do{t.push(Wl(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Wl(e){let t=function(e){if(e.eat("(")){let t=Vl(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,o=n[t];if(o)return[o];let r=[];for(let e in n){let o=n[e];o.groups.indexOf(t)>-1&&r.push(o)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=zl(e,t)}return t}function Hl(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function zl(e,t){let n=Hl(e),o=n;return e.eat(",")&&(o="}"!=e.next?Hl(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:t}}function $l(e,t){return t-e}function Kl(e,t){let n=[];return function t(o){let r=e[o];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(o);for(let e=0;e<r.length;e++){let{term:o,to:i}=r[e];o||-1!=n.indexOf(i)||t(i)}}(t),n.sort($l)}function ql(e){let t=Object.create(null);for(let n in e){let o=e[n];if(!o.hasDefault)return null;t[n]=o.default}return t}function Yl(e,t){let n=Object.create(null);for(let o in e){let r=t&&t[o];if(void 0===r){let t=e[o];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+o);r=t.default}n[o]=r}return n}function Gl(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Jl(e[n]);return t}class Xl{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Gl(n.attrs),this.defaultAttrs=ql(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==jl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Yl(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pl(this,this.computeAttrs(e),dl.from(t),ml.setFrom(n))}createChecked(e=null,t,n){if(t=dl.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new Pl(this,this.computeAttrs(e),t,ml.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=dl.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let o=this.contentMatch.matchFragment(t),r=o&&o.fillBefore(dl.empty,!0);return r?new Pl(this,e,t.append(r),ml.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:ml.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,o)=>n[e]=new Xl(e,t,o)));let o=t.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Jl{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Zl{constructor(e,t,n,o){this.name=e,this.rank=t,this.schema=n,this.spec=o,this.attrs=Gl(o.attrs),this.excluded=null;let r=ql(this.attrs);this.instance=r?new ml(this,r):null}create(e=null){return!e&&this.instance?this.instance:new ml(this,Yl(this.attrs,e))}static compile(e,t){let n=Object.create(null),o=0;return e.forEach(((e,r)=>n[e]=new Zl(e,o++,t,r))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Ql{constructor(e){this.cached=Object.create(null),this.spec={nodes:ll.from(e.nodes),marks:ll.from(e.marks||{}),topNode:e.topNode},this.nodes=Xl.compile(this.spec.nodes,this),this.marks=Zl.compile(this.spec.marks,this);let t=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let n=this.nodes[e],o=n.spec.content||"",r=n.spec.marks;n.contentMatch=t[o]||(t[o]=jl.parse(o,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==r?null:r?ec(this,r.split(" ")):""!=r&&n.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:ec(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,o){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Xl))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,o)}text(e,t){let n=this.nodes.text;return new Ul(n,n.defaultAttrs,e,ml.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Pl.fromJSON(this,e)}markFromJSON(e){return ml.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function ec(e,t){let n=[];for(let o=0;o<t.length;o++){let r=t[o],i=e.marks[r],s=i;if(i)n.push(i);else for(let t in e.marks){let o=e.marks[t];("_"==r||o.spec.group&&o.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=o)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[o]+"'")}return n}class tc{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new ac(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new ac(this,t,!0);return n.addAll(e,t.from,t.to),vl.maxOpen(n.finish())}matchTag(e,t,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let n=this.tags[o];if(lc(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,o){for(let r=o?this.styles.indexOf(o)+1:0;r<this.styles.length;r++){let o=this.styles[r],i=o.style;if(!(0!=i.indexOf(e)||o.context&&!n.matchesContext(o.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(o.getAttrs){let e=o.getAttrs(t);if(!1===e)continue;o.attrs=e||void 0}return o}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,o=0;for(;o<t.length;o++){let e=t[o];if((null==e.priority?50:e.priority)<n)break}t.splice(o,0,e)}for(let t in e.marks){let o=e.marks[t].spec.parseDOM;o&&o.forEach((e=>{n(e=cc(e)),e.mark=t}))}for(let t in e.nodes){let o=e.nodes[t].spec.parseDOM;o&&o.forEach((e=>{n(e=cc(e)),e.node=t}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new tc(e,tc.schemaRules(e)))}}const nc={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oc={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rc={ol:!0,ul:!0};function ic(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class sc{constructor(e,t,n,o,r,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=o,this.solid=r,this.options=s,this.content=[],this.activeMarks=ml.none,this.stashMarks=[],this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(dl.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=dl.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(dl.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let o=n[t];(this.type?this.type.allowsMarkType(o.type):uc(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!nc.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ac{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let o,r=t.topNode,i=ic(null,t.preserveWhitespace,0)|(n?4:0);o=r?new sc(r.type,r.attrs,ml.none,ml.none,!0,t.topMatch||r.type.contentMatch,i):new sc(n?null:e.schema.topNodeType,null,ml.none,ml.none,!0,null,i),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,o=[];for(;t=n.exec(e);)o.push(t[1],t[2].trim());return o}(t)):null,o=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],o)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let o=n.content[n.content.length-1],r=e.previousSibling;(!o||r&&"BR"==r.nodeName||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,o=e.nodeName.toLowerCase();rc.hasOwnProperty(o)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&rc.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let r=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(r?r.ignore:oc.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(e=r.skip);let t,n=this.top,i=this.needsBlock;if(nc.hasOwnProperty(o))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=i}else this.addElementByRule(e,r,!1===r.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=ml.none;e:for(let n=0;n<e.length;n+=2)for(let o;;){let r=this.parser.matchStyle(e[n],e[n+1],this,o);if(!r)continue e;if(r.ignore)return null;if(t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t),!1!==r.consuming)break;o=r}return t}addElementByRule(e,t,n){let o,r,i;if(t.node)r=this.parser.schema.nodes[t.node],r.isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):o=this.enter(r,t.attrs||null,t.preserveWhitespace);else{i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i)}let s=this.top;if(r&&r.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}o&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let o=t||0;for(let r=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];r!=i;r=r.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(r);this.findAtPoint(e,o)}findPlace(e){let t,n;for(let o=this.open;o>=0;o--){let r=this.nodes[o],i=r.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=r,!i.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let o=0;o<e.marks.length;o++)t.type&&!t.type.allowsMarkType(e.marks[o].type)||(n=e.marks[o].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let o=this.findPlace(e.create(t));return o&&this.enterInner(e,t,!0,n),o}enterInner(e,t=null,n=!1,o){this.closeExtra();let r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e);let i=ic(e,o,r.options);4&r.options&&0==r.content.length&&(i|=4),this.nodes.push(new sc(e,t,r.activeMarks,r.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)if(null==this.find[o].pos&&1==e.nodeType&&e.contains(this.find[o].node)){t.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,o=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),r=-(n?n.depth+1:0)+(o?0:1),i=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=r;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&o?this.nodes[s].type:n&&s>=r?n.node(s-r).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let o=this.nodes[n];if(o.pendingMarks.lastIndexOf(e)>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);let t=o.popFromStashMark(e);t&&o.type&&o.type.allowsMarkType(t.type)&&(o.activeMarks=t.addToSet(o.activeMarks))}if(o==t)break}}}function lc(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function cc(e){let t={};for(let n in e)t[n]=e[n];return t}function uc(e,t){let n=t.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:o,next:r}=e.edge(n);if(o==t)return!0;if(i.indexOf(r)<0&&s(r))return!0}};if(s(r.contentMatch))return!0}}class dc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=pc(t).createDocumentFragment());let o=n,r=[];return e.forEach((e=>{if(r.length||e.marks.length){let n=0,i=0;for(;n<r.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(r[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<r.length;)o=r.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(r.push([n,o]),o.appendChild(s.dom),o=s.contentDOM||s.dom)}}o.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:o}=dc.renderSpec(pc(t),this.nodes[e.type.name](e));if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let r=this.serializeMark(e.marks[o],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n}serializeMark(e,t,n={}){let o=this.marks[e.type.name];return o&&dc.renderSpec(pc(n),o(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,r=t[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));let s=n?e.createElementNS(n,r):e.createElement(r),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let r=l;r<t.length;r++){let i=t[r];if(0===i){if(r<t.length-1||r>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:r}=dc.renderSpec(e,i,n);if(s.appendChild(t),r){if(o)throw new RangeError("Multiple content holes");o=r}}}return{dom:s,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=hc(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return hc(e.marks)}}function hc(e){let t={};for(let n in e){let o=e[n].spec.toDOM;o&&(t[n]=o)}return t}function pc(e){return e.document||window.document}const fc=Math.pow(2,16);function mc(e,t){return e+t*fc}function gc(e){return 65535&e}class vc{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class yc{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&yc.empty)return yc.empty}recover(e){let t=0,n=gc(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/fc}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let o=0,r=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?o:0);if(a>e)break;let l=this.ranges[s+r],c=this.ranges[s+i],u=a+l;if(e<=u){let r=a+o+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return r;let i=e==(t<0?a:u)?null:mc(s/3,e-a),d=e==a?2:e==u?1:4;return(t<0?e!=a:e!=u)&&(d|=8),new vc(r,d,i)}o+=c-l}return n?e+o:new vc(e+o,0,null)}touches(e,t){let n=0,o=gc(t),r=this.inverted?2:1,i=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let s=this.ranges[t]-(this.inverted?n:0);if(s>e)break;let a=this.ranges[t+r];if(e<=s+a&&t==3*o)return!0;n+=this.ranges[t+i]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,r=0;o<this.ranges.length;o+=3){let i=this.ranges[o],s=i-(this.inverted?r:0),a=i+(this.inverted?0:r),l=this.ranges[o+t],c=this.ranges[o+n];e(s,s+l,a,a+c),r+=c-l}}invert(){return new yc(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?yc.empty:new yc(e<0?[0,-e,0]:[0,0,e])}}yc.empty=new yc([]);class wc{constructor(e=[],t,n=0,o=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=o}slice(e=0,t=this.maps.length){return new wc(this.maps,this.mirror,e,t)}copy(){return new wc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],null!=o&&o<t?n+o:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=o&&o>t?n-o-1:void 0)}}invert(){let e=new wc;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let o=0;for(let n=this.from;n<this.to;n++){let r=this.maps[n].mapResult(e,t);if(null!=r.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(r.recover);continue}}o|=r.delInfo,e=r.pos}return n?e:new vc(e,o,null)}}const bc=Object.create(null);class kc{getMap(){return yc.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=bc[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in bc)throw new RangeError("Duplicate use of step JSON ID "+e);return bc[e]=t,t.prototype.jsonID=e,t}}class xc{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new xc(e,null)}static fail(e){return new xc(null,e)}static fromReplace(e,t,n,o){try{return xc.ok(e.replace(t,n,o))}catch(e){if(e instanceof gl)return xc.fail(e.message);throw e}}}function Sc(e,t,n){let o=[];for(let r=0;r<e.childCount;r++){let i=e.child(r);i.content.size&&(i=i.copy(Sc(i.content,t,i))),i.isInline&&(i=t(i,n,r)),o.push(i)}return dl.fromArray(o)}class _c extends kc{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),r=new vl(Sc(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),o),t.openStart,t.openEnd);return xc.fromReplace(e,this.from,this.to,r)}invert(){return new Cc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new _c(t.pos,n.pos,this.mark)}merge(e){return e instanceof _c&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _c(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _c(t.from,t.to,e.markFromJSON(t.mark))}}kc.jsonID("addMark",_c);class Cc extends kc{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new vl(Sc(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return xc.fromReplace(e,this.from,this.to,n)}invert(){return new _c(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Cc(t.pos,n.pos,this.mark)}merge(e){return e instanceof Cc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Cc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Cc(t.from,t.to,e.markFromJSON(t.mark))}}kc.jsonID("removeMark",Cc);class Dc extends kc{constructor(e,t,n,o=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=o}apply(e){return this.structure&&Ac(e,this.from,this.to)?xc.fail("Structure replace would overwrite content"):xc.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new yc([this.from,this.to-this.from,this.slice.size])}invert(e){return new Dc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Dc(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Dc)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?vl.empty:new vl(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Dc(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?vl.empty:new vl(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Dc(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Dc(t.from,t.to,vl.fromJSON(e,t.slice),!!t.structure)}}kc.jsonID("replace",Dc);class Ec extends kc{constructor(e,t,n,o,r,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=o,this.slice=r,this.insert=i,this.structure=s}apply(e){if(this.structure&&(Ac(e,this.from,this.gapFrom)||Ac(e,this.gapTo,this.to)))return xc.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return xc.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?xc.fromReplace(e,this.from,this.to,n):xc.fail("Content does not fit in gap")}getMap(){return new yc([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ec(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),r=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||o<t.pos||r>n.pos?null:new Ec(t.pos,n.pos,o,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ec(t.from,t.to,t.gapFrom,t.gapTo,vl.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Ac(e,t,n){let o=e.resolve(t),r=n-t,i=o.depth;for(;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0){let e=o.node(i).maybeChild(o.indexAfter(i));for(;r>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,r--}}return!1}function Oc(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Tc(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let o=e.$from.node(n),r=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&o.canReplace(r,i,t))return n;if(0==n||o.type.spec.isolating||!Oc(o,r,i))break}return null}function Mc(e,t,n=null,o=e){let r=function(e,t){let{parent:n,startIndex:o,endIndex:r}=e,i=n.contentMatchAt(o).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(o,r,s)?i:null}(e,t),i=r&&function(e,t){let{parent:n,startIndex:o,endIndex:r}=e,i=n.child(o),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let e=o;a&&e<r;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?s:null}(o,t);return i?r.map(Lc).concat({type:t,attrs:n}).concat(i.map(Lc)):null}function Lc(e){return{type:e,attrs:null}}function Ic(e,t,n=1,o){let r=e.resolve(t),i=r.depth-n,s=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let e=r.depth-1,t=n-2;e>i;e--,t--){let n=r.node(e),i=r.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(i,n.childCount),a=o&&o[t]||n;if(a!=n&&(s=s.replaceChild(0,a.type.create(a.attrs))),!n.canReplace(i+1,n.childCount)||!a.type.validContent(s))return!1}let a=r.indexAfter(i),l=o&&o[0];return r.node(i).canReplaceWith(a,a,l?l.type:r.node(i+1).type)}function Nc(e,t){let n=e.resolve(t),o=n.index();return Pc(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function Pc(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function Uc(e,t,n){let o=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let e=0;e<n.openStart;e++)r=r.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=o.depth;t>=0;t--){let n=t==o.depth?0:o.pos<=(o.start(t+1)+o.end(t+1))/2?-1:1,i=o.index(t)+(n>0?1:0),s=o.node(t),a=!1;if(1==e)a=s.canReplace(i,i,r);else{let e=s.contentMatchAt(i).findWrapping(r.firstChild.type);a=e&&s.canReplaceWith(i,i,e[0])}if(a)return 0==n?o.pos:n<0?o.before(t+1):o.after(t+1)}return null}function Bc(e,t,n=t,o=vl.empty){if(t==n&&!o.size)return null;let r=e.resolve(t),i=e.resolve(n);return jc(r,i,o)?new Dc(t,n,o):new Rc(r,i,o).fit()}function jc(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}kc.jsonID("replaceAround",Ec);class Rc{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=dl.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=dl.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let r=this.placed,i=n.depth,s=o.depth;for(;i&&s&&1==r.childCount;)r=r.firstChild.content,i--,s--;let a=new vl(r,i,s);return e>-1?new Ec(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new Dc(n.pos,o.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,o=null;t?(o=Wc(this.unplaced.content,t-1).firstChild,n=o.content):n=this.unplaced.content;let r=n.firstChild;for(let n=this.depth;n>=0;n--){let i,{type:s,match:a}=this.frontier[n],l=null;if(1==e&&(r?a.matchType(r.type)||(l=a.fillBefore(dl.from(r),!1)):o&&s.compatibleContent(o.type)))return{sliceDepth:t,frontierDepth:n,parent:o,inject:l};if(2==e&&r&&(i=a.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:n,parent:o,wrap:i};if(o&&a.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=Wc(e,t);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new vl(e,t+1,Math.max(n,o.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=Wc(e,t);if(o.childCount<=1&&t>0){let r=e.size-t<=t+o.size;this.unplaced=new vl(Vc(e,t-1,1),t-1,r?t-1:n)}else this.unplaced=new vl(Vc(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:o,wrap:r}){for(;this.depth>t;)this.closeFrontierNode();if(r)for(let e=0;e<r.length;e++)this.openFrontierNode(r[e]);let i=this.unplaced,s=n?n.content:i.content,a=i.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(o){for(let e=0;e<o.childCount;e++)c.push(o.child(e));u=u.matchFragment(o)}let h=s.size+e-(i.content.size-i.openEnd);for(;l<s.childCount;){let e=s.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==a||e.content.size)&&(u=t,c.push(Hc(e.mark(d.allowedMarks(e.marks)),1==l?a:0,l==s.childCount?h:-1)))}let p=l==s.childCount;p||(h=-1),this.placed=Fc(this.placed,t,dl.from(c)),this.frontier[t].match=u,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=s;e<h;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?vl.empty:new vl(Vc(i.content,e-1,1),e-1,h<0?i.openEnd:e-1):new vl(Vc(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!zc(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:o}=this.frontier[t],r=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=zc(e,t,o,n,r);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:o}=this.frontier[n],r=zc(e,n,o,t,!0);if(!r||r.childCount)continue e}return{depth:t,fit:i,move:r?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Fc(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),o=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,o)}return e}openFrontierNode(e,t=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Fc(this.placed,this.depth,dl.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(dl.empty,!0);e.childCount&&(this.placed=Fc(this.placed,this.frontier.length,e))}}function Vc(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Vc(e.firstChild.content,t-1,n)))}function Fc(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Fc(e.lastChild.content,t-1,n)))}function Wc(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Hc(e,t,n){if(t<=0)return e;let o=e.content;return t>1&&(o=o.replaceChild(0,Hc(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(dl.empty,!0)))),e.copy(o)}function zc(e,t,n,o,r){let i=e.node(t),s=r?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=o.fillBefore(i.content,!0,s);return a&&!function(e,t,n){for(let o=n;o<t.childCount;o++)if(!e.allowsMarks(t.child(o).marks))return!0;return!1}(n,i.content,s)?a:null}function $c(e){return e.spec.defining||e.spec.definingForContent}function Kc(e,t,n,o,r){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(Kc(r.content,t+1,n,o,r)))}if(t>o){let t=r.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(dl.empty,!0))}return e}function qc(e,t){let n=[];for(let o=Math.min(e.depth,t.depth);o>=0;o--){let r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(r==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==r-1)&&n.push(o)}return n}let Yc=class extends Error{};Yc=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Yc.prototype=Object.create(Error.prototype)).constructor=Yc,Yc.prototype.name="TransformError";class Gc{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new wc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Yc(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=vl.empty){let o=Bc(this.doc,e,t,n);return o&&this.step(o),this}replaceWith(e,t,n){return this.replace(e,t,new vl(dl.from(n),0,0))}delete(e,t){return this.replace(e,t,vl.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,o){if(!o.size)return e.deleteRange(t,n);let r=e.doc.resolve(t),i=e.doc.resolve(n);if(jc(r,i,o))return e.step(new Dc(t,n,o));let s=qc(r,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let e=r.depth,t=r.pos-1;e>0;e--,t--){let n=r.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?a=e:r.before(e)==t&&s.splice(1,0,-e)}let l=s.indexOf(a),c=[],u=o.openStart;for(let e=o.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==o.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e].type,n=$c(t);if(n&&r.node(l).type!=t)u=e;else if(n||!t.isTextblock)break}for(let t=o.openStart;t>=0;t--){let a=(t+u+1)%(o.openStart+1),d=c[a];if(d)for(let t=0;t<s.length;t++){let c=s[(t+l)%s.length],u=!0;c<0&&(u=!1,c=-c);let h=r.node(c-1),p=r.index(c-1);if(h.canReplaceWith(p,p,d.type,d.marks))return e.replace(r.before(c),u?i.after(c):n,new vl(Kc(o.content,0,o.openStart,a),a,o.openEnd))}}let d=e.steps.length;for(let a=s.length-1;a>=0&&(e.replace(t,n,o),!(e.steps.length>d));a--){let e=s[a];e<0||(t=r.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,o){if(!o.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=function(e,t,n){let o=e.resolve(t);if(o.parent.canReplaceWith(o.index(),o.index(),n))return t;if(0==o.parentOffset)for(let e=o.depth-1;e>=0;e--){let t=o.index(e);if(o.node(e).canReplaceWith(t,t,n))return o.before(e+1);if(t>0)return null}if(o.parentOffset==o.parent.content.size)for(let e=o.depth-1;e>=0;e--){let t=o.indexAfter(e);if(o.node(e).canReplaceWith(t,t,n))return o.after(e+1);if(t<o.node(e).childCount)return null}return null}(e.doc,t,o.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new vl(dl.from(o),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let o=e.doc.resolve(t),r=e.doc.resolve(n),i=qc(o,r);for(let t=0;t<i.length;t++){let n=i[t],s=t==i.length-1;if(s&&0==n||o.node(n).type.contentMatch.validEnd)return e.delete(o.start(n),r.end(n));if(n>0&&(s||o.node(n-1).canReplace(o.index(n-1),r.indexAfter(n-1))))return e.delete(o.before(n),r.after(n))}for(let i=1;i<=o.depth&&i<=r.depth;i++)if(t-o.start(i)==o.depth-i&&n>o.end(i)&&r.end(i)-n!=r.depth-i)return e.delete(o.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:o,$to:r,depth:i}=t,s=o.before(i+1),a=r.after(i+1),l=s,c=a,u=dl.empty,d=0;for(let e=i,t=!1;e>n;e--)t||o.index(e)>0?(t=!0,u=dl.from(o.node(e).copy(u)),d++):l--;let h=dl.empty,p=0;for(let e=i,t=!1;e>n;e--)t||r.after(e+1)<r.end(e)?(t=!0,h=dl.from(r.node(e).copy(h)),p++):c++;e.step(new Ec(l,c,s,a,new vl(u.append(h),d,p),u.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let o=new Dc(t-n,t+n,vl.empty,!0);e.step(o)}(this,e,t),this}wrap(e,t){return function(e,t,n){let o=dl.empty;for(let e=n.length-1;e>=0;e--){if(o.size){let t=n[e].type.contentMatch.matchFragment(o);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=dl.from(n[e].type.create(n[e].attrs,o))}let r=t.start,i=t.end;e.step(new Ec(r,i,r,i,new vl(o,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,o=null){return function(e,t,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(o,r)&&function(e,t,n){let o=e.resolve(t),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}(e.doc,e.mapping.slice(i).map(n),o)){e.clearIncompatible(e.mapping.slice(i).map(n,1),o);let s=e.mapping.slice(i),a=s.map(n,1),l=s.map(n+t.nodeSize,1);return e.step(new Ec(a,l,a+1,l-1,new vl(dl.from(o.create(r,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,o),this}setNodeMarkup(e,t,n=null,o=[]){return function(e,t,n,o,r){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(o,null,r||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ec(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new vl(dl.from(s),0,0),1,!0))}(this,e,t,n,o),this}split(e,t=1,n){return function(e,t,n=1,o){let r=e.doc.resolve(t),i=dl.empty,s=dl.empty;for(let e=r.depth,t=r.depth-n,a=n-1;e>t;e--,a--){i=dl.from(r.node(e).copy(i));let t=o&&o[a];s=dl.from(t?t.type.create(t.attrs,s):r.node(e).copy(s))}e.step(new Dc(t,t,new vl(i.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,o){let r,i,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!o.isInSet(u)&&c.type.allowsMarkType(o.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),h=o.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(h)||(r&&r.to==c&&r.mark.eq(u[e])?r.to=d:s.push(r=new Cc(c,d,u[e])));i&&i.to==c?i.to=d:a.push(i=new _c(c,d,o))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,o){let r=[],i=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;i++;let a=null;if(o instanceof Zl){let t,n=e.marks;for(;t=o.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else o?o.isInSet(e.marks)&&(a=[o]):a=e.marks;if(a&&a.length){let o=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<r.length;e++){let t=r[e];t.step==i-1&&l.eq(r[e].style)&&(n=t)}n?(n.to=o,n.step=i):r.push({style:l,from:Math.max(s,t),to:o,step:i})}}})),r.forEach((t=>e.step(new Cc(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,o=n.contentMatch){let r=e.doc.nodeAt(t),i=[],s=t+1;for(let t=0;t<r.childCount;t++){let a=r.child(t),l=s+a.nodeSize,c=o.matchType(a.type);if(c){o=c;for(let t=0;t<a.marks.length;t++)n.allowsMarkType(a.marks[t].type)||e.step(new Cc(s,l,a.marks[t]))}else i.push(new Dc(s,l,vl.empty));s=l}if(!o.validEnd){let t=o.fillBefore(dl.empty,!0);e.replace(s,s,new vl(t,0,0))}for(let t=i.length-1;t>=0;t--)e.step(i[t])}(this,e,t,n),this}}const Xc=Object.create(null);class Jc{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Zc(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=vl.empty){let n=t.content.lastChild,o=null;for(let e=0;e<t.openEnd;e++)o=n,n=n.lastChild;let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(r);e.replaceRange(c.map(a.pos),c.map(l.pos),s?vl.empty:t),0==s&&lu(e,r,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,o=this.ranges;for(let r=0;r<o.length;r++){let{$from:i,$to:s}=o[r],a=e.mapping.slice(n),l=a.map(i.pos),c=a.map(s.pos);r?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),lu(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let o=e.parent.inlineContent?new tu(e):au(e.node(0),e.parent,e.pos,e.index(),t,n);if(o)return o;for(let o=e.depth-1;o>=0;o--){let r=t<0?au(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):au(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new iu(e.node(0))}static atStart(e){return au(e,e,0,0,1)||new iu(e)}static atEnd(e){return au(e,e,e.content.size,e.childCount,-1)||new iu(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Xc[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Xc)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xc[e]=t,t.prototype.jsonID=e,t}getBookmark(){return tu.between(this.$anchor,this.$head).getBookmark()}}Jc.prototype.visible=!0;class Zc{constructor(e,t){this.$from=e,this.$to=t}}let Qc=!1;function eu(e){Qc||e.parent.inlineContent||(Qc=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class tu extends Jc{constructor(e,t=e){eu(e),eu(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Jc.near(n);let o=e.resolve(t.map(this.anchor));return new tu(o.parent.inlineContent?o:n,n)}replace(e,t=vl.empty){if(super.replace(e,t),t==vl.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof tu&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new nu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new tu(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let o=e.resolve(t);return new this(o,n==t?o:e.resolve(n))}static between(e,t,n){let o=e.pos-t.pos;if(n&&!o||(n=o>=0?1:-1),!t.parent.inlineContent){let e=Jc.findFrom(t,n,!0)||Jc.findFrom(t,-n,!0);if(!e)return Jc.near(t,n);t=e.$head}return e.parent.inlineContent||(0==o||(e=(Jc.findFrom(e,-n,!0)||Jc.findFrom(e,n,!0)).$anchor).pos<t.pos!=o<0)&&(e=t),new tu(e,t)}}Jc.jsonID("text",tu);class nu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new nu(e.map(this.anchor),e.map(this.head))}resolve(e){return tu.between(e.resolve(this.anchor),e.resolve(this.head))}}class ou extends Jc{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:o}=t.mapResult(this.anchor),r=e.resolve(o);return n?Jc.near(r):new ou(r)}content(){return new vl(dl.from(this.node),0,0)}eq(e){return e instanceof ou&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ru(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ou(e.resolve(t.anchor))}static create(e,t){return new ou(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}ou.prototype.visible=!1,Jc.jsonID("node",ou);class ru{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new nu(n,n):new ru(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ou.isSelectable(n)?new ou(t):Jc.near(t)}}class iu extends Jc{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=vl.empty){if(t==vl.empty){e.delete(0,e.doc.content.size);let t=Jc.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new iu(e)}map(e){return new iu(e)}eq(e){return e instanceof iu}getBookmark(){return su}}Jc.jsonID("all",iu);const su={map(){return this},resolve:e=>new iu(e)};function au(e,t,n,o,r,i=!1){if(t.inlineContent)return tu.create(e,n);for(let s=o-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let o=t.child(s);if(o.isAtom){if(!i&&ou.isSelectable(o))return ou.create(e,n-(r<0?o.nodeSize:0))}else{let t=au(e,o,n+r,r<0?o.childCount:0,r,i);if(t)return t}n+=o.nodeSize*r}return null}function lu(e,t,n){let o=e.steps.length-1;if(o<t)return;let r,i=e.steps[o];(i instanceof Dc||i instanceof Ec)&&(e.mapping.maps[o].forEach(((e,t,n,o)=>{null==r&&(r=o)})),e.setSelection(Jc.near(e.doc.resolve(r),n)))}class cu extends Gc{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return ml.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ml.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let o=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let r=this.storedMarks;if(!r){let e=this.doc.resolve(t);r=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,o.text(e,r)),this.selection.empty||this.setSelection(Jc.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function uu(e,t){return t&&e?e.bind(t):e}class du{constructor(e,t,n){this.name=e,this.init=uu(t.init,n),this.apply=uu(t.apply,n)}}const hu=[new du("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new du("selection",{init:(e,t)=>e.selection||Jc.atStart(t.doc),apply:e=>e.selection}),new du("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,o)=>o.selection.$cursor?e.storedMarks:null}),new du("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class pu{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=hu.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new du(e.key,e.spec.state,e))}))}}class fu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),o=null;for(;;){let r=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let a=o?o[i].n:0,l=o?o[i].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!o){o=[];for(let e=0;e<this.config.plugins.length;e++)o.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),r=!0}o&&(o[i]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new fu(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let r=n[o];t[r.name]=r.apply(e,this[r.name],this,t)}return t}get tr(){return new cu(this)}static create(e){let t=new pu(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new fu(t);for(let o=0;o<t.fields.length;o++)n[t.fields[o].name]=t.fields[o].init(e,n);return n}reconfigure(e){let t=new pu(this.schema,e.plugins),n=t.fields,o=new fu(t);for(let t=0;t<n.length;t++){let r=n[t].name;o[r]=this.hasOwnProperty(r)?this[r]:n[t].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[n],r=o.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new pu(e.schema,e.plugins),r=new fu(o);return o.fields.forEach((o=>{if("doc"==o.name)r.doc=Pl.fromJSON(e.schema,t.doc);else if("selection"==o.name)r.selection=Jc.fromJSON(r.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],a=s.spec.state;if(s.key==o.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(r[o.name]=a.fromJSON.call(s,e,t[i],r))}r[o.name]=o.init(e,r)}})),r}}function mu(e,t,n){for(let o in e){let r=e[o];r instanceof Function?r=r.bind(t):"handleDOMEvents"==o&&(r=mu(r,t,{})),n[o]=r}return n}class gu{constructor(e){this.spec=e,this.props={},e.props&&mu(e.props,this,this.props),this.key=e.key?e.key.key:yu("plugin")}getState(e){return e[this.key]}}const vu=Object.create(null);function yu(e){return e in vu?e+"$"+ ++vu[e]:(vu[e]=0,e+"$")}class wu{constructor(e="key"){this.key=yu(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const bu="undefined"!=typeof navigator?navigator:null,ku="undefined"!=typeof document?document:null,xu=bu&&bu.userAgent||"",Su=/Edge\/(\d+)/.exec(xu),_u=/MSIE \d/.exec(xu),Cu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xu),Du=!!(_u||Cu||Su),Eu=_u?document.documentMode:Cu?+Cu[1]:Su?+Su[1]:0,Au=!Du&&/gecko\/(\d+)/i.test(xu);Au&&(/Firefox\/(\d+)/.exec(xu)||[0,0])[1];const Ou=!Du&&/Chrome\/(\d+)/.exec(xu),Tu=!!Ou,Mu=Ou?+Ou[1]:0,Lu=!Du&&!!bu&&/Apple Computer/.test(bu.vendor),Iu=Lu&&(/Mobile\/\w+/.test(xu)||!!bu&&bu.maxTouchPoints>2),Nu=Iu||!!bu&&/Mac/.test(bu.platform),Pu=/Android \d/.test(xu),Uu=!!ku&&"webkitFontSmoothing"in ku.documentElement.style,Bu=Uu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,ju=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Ru=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let Vu=null;const Fu=function(e,t,n){let o=Vu||(Vu=document.createRange());return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},Wu=function(e,t,n,o){return n&&(zu(e,t,n,o,-1)||zu(e,t,n,o,1))},Hu=/^(img|br|input|textarea|hr)$/i;function zu(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:$u(e))){let n=e.parentNode;if(!n||1!=n.nodeType||Ku(e)||Hu.test(e.nodeName)||"false"==e.contentEditable)return!1;t=ju(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?$u(e):0}}}function $u(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ku(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const qu=function(e){let t=e.isCollapsed;return t&&Tu&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Yu(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Gu(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Xu(e,t){return"number"==typeof e?e:e[t]}function Ju(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,o=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*o}}function Zu(e,t,n){let o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;s=Ru(s)){if(1!=s.nodeType)continue;let e=s,n=e==i.body,a=n?Gu(i):Ju(e),l=0,c=0;if(t.top<a.top+Xu(o,"top")?c=-(a.top-t.top+Xu(r,"top")):t.bottom>a.bottom-Xu(o,"bottom")&&(c=t.bottom-a.bottom+Xu(r,"bottom")),t.left<a.left+Xu(o,"left")?l=-(a.left-t.left+Xu(r,"left")):t.right>a.right-Xu(o,"right")&&(l=t.right-a.right+Xu(r,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,o=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let r=e.scrollLeft-n,i=e.scrollTop-o;t={left:t.left-r,top:t.top-i,right:t.right-r,bottom:t.bottom-i}}if(n)break}}function Qu(e){let t=[],n=e.ownerDocument;for(let o=e;o&&(t.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),e!=n);o=Ru(o));return t}function ed(e,t){for(let n=0;n<e.length;n++){let{dom:o,top:r,left:i}=e[n];o.scrollTop!=r+t&&(o.scrollTop=r+t),o.scrollLeft!=i&&(o.scrollLeft=i)}}let td=null;function nd(e,t){let n,o,r=2e8,i=0,s=t.top,a=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=Fu(l).getClientRects()}for(let u=0;u<e.length;u++){let d=e[u];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);let e=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(e<r){n=l,r=e,o=e&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==l.nodeType&&e&&(i=c+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);let n=sd(o,1);if(n.top!=n.bottom&&od(t,n))return{node:e,offset:r+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:nd(n,o)}function od(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function rd(e,t,n){let o=e.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let o=0;o<e.length;o++){let r=e[o];if(od(t,r))return rd(n,t,r)}}if((i=(i+1)%o)==r)break}return e}function id(e,t){let n,o=e.dom.ownerDocument,r=0;if(o.caretPositionFromPoint)try{let e=o.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:r}=e)}catch(e){}if(!n&&o.caretRangeFromPoint){let e=o.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:r}=e)}let i,s=(e.root.elementFromPoint?e.root:o).elementFromPoint(t.left,t.top+1);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!od(t,n))return null;if(s=rd(e.dom,t,n),!s)return null}if(Lu)for(let e=s;n&&e;e=Ru(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(Au&&1==n.nodeType&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let e,o=n.childNodes[r];"IMG"==o.nodeName&&(e=o.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&r++}n==e.dom&&r==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:0!=r&&1==n.nodeType&&"BR"==n.childNodes[r-1].nodeName||(i=function(e,t,n,o){let r=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>o.left||e.top>o.top)r=t.posBefore;else{if(!(e.right<o.left||e.bottom<o.top))break;r=t.posAfter}}n=t.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,1)}(e,n,r,t))}null==i&&(i=function(e,t,n){let{node:o,offset:r}=nd(t,n),i=-1;if(1==o.nodeType&&!o.firstChild){let e=o.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(o,r,i)}(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:i,inside:a?a.posAtStart-a.border:-1}}function sd(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const ad=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ld(e,t,n){let{node:o,offset:r}=e.docView.domFromPos(t,n<0?-1:1),i=Uu||Au;if(3==o.nodeType){if(!i||!ad.test(o.nodeValue)&&(n<0?r:r!=o.nodeValue.length)){let e=r,t=r,i=n<0?1:-1;return n<0&&!r?(t++,i=-1):n>=0&&r==o.nodeValue.length?(e--,i=1):n<0?e--:t++,cd(sd(Fu(o,e,t),i),i<0)}{let e=sd(Fu(o,r,r),n);if(Au&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let t=sd(Fu(o,r-1,r-1),-1);if(t.top==e.top){let n=sd(Fu(o,r,r+1),-1);if(n.top!=e.top)return cd(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t).parent.inlineContent){if(r&&(n<0||r==$u(o))){let e=o.childNodes[r-1];if(1==e.nodeType)return ud(e.getBoundingClientRect(),!1)}if(r<$u(o)){let e=o.childNodes[r];if(1==e.nodeType)return ud(e.getBoundingClientRect(),!0)}return ud(o.getBoundingClientRect(),n>=0)}if(r&&(n<0||r==$u(o))){let e=o.childNodes[r-1],t=3==e.nodeType?Fu(e,$u(e)-(i?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return cd(sd(t,1),!1)}if(r<$u(o)){let e=o.childNodes[r];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?Fu(e,0,i?0:1):1==e.nodeType?e:null:null;if(t)return cd(sd(t,-1),!0)}return cd(sd(3==o.nodeType?Fu(o):o,-n),n>=0)}function cd(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ud(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function dd(e,t,n){let o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}const hd=/[\u0590-\u08ac]/;let pd=null,fd=null,md=!1;function gd(e,t,n){return pd==t&&fd==n?md:(pd=t,fd=n,md="up"==n||"down"==n?function(e,t,n){let o=t.selection,r="up"==n?o.$from:o.$to;return dd(e,t,(()=>{let{node:t}=e.docView.domFromPos(r.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let o=ld(e,r.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=Fu(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let r=t[e];if(r.bottom>r.top+1&&("up"==n?o.top-r.top>2*(r.bottom-o.top):r.bottom-o.bottom>2*(o.bottom-r.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:o}=t.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,i=!r,s=r==o.parent.content.size,a=e.domSelection();return hd.test(o.parent.textContent)&&a.modify?dd(e,t,(()=>{let t=a.getRangeAt(0),r=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");let l=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?i:s}(e,t,n))}class vd{constructor(e,t,n,o){this.parent=e,this.children=t,this.dom=n,this.contentDOM=o,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let o=this.children[t];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,o;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(o)+o.size:this.posAtStart}{let n,o;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(o):this.posAtEnd}}let o;if(e==this.dom&&this.contentDOM)o=t>ju(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){o=!1;break}if(t.previousSibling)break}if(null==o&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){o=!0;break}if(t.nextSibling)break}}return(null==o?n>0:o)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,o=e;o;o=o.parentNode){let r,i=this.getDesc(o);if(i&&(!t||i.node)){if(!n||!(r=i.nodeDOM)||(1==r.nodeType?r.contains(1==e.nodeType?e:e.parentNode):r==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let o=e;o;o=o.parentNode){let r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};let n,o=0,r=0;for(let t=0;o<this.children.length;o++){let n=this.children[o],i=t+n.size;if(i>e||n instanceof _d){r=e-t;break}t=i}if(r)return this.children[o].domFromPos(r-this.children[o].border,t);for(;o&&!(n=this.children[o-1]).size&&n instanceof yd&&n.side>=0;o--);if(t<=0){let e,n=!0;for(;e=o?this.children[o-1]:null,e&&e.dom.parentNode!=this.contentDOM;o--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?ju(e.dom)+1:0}}{let e,n=!0;for(;e=o<this.children.length?this.children[o]:null,e&&e.dom.parentNode!=this.contentDOM;o++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?ju(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,r=-1;for(let i=n,s=0;;s++){let n=this.children[s],a=i+n.size;if(-1==o&&e<=a){let r=i+n.border;if(e>=r&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,r);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){o=ju(n.dom)+1;break}e-=n.size}-1==o&&(o=0)}if(o>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){r=ju(n.dom);break}t+=n.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,o=!1){let r=Math.min(e,t),i=Math.max(e,t);for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.size;if(r>a&&i<c)return l.setSelection(e-a-l.border,t-a-l.border,n,o);a=c}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((Au||Lu)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(s=a={node:t.parentNode,offset:ju(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Au&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(o=!0)}if(!(o||c&&Lu)&&Wu(s.node,s.offset,l.anchorNode,l.anchorOffset)&&Wu(a.node,a.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),u=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!u){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,o=0;o<this.children.length;o++){let r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let o=n+r.border,s=i-r.border;if(e>=o&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=o||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-o,t-o):r.dirty=3);r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class yd extends vd{constructor(e,t,n,o){let r,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>r?r.parent?r.parent.posBeforeChild(r):void 0:o))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,r=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class wd extends vd{constructor(e,t,n,o){super(e,[],t,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class bd extends vd{constructor(e,t,n,o){super(e,[],n,o),this.mark=t}static create(e,t,n,o){let r=o.nodeViews[t.type.name],i=r&&r(t,o,n);return i&&i.dom||(i=dc.renderSpec(document,t.type.spec.toDOM(t,n))),new bd(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let o=bd.create(this.parent,this.mark,!0,n),r=this.children,i=this.size;t<i&&(r=Bd(r,t,i,n)),e>0&&(r=Bd(r,0,e,n));for(let e=0;e<r.length;e++)r[e].parent=o;return o.children=r,o}}class kd extends vd{constructor(e,t,n,o,r,i,s,a,l){super(e,[],r,i),this.node=t,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=s,i&&this.updateChildren(a,l)}static create(e,t,n,o,r,i){let s,a=r.nodeViews[t.type.name],l=a&&a(t,r,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i),n,o),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=dc.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Ld(c,n,t),l?s=new Cd(e,t,n,o,c,u||null,d,l,r,i+1):t.isText?new Sd(e,t,n,o,c,d,r):new kd(e,t,n,o,c,u||null,d,r,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>dl.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Id(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,o=t,r=e.composing?this.localCompositionInfo(e,t):null,i=r&&r.pos>-1?r:null,s=r&&r.pos<0,a=new Pd(this,i&&i.node);!function(e,t,n,o){let r=t.locals(e),i=0;if(0==r.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);o(s,r,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){if(s<r.length&&r[s].to==i){let e,t=r[s++];for(;s<r.length&&r[s].to==i;)(e||(e=[t])).push(r[s++]);if(e){e.sort(Ud);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,d;if(l)d=-1,u=l,l=null;else{if(!(c<e.childCount))break;d=c,u=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=i&&a.splice(e--,1);for(;s<r.length&&r[s].from<=i&&r[s].to>i;)a.push(r[s++]);let h=i+u.nodeSize;if(u.isText){let e=h;s<r.length&&r[s].from<e&&(e=r[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<h&&(l=u.cut(e-i),u=u.cut(0,e-i),h=e,d=-1)}let p=u.isInline&&!u.isLeaf?a.filter((e=>!e.inline)):a.slice();o(u,p,t.forChild(i,u),d),i=h}}(this.node,this.innerDeco,((t,r,i)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&a.syncToMarks(r==this.node.childCount?ml.none:this.node.child(r).marks,n,e),a.placeWidget(t,e,o)}),((t,i,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,i,l,c)||s&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(u=a.findIndexWithChild(r.node))>-1&&a.updateNodeAt(t,i,l,u,e)||a.updateNextNode(t,i,l,e,c)||a.addNode(t,i,l,e,o),o+=t.nodeSize})),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),Dd(this.contentDOM,this.children,e),Iu&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof tu)||n<t||o>t+this.node.content.size)return null;let r=e.domSelection(),i=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=$u(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(r.focusNode,r.focusOffset);if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let e=i.nodeValue,r=function(e,t,n,o){for(let r=0,i=0;r<e.childCount&&i<=o;){let s=e.child(r++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<e.childCount;){let t=e.child(r++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){let e=a<o?l.lastIndexOf(t,o-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==o&&l.length>=o+t.length-a&&l.slice(o-a,o-a+t.length)==t)return o}}return-1}(this.node.content,e,n-t,o-t);return r<0?null:{node:i,pos:r,text:e}}return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:o}){if(this.getDesc(t))return;let r=t;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let i=new wd(this,r,t,o);e.input.compositionNodes.push(i),this.children=Bd(this.children,n,n+o.length,e,i)}update(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)}updateInner(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Id(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Td(this.dom,this.nodeDOM,Od(this.outerDeco,this.node,t),Od(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function xd(e,t,n,o,r){return Ld(o,t,e),new kd(void 0,e,t,n,o,o,o,r,0)}class Sd extends kd{constructor(e,t,n,o,r,i,s){super(e,t,n,o,r,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let o=this.node.cut(e,t),r=document.createTextNode(o.text);return new Sd(this.parent,o,this.outerDeco,this.innerDeco,r,r,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class _d extends vd{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Cd extends kd{constructor(e,t,n,o,r,i,s,a,l,c){super(e,t,n,o,r,i,s,l,c),this.spec=a}update(e,t,n,o){if(3==this.dirty)return!1;if(this.spec.update){let r=this.spec.update(e,t,n);return r&&this.updateInner(e,t,n,o),r}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,o){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Dd(e,t,n){let o=e.firstChild,r=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=o;)o=Nd(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(a,o);if(s instanceof bd){let t=o?o.previousSibling:e.lastChild;Dd(s.contentDOM,s.children,n),o=t?t.nextSibling:e.firstChild}}for(;o;)o=Nd(o),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const Ed=function(e){e&&(this.nodeName=e)};Ed.prototype=Object.create(null);const Ad=[new Ed];function Od(e,t,n){if(0==e.length)return Ad;let o=n?Ad[0]:new Ed,r=[o];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&r.push(o=new Ed(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==r.length&&r.push(o=new Ed(t.isInline?"span":"div")),"class"==e?o.class=(o.class?o.class+" ":"")+i:"style"==e?o.style=(o.style?o.style+";":"")+i:"nodeName"!=e&&(o[e]=i))}}}return r}function Td(e,t,n,o){if(n==Ad&&o==Ad)return t;let r=t;for(let t=0;t<o.length;t++){let i=o[t],s=n[t];if(t){let t;s&&s.nodeName==i.nodeName&&r!=e&&(t=r.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(r),s=Ad[0]),r=t}Md(r,s||Ad[0],i)}return r}function Md(e,t,n){for(let o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o);for(let o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){let o=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.remove(o[t]);for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.add(r[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=o.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Ld(e,t,n){return Td(e,e,Ad,Od(t,n,1!=e.nodeType))}function Id(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Nd(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Pd{constructor(e,t){this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,o=n.children.length,r=e.childCount,i=new Map,s=[];e:for(;r>0;){let a;for(;;)if(o){let e=n.children[o-1];if(!(e instanceof bd)){a=e,o--;break}n=e,o=e.children.length}else{if(n==t)break e;o=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(r-1))break;--r,i.set(a,r),s.push(a)}}return{index:r,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let o=0,r=this.stack.length>>1,i=Math.min(r,e.length);for(;o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[r])){o=t;break}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let o=bd.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,o),this.top=o,this.changed=!0}this.index=0,r++}}findNodeMatch(e,t,n,o){let r,i=-1;if(o>=this.preMatch.index&&(r=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&r.matchesNode(e,t,n))i=this.top.children.indexOf(r,this.index);else for(let o=this.index,r=Math.min(this.top.children.length,o+5);o<r;o++){let r=this.top.children[o];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=o;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,o,r){let i=this.top.children[o];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,r)&&(this.destroyBetween(this.index,o),this.index=o+1,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,o,r){for(let i=this.index;i<this.top.children.length;i++){let s=this.top.children[i];if(s instanceof kd){let a=this.preMatch.matched.get(s);if(null!=a&&a!=r)return!1;let l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Id(t,s.outerDeco)))&&s.update(e,t,n,o))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,o,r){this.top.children.splice(this.index++,0,kd.create(this.top,e,t,n,o,r)),this.changed=!0}placeWidget(e,t,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){let o=new yd(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof bd;)t=e,e=t.children[t.children.length-1];e&&e instanceof Sd&&!/\n$/.test(e.node.text)||((Lu||Tu)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let o=new _d(this.top,[],n,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}}function Ud(e,t){return e.type.side-t.type.side}function Bd(e,t,n,o,r){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,o)),r&&(i.push(r),r=void 0),u>n&&i.push(l.slice(n-c,l.size,o)))}return i}function jd(e,t=null){let n=e.domSelection(),o=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),i=r&&0==r.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=o.resolve(s);if(qu(n)){for(a=c;r&&!r.node;)r=r.parent;let e=r.node;if(r&&e.isAtom&&ou.isSelectable(e)&&r.parent&&(!e.isInline||!function(e,t,n){for(let o=0==t,r=t==$u(e);o||r;){if(e==n)return!0;let t=ju(e);if(!(e=e.parentNode))return!1;o=o&&0==t,r=r&&t==$u(e)}}(n.focusNode,n.focusOffset,r.dom))){let e=r.posBefore;l=new ou(s==e?c:o.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=o.resolve(t)}if(!l){l=qd(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function Rd(e){return e.editable?e.hasFocus():Gd(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Vd(e,t=!1){let n=e.state.selection;if($d(e,n),Rd(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Tu){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&Wu(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,ju(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&Du&&Eu<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{let o,r,{anchor:i,head:s}=n;!Fd||n instanceof tu||(n.$from.parent.inlineContent||(o=Wd(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=Wd(e,n.to))),e.docView.setSelection(i,s,e.root,t),Fd&&(o&&zd(o),r&&zd(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Rd(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Fd=Lu||Tu&&Mu<63;function Wd(e,t){let{node:n,offset:o}=e.docView.domFromPos(t,0),r=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(Lu&&r&&"false"==r.contentEditable)return Hd(r);if(!(r&&"false"!=r.contentEditable||i&&"false"!=i.contentEditable)){if(r)return Hd(r);if(i)return Hd(i)}}function Hd(e){return e.contentEditable="true",Lu&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function zd(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function $d(e,t){if(t instanceof ou){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Kd(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Kd(e)}function Kd(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function qd(e,t,n,o){return e.someProp("createSelectionBetween",(o=>o(e,t,n)))||tu.between(t,n,o)}function Yd(e){return(!e.editable||e.root.activeElement==e.dom)&&Gd(e)}function Gd(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Xd(e,t){let{$anchor:n,$head:o}=e.selection,r=t>0?n.max(o):n.min(o),i=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return i&&Jc.findFrom(i,t)}function Jd(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Zd(e,t,n){let o=e.state.selection;if(!(o instanceof tu)){if(o instanceof ou&&o.node.isInline)return Jd(e,new tu(t>0?o.$to:o.$from));{let n=Xd(e.state,t);return!!n&&Jd(e,n)}}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Xd(e.state,t);return!!(n&&n instanceof ou)&&Jd(e,n)}if(!(Nu&&n.indexOf("m")>-1)){let n,r=o.$head,i=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText)return!1;let s=t<0?r.pos-i.nodeSize:r.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(ou.isSelectable(i)?Jd(e,new ou(t<0?e.state.doc.resolve(r.pos-i.nodeSize):r)):!!Uu&&Jd(e,new tu(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function Qd(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function eh(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function th(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,i,s=!1;for(Au&&1==n.nodeType&&o<Qd(n)&&eh(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;{let e=n.childNodes[o-1];if(eh(e))r=n,i=--o;else{if(3!=e.nodeType)break;n=e,o=n.nodeValue.length}}}else{if(oh(n))break;{let t=n.previousSibling;for(;t&&eh(t);)r=n.parentNode,i=ju(t),t=t.previousSibling;if(t)n=t,o=Qd(n);else{if(n=n.parentNode,n==e.dom)break;o=0}}}s?rh(e,t,n,o):r&&rh(e,t,r,i)}function nh(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,i,s=Qd(n);for(;;)if(o<s){if(1!=n.nodeType)break;if(!eh(n.childNodes[o]))break;r=n,i=++o}else{if(oh(n))break;{let t=n.nextSibling;for(;t&&eh(t);)r=t.parentNode,i=ju(t)+1,t=t.nextSibling;if(t)n=t,o=0,s=Qd(n);else{if(n=n.parentNode,n==e.dom)break;o=s=0}}}r&&rh(e,t,r,i)}function oh(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rh(e,t,n,o){if(qu(t)){let e=document.createRange();e.setEnd(n,o),e.setStart(n,o),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection();let{state:r}=e;setTimeout((()=>{e.state==r&&Vd(e)}),50)}function ih(e,t,n){let o=e.state.selection;if(o instanceof tu&&!o.empty||n.indexOf("s")>-1)return!1;if(Nu&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=o;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Xd(e.state,t);if(n&&n instanceof ou)return Jd(e,n)}if(!r.parent.inlineContent){let n=t<0?r:i,s=o instanceof iu?Jc.near(n,t):Jc.findFrom(n,t);return!!s&&Jd(e,s)}return!1}function sh(e,t){if(!(e.state.selection instanceof tu))return!0;let{$head:n,$anchor:o,empty:r}=e.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function ah(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function lh(e,t){let n=t.keyCode,o=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Nu&&72==n&&"c"==o?sh(e,-1)||th(e):46==n||Nu&&68==n&&"c"==o?sh(e,1)||nh(e):13==n||27==n||(37==n||Nu&&66==n&&"c"==o?Zd(e,-1,o)||th(e):39==n||Nu&&70==n&&"c"==o?Zd(e,1,o)||nh(e):38==n||Nu&&80==n&&"c"==o?ih(e,-1,o)||th(e):40==n||Nu&&78==n&&"c"==o?function(e){if(!Lu||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;ah(e,n,"true"),setTimeout((()=>ah(e,n,"false")),20)}return!1}(e)||ih(e,1,o)||nh(e):o==(Nu?"m":"c")&&(66==n||73==n||89==n||90==n))}function ch(e,t){let n=[],{content:o,openStart:r,openEnd:i}=t;for(;r>1&&i>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,i--;let e=o.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),o=e.content}let s=e.someProp("clipboardSerializer")||dc.fromSchema(e.state.schema),a=wh(),l=a.createElement("div");l.appendChild(s.serializeFragment(o,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=vh[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:h}}function uh(e,t,n,o,r){let i,s,a=r.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(o||a||!n);if(l){if(e.someProp("transformPastedText",(e=>{t=e(t,a||o)})),a)return t?new vl(dl.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):vl.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,r,o)));if(n)s=n;else{let n=r.marks(),{schema:o}=e.state,s=dc.fromSchema(o);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(o.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,o=wh().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&vh[r[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(o.innerHTML=e,n)for(let e=0;e<n.length;e++)o=o.querySelector(n[e])||o;return o}(n),Uu&&function(e){let t=e.querySelectorAll(Tu?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let o=t[n];1==o.childNodes.length&&" "==o.textContent&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0&&i.firstChild;e--)i=i.firstChild;if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||tc.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:r,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||dh.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:r,openStart:i,openEnd:s}=e;for(let e=n.length-2;e>=0;e-=2){let t=o.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;r=dl.from(t.create(n[e+1],r)),i++,s++}return new vl(r,i,s)}(gh(s,+u[1],+u[2]),u[4]);else if(s=vl.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o,r=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach((e=>{if(!i)return;let t,n=r.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&o.length&&ph(n,o,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=fh(i[i.length-1],o.length));let t=hh(e,n);i.push(t),r=r.matchType(t.type),o=n}})),i)return dl.from(i)}return e}(s.content,r),!0),s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=gh(s,e,t)}return e.someProp("transformPasted",(e=>{s=e(s)})),s}const dh=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hh(e,t,n=0){for(let o=t.length-1;o>=n;o--)e=t[o].create(null,dl.from(e));return e}function ph(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let i=ph(e,t,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(dl.from(hh(n,e,r+1))))}}function fh(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,fh(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(dl.empty,!0);return e.copy(n.append(o))}function mh(e,t,n,o,r,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return r<o-1&&(a=mh(a,t,n,o,r+1,i)),r>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||i<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(dl.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function gh(e,t,n){return t<e.openStart&&(e=new vl(mh(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new vl(mh(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const vh={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let yh=null;function wh(){return yh||(yh=document.implementation.createHTMLDocument("title"))}const bh={};let kh={};class xh{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Sh(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function _h(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Ch(e,t))}))}function Ch(e,t){return e.someProp("handleDOMEvents",(n=>{let o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}function Dh(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Eh(e){return{left:e.clientX,top:e.clientY}}function Ah(e,t,n,o,r){if(-1==o)return!1;let i=e.state.doc.resolve(o);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,(t=>o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1))))return!0;return!1}function Oh(e,t,n){e.focused||e.focus();let o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function Th(e,t,n,o,r){return Ah(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(n=>n(e,t,o)))||(r?function(e,t){if(-1==t)return!1;let n,o,r=e.state.selection;r instanceof ou&&(n=r.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(ou.isSelectable(t)){o=n&&r.$from.depth>0&&e>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?i.before(r.$from.depth):i.before(e);break}}return null!=o&&(Oh(e,ou.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&ou.isSelectable(o))&&(Oh(e,new ou(n),"pointer"),!0)}(e,n))}function Mh(e,t,n,o){return Ah(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(n=>n(e,t,o)))}function Lh(e,t,n,o){return Ah(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(n=>n(e,t,o)))||function(e,t,n){if(0!=n.button)return!1;let o=e.state.doc;if(-1==t)return!!o.inlineContent&&(Oh(e,tu.create(o,0,o.content.size),"pointer"),!0);let r=o.resolve(t);for(let t=r.depth+1;t>0;t--){let n=t>r.depth?r.nodeAfter:r.node(t),i=r.before(t);if(n.inlineContent)Oh(e,tu.create(o,i+1,i+1+n.content.size),"pointer");else{if(!ou.isSelectable(n))continue;Oh(e,ou.create(o,i),"pointer")}return!0}}(e,n,o)}function Ih(e){return Vh(e)}kh.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Uh(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Pu||!Tu||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Iu||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||lh(e,n)?n.preventDefault():Sh(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Yu(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},kh.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},kh.keypress=(e,t)=>{let n=t;if(Uh(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nu&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let o=e.state.selection;if(!(o instanceof tu&&o.$from.sameParent(o.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,o.$from.pos,o.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const Nh=Nu?"metaKey":"ctrlKey";bh.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let o=Ih(e),r=Date.now(),i="singleClick";r-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(n,e.input.lastClick)&&!n[Nh]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(Eh(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Ph(e,s,n,!!o)):("doubleClick"==i?Mh:Lh)(e,s.pos,s.inside,n)?n.preventDefault():Sh(e,"pointer"))};class Ph{constructor(e,t,n,o){let r,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Nh],this.allowDefault=n.shiftKey,t.inside>-1)r=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);r=n.parent,i=n.depth?n.before():0}const s=o?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a?a.dom:null;let{selection:l}=e.state;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||l instanceof ou&&l.from<=i&&l.to>i)&&(this.mightDrag={node:r,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Au||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Sh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Vd(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Eh(e))),this.allowDefault||!t?Sh(this.view,"pointer"):Th(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Lu&&this.mightDrag&&!this.mightDrag.node.isAtom||Tu&&!(this.view.state.selection instanceof tu)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Oh(this.view,Jc.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Sh(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Sh(this.view,"pointer"),0==e.buttons&&this.done()}}function Uh(e,t){return!!e.composing||!!(Lu&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}bh.touchdown=e=>{Ih(e),Sh(e,"pointer")},bh.contextmenu=e=>Ih(e);const Bh=Pu?5e3:-1;function jh(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Vh(e)),t))}function Rh(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Vh(e,t=!1){if(!(Pu&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Rh(e),t||e.docView&&e.docView.dirty){let t=jd(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}kh.compositionstart=kh.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Vh(e,!0),e.markCursor=null;else if(Vh(e),Au&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let o=n<0?e.lastChild:e.childNodes[n-1];if(!o)break;if(3==o.nodeType){t.collapse(o,o.nodeValue.length);break}e=o,n=-1}}e.input.composing=!0}jh(e,Bh)},kh.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,jh(e,20))};const Fh=Du&&Eu<15||Iu&&Bu<604;function Wh(e,t,n,o){let r=uh(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,r||vl.empty))))return!0;if(!r)return!1;let i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=i?e.state.tr.replaceSelectionWith(i,e.input.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}bh.copy=kh.cut=(e,t)=>{let n=t,o=e.state.selection,r="cut"==n.type;if(o.empty)return;let i=Fh?null:n.clipboardData,s=o.content(),{dom:a,text:l}=ch(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},kh.paste=(e,t)=>{let n=t;if(e.composing&&!Pu)return;let o=Fh?null:n.clipboardData;o&&Wh(e,o.getData("text/plain"),o.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((()=>{e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?Wh(e,o.value,null,t):Wh(e,o.textContent,o.innerHTML,t)}),50)}(e,n)};class Hh{constructor(e,t){this.slice=e,this.move=t}}const zh=Nu?"altKey":"ctrlKey";bh.dragstart=(e,t)=>{let n=t,o=e.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=e.state.selection,i=r.empty?null:e.posAtCoords(Eh(n));if(i&&i.pos>=r.from&&i.pos<=(r instanceof ou?r.to-1:r.to));else if(o&&o.mightDrag)e.dispatch(e.state.tr.setSelection(ou.create(e.state.doc,o.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(ou.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:a,text:l}=ch(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Fh?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Fh||n.dataTransfer.setData("text/plain",l),e.dragging=new Hh(s,!n[zh])},bh.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},kh.dragover=kh.dragenter=(e,t)=>t.preventDefault(),kh.drop=(e,t)=>{let n=t,o=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let r=e.posAtCoords(Eh(n));if(!r)return;let i=e.state.doc.resolve(r.pos);if(!i)return;let s=o&&o.slice;s?e.someProp("transformPasted",(e=>{s=e(s)})):s=uh(e,n.dataTransfer.getData(Fh?"Text":"text/plain"),Fh?null:n.dataTransfer.getData("text/html"),!1,i);let a=!(!o||n[zh]);if(e.someProp("handleDrop",(t=>t(e,n,s||vl.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?Uc(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);let c=e.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&ou.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ou(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,o,r)=>t=r)),c.setSelection(qd(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},bh.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Vd(e)}),20))},bh.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},bh.beforeinput=(e,t)=>{if(Tu&&Pu&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Yu(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in kh)bh[e]=kh[e];function $h(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Kh{constructor(e,t){this.toDOM=e,this.spec=t||Jh,this.side=this.spec.side||0}map(e,t,n,o){let{pos:r,deleted:i}=e.mapResult(t.from+o,this.side<0?-1:1);return i?null:new Gh(r-n,r-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Kh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$h(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qh{constructor(e,t){this.attrs=e,this.spec=t||Jh}map(e,t,n,o){let r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new Gh(r,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof qh&&$h(this.attrs,e.attrs)&&$h(this.spec,e.spec)}static is(e){return e.type instanceof qh}destroy(){}}class Yh{constructor(e,t){this.attrs=e,this.spec=t||Jh}map(e,t,n,o){let r=e.mapResult(t.from+o,1);if(r.deleted)return null;let i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new Gh(r.pos-n,i.pos-n,this)}valid(e,t){let n,{index:o,offset:r}=e.content.findIndex(t.from);return r==t.from&&!(n=e.child(o)).isText&&r+n.nodeSize==t.to}eq(e){return this==e||e instanceof Yh&&$h(this.attrs,e.attrs)&&$h(this.spec,e.spec)}destroy(){}}class Gh{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Gh(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Gh(e,e,new Kh(t,n))}static inline(e,t,n,o){return new Gh(e,t,new qh(n,o))}static node(e,t,n,o){return new Gh(e,t,new Yh(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof qh}}const Xh=[],Jh={};class Zh{constructor(e,t){this.local=e.length?e:Xh,this.children=t.length?t:Xh}static create(e,t){return t.length?rp(t,e,0,Jh):Qh}find(e,t,n){let o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o}findInner(e,t,n,o,r){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,o+s,r)}}map(e,t,n){return this==Qh||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Jh)}mapInner(e,t,n,o,r){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,o);a&&a.type.valid(t,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,o,r,i,s){let a=e.slice(),l=(e,t,n,o)=>{for(let s=0;s<a.length;s+=3){let l,c=a[s+1];if(c<0||e>c+i)continue;let u=a[s]+i;t>=u?a[s+1]=e<=u?-2:-1:n>=r&&(l=o-n-(t-e))&&(a[s]+=l,a[s+1]+=l)}};for(let e=0;e<n.maps.length;e++)n.maps[e].forEach(l);let c=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){c=!0,a[t+1]=-1;continue}let l=n.map(e[t]+i),u=l-r;if(u<0||u>=o.content.size){c=!0;continue}let d=n.map(e[t+1]+i,-1)-r,{index:h,offset:p}=o.content.findIndex(u),f=o.maybeChild(h);if(f&&p==u&&p+f.nodeSize==d){let o=a[t+2].mapInner(n,f,l+1,e[t]+i+1,s);o!=Qh?(a[t]=u,a[t+1]=d,a[t+2]=o):(a[t+1]=-2,c=!0)}else c=!0}if(c){let l=function(e,t,n,o,r,i,s){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(o,r,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+i+1);return n}(a,e,t,n,r,i,s),c=rp(l,o,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Zh(t.sort(ip),a)}(this.children,i||[],e,t,n,o,r):i?new Zh(i.sort(ip),Xh):Qh}add(e,t){return t.length?this==Qh?Zh.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let o,r=0;e.forEach(((e,i)=>{let s,a=i+n;if(s=np(t,e,a)){for(o||(o=this.children.slice());r<o.length&&o[r]<i;)r+=3;o[r]==i?o[r+2]=o[r+2].addInner(e,s,a+1):o.splice(r,0,i,i+e.nodeSize,rp(s,e,a+1,Jh)),r+=3}}));let i=tp(r?op(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new Zh(i.length?this.local.concat(i).sort(ip):this.local,o||this.children)}remove(e){return 0==e.length||this==Qh?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,o=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(r,i+1);a!=Qh?n[o+2]=a:(n.splice(o,3),o-=3)}if(o.length)for(let n,r=0;r<e.length;r++)if(n=e[r])for(let e=0;e<o.length;e++)o[e].eq(n,t)&&(o==this.local&&(o=this.local.slice()),o.splice(e--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Zh(o,n):Qh}forChild(e,t){if(this==Qh)return this;if(t.isLeaf)return Zh.empty;let n,o;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let r=e+1,i=r+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>r&&t.type instanceof qh){let e=Math.max(r,t.from)-r,n=Math.min(i,t.to)-r;e<n&&(o||(o=[])).push(t.copy(e,n))}}if(o){let e=new Zh(o.sort(ip),Xh);return n?new ep([e,n]):e}return n||Qh}eq(e){if(this==e)return!0;if(!(e instanceof Zh)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return sp(this.localsInner(e))}localsInner(e){if(this==Qh)return Xh;if(e.inlineContent||!this.local.some(qh.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof qh||t.push(this.local[e]);return t}}Zh.empty=new Zh([],[]),Zh.removeOverlap=sp;const Qh=Zh.empty;class ep{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Jh)));return ep.from(n)}forChild(e,t){if(t.isLeaf)return Zh.empty;let n=[];for(let o=0;o<this.members.length;o++){let r=this.members[o].forChild(e,t);r!=Qh&&(r instanceof ep?n=n.concat(r.members):n.push(r))}return ep.from(n)}eq(e){if(!(e instanceof ep)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let o=0;o<this.members.length;o++){let r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<r.length;e++)t.push(r[e])}else t=r}return t?sp(n?t:t.sort(ip)):Xh}static from(e){switch(e.length){case 0:return Qh;case 1:return e[0];default:return new ep(e)}}}function tp(e,t){if(!t||!e.length)return e;let n=[];for(let o=0;o<e.length;o++){let r=e[o];n.push(new Gh(r.from+t,r.to+t,r.type))}return n}function np(e,t,n){if(t.isLeaf)return null;let o=n+t.nodeSize,r=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<o&&((r||(r=[])).push(t),e[i]=null);return r}function op(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function rp(e,t,n,o){let r=[],i=!1;t.forEach(((t,s)=>{let a=np(e,t,s+n);if(a){i=!0;let e=rp(a,t,n+s+1,o);e!=Qh&&r.push(s,s+t.nodeSize,e)}}));let s=tp(i?op(e):e,-n).sort(ip);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(o.onRemove&&o.onRemove(s[e].spec),s.splice(e--,1));return s.length||r.length?new Zh(s,r):Qh}function ip(e,t){return e.from-t.from||e.to-t.to}function sp(e){let t=e;for(let n=0;n<t.length-1;n++){let o=t[n];if(o.from!=o.to)for(let r=n+1;r<t.length;r++){let i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),ap(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),ap(t,r+1,i.copy(o.to,i.to)))}}return t}function ap(e,t,n){for(;t<e.length&&ip(n,e[t])>0;)t++;e.splice(t,0,n)}function lp(e){let t=[];return e.someProp("decorations",(n=>{let o=n(e.state);o&&o!=Qh&&t.push(o)})),e.cursorWrapper&&t.push(Zh.create(e.state.doc,[e.cursorWrapper.deco])),ep.from(t)}const cp={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},up=Du&&Eu<=11;class dp{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class hp{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new dp,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Du&&Eu<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),up&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,cp),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Yd(this.view)){if(this.suppressingSelectionUpdates)return Vd(this.view);if(Du&&Eu<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&Wu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let t=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Yd(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,s=[];if(this.view.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],s);n&&(o=o<0?n.from:Math.min(n.from,o),r=r<0?n.to:Math.max(n.to,r),n.typeOver&&(i=!0))}if(Au&&s.length>1){let e=s.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(pp)return;pp=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Vd(this.view),this.currentSelection.set(t))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,r=e.nextSibling;if(Du&&Eu<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(o=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(r=i)}let i=o&&o.parentNode==e.target?ju(o)+1:0,s=n.localPosFromDOM(e.target,i,-1),a=r&&r.parentNode==e.target?ju(r):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let pp=!1;function fp(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Lu&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||Lu&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function mp(e,t,n,o,r){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=jd(e,t);if(n&&!e.state.selection.eq(n)){let o=e.state.tr.setSelection(n);"pointer"==t?o.setMeta("pointer",!0):"key"==t&&o.scrollIntoView(),e.dispatch(o)}return}let i=e.state.doc.resolve(t),s=i.sharedDepth(n);t=i.before(s+1),n=e.state.doc.resolve(n).after(s+1);let a=e.state.selection,l=function(e,t,n){let o,{node:r,fromOffset:i,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelection(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(o=[{node:u,offset:c.anchorOffset}],qu(c)||o.push({node:c.focusNode,offset:c.focusOffset})),Tu&&8===e.input.lastKeyCode)for(let e=s;e>i;e--){let t=r.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let d=e.state.doc,h=e.someProp("domParser")||tc.fromSchema(e.state.schema),p=d.resolve(a),f=null,m=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:o,ruleFromNode:fp,context:p});if(o&&null!=o[0].pos){let e=o[0].pos,t=o[1]&&o[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:l}}(e,t,n);if(Tu&&e.cursorWrapper&&l.sel&&l.sel.anchor==e.cursorWrapper.deco.from){let t=e.cursorWrapper.deco.type.toDOM.nextSibling,n=t&&t.nodeValue?t.nodeValue.length:1;l.sel={anchor:l.sel.anchor+n,head:l.sel.anchor+n}}let c,u,d=e.state.doc,h=d.slice(l.from,l.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(c=e.state.selection.to,u="end"):(c=e.state.selection.from,u="start"),e.input.lastKeyCode=null;let p=function(e,t,n,o,r){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==r){o-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.size<t.size){i-=o<=i&&o>=s?i-o:0,a=i+(a-s),s=i}else if(a<i){i-=o<=i&&o>=a?i-o:0,s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}(h.content,l.doc.content,l.from,c,u);if((Iu&&e.input.lastIOSEnter>Date.now()-225||Pu)&&r.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",(t=>t(e,Yu(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!p){if(!(o&&a instanceof tu&&!a.empty&&a.$head.sameParent(a.$anchor))||e.composing||l.sel&&l.sel.anchor!=l.sel.head){if(l.sel){let t=gp(e,e.state.doc,l.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}p={start:a.from,endA:a.to,endB:a.to}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof tu&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Du&&Eu<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&"  "==l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)&&(p.start--,p.endA--,p.endB--);let f,m=l.doc.resolveNoCache(p.start-l.from),g=l.doc.resolveNoCache(p.endB-l.from),v=d.resolve(p.start),y=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=p.endA;if((Iu&&e.input.lastIOSEnter>Date.now()-225&&(!y||r.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!y&&m.pos<l.doc.content.size&&(f=Jc.findFrom(l.doc.resolve(m.pos+1),1,!0))&&f.head==g.pos)&&e.someProp("handleKeyDown",(t=>t(e,Yu(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>p.start&&function(e,t,n,o,r){if(!o.parent.isTextblock||n-t<=r.pos-o.pos||vp(o,!0,!1)<r.pos)return!1;let i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(vp(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||vp(s,!0,!1)<n)&&o.parent.content.cut(o.parentOffset).eq(s.parent.content)}(d,p.start,p.endA,m,g)&&e.someProp("handleKeyDown",(t=>t(e,Yu(8,"Backspace")))))return void(Pu&&Tu&&e.domObserver.suppressSelectionUpdates());Tu&&Pu&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Pu&&!y&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,g=l.doc.resolveNoCache(p.endB-l.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Yu(13,"Enter"))}))}),20));let w,b,k,x=p.start,S=p.endA;if(y)if(m.pos==g.pos)Du&&Eu<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Vd(e)),20)),w=e.state.tr.delete(x,S),b=d.resolve(p.start).marksAcross(d.resolve(p.endA));else if(p.endA==p.endB&&(k=function(e,t){let n,o,r,i=e.firstChild.marks,s=t.firstChild.marks,a=i,l=s;for(let e=0;e<s.length;e++)a=s[e].removeFromSet(a);for(let e=0;e<i.length;e++)l=i[e].removeFromSet(l);if(1==a.length&&0==l.length)o=a[0],n="add",r=e=>e.mark(o.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;o=l[0],n="remove",r=e=>e.mark(o.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(r(t.child(e)));if(dl.from(c).eq(e))return{mark:o,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))w=e.state.tr,"add"==k.type?w.addMark(x,S,k.mark):w.removeMark(x,S,k.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,x,S,t))))return;w=e.state.tr.insertText(t,x,S)}if(w||(w=e.state.tr.replace(x,S,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let t=gp(e,w.doc,l.sel);t&&!(Tu&&Pu&&e.composing&&t.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==x||t.head==w.mapping.map(S)-1)||Du&&t.empty&&t.head==x)&&w.setSelection(t)}b&&w.ensureMarks(b),e.dispatch(w.scrollIntoView())}function gp(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:qd(e,t.resolve(n.anchor),t.resolve(n.head))}function vp(e,t,n){let o=e.depth,r=t?e.end():e.pos;for(;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n){let t=e.node(o).maybeChild(e.indexAfter(o));for(;t&&!t.isLeaf;)t=t.firstChild,r++}return r}class yp{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xh,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Sp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kp(this),bp(this),this.nodeViews=xp(this),this.docView=xd(this.state.doc,wp(this),lp(this),this.dom,this),this.domObserver=new hp(this,((e,t,n,o)=>mp(this,e,t,n,o))),this.domObserver.start(),function(e){for(let t in bh){let n=bh[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Dh(e,t)||Ch(e,t)||!e.editable&&t.type in kh||n(e,t)})}Lu&&e.dom.addEventListener("input",(()=>null)),_h(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_h(this),this._props=e,e.plugins&&(e.plugins.forEach(Sp),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,t){let n=this.state,o=!1,r=!1;if(e.storedMarks&&this.composing&&(Rh(this),r=!0),this.state=e,t){let e=xp(this);(function(e,t){let n=0,o=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let e in t)o++;return n!=o})(e,this.nodeViews)&&(this.nodeViews=e,o=!0),_h(this)}this.editable=kp(this),bp(this);let i=lp(this),s=wp(this),a=t?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(e.doc,s,i);!l&&e.selection.eq(n.selection)||(r=!0);let c="preserve"==a&&r&&null==this.dom.style.overflowAnchor&&function(e){let t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top);for(let i=(o.left+o.right)/2,s=r+1;s<Math.min(innerHeight,o.bottom);s+=5){let o=e.root.elementFromPoint(i,s);if(!o||o==e.dom||!e.dom.contains(o))continue;let a=o.getBoundingClientRect();if(a.top>=r-20){t=o,n=a.top;break}}return{refDOM:t,refTop:n,stack:Qu(e.dom)}}(this);if(r){this.domObserver.stop();let t=l&&(Du||Tu)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(l){let n=Tu?this.trackWrites=this.domSelection().focusNode:null;!o&&this.docView.update(e.doc,s,i,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=xd(e.doc,s,i,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return Wu(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Vd(this,t):($d(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==a)this.dom.scrollTop=0;else if("to selection"==a){let t=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(e.selection instanceof ou){let n=this.docView.domAfterPos(e.selection.from);1==n.nodeType&&Zu(this,n.getBoundingClientRect(),t)}else Zu(this,this.coordsAtPos(e.selection.head,1),t)}else c&&function({refDOM:e,refTop:t,stack:n}){let o=e?e.getBoundingClientRect().top:0;ed(n,0==o?0:o-t)}(c)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[e];if(null!=r&&(n=t?t(r):r))return n}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let i=r[o].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(td)return e.focus(td);let t=Qu(e);e.focus(null==td?{get preventScroll(){return td={preventScroll:!0},!0}}:void 0),td||(td=!1,ed(t,0))}(this.dom),Vd(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return id(this,e)}coordsAtPos(e,t=1){return ld(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return gd(this,t||this.state,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],lp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){Ch(e,t)||!bh[t.type]||!e.editable&&t.type in kh||bh[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function wp(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[Gh.node(0,e.state.doc.content.size,t)]}function bp(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Gh.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function kp(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function xp(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Sp(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var _p=s(33952);const Cp="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Dp(e){let t,n,o,r,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let e=0;e<i.length-1;e++){let s=i[e];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))o=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);Cp?r=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),r&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function Ep(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Ap(e){let t=function(e){let t=Object.create(null);for(let n in e)t[Dp(n)]=e[n];return t}(e);return function(e,n){let o,r=(0,_p.YG)(n),i=1==r.length&&" "!=r,s=t[Ep(r,n,!i)];if(s&&s(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(o=_p.ue[n.keyCode])&&o!=r){let r=t[Ep(o,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){let o=t[Ep(r,n,!0)];if(o&&o(e.state,e.dispatch,e))return!0}return!1}}const Op=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0),Tp=(e,t,n)=>{let{$cursor:o}=e.selection;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;let r=Ip(o);if(!r){let n=o.blockRange(),r=n&&Tc(n);return null!=r&&(t&&t(e.tr.lift(n,r).scrollIntoView()),!0)}let i=r.nodeBefore;if(!i.type.spec.isolating&&Hp(e,r,t))return!0;if(0==o.parent.content.size&&(Mp(i,"end")||ou.isSelectable(i))){let n=Bc(e.doc,o.before(),o.after(),vl.empty);if(n&&n.slice.size<n.to-n.from){if(t){let o=e.tr.step(n);o.setSelection(Mp(i,"end")?Jc.findFrom(o.doc.resolve(o.mapping.map(r.pos,-1)),-1):ou.create(o.doc,r.pos-i.nodeSize)),t(o.scrollIntoView())}return!0}}return!(!i.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0)};function Mp(e,t,n=!1){for(let o=e;o;o="start"==t?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&1!=o.childCount)return!1}return!1}const Lp=(e,t,n)=>{let{$head:o,empty:r}=e.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=Ip(o)}let s=i&&i.nodeBefore;return!(!s||!ou.isSelectable(s))&&(t&&t(e.tr.setSelection(ou.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function Ip(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const Np=(e,t,n)=>{let{$cursor:o}=e.selection;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;let r=Up(o);if(!r)return!1;let i=r.nodeAfter;if(Hp(e,r,t))return!0;if(0==o.parent.content.size&&(Mp(i,"start")||ou.isSelectable(i))){let n=Bc(e.doc,o.before(),o.after(),vl.empty);if(n&&n.slice.size<n.to-n.from){if(t){let o=e.tr.step(n);o.setSelection(Mp(i,"start")?Jc.findFrom(o.doc.resolve(o.mapping.map(r.pos)),1):ou.create(o.doc,o.mapping.map(r.pos))),t(o.scrollIntoView())}return!0}}return!(!i.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0)},Pp=(e,t,n)=>{let{$head:o,empty:r}=e.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=Up(o)}let s=i&&i.nodeAfter;return!(!s||!ou.isSelectable(s))&&(t&&t(e.tr.setSelection(ou.create(e.doc,i.pos)).scrollIntoView()),!0)};function Up(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Bp=(e,t)=>{let{$head:n,$anchor:o}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function jp(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Rp=(e,t)=>{let{$head:n,$anchor:o}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),i=n.indexAfter(-1),s=jp(r.contentMatchAt(i));if(!s||!r.canReplaceWith(i,i,s))return!1;if(t){let o=n.after(),r=e.tr.replaceWith(o,o,s.createAndFill());r.setSelection(Jc.near(r.doc.resolve(o),1)),t(r.scrollIntoView())}return!0},Vp=(e,t)=>{let n=e.selection,{$from:o,$to:r}=n;if(n instanceof iu||o.parent.inlineContent||r.parent.inlineContent)return!1;let i=jp(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(tu.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},Fp=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ic(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let o=n.blockRange(),r=o&&Tc(o);return null!=r&&(t&&t(e.tr.lift(o,r).scrollIntoView()),!0)},Wp=(e,t)=>{let{$from:n,$to:o}=e.selection;if(e.selection instanceof ou&&e.selection.node.isBlock)return!(!n.parentOffset||!Ic(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let r=o.parentOffset==o.parent.content.size,i=e.tr;(e.selection instanceof tu||e.selection instanceof iu)&&i.deleteSelection();let s=0==n.depth?null:jp(n.node(-1).contentMatchAt(n.indexAfter(-1))),a=r&&s?[{type:s}]:void 0,l=Ic(i.doc,i.mapping.map(n.pos),1,a);if(a||l||!Ic(i.doc,i.mapping.map(n.pos),1,s?[{type:s}]:void 0)||(s&&(a=[{type:s}]),l=!0),l&&(i.split(i.mapping.map(n.pos),1,a),!r&&!n.parentOffset&&n.parent.type!=s)){let e=i.mapping.map(n.before()),t=i.doc.resolve(e);s&&n.node(-1).canReplaceWith(t.index(),t.index()+1,s)&&i.setNodeMarkup(i.mapping.map(n.before()),s)}t(i.scrollIntoView())}return!0};function Hp(e,t,n){let o,r,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){let o=t.nodeBefore,r=t.nodeAfter,i=t.index();return!(!(o&&r&&o.type.compatibleContent(r.type))||(!o.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!r.isTextblock&&!Nc(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(o=(r=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&r.matchType(o[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,a=dl.empty;for(let e=o.length-1;e>=0;e--)a=dl.from(o[e].create(null,a));a=dl.from(i.copy(a));let l=e.tr.step(new Ec(t.pos-1,r,t.pos,r,new vl(a,1,0),o.length,!0)),c=r+2*o.length;Nc(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=Jc.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&Tc(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&Mp(s,"start",!0)&&Mp(i,"end")){let o=i,r=[];for(;r.push(o),!o.isTextblock;)o=o.lastChild;let a=s,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(o.canReplace(o.childCount,o.childCount,a.content)){if(n){let o=dl.empty;for(let e=r.length-1;e>=0;e--)o=dl.from(r[e].copy(o));n(e.tr.step(new Ec(t.pos-r.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new vl(o,r.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function zp(e){return function(t,n){let o=t.selection,r=e<0?o.$from:o.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return!!r.node(i).isTextblock&&(n&&n(t.tr.setSelection(tu.create(t.doc,e<0?r.start(i):r.end(i)))),!0)}}const $p=zp(-1),Kp=zp(1);function qp(e,t=null){return function(n,o){let{from:r,to:i}=n.selection,s=!1;return n.doc.nodesBetween(r,i,((o,r)=>{if(s)return!1;if(o.isTextblock&&!o.hasMarkup(e,t))if(o.type==e)s=!0;else{let t=n.doc.resolve(r),o=t.index();s=t.parent.canReplaceWith(o,o+1,e)}})),!!s&&(o&&o(n.tr.setBlockType(r,i,e,t).scrollIntoView()),!0)}}function Yp(...e){return function(t,n,o){for(let r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}let Gp=Yp(Op,Tp,Lp),Xp=Yp(Op,Np,Pp);const Jp={Enter:Yp(Bp,Vp,Fp,Wp),"Mod-Enter":Rp,Backspace:Gp,"Mod-Backspace":Gp,"Shift-Backspace":Gp,Delete:Xp,"Mod-Delete":Xp,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new iu(e.doc))),!0)},Zp={"Ctrl-h":Jp.Backspace,"Alt-Backspace":Jp["Mod-Backspace"],"Ctrl-d":Jp.Delete,"Ctrl-Alt-Backspace":Jp["Mod-Delete"],"Alt-Delete":Jp["Mod-Delete"],"Alt-d":Jp["Mod-Delete"],"Ctrl-a":$p,"Ctrl-e":Kp};for(let e in Jp)Zp[e]=Jp[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function Qp(e,t=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&r.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==r.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);l=new Il(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new Il(r,n.doc.resolve(i.end(s.depth)),s.depth)),a=!0}let c=Mc(l,e,t,s);return!!c&&(o&&o(function(e,t,n,o,r){let i=dl.empty;for(let e=n.length-1;e>=0;e--)i=dl.from(n[e].type.create(n[e].attrs,i));e.step(new Ec(t.start-(o?2:0),t.end,t.start,t.end,new vl(i,0,0),n.length,!0));let s=0;for(let e=0;e<n.length;e++)n[e].type==r&&(s=e+1);let a=n.length-s,l=t.start+n.length-(o?2:0),c=t.parent;for(let n=t.startIndex,o=t.endIndex,r=!0;n<o;n++,r=!1)!r&&Ic(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(n).nodeSize;return e}(n.tr,s,c,a,e).scrollIntoView()),!0)}}function ef(e){return function(t,n){let{$from:o,$to:r}=t.selection,i=o.blockRange(r,(t=>t.childCount>0&&t.firstChild.type==e));return!!i&&(!n||(o.node(i.depth-1).type==e?function(e,t,n,o){let r=e.tr,i=o.end,s=o.$to.end(o.depth);i<s&&(r.step(new Ec(i-1,s,i,s,new vl(dl.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new Il(r.doc.resolve(o.$from.pos),r.doc.resolve(s),o.depth));return t(r.lift(o,Tc(o)).scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let o=e.tr,r=n.parent;for(let e=n.end,t=n.endIndex-1,i=n.startIndex;t>i;t--)e-=r.child(t).nodeSize,o.delete(e-1,e+1);let i=o.doc.resolve(n.start),s=i.nodeAfter;if(o.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==r.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?dl.empty:dl.from(r))))return!1;let d=i.pos,h=d+s.nodeSize;return o.step(new Ec(d-(a?1:0),h+(l?1:0),d+1,h-1,new vl((a?dl.empty:dl.from(r.copy(dl.empty))).append(l?dl.empty:dl.from(r.copy(dl.empty))),a?0:1,l?0:1),a?0:1)),t(o.scrollIntoView()),!0}(t,n,i)))}}function tf(e){const{state:t,transaction:n}=e;let{selection:o}=n,{doc:r}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,i=n.storedMarks,n}}}class nf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:o}=t,{tr:r}=n,i=this.buildProps(r);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(i);return r.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(r),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:o,state:r}=this,{view:i}=o,s=[],a=!!e,l=e||r.tr,c={...Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const o=this.buildProps(l,t),r=n(...e)(o);return s.push(r),c}]))),run:()=>(a||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),s.every((e=>!0===e)))};return c}createCan(e){const{rawCommands:t,state:n}=this,o=void 0,r=e||n.tr,i=this.buildProps(r,o),s=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:o})])));return{...s,chain:()=>this.createChain(r,o)}}buildProps(e,t=!0){const{rawCommands:n,editor:o,state:r}=this,{view:i}=o;r.storedMarks&&e.setStoredMarks(r.storedMarks);const s={tr:e,editor:o,view:i,state:tf({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,(...e)=>t(...e)(s)])))}};return s}}function of(e,t,n){if(void 0===e.config[t]&&e.parent)return of(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?of(e.parent,t,n):null})}return e.config[t]}function rf(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function sf(e){const t=[],{nodeExtensions:n,markExtensions:o}=rf(e),r=[...n,...o],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=of(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,o])=>{t.push({type:n,name:e,attribute:{...i,...o}})}))}))}))})),r.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},o=of(e,"addAttributes",n);if(!o)return;const r=o();Object.entries(r).forEach((([n,o])=>{const r={...i,...o};o.isRequired&&void 0===o.default&&delete r.default,t.push({type:e.name,name:n,attribute:r})}))})),t}function af(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function lf(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{n[e]?n[e]="class"===e?[n[e],t].join(" "):"style"===e?[n[e],t].join("; "):t:n[e]=t})),n}),{})}function cf(e,t){return t.filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>lf(e,t)),{})}function uf(e){return"function"==typeof e}function df(e,t,...n){return uf(e)?t?e.bind(t)(...n):e(...n):e}function hf(e,t){return e.style?e:{...e,getAttrs:n=>{const o=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===o)return!1;const r=t.reduce(((e,t)=>{const o=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==o?e:{...e,[t.name]:o}}),{});return{...o,...r}}}}function pf(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t)))}function ff(e){var t;const n=sf(e),{nodeExtensions:o,markExtensions:r}=rf(e),i=null===(t=o.find((e=>of(e,"topNode"))))||void 0===t?void 0:t.name,s=Object.fromEntries(o.map((t=>{const o=n.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage},i=e.reduce(((e,n)=>{const o=of(n,"extendNodeSchema",r);return{...e,...o?o(t):{}}}),{}),s=pf({...i,content:df(of(t,"content",r)),marks:df(of(t,"marks",r)),group:df(of(t,"group",r)),inline:df(of(t,"inline",r)),atom:df(of(t,"atom",r)),selectable:df(of(t,"selectable",r)),draggable:df(of(t,"draggable",r)),code:df(of(t,"code",r)),defining:df(of(t,"defining",r)),isolating:df(of(t,"isolating",r)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),a=df(of(t,"parseHTML",r));a&&(s.parseDOM=a.map((e=>hf(e,o))));const l=of(t,"renderHTML",r);l&&(s.toDOM=e=>l({node:e,HTMLAttributes:cf(e,o)}));const c=of(t,"renderText",r);return c&&(s.toText=c),[t.name,s]}))),a=Object.fromEntries(r.map((t=>{const o=n.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage},i=e.reduce(((e,n)=>{const o=of(n,"extendMarkSchema",r);return{...e,...o?o(t):{}}}),{}),s=pf({...i,inclusive:df(of(t,"inclusive",r)),excludes:df(of(t,"excludes",r)),group:df(of(t,"group",r)),spanning:df(of(t,"spanning",r)),code:df(of(t,"code",r)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),a=df(of(t,"parseHTML",r));a&&(s.parseDOM=a.map((e=>hf(e,o))));const l=of(t,"renderHTML",r);return l&&(s.toDOM=e=>l({mark:e,HTMLAttributes:cf(e,o)})),[t.name,s]})));return new Ql({topNode:i,nodes:s,marks:a})}function mf(e,t){return t.nodes[e]||t.marks[e]||null}function gf(e,t){return Array.isArray(t)?t.some((t=>("string"==typeof t?t:t.name)===e.name)):t}function vf(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class yf{constructor(e){this.find=e.find,this.handler=e.handler}}function wf(e){var t;const{editor:n,from:o,to:r,text:i,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(o);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let u=!1;const d=((e,t=500)=>{let n="";return e.parent.nodesBetween(Math.max(0,e.parentOffset-t),e.parentOffset,((t,o,r,i)=>{var s,a,l;n+=(null===(a=(s=t.type.spec).toText)||void 0===a?void 0:a.call(s,{node:t,pos:o,parent:r,index:i}))||(null===(l=e.nodeBefore)||void 0===l?void 0:l.text)||"%leaf%"})),n})(c)+i;return s.forEach((e=>{if(u)return;const t=((e,t)=>{if(vf(t))return t.exec(e);const n=t(e);if(!n)return null;const o=[];return o.push(n.text),o.index=n.index,o.input=e,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o})(d,e.find);if(!t)return;const s=l.state.tr,c=tf({state:l.state,transaction:s}),h={from:o-(t[0].length-i.length),to:r},{commands:p,chain:f,can:m}=new nf({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:f,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:o,to:r,text:i}),l.dispatch(s),u=!0)})),u}function bf(e){const{editor:t,rules:n}=e,o=new gu({state:{init:()=>null,apply(e,t){const n=e.getMeta(o);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,r,i,s)=>wf({editor:t,from:r,to:i,text:s,rules:n,plugin:o}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:r}=e.state.selection;r&&wf({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:o})})),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&wf({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:o})}},isInputRules:!0});return o}class kf{constructor(e){this.find=e.find,this.handler=e.handler}}function xf(e){const{editor:t,state:n,from:o,to:r,rule:i}=e,{commands:s,chain:a,can:l}=new nf({editor:t,state:n}),c=[];n.doc.nodesBetween(o,r,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const u=Math.max(o,t),d=Math.min(r,t+e.content.size),h=((e,t)=>{if(vf(t))return[...e.matchAll(t)];const n=t(e);return n?n.map((t=>{const n=[];return n.push(t.text),n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(u-t,d-t,void 0,"￼"),i.find);h.forEach((e=>{if(void 0===e.index)return;const t=u+e.index+1,o=t+e[0].length,r={from:n.tr.mapping.map(t),to:n.tr.mapping.map(o)},d=i.handler({state:n,range:r,match:e,commands:s,chain:a,can:l});c.push(d)}))}));return c.every((e=>null!==e))}function Sf(e){const{editor:t,rules:n}=e;let o=null,r=!1,i=!1;const s=n.map((e=>new gu({view(e){const t=t=>{var n;o=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:e=>(i=o===e.dom.parentElement,!1),paste:(e,t)=>{var n;const o=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return r=!!(null==o?void 0:o.includes("data-pm-slice")),!1}}},appendTransaction:(n,o,s)=>{const a=n[0],l="paste"===a.getMeta("uiEvent")&&!r,c="drop"===a.getMeta("uiEvent")&&!i;if(!l&&!c)return;const u=o.doc.content.findDiffStart(s.doc.content),d=o.doc.content.findDiffEnd(s.doc.content);if("number"!=typeof u||!d||u===d.b)return;const h=s.tr,p=tf({state:s,transaction:h});return xf({editor:t,state:p,from:Math.max(u-1,0),to:d.b,rule:e})&&h.steps.length?h:void 0}})));return s}class _f{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=_f.resolve(e),this.schema=ff(this.extensions),this.extensions.forEach((e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:mf(e.name,this.schema)};if("mark"===e.type){(null===(t=df(of(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const o=of(e,"onBeforeCreate",n);o&&this.editor.on("beforeCreate",o);const r=of(e,"onCreate",n);r&&this.editor.on("create",r);const i=of(e,"onUpdate",n);i&&this.editor.on("update",i);const s=of(e,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=of(e,"onTransaction",n);a&&this.editor.on("transaction",a);const l=of(e,"onFocus",n);l&&this.editor.on("focus",l);const c=of(e,"onBlur",n);c&&this.editor.on("blur",c);const u=of(e,"onDestroy",n);u&&this.editor.on("destroy",u)}))}static resolve(e){const t=_f.sort(_f.flatten(e)),n=function(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return[...new Set(t)]}(t.map((e=>e.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((e=>`'${e}'`)).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map((e=>{const t=of(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){return e.sort(((e,t)=>{const n=of(e,"priority")||100,o=of(t,"priority")||100;return n>o?-1:n<o?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=of(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:mf(t.name,this.schema)});return n?{...e,...n()}:e}),{})}get plugins(){const{editor:e}=this,t=_f.sort([...this.extensions].reverse()),n=[],o=[],r=t.map((t=>{const r={name:t.name,options:t.options,storage:t.storage,editor:e,type:mf(t.name,this.schema)},i=[],s=of(t,"addKeyboardShortcuts",r);if(s){const t=function(e){return new gu({props:{handleKeyDown:Ap(e)}})}(Object.fromEntries(Object.entries(s()).map((([t,n])=>[t,()=>n({editor:e})]))));i.push(t)}const a=of(t,"addInputRules",r);gf(t,e.options.enableInputRules)&&a&&n.push(...a());const l=of(t,"addPasteRules",r);gf(t,e.options.enablePasteRules)&&l&&o.push(...l());const c=of(t,"addProseMirrorPlugins",r);if(c){const e=c();i.push(...e)}return i})).flat();return[bf({editor:e,rules:n}),...Sf({editor:e,rules:o}),...r]}get attributes(){return sf(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=rf(this.extensions);return Object.fromEntries(t.filter((e=>!!of(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),o={name:t.name,options:t.options,storage:t.storage,editor:e,type:af(t.name,this.schema)},r=of(t,"addNodeView",o);if(!r)return[];return[t.name,(o,i,s,a)=>{const l=cf(o,n);return r()({editor:e,node:o,getPos:s,decorations:a,HTMLAttributes:l,extension:t})}]})))}}function Cf(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function Df(e,t){const n={...e};return Cf(e)&&Cf(t)&&Object.keys(t).forEach((o=>{Cf(t[o])?o in e?n[o]=Df(e[o],t[o]):Object.assign(n,{[o]:t[o]}):Object.assign(n,{[o]:t[o]})})),n}class Ef{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=df(of(this,"addOptions",{name:this.name}))),this.storage=df(of(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ef(e)}configure(e={}){const t=this.extend();return t.options=Df(this.options,e),t.storage=df(of(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Ef(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=df(of(t,"addOptions",{name:t.name})),t.storage=df(of(t,"addStorage",{name:t.name,options:t.options})),t}}function Af(e,t,n){const{from:o,to:r}=t,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let a="",l=!0;return e.nodesBetween(o,r,((e,n,c,u)=>{var d;const h=null==s?void 0:s[e.type.name];h?(e.isBlock&&!l&&(a+=i,l=!0),c&&(a+=h({node:e,pos:n,parent:c,index:u,range:t}))):e.isText?(a+=null===(d=null==e?void 0:e.text)||void 0===d?void 0:d.slice(Math.max(o,n)-n,r-n),l=!1):e.isBlock&&!l&&(a+=i,l=!0)})),a}function Of(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const Tf=Ef.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new gu({key:new wu("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:o,selection:r}=t,{ranges:i}=r,s=Math.min(...i.map((e=>e.$from.pos))),a=Math.max(...i.map((e=>e.$to.pos)));return Af(o,{from:s,to:a},{textSerializers:Of(n)})}}})]}});function Mf(e,t,n={strict:!0}){const o=Object.keys(t);return!o.length||o.every((o=>n.strict?t[o]===e[o]:vf(t[o])?t[o].test(e[o]):t[o]===e[o]))}function Lf(e,t,n={}){return e.find((e=>e.type===t&&Mf(e.attrs,n)))}function If(e,t,n={}){return!!Lf(e,t,n)}function Nf(e,t,n={}){if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(e.parentOffset===o.offset&&0!==o.offset&&(o=e.parent.childBefore(e.parentOffset)),!o.node)return;const r=Lf([...o.node.marks],t,n);if(!r)return;let i=o.index,s=e.start()+o.offset,a=i+1,l=s+o.node.nodeSize;for(Lf([...o.node.marks],t,n);i>0&&r.isInSet(e.parent.child(i-1).marks);)i-=1,s-=e.parent.child(i).nodeSize;for(;a<e.parent.childCount&&If([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function Pf(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function Uf(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!function(e){var t;return"class"===(null===(t=e.constructor)||void 0===t?void 0:t.toString().substring(0,5))}(e)}function Bf(e){return Uf(e)&&e instanceof tu}function jf(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Rf(e,t=null){if(!t)return null;const n=Jc.atStart(e),o=Jc.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return o;const r=n.from,i=o.to;return"all"===t?tu.create(e,jf(0,r,i),jf(e.content.size,r,i)):tu.create(e,jf(t,r,i),jf(t,r,i))}function Vf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ff(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}function Wf(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof e&&null!==e)try{return Array.isArray(e)?dl.fromArray(e.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(e)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Wf("",t,n)}if("string"==typeof e){const o=tc.fromSchema(t);return n.slice?o.parseSlice(Ff(e),n.parseOptions).content:o.parse(Ff(e),n.parseOptions)}return Wf("",t,n)}function Hf(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function zf(e,t,n={}){const{from:o,to:r,empty:i}=e.selection,s=t?af(t,e.schema):null,a=[];e.doc.nodesBetween(o,r,((e,t)=>{if(e.isText)return;const n=Math.max(o,t),i=Math.min(r,t+e.nodeSize);a.push({node:e,from:n,to:i})}));const l=r-o,c=a.filter((e=>!s||s.name===e.node.type.name)).filter((e=>Mf(e.node.attrs,n,{strict:!1})));if(i)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function $f(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Kf(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,o)=>(n.includes(o)||(t[o]=e[o]),t)),{})}function qf(e,t,n={}){return Wf(e,t,{slice:!1,parseOptions:n})}function Yf(e,t){const n=Pf(t,e.schema),{from:o,to:r,empty:i}=e.selection,s=[];i?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(o,r,(e=>{s.push(...e.marks)}));const a=s.find((e=>e.type.name===n.name));return a?{...a.attrs}:{}}function Gf(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const o=e.find((e=>e.type===t&&e.name===n));return!!o&&o.attribute.keepOnSplit})))}function Xf(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const o=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(o)}}function Jf(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}}(t.$from,e)}function Zf(e,t){const{nodeExtensions:n}=rf(t),o=n.find((t=>t.name===e));if(!o)return!1;const r=df(of(o,"group",{name:o.name,options:o.options,storage:o.storage}));return"string"==typeof r&&r.split(" ").includes("list")}const Qf=(e,t)=>{const n=Jf((e=>e.type===t))(e.selection);if(!n)return!0;const o=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===o)return!0;const r=e.doc.nodeAt(o);return n.node.type!==(null==r?void 0:r.type)||!Nc(e.doc,n.pos)||(e.join(n.pos),!0)},em=(e,t)=>{const n=Jf((e=>e.type===t))(e.selection);if(!n)return!0;const o=e.doc.resolve(n.start).after(n.depth);if(void 0===o)return!0;const r=e.doc.nodeAt(o);return n.node.type!==(null==r?void 0:r.type)||!Nc(e.doc,o)||(e.join(o),!0)};function tm(e,t,n={}){const{empty:o,ranges:r}=e.selection,i=t?Pf(t,e.schema):null;if(o)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!i||i.name===e.type.name)).find((e=>Mf(e.attrs,n,{strict:!1})));let s=0;const a=[];if(r.forEach((({$from:t,$to:n})=>{const o=t.pos,r=n.pos;e.doc.nodesBetween(o,r,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(o,t),i=Math.min(r,t+e.nodeSize);s+=i-n,a.push(...e.marks.map((e=>({mark:e,from:n,to:i}))))}))})),0===s)return!1;const l=a.filter((e=>!i||i.name===e.mark.type.name)).filter((e=>Mf(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=a.filter((e=>!i||e.mark.type!==i&&e.mark.type.excludes(i))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=s}var nm=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:o}=t,{ranges:r}=o;return!n||(r.forEach((({$from:n,$to:o})=>{e.doc.nodesBetween(n.pos,o.pos,((e,n)=>{if(e.type.isText)return;const{doc:o,mapping:r}=t,i=o.resolve(r.map(n)),s=o.resolve(r.map(n+e.nodeSize)),a=i.blockRange(s);if(!a)return;const l=Tc(a);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(a.start,e)}(l||0===l)&&t.lift(a,l)}))})),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>Vp(e,t),deleteNode:e=>({tr:t,state:n,dispatch:o})=>{const r=af(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===r){if(o){const n=i.before(e),o=i.after(e);t.delete(n,o).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:o,to:r}=e;return n&&t.delete(o,r),!0},deleteSelection:()=>({state:e,dispatch:t})=>Op(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>Rp(e,t),extendMarkRange:(e,t={})=>({tr:n,state:o,dispatch:r})=>{const i=Pf(e,o.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(r){const e=Nf(l,i,t);if(e&&e.from<=c&&e.to>=u){const t=tu.create(s,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:o,tr:r,dispatch:i})=>{t={scrollIntoView:!0,...t};const s=()=>{Vf()&&o.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(o.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())}))};if(o.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!Bf(n.state.selection))return s(),!0;const a=Rf(r.doc,e)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},forEach:(e,t)=>n=>e.every(((e,o)=>t(e,{...n,index:o}))),insertContent:(e,t)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:o,dispatch:r,editor:i})=>{if(r){n={parseOptions:{},updateSelection:!0,...n};const r=Wf(t,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===r.toString())return!0;let{from:s,to:a}="number"==typeof e?{from:e,to:e}:e,l=!0,c=!0;if((r.toString().startsWith("<")?r:[r]).forEach((e=>{e.check(),l=!!l&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock})),s===a&&c){const{parent:e}=o.doc.resolve(s);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(s-=1,a+=1)}l?o.insertText(t,s,a):o.replaceWith(s,a,r),n.updateSelection&&function(e,t,n){const o=e.steps.length-1;if(o<t)return;const r=e.steps[o];if(!(r instanceof Dc||r instanceof Ec))return;const i=e.mapping.maps[o];let s=0;i.forEach(((e,t,n,o)=>{0===s&&(s=o)})),e.setSelection(Jc.near(e.doc.resolve(s),n))}(o,o.steps.length-1,-1)}return!0},joinBackward:()=>({state:e,dispatch:t})=>Tp(e,t),joinForward:()=>({state:e,dispatch:t})=>Np(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:o,dispatch:r})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,o,r,i,s=t[t.length-1];"Space"===s&&(s=" ");for(let e=0;e<t.length-1;e+=1){const s=t[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error(`Unrecognized modifier name: ${s}`);Vf()||Hf()?i=!0:o=!0}}return n&&(s=`Alt-${s}`),o&&(s=`Ctrl-${s}`),i&&(s=`Meta-${s}`),r&&(s=`Shift-${s}`),s}(e).split(/-(?!$)/),s=i.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,a)))}));return null==l||l.steps.forEach((e=>{const t=e.map(o.mapping);t&&r&&o.maybeStep(t)})),!0},lift:(e,t={})=>({state:n,dispatch:o})=>!!zf(n,af(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:o}=e.selection,r=n.blockRange(o),i=r&&Tc(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)})(n,o),liftEmptyBlock:()=>({state:e,dispatch:t})=>Fp(e,t),liftListItem:e=>({state:t,dispatch:n})=>ef(af(e,t.schema))(t,n),newlineInCode:()=>({state:e,dispatch:t})=>Bp(e,t),resetAttributes:(e,t)=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const a=$f("string"==typeof e?e:e.name,o.schema);return!!a&&("node"===a&&(i=af(e,o.schema)),"mark"===a&&(s=Pf(e,o.schema)),r&&n.selection.ranges.forEach((e=>{o.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,o)=>{i&&i===e.type&&n.setNodeMarkup(o,void 0,Kf(e.attrs,t)),s&&e.marks.length&&e.marks.forEach((r=>{s===r.type&&n.addMark(o,o+e.nodeSize,s.create(Kf(r.attrs,t)))}))}))})),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>Lp(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>Pp(e,t),selectParentNode:()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:o,to:r}=e.selection,i=o.sharedDepth(r);return 0!=i&&(n=o.before(i),t&&t(e.tr.setSelection(ou.create(e.doc,n))),!0)})(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>Kp(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>$p(e,t),setContent:(e,t=!1,n={})=>({tr:o,editor:r,dispatch:i})=>{const{doc:s}=o,a=qf(e,r.schema,n);return i&&o.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!t),!0},setMark:(e,t={})=>({tr:n,state:o,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=Pf(e,o.schema);if(r)if(s){const e=Yf(o,l);n.addStoredMark(l.create({...e,...t}))}else a.forEach((e=>{const r=e.$from.pos,i=e.$to.pos;o.doc.nodesBetween(r,i,((e,o)=>{const s=Math.max(o,r),a=Math.min(o+e.nodeSize,i);e.marks.find((e=>e.type===l))?e.marks.forEach((e=>{l===e.type&&n.addMark(s,a,l.create({...e.attrs,...t}))})):n.addMark(s,a,l.create(t))}))}));return!0},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:o,chain:r})=>{const i=af(e,n.schema);return i.isTextblock?r().command((({commands:e})=>!!qp(i,t)(n)||e.clearNodes())).command((({state:e})=>qp(i,t)(e,o))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,o=Jc.atStart(n).from,r=Jc.atEnd(n).to,i=jf(e,o,r),s=ou.create(n,i);t.setSelection(s)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:o,to:r}="number"==typeof e?{from:e,to:e}:e,i=tu.atStart(n).from,s=tu.atEnd(n).to,a=jf(o,i,s),l=jf(r,i,s),c=tu.create(n,a,l);t.setSelection(c)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const o=af(e,t.schema);return(r=o,function(e,t){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,(e=>e.childCount>0&&e.firstChild.type==r));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=r)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,o=dl.from(n?r.create():null),s=new vl(dl.from(r.create(null,dl.from(a.type.create(null,o)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new Ec(c-(n?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0})(t,n);var r},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:o,editor:r})=>{const{selection:i,doc:s}=t,{$from:a,$to:l}=i,c=Gf(r.extensionManager.attributes,a.node().type.name,a.node().attrs);if(i instanceof ou&&i.node.isBlock)return!(!a.parentOffset||!Ic(s,a.pos))&&(o&&(e&&Xf(n,r.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(o){const o=l.parentOffset===l.parent.content.size;i instanceof tu&&t.deleteSelection();const s=0===a.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let u=o&&s?[{type:s,attrs:c}]:void 0,d=Ic(t.doc,t.mapping.map(a.pos),1,u);if(u||d||!Ic(t.doc,t.mapping.map(a.pos),1,s?[{type:s}]:void 0)||(d=!0,u=s?[{type:s,attrs:c}]:void 0),d&&(t.split(t.mapping.map(a.pos),1,u),s&&!o&&!a.parentOffset&&a.parent.type!==s)){const e=t.mapping.map(a.before()),n=t.doc.resolve(e);a.node(-1).canReplaceWith(n.index(),n.index()+1,s)&&t.setNodeMarkup(t.mapping.map(a.before()),s)}e&&Xf(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return!0},splitListItem:e=>({tr:t,state:n,dispatch:o,editor:r})=>{var i;const s=af(e,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const d=r.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(o){let e=dl.empty;const n=a.index(-1)?1:a.index(-2)?2:3;for(let t=a.depth-n;t>=a.depth-3;t-=1)e=dl.from(a.node(t).copy(e));const o=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,r=Gf(d,a.node().type.name,a.node().attrs),l=(null===(i=s.contentMatch.defaultType)||void 0===i?void 0:i.createAndFill(r))||void 0;e=e.append(dl.from(s.createAndFill(null,l)||void 0));const c=a.before(a.depth-(n-1));t.replace(c,a.after(-o),new vl(e,4-n,0));let u=-1;t.doc.nodesBetween(c,t.doc.content.size,((e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)})),u>-1&&t.setSelection(tu.near(t.doc.resolve(u))),t.scrollIntoView()}return!0}const h=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,p=Gf(d,u.type.name,u.attrs),f=Gf(d,a.node().type.name,a.node().attrs);t.delete(a.pos,l.pos);const m=h?[{type:s,attrs:p},{type:h,attrs:f}]:[{type:s,attrs:p}];return!!Ic(t.doc,a.pos,2)&&(o&&t.split(a.pos,2,m).scrollIntoView(),!0)},toggleList:(e,t)=>({editor:n,tr:o,state:r,dispatch:i,chain:s,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,u=af(e,r.schema),d=af(t,r.schema),{selection:h}=r,{$from:p,$to:f}=h,m=p.blockRange(f);if(!m)return!1;const g=Jf((e=>Zf(e.type.name,c)))(h);if(m.depth>=1&&g&&m.depth-g.depth<=1){if(g.node.type===u)return a.liftListItem(d);if(Zf(g.node.type.name,c)&&u.validContent(g.node.content)&&i)return s().command((()=>(o.setNodeMarkup(g.pos,u),!0))).command((()=>Qf(o,u))).command((()=>em(o,u))).run()}return s().command((()=>!!l().wrapInList(u)||a.clearNodes())).wrapInList(u).command((()=>Qf(o,u))).command((()=>em(o,u))).run()},toggleMark:(e,t={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=Pf(e,o.schema);return tm(o,s,t)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,t)},toggleNode:(e,t,n={})=>({state:o,commands:r})=>{const i=af(e,o.schema),s=af(t,o.schema);return zf(o,i,n)?r.setNode(s):r.setNode(i,n)},toggleWrap:(e,t={})=>({state:n,commands:o})=>{const r=af(e,n.schema);return zf(n,r,t)?o.lift(r):o.wrapIn(r,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let i;if(r.spec.isInputRules&&(i=r.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:o,ranges:r}=n;return o||t&&r.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(e,t={})=>({tr:n,state:o,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=Pf(e,o.schema),{$from:c,empty:u,ranges:d}=a;if(!r)return!0;if(u&&s){let{from:e,to:t}=a;const o=null===(i=c.marks().find((e=>e.type===l)))||void 0===i?void 0:i.attrs,r=Nf(c,l,o);r&&(e=r.from,t=r.to),n.removeMark(e,t,l)}else d.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const a=$f("string"==typeof e?e:e.name,o.schema);return!!a&&("node"===a&&(i=af(e,o.schema)),"mark"===a&&(s=Pf(e,o.schema)),r&&n.selection.ranges.forEach((e=>{const r=e.$from.pos,a=e.$to.pos;o.doc.nodesBetween(r,a,((e,o)=>{i&&i===e.type&&n.setNodeMarkup(o,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach((i=>{if(s===i.type){const l=Math.max(o,r),c=Math.min(o+e.nodeSize,a);n.addMark(l,c,s.create({...i.attrs,...t}))}}))}))})),!0)},wrapIn:(e,t={})=>({state:n,dispatch:o})=>function(e,t=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),a=s&&Mc(s,e,t);return!!a&&(o&&o(n.tr.wrap(s,a).scrollIntoView()),!0)}}(af(e,n.schema),t)(n,o),wrapInList:(e,t={})=>({state:n,dispatch:o})=>Qp(af(e,n.schema),t)(n,o)});const om=Ef.create({name:"commands",addCommands:()=>({...nm})}),rm=Ef.create({name:"editable",addProseMirrorPlugins(){return[new gu({key:new wu("editable"),props:{editable:()=>this.editor.options.editable}})]}}),im=Ef.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new gu({key:new wu("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const o=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1},blur:(t,n)=>{e.isFocused=!1;const o=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1}}}})]}}),sm=Ef.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.command((({tr:t})=>{const{selection:n,doc:o}=t,{empty:r,$anchor:i}=n,{pos:s,parent:a}=i,l=Jc.atStart(o).from===s;return!(!(r&&l&&a.type.isTextblock)||a.textContent.length)&&e.clearNodes()})),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.joinForward(),()=>e.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},r={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Vf()||Hf()?r:o},addProseMirrorPlugins(){return[new gu({key:new wu("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some((e=>e.docChanged))&&!t.doc.eq(n.doc)))return;const{empty:o,from:r,to:i}=t.selection,s=Jc.atStart(t.doc).from,a=Jc.atEnd(t.doc).to,l=r===s&&i===a,c=0===n.doc.textBetween(0,n.doc.content.size," "," ").length;if(o||!l||!c)return;const u=n.tr,d=tf({state:n,transaction:u}),{commands:h}=new nf({editor:this.editor,state:d});return h.clearNodes(),u.steps.length?u:void 0}})]}}),am=Ef.create({name:"tabindex",addProseMirrorPlugins(){return[new gu({key:new wu("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var lm=Object.freeze({__proto__:null,ClipboardTextSerializer:Tf,Commands:om,Editable:rm,FocusEvents:im,Keymap:sm,Tabindex:am});function cm(e,t){const n=$f("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=af(t,e.schema),{from:o,to:r}=e.selection,i=[];e.doc.nodesBetween(o,r,(e=>{i.push(e)}));const s=i.reverse().find((e=>e.type.name===n.name));return s?{...s.attrs}:{}}(e,t):"mark"===n?Yf(e,t):{}}function um(e,t){const n=dc.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function dm(e,t){return Af(e,{from:0,to:e.content.size},t)}function hm(e){const t=function(e,t=JSON.stringify){const n={};return e.filter((e=>{const o=t(e);return!Object.prototype.hasOwnProperty.call(n,o)&&(n[o]=!0)}))}(e);return 1===t.length?t:t.filter(((e,n)=>{const o=t.filter(((e,t)=>t!==n));return!o.some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}))}function pm(e,t,n){const o=[];return e===t?n.resolve(e).marks().forEach((t=>{const r=Nf(n.resolve(e-1),t.type);r&&o.push({mark:t,...r})})):n.nodesBetween(e,t,((e,t)=>{o.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),o}function fm(e,t,n){const o=e.state.doc.content.size,r=jf(t,0,o),i=jf(n,0,o),s=e.coordsAtPos(r),a=e.coordsAtPos(i,-1),l=Math.min(s.top,a.top),c=Math.max(s.bottom,a.bottom),u=Math.min(s.left,a.left),d=Math.max(s.right,a.right),h={top:l,bottom:c,left:u,right:d,width:d-u,height:c-l,x:u,y:l};return{...h,toJSON:()=>h}}function mm(e){return new yf({find:e.find,handler:({state:t,range:n,match:o})=>{const r=df(e.getAttributes,void 0,o);if(!1===r||null===r)return null;const{tr:i}=t,s=o[o.length-1],a=o[0];let l=n.to;if(s){const o=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(pm(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>c)).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+o,c),l=n.from+o+s.length,i.addMark(n.from+o,l,e.type.create(r||{})),i.removeStoredMark(e.type)}}})}function gm(e){return new yf({find:e.find,handler:({state:t,range:n,match:o})=>{const r=df(e.getAttributes,void 0,o)||{},{tr:i}=t,s=n.from;let a=n.to;if(o[1]){let t=s+o[0].lastIndexOf(o[1]);t>a?t=a:a=t+o[1].length;const n=o[0][o[0].length-1];i.insertText(n,s+o[0].length-1),i.replaceWith(t,a,e.type.create(r))}else o[0]&&i.replaceWith(s,a,e.type.create(r))}})}function vm(e){return new yf({find:e.find,handler:({state:t,range:n,match:o})=>{const r=t.doc.resolve(n.from),i=df(e.getAttributes,void 0,o)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})}function ym(e){return new yf({find:e.find,handler:({state:t,range:n,match:o})=>{const r=df(e.getAttributes,void 0,o)||{},i=t.tr.delete(n.from,n.to),s=i.doc.resolve(n.from).blockRange(),a=s&&Mc(s,e.type,r);if(!a)return null;i.wrap(s,a);const l=i.doc.resolve(n.from-1).nodeBefore;l&&l.type===e.type&&Nc(i.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(o,l))&&i.join(n.from-1)}})}class wm{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=df(of(this,"addOptions",{name:this.name}))),this.storage=df(of(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new wm(e)}configure(e={}){const t=this.extend();return t.options=Df(this.options,e),t.storage=df(of(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new wm(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=df(of(t,"addOptions",{name:t.name})),t.storage=df(of(t,"addStorage",{name:t.name,options:t.options})),t}}class bm{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=df(of(this,"addOptions",{name:this.name}))),this.storage=df(of(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bm(e)}configure(e={}){const t=this.extend();return t.options=Df(this.options,e),t.storage=df(of(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new bm(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=df(of(t,"addOptions",{name:t.name})),t.storage=df(of(t,"addStorage",{name:t.name,options:t.options})),t}}function km(e){return new kf({find:e.find,handler:({state:t,range:n,match:o})=>{const r=df(e.getAttributes,void 0,o);if(!1===r||null===r)return null;const{tr:i}=t,s=o[o.length-1],a=o[0];let l=n.to;if(s){const o=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(pm(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>c)).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+o,c),l=n.from+o+s.length,i.addMark(n.from+o,l,e.type.create(r||{})),i.removeStoredMark(e.type)}}})}class xm{constructor({editor:e,element:t,view:n,tippyOptions:o={},shouldShow:r}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:o})=>{const{doc:r,selection:i}=t,{empty:s}=i,a=!r.textBetween(n,o).length&&Bf(t.selection);return!(!e.hasFocus()||s||a)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=n,r&&(this.shouldShow=r),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=(0,Ko.ZP)(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(e=>{this.blurHandler({event:e})})))}update(e,t){var n,o,r;const{state:i,composing:s}=e,{doc:a,selection:l}=i,c=t&&t.doc.eq(a)&&t.selection.eq(l);if(s||c)return;this.createTooltip();const{ranges:u}=l,d=Math.min(...u.map((e=>e.$from.pos))),h=Math.max(...u.map((e=>e.$to.pos)));(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:i,oldState:t,from:d,to:h}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:(null===(r=this.tippyOptions)||void 0===r?void 0:r.getReferenceClientRect)||(()=>{if(Uf(t=i.selection)&&t instanceof ou){const t=e.nodeDOM(d);if(t)return t.getBoundingClientRect()}var t;return fm(e,d,h)})}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Sm=e=>new gu({key:"string"==typeof e.pluginKey?new wu(e.pluginKey):e.pluginKey,view:t=>new xm({view:t,...e})});Ef.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[Sm({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class _m{constructor({editor:e,element:t,view:n,tippyOptions:o={},shouldShow:r}){this.preventHide=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:o,empty:r}=n,i=1===o.depth,s=o.parent.isTextblock&&!o.parent.type.spec.code&&!o.parent.textContent;return!!(e.hasFocus()&&r&&i&&s)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=n,r&&(this.shouldShow=r),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=(0,Ko.ZP)(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(e=>{this.blurHandler({event:e})})))}update(e,t){var n,o,r;const{state:i}=e,{doc:s,selection:a}=i,{from:l,to:c}=a;if(t&&t.doc.eq(s)&&t.selection.eq(a))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:i,oldState:t}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:(null===(r=this.tippyOptions)||void 0===r?void 0:r.getReferenceClientRect)||(()=>fm(e,l,c))}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Cm=e=>new gu({key:"string"==typeof e.pluginKey?new wu(e.pluginKey):e.pluginKey,view:t=>new _m({view:t,...e})});Ef.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[Cm({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),(0,t.aZ)({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:n}){const r=(0,o.iH)(null);return(0,t.bv)((()=>{const{pluginKey:t,editor:n,tippyOptions:o,shouldShow:i}=e;n.registerPlugin(Sm({pluginKey:t,editor:n,element:r.value,tippyOptions:o,shouldShow:i}))})),(0,t.Jd)((()=>{const{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)})),()=>{var e;return(0,t.h)("div",{ref:r},null===(e=n.default)||void 0===e?void 0:e.call(n))}}});function Dm(e){return(0,o.ZM)(((t,n)=>({get:()=>(t(),e),set(t){e=t,requestAnimationFrame((()=>{requestAnimationFrame((()=>{n()}))}))}})))}class Em extends class extends class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=uf(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:n});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(lm):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new _f(e,this)}createCommandManager(){this.commandManager=new nf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=qf(this.options.content,this.schema,this.options.parseOptions),t=Rf(e,this.options.autofocus);this.view=new yp(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:fu.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),r=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return cm(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,o="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return zf(e,null,n)||tm(e,null,n);const o=$f(t,e.schema);return"node"===o?zf(e,t,n):"mark"===o&&tm(e,t,n)}(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return um(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return dm(this.state.doc,{blockSeparator:t,textSerializers:{...n,...Of(this.schema)}})}get isEmpty(){return function(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),o=e.toJSON();return JSON.stringify(n)===JSON.stringify(o)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}}{constructor(e={}){return super(e),this.vueRenderers=(0,o.qj)(new Map),this.contentComponent=null,this.reactiveState=Dm(this.view.state),this.reactiveExtensionStorage=Dm(this.extensionStorage),this.on("transaction",(()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage})),(0,o.Xl)(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){super.registerPlugin(e,t),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const Am=(0,t.aZ)({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const n=(0,o.iH)(),r=(0,t.FN)();return(0,t.m0)((()=>{const i=e.editor;i&&i.options.element&&n.value&&(0,t.Y3)((()=>{if(!n.value||!i.options.element.firstChild)return;const e=(0,o.SU)(n.value);n.value.append(...i.options.element.childNodes),i.contentComponent=r.ctx._,i.setOptions({element:e}),i.createNodeViews()}))})),(0,t.Jd)((()=>{const t=e.editor;if(!t)return;if(t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild)return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})})),{rootEl:n}},render(){const e=[];return this.editor&&this.editor.vueRenderers.forEach((n=>{const o=(0,t.h)(t.lR,{to:n.teleportElement,key:n.id},(0,t.h)(n.component,{ref:n.id,...n.props}));e.push(o)})),(0,t.h)("div",{ref:e=>{this.rootEl=e}},...e)}});(0,t.aZ)({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:n}){const r=(0,o.iH)(null);return(0,t.bv)((()=>{const{pluginKey:t,editor:n,tippyOptions:o,shouldShow:i}=e;n.registerPlugin(Cm({pluginKey:t,editor:n,element:r.value,tippyOptions:o,shouldShow:i}))})),(0,t.Jd)((()=>{const{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)})),()=>{var e;return(0,t.h)("div",{ref:r},null===(e=n.default)||void 0===e?void 0:e.call(n))}}}),(0,t.aZ)({props:{as:{type:String,default:"div"}},render(){return(0,t.h)(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),(0,t.aZ)({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,n;return(0,t.h)(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},null===(n=(e=this.$slots).default)||void 0===n?void 0:n.call(e))}});Boolean;const Om=/^\s*>\s$/,Tm=bm.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ym({find:Om,type:this.type})]}}),Mm=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Lm=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Im=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Nm=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Pm=wm.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[mm({find:Mm,type:this.type}),mm({find:Im,type:this.type})]},addPasteRules(){return[km({find:Lm,type:this.type}),km({find:Nm,type:this.type})]}}),Um=/^\s*([-+*])\s$/,Bm=bm.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[ym({find:Um,type:this.type})]}}),jm=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,Rm=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,Vm=wm.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[mm({find:jm,type:this.type})]},addPasteRules(){return[km({find:Rm,type:this.type})]}}),Fm=/^```([a-z]+)?[\s\n]$/,Wm=/^~~~([a-z]+)?[\s\n]$/,Hm=bm.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return o||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",lf(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const i=o.parentOffset===o.parent.nodeSize-2,s=o.parent.textContent.endsWith("\n\n");return!(!i||!s)&&e.chain().command((({tr:e})=>(e.delete(o.pos-2,o.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:o}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;if(!(r.parentOffset===r.parent.nodeSize-2))return!1;const s=r.after();if(void 0===s)return!1;return!o.nodeAt(s)&&e.commands.exitCode()}}},addInputRules(){return[vm({find:Fm,type:this.type,getAttributes:e=>({language:e[1]})}),vm({find:Wm,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new gu({key:new wu("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),o=t.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,i=null==r?void 0:r.mode;if(!n||!i)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:i})),s.setSelection(tu.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),zm=bm.create({name:"doc",topNode:!0,content:"block+"});function $m(e={}){return new gu({view:t=>new Km(t,e)})}class Km{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,o=t.nodeAfter;if(n||o){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),r=n?t.bottom:t.top;n&&o&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:t.left,right:t.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,o,r=this.editorView.dom.offsetParent;if(this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!r||r==document.body&&"static"==getComputedStyle(r).position)n=-pageXOffset,o=-pageYOffset;else{let e=r.getBoundingClientRect();n=e.left-r.scrollLeft,o=e.top-r.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-o+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=n&&n.type.spec.disableDropCursor,r="function"==typeof o?o(this.editorView,t):o;if(t&&!r){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(e=Uc(this.editorView.state.doc,e,this.editorView.dragging.slice),null==e))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const qm=Ef.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[$m(this.options)]}}),Ym="undefined"!=typeof navigator?navigator:null,Gm="undefined"!=typeof document?document:null,Xm=Ym&&Ym.userAgent||"",Jm=/Edge\/(\d+)/.exec(Xm),Zm=/MSIE \d/.exec(Xm),Qm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xm),eg=!!(Zm||Qm||Jm),tg=Zm?document.documentMode:Qm?+Qm[1]:Jm?+Jm[1]:0,ng=!eg&&/gecko\/(\d+)/i.test(Xm);ng&&(/Firefox\/(\d+)/.exec(Xm)||[0,0])[1];const og=!eg&&/Chrome\/(\d+)/.exec(Xm),rg=!!og,ig=og?+og[1]:0,sg=!eg&&!!Ym&&/Apple Computer/.test(Ym.vendor),ag=sg&&(/Mobile\/\w+/.test(Xm)||!!Ym&&Ym.maxTouchPoints>2),lg=ag||!!Ym&&/Mac/.test(Ym.platform),cg=/Android \d/.test(Xm),ug=!!Gm&&"webkitFontSmoothing"in Gm.documentElement.style,dg=ug?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,hg=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t};const pg=function(e,t,n,o){return n&&(mg(e,t,n,o,-1)||mg(e,t,n,o,1))},fg=/^(img|br|input|textarea|hr)$/i;function mg(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:gg(e))){let n=e.parentNode;if(!n||1!=n.nodeType||vg(e)||fg.test(e.nodeName)||"false"==e.contentEditable)return!1;t=hg(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?gg(e):0}}}function gg(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function vg(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const yg=function(e){let t=e.isCollapsed;return t&&rg&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function wg(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const bg=function(e){e&&(this.nodeName=e)};bg.prototype=Object.create(null);new bg;function kg(e,t=null){let n=e.domSelection(),o=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),i=r&&0==r.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=o.resolve(s);if(yg(n)){for(a=c;r&&!r.node;)r=r.parent;let e=r.node;if(r&&e.isAtom&&ou.isSelectable(e)&&r.parent&&(!e.isInline||!function(e,t,n){for(let o=0==t,r=t==gg(e);o||r;){if(e==n)return!0;let t=hg(e);if(!(e=e.parentNode))return!1;o=o&&0==t,r=r&&t==gg(e)}}(n.focusNode,n.focusOffset,r.dom))){let e=r.posBefore;l=new ou(s==e?c:o.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=o.resolve(t)}if(!l){l=Tg(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function xg(e){return e.editable?e.hasFocus():Mg(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Sg(e,t=!1){let n=e.state.selection;if(Ag(e,n),xg(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&rg){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&pg(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,hg(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&eg&&tg<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{let o,r,{anchor:i,head:s}=n;!_g||n instanceof tu||(n.$from.parent.inlineContent||(o=Cg(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=Cg(e,n.to))),e.docView.setSelection(i,s,e.root,t),_g&&(o&&Eg(o),r&&Eg(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{xg(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const _g=sg||rg&&ig<63;function Cg(e,t){let{node:n,offset:o}=e.docView.domFromPos(t,0),r=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(sg&&r&&"false"==r.contentEditable)return Dg(r);if(!(r&&"false"!=r.contentEditable||i&&"false"!=i.contentEditable)){if(r)return Dg(r);if(i)return Dg(i)}}function Dg(e){return e.contentEditable="true",sg&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Eg(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ag(e,t){if(t instanceof ou){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Og(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Og(e)}function Og(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Tg(e,t,n,o){return e.someProp("createSelectionBetween",(o=>o(e,t,n)))||tu.between(t,n,o)}function Mg(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Lg(e,t){let{$anchor:n,$head:o}=e.selection,r=t>0?n.max(o):n.min(o),i=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return i&&Jc.findFrom(i,t)}function Ig(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ng(e,t,n){let o=e.state.selection;if(!(o instanceof tu)){if(o instanceof ou&&o.node.isInline)return Ig(e,new tu(t>0?o.$to:o.$from));{let n=Lg(e.state,t);return!!n&&Ig(e,n)}}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Lg(e.state,t);return!!(n&&n instanceof ou)&&Ig(e,n)}if(!(lg&&n.indexOf("m")>-1)){let n,r=o.$head,i=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText)return!1;let s=t<0?r.pos-i.nodeSize:r.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(ou.isSelectable(i)?Ig(e,new ou(t<0?e.state.doc.resolve(r.pos-i.nodeSize):r)):!!ug&&Ig(e,new tu(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function Pg(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ug(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Bg(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,i,s=!1;for(ng&&1==n.nodeType&&o<Pg(n)&&Ug(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;{let e=n.childNodes[o-1];if(Ug(e))r=n,i=--o;else{if(3!=e.nodeType)break;n=e,o=n.nodeValue.length}}}else{if(Rg(n))break;{let t=n.previousSibling;for(;t&&Ug(t);)r=n.parentNode,i=hg(t),t=t.previousSibling;if(t)n=t,o=Pg(n);else{if(n=n.parentNode,n==e.dom)break;o=0}}}s?Vg(e,t,n,o):r&&Vg(e,t,r,i)}function jg(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,i,s=Pg(n);for(;;)if(o<s){if(1!=n.nodeType)break;if(!Ug(n.childNodes[o]))break;r=n,i=++o}else{if(Rg(n))break;{let t=n.nextSibling;for(;t&&Ug(t);)r=t.parentNode,i=hg(t)+1,t=t.nextSibling;if(t)n=t,o=0,s=Pg(n);else{if(n=n.parentNode,n==e.dom)break;o=s=0}}}r&&Vg(e,t,r,i)}function Rg(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Vg(e,t,n,o){if(yg(t)){let e=document.createRange();e.setEnd(n,o),e.setStart(n,o),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection();let{state:r}=e;setTimeout((()=>{e.state==r&&Sg(e)}),50)}function Fg(e,t,n){let o=e.state.selection;if(o instanceof tu&&!o.empty||n.indexOf("s")>-1)return!1;if(lg&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=o;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Lg(e.state,t);if(n&&n instanceof ou)return Ig(e,n)}if(!r.parent.inlineContent){let n=t<0?r:i,s=o instanceof iu?Jc.near(n,t):Jc.findFrom(n,t);return!!s&&Ig(e,s)}return!1}function Wg(e,t){if(!(e.state.selection instanceof tu))return!0;let{$head:n,$anchor:o,empty:r}=e.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function Hg(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function zg(e,t){let n=t.keyCode,o=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||lg&&72==n&&"c"==o?Wg(e,-1)||Bg(e):46==n||lg&&68==n&&"c"==o?Wg(e,1)||jg(e):13==n||27==n||(37==n||lg&&66==n&&"c"==o?Ng(e,-1,o)||Bg(e):39==n||lg&&70==n&&"c"==o?Ng(e,1,o)||jg(e):38==n||lg&&80==n&&"c"==o?Fg(e,-1,o)||Bg(e):40==n||lg&&78==n&&"c"==o?function(e){if(!sg||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;Hg(e,n,"true"),setTimeout((()=>Hg(e,n,"false")),20)}return!1}(e)||Fg(e,1,o)||jg(e):o==(lg?"m":"c")&&(66==n||73==n||89==n||90==n))}function $g(e,t){let n=[],{content:o,openStart:r,openEnd:i}=t;for(;r>1&&i>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,i--;let e=o.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),o=e.content}let s=e.someProp("clipboardSerializer")||dc.fromSchema(e.state.schema),a=tv(),l=a.createElement("div");l.appendChild(s.serializeFragment(o,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=Qg[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:h}}function Kg(e,t,n,o,r){let i,s,a=r.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(o||a||!n);if(l){if(e.someProp("transformPastedText",(e=>{t=e(t,a||o)})),a)return t?new vl(dl.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):vl.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,r,o)));if(n)s=n;else{let n=r.marks(),{schema:o}=e.state,s=dc.fromSchema(o);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(o.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,o=tv().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&Qg[r[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(o.innerHTML=e,n)for(let e=0;e<n.length;e++)o=o.querySelector(n[e])||o;return o}(n),ug&&function(e){let t=e.querySelectorAll(rg?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let o=t[n];1==o.childNodes.length&&" "==o.textContent&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0&&i.firstChild;e--)i=i.firstChild;if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||tc.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:r,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||qg.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:r,openStart:i,openEnd:s}=e;for(let e=n.length-2;e>=0;e-=2){let t=o.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;r=dl.from(t.create(n[e+1],r)),i++,s++}return new vl(r,i,s)}(Zg(s,+u[1],+u[2]),u[4]);else if(s=vl.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o,r=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach((e=>{if(!i)return;let t,n=r.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&o.length&&Gg(n,o,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=Xg(i[i.length-1],o.length));let t=Yg(e,n);i.push(t),r=r.matchType(t.type),o=n}})),i)return dl.from(i)}return e}(s.content,r),!0),s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=Zg(s,e,t)}return e.someProp("transformPasted",(e=>{s=e(s)})),s}const qg=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Yg(e,t,n=0){for(let o=t.length-1;o>=n;o--)e=t[o].create(null,dl.from(e));return e}function Gg(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let i=Gg(e,t,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(dl.from(Yg(n,e,r+1))))}}function Xg(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,Xg(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(dl.empty,!0);return e.copy(n.append(o))}function Jg(e,t,n,o,r,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return r<o-1&&(a=Jg(a,t,n,o,r+1,i)),r>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||i<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(dl.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function Zg(e,t,n){return t<e.openStart&&(e=new vl(Jg(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new vl(Jg(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Qg={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ev=null;function tv(){return ev||(ev=document.implementation.createHTMLDocument("title"))}const nv={};let ov={};function rv(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function iv(e){return{left:e.clientX,top:e.clientY}}function sv(e,t,n,o,r){if(-1==o)return!1;let i=e.state.doc.resolve(o);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,(t=>o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1))))return!0;return!1}function av(e,t,n){e.focused||e.focus();let o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function lv(e,t,n,o,r){return sv(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(n=>n(e,t,o)))||(r?function(e,t){if(-1==t)return!1;let n,o,r=e.state.selection;r instanceof ou&&(n=r.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(ou.isSelectable(t)){o=n&&r.$from.depth>0&&e>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?i.before(r.$from.depth):i.before(e);break}}return null!=o&&(av(e,ou.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&ou.isSelectable(o))&&(av(e,new ou(n),"pointer"),!0)}(e,n))}function cv(e,t,n,o){return sv(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(n=>n(e,t,o)))}function uv(e,t,n,o){return sv(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(n=>n(e,t,o)))||function(e,t,n){if(0!=n.button)return!1;let o=e.state.doc;if(-1==t)return!!o.inlineContent&&(av(e,tu.create(o,0,o.content.size),"pointer"),!0);let r=o.resolve(t);for(let t=r.depth+1;t>0;t--){let n=t>r.depth?r.nodeAfter:r.node(t),i=r.before(t);if(n.inlineContent)av(e,tu.create(o,i+1,i+1+n.content.size),"pointer");else{if(!ou.isSelectable(n))continue;av(e,ou.create(o,i),"pointer")}return!0}}(e,n,o)}function dv(e){return yv(e)}ov.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!fv(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!cg||!rg||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!ag||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||zg(e,n)?n.preventDefault():rv(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,wg(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},ov.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},ov.keypress=(e,t)=>{let n=t;if(fv(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||lg&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let o=e.state.selection;if(!(o instanceof tu&&o.$from.sameParent(o.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,o.$from.pos,o.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const hv=lg?"metaKey":"ctrlKey";nv.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let o=dv(e),r=Date.now(),i="singleClick";r-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(n,e.input.lastClick)&&!n[hv]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(iv(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new pv(e,s,n,!!o)):("doubleClick"==i?cv:uv)(e,s.pos,s.inside,n)?n.preventDefault():rv(e,"pointer"))};class pv{constructor(e,t,n,o){let r,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[hv],this.allowDefault=n.shiftKey,t.inside>-1)r=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);r=n.parent,i=n.depth?n.before():0}const s=o?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a?a.dom:null;let{selection:l}=e.state;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||l instanceof ou&&l.from<=i&&l.to>i)&&(this.mightDrag={node:r,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!ng||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rv(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Sg(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(iv(e))),this.allowDefault||!t?rv(this.view,"pointer"):lv(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||sg&&this.mightDrag&&!this.mightDrag.node.isAtom||rg&&!(this.view.state.selection instanceof tu)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(av(this.view,Jc.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):rv(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),rv(this.view,"pointer"),0==e.buttons&&this.done()}}function fv(e,t){return!!e.composing||!!(sg&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}nv.touchdown=e=>{dv(e),rv(e,"pointer")},nv.contextmenu=e=>dv(e);const mv=cg?5e3:-1;function gv(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>yv(e)),t))}function vv(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function yv(e,t=!1){if(!(cg&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),vv(e),t||e.docView&&e.docView.dirty){let t=kg(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}ov.compositionstart=ov.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),yv(e,!0),e.markCursor=null;else if(yv(e),ng&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let o=n<0?e.lastChild:e.childNodes[n-1];if(!o)break;if(3==o.nodeType){t.collapse(o,o.nodeValue.length);break}e=o,n=-1}}e.input.composing=!0}gv(e,mv)},ov.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,gv(e,20))};const wv=eg&&tg<15||ag&&dg<604;function bv(e,t,n,o){let r=Kg(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,r||vl.empty))))return!0;if(!r)return!1;let i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=i?e.state.tr.replaceSelectionWith(i,e.input.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}nv.copy=ov.cut=(e,t)=>{let n=t,o=e.state.selection,r="cut"==n.type;if(o.empty)return;let i=wv?null:n.clipboardData,s=o.content(),{dom:a,text:l}=$g(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ov.paste=(e,t)=>{let n=t;if(e.composing&&!cg)return;let o=wv?null:n.clipboardData;o&&bv(e,o.getData("text/plain"),o.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((()=>{e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?bv(e,o.value,null,t):bv(e,o.textContent,o.innerHTML,t)}),50)}(e,n)};class kv{constructor(e,t){this.slice=e,this.move=t}}const xv=lg?"altKey":"ctrlKey";nv.dragstart=(e,t)=>{let n=t,o=e.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=e.state.selection,i=r.empty?null:e.posAtCoords(iv(n));if(i&&i.pos>=r.from&&i.pos<=(r instanceof ou?r.to-1:r.to));else if(o&&o.mightDrag)e.dispatch(e.state.tr.setSelection(ou.create(e.state.doc,o.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(ou.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:a,text:l}=$g(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(wv?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",wv||n.dataTransfer.setData("text/plain",l),e.dragging=new kv(s,!n[xv])},nv.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},ov.dragover=ov.dragenter=(e,t)=>t.preventDefault(),ov.drop=(e,t)=>{let n=t,o=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let r=e.posAtCoords(iv(n));if(!r)return;let i=e.state.doc.resolve(r.pos);if(!i)return;let s=o&&o.slice;s?e.someProp("transformPasted",(e=>{s=e(s)})):s=Kg(e,n.dataTransfer.getData(wv?"Text":"text/plain"),wv?null:n.dataTransfer.getData("text/html"),!1,i);let a=!(!o||n[xv]);if(e.someProp("handleDrop",(t=>t(e,n,s||vl.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?Uc(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);let c=e.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&ou.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ou(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,o,r)=>t=r)),c.setSelection(Tg(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},nv.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Sg(e)}),20))},nv.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},nv.beforeinput=(e,t)=>{if(rg&&cg&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,wg(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in ov)nv[e]=ov[e];function Sv(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class _v{constructor(e,t){this.toDOM=e,this.spec=t||Ov,this.side=this.spec.side||0}map(e,t,n,o){let{pos:r,deleted:i}=e.mapResult(t.from+o,this.side<0?-1:1);return i?null:new Ev(r-n,r-n,this)}valid(){return!0}eq(e){return this==e||e instanceof _v&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Sv(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Cv{constructor(e,t){this.attrs=e,this.spec=t||Ov}map(e,t,n,o){let r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new Ev(r,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Cv&&Sv(this.attrs,e.attrs)&&Sv(this.spec,e.spec)}static is(e){return e.type instanceof Cv}destroy(){}}class Dv{constructor(e,t){this.attrs=e,this.spec=t||Ov}map(e,t,n,o){let r=e.mapResult(t.from+o,1);if(r.deleted)return null;let i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new Ev(r.pos-n,i.pos-n,this)}valid(e,t){let n,{index:o,offset:r}=e.content.findIndex(t.from);return r==t.from&&!(n=e.child(o)).isText&&r+n.nodeSize==t.to}eq(e){return this==e||e instanceof Dv&&Sv(this.attrs,e.attrs)&&Sv(this.spec,e.spec)}destroy(){}}class Ev{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Ev(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Ev(e,e,new _v(t,n))}static inline(e,t,n,o){return new Ev(e,t,new Cv(n,o))}static node(e,t,n,o){return new Ev(e,t,new Dv(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Cv}}const Av=[],Ov={};class Tv{constructor(e,t){this.local=e.length?e:Av,this.children=t.length?t:Av}static create(e,t){return t.length?Uv(t,e,0,Ov):Mv}find(e,t,n){let o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o}findInner(e,t,n,o,r){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,o+s,r)}}map(e,t,n){return this==Mv||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Ov)}mapInner(e,t,n,o,r){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,o);a&&a.type.valid(t,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,o,r,i,s){let a=e.slice(),l=(e,t,n,o)=>{for(let s=0;s<a.length;s+=3){let l,c=a[s+1];if(c<0||e>c+i)continue;let u=a[s]+i;t>=u?a[s+1]=e<=u?-2:-1:n>=r&&(l=o-n-(t-e))&&(a[s]+=l,a[s+1]+=l)}};for(let e=0;e<n.maps.length;e++)n.maps[e].forEach(l);let c=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){c=!0,a[t+1]=-1;continue}let l=n.map(e[t]+i),u=l-r;if(u<0||u>=o.content.size){c=!0;continue}let d=n.map(e[t+1]+i,-1)-r,{index:h,offset:p}=o.content.findIndex(u),f=o.maybeChild(h);if(f&&p==u&&p+f.nodeSize==d){let o=a[t+2].mapInner(n,f,l+1,e[t]+i+1,s);o!=Mv?(a[t]=u,a[t+1]=d,a[t+2]=o):(a[t+1]=-2,c=!0)}else c=!0}if(c){let l=function(e,t,n,o,r,i,s){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(o,r,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+i+1);return n}(a,e,t,n,r,i,s),c=Uv(l,o,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Tv(t.sort(Bv),a)}(this.children,i||[],e,t,n,o,r):i?new Tv(i.sort(Bv),Av):Mv}add(e,t){return t.length?this==Mv?Tv.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let o,r=0;e.forEach(((e,i)=>{let s,a=i+n;if(s=Nv(t,e,a)){for(o||(o=this.children.slice());r<o.length&&o[r]<i;)r+=3;o[r]==i?o[r+2]=o[r+2].addInner(e,s,a+1):o.splice(r,0,i,i+e.nodeSize,Uv(s,e,a+1,Ov)),r+=3}}));let i=Iv(r?Pv(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new Tv(i.length?this.local.concat(i).sort(Bv):this.local,o||this.children)}remove(e){return 0==e.length||this==Mv?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,o=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(r,i+1);a!=Mv?n[o+2]=a:(n.splice(o,3),o-=3)}if(o.length)for(let n,r=0;r<e.length;r++)if(n=e[r])for(let e=0;e<o.length;e++)o[e].eq(n,t)&&(o==this.local&&(o=this.local.slice()),o.splice(e--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Tv(o,n):Mv}forChild(e,t){if(this==Mv)return this;if(t.isLeaf)return Tv.empty;let n,o;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let r=e+1,i=r+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>r&&t.type instanceof Cv){let e=Math.max(r,t.from)-r,n=Math.min(i,t.to)-r;e<n&&(o||(o=[])).push(t.copy(e,n))}}if(o){let e=new Tv(o.sort(Bv),Av);return n?new Lv([e,n]):e}return n||Mv}eq(e){if(this==e)return!0;if(!(e instanceof Tv)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return jv(this.localsInner(e))}localsInner(e){if(this==Mv)return Av;if(e.inlineContent||!this.local.some(Cv.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Cv||t.push(this.local[e]);return t}}Tv.empty=new Tv([],[]),Tv.removeOverlap=jv;const Mv=Tv.empty;class Lv{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Ov)));return Lv.from(n)}forChild(e,t){if(t.isLeaf)return Tv.empty;let n=[];for(let o=0;o<this.members.length;o++){let r=this.members[o].forChild(e,t);r!=Mv&&(r instanceof Lv?n=n.concat(r.members):n.push(r))}return Lv.from(n)}eq(e){if(!(e instanceof Lv)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let o=0;o<this.members.length;o++){let r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<r.length;e++)t.push(r[e])}else t=r}return t?jv(n?t:t.sort(Bv)):Av}static from(e){switch(e.length){case 0:return Mv;case 1:return e[0];default:return new Lv(e)}}}function Iv(e,t){if(!t||!e.length)return e;let n=[];for(let o=0;o<e.length;o++){let r=e[o];n.push(new Ev(r.from+t,r.to+t,r.type))}return n}function Nv(e,t,n){if(t.isLeaf)return null;let o=n+t.nodeSize,r=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<o&&((r||(r=[])).push(t),e[i]=null);return r}function Pv(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Uv(e,t,n,o){let r=[],i=!1;t.forEach(((t,s)=>{let a=Nv(e,t,s+n);if(a){i=!0;let e=Uv(a,t,n+s+1,o);e!=Mv&&r.push(s,s+t.nodeSize,e)}}));let s=Iv(i?Pv(e):e,-n).sort(Bv);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(o.onRemove&&o.onRemove(s[e].spec),s.splice(e--,1));return s.length||r.length?new Tv(s,r):Mv}function Bv(e,t){return e.from-t.from||e.to-t.to}function jv(e){let t=e;for(let n=0;n<t.length-1;n++){let o=t[n];if(o.from!=o.to)for(let r=n+1;r<t.length;r++){let i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),Rv(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),Rv(t,r+1,i.copy(o.to,i.to)))}}return t}function Rv(e,t,n){for(;t<e.length&&Bv(n,e[t])>0;)t++;e.splice(t,0,n)}class Vv extends Jc{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Vv.valid(n)?new Vv(n):Jc.near(n)}content(){return vl.empty}eq(e){return e instanceof Vv&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vv(e.resolve(t.pos))}getBookmark(){return new Fv(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),o=e.node(t);if(0!=n)for(let e=o.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(o.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),o=e.node(t);if(n!=o.childCount)for(let e=o.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(o.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Vv.valid(e))return e;let o=e.pos,r=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){r=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;o+=t;let s=e.doc.resolve(o);if(Vv.valid(s))return s}for(;;){let i=t>0?r.firstChild:r.lastChild;if(!i){if(r.isAtom&&!r.isText&&!ou.isSelectable(r)){e=e.doc.resolve(o+r.nodeSize*t),n=!1;continue e}break}r=i,o+=t;let s=e.doc.resolve(o);if(Vv.valid(s))return s}return null}}}Vv.prototype.visible=!1,Vv.findFrom=Vv.findGapCursorFrom,Jc.jsonID("gapcursor",Vv);class Fv{constructor(e){this.pos=e}map(e){return new Fv(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Vv.valid(t)?new Vv(t):Jc.near(t)}}const Wv=Ap({ArrowLeft:Hv("horiz",-1),ArrowRight:Hv("horiz",1),ArrowUp:Hv("vert",-1),ArrowDown:Hv("vert",1)});function Hv(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,o,r){let i=e.selection,s=t>0?i.$to:i.$from,a=i.empty;if(i instanceof tu){if(!r.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=Vv.findGapCursorFrom(s,t,a);return!!l&&(o&&o(e.tr.setSelection(new Vv(l))),!0)}}function zv(e,t,n){if(!e||!e.editable)return!1;let o=e.state.doc.resolve(t);if(!Vv.valid(o))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return!(r&&r.inside>-1&&ou.isSelectable(e.state.doc.nodeAt(r.inside)))&&(e.dispatch(e.state.tr.setSelection(new Vv(o))),!0)}function $v(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof Vv))return!1;let{$from:n}=e.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!o)return!1;let r=dl.empty;for(let e=o.length-1;e>=0;e--)r=dl.from(o[e].createAndFill(null,r));let i=e.state.tr.replace(n.pos,n.pos,new vl(r,0,0));return i.setSelection(tu.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function Kv(e){if(!(e.selection instanceof Vv))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Tv.create(e.doc,[Ev.widget(e.selection.head,t,{key:"gapcursor"})])}const qv=Ef.create({name:"gapCursor",addProseMirrorPlugins:()=>[new gu({props:{decorations:Kv,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&Vv.valid(n)?new Vv(n):null,handleClick:zv,handleKeyDown:Wv,handleDOMEvents:{beforeinput:$v}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=df(of(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))&&void 0!==t?t:null}}}),Yv=bm.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",lf(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:o})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:r}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=o.extensionManager,a=r||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&a&&i){const t=a.filter((e=>s.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Gv=bm.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,lf(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>vm({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});var Xv=200,Jv=function(){};Jv.prototype.append=function(e){return e.length?(e=Jv.from(e),!this.length&&e||e.length<Xv&&this.leafAppend(e)||this.length<Xv&&e.leafPrepend(this)||this.appendInner(e)):this},Jv.prototype.prepend=function(e){return e.length?Jv.from(e).append(this):this},Jv.prototype.appendInner=function(e){return new Qv(this,e)},Jv.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Jv.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Jv.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Jv.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Jv.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(t,n){return o.push(e(t,n))}),t,n),o},Jv.from=function(e){return e instanceof Jv?e:e&&e.length?new Zv(e):Jv.empty};var Zv=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,o){for(var r=t;r<n;r++)if(!1===e(this.values[r],o+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,o){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],o+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Xv)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Xv)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Jv);Jv.empty=new Zv([]);var Qv=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,o){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,o){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,o))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Jv);const ey=Jv;class ty{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,o,r=this.items.length;for(;;r--){if(this.items.get(r-1).selection){--r;break}}t&&(n=this.remapping(r,this.items.length),o=n.maps.length);let i,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(r,t+1),o=n.maps.length),o--,void c.push(e);if(n){c.push(new ny(e.map));let t,r=e.step.map(n.slice(o));r&&a.maybeStep(r).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new ny(t,void 0,void 0,l.length+c.length))),o--,t&&n.appendMap(t,o)}else a.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(o)):e.selection,s=new ty(this.items.slice(0,r).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(e,t,n,o){let r=[],i=this.eventCount,s=this.items,a=!o&&s.length?s.get(s.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new ny(e.mapping.maps[n],c,t);(l=a&&a.merge(u))&&(u=l,n?r.pop():s=s.slice(0,s.length-1)),r.push(u),t&&(i++,t=void 0),o||(a=u)}let l=i-n.depth;return l>ry&&(s=function(e,t){let n;return e.forEach(((e,o)=>{if(e.selection&&0==t--)return n=o,!1})),e.slice(n)}(s,l),i-=l),new ty(s.append(r),i)}remapping(e,t){let n=new wc;return this.items.forEach(((t,o)=>{let r=null!=t.mirrorOffset&&o-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,r)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new ty(this.items.append(e.map((e=>new ny(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),o);let a=t;this.items.forEach((t=>{let o=r.getMirror(--a);if(null==o)return;i=Math.min(i,o);let l=r.maps[o];if(t.step){let i=e.steps[o].invert(e.docs[o]),c=t.selection&&t.selection.map(r.slice(a+1,o));c&&s++,n.push(new ny(l,i,c))}else n.push(new ny(l))}),o);let l=[];for(let e=t;e<i;e++)l.push(new ny(r.maps[e]));let c=this.items.slice(0,o).append(l).append(n),u=new ty(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,o=[],r=0;return this.items.forEach(((i,s)=>{if(s>=e)o.push(i),i.selection&&r++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=i.selection&&i.selection.map(t.slice(n));a&&r++;let l,c=new ny(s.invert(),e,a),u=o.length-1;(l=o.length&&o[u].merge(c))?o[u]=l:o.push(c)}}else i.map&&n--}),this.items.length,0),new ty(ey.from(o.reverse()),r)}}ty.empty=new ty(ey.empty,0);class ny{constructor(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new ny(t.getMap().invert(),t,this.selection)}}}class oy{constructor(e,t,n,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o}}const ry=20;function iy(e){let t=[];return e.forEach(((e,n,o,r)=>t.push(o,r))),t}function sy(e,t){if(!e)return null;let n=[];for(let o=0;o<e.length;o+=2){let r=t.map(e[o],1),i=t.map(e[o+1],-1);r<=i&&n.push(r,i)}return n}function ay(e,t,n,o){let r=uy(t),i=dy.get(t).spec.config,s=(o?e.undone:e.done).popEvent(t,r);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(o?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),c=new oy(o?l:s.remaining,o?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(dy,{redo:o,historyState:c}).scrollIntoView())}let ly=!1,cy=null;function uy(e){let t=e.plugins;if(cy!=t){ly=!1,cy=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){ly=!0;break}}return ly}const dy=new wu("history"),hy=new wu("closeHistory");function py(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new gu({key:dy,state:{init:()=>new oy(ty.empty,ty.empty,null,0),apply:(t,n,o)=>function(e,t,n,o){let r,i=n.getMeta(dy);if(i)return i.historyState;n.getMeta(hy)&&(e=new oy(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(dy))return s.getMeta(dy).redo?new oy(e.done.addTransform(n,void 0,o,uy(t)),e.undone,iy(n.mapping.maps[n.steps.length-1]),e.prevTime):new oy(e.done,e.undone.addTransform(n,void 0,o,uy(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new oy(e.done.rebased(n,r),e.undone.rebased(n,r),sy(e.prevRanges,n.mapping),e.prevTime):new oy(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),sy(e.prevRanges,n.mapping),e.prevTime);{let r=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-o.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,o)=>{for(let r=0;r<t.length;r+=2)e<=t[r+1]&&o>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),i=s?sy(e.prevRanges,n.mapping):iy(n.mapping.maps[n.steps.length-1]);return new oy(e.done.addTransform(n,r?t.selection.getBookmark():void 0,o,uy(t)),ty.empty,i,n.time)}}(n,o,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,o="historyUndo"==n?fy:"historyRedo"==n?my:null;return!!o&&(t.preventDefault(),o(e.state,e.dispatch))}}}})}const fy=(e,t)=>{let n=dy.getState(e);return!(!n||0==n.done.eventCount)&&(t&&ay(n,e,t,!1),!0)},my=(e,t)=>{let n=dy.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&ay(n,e,t,!0),!0)};const gy=Ef.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>fy(e,t),redo:()=>({state:e,dispatch:t})=>my(e,t)}),addProseMirrorPlugins(){return[py(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),vy=bm.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",lf(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,o=t.end();if(t.nodeAfter)e.setSelection(tu.create(e.doc,t.pos));else{const r=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(e.insert(o,r),e.setSelection(tu.create(e.doc,o)))}e.scrollIntoView()}return!0})).run()}},addInputRules(){return[gm({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),yy=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,wy=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,by=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,ky=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,xy=wm.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[mm({find:yy,type:this.type}),mm({find:by,type:this.type})]},addPasteRules(){return[km({find:wy,type:this.type}),km({find:ky,type:this.type})]}}),Sy=bm.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",lf(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_y=/^(\d+)\.\s$/,Cy=bm.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",lf(this.options.HTMLAttributes,n),0]:["ol",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[ym({find:_y,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),Dy=bm.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ey=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Ay=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Oy=wm.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[mm({find:Ey,type:this.type})]},addPasteRules(){return[km({find:Ay,type:this.type})]}}),Ty=bm.create({name:"text",group:"inline"}),My=Ef.create({name:"starterKit",addExtensions(){var e,t,n,o,r,i,s,a,l,c,u,d,h,p,f,m,g,v;const y=[];return!1!==this.options.blockquote&&y.push(Tm.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&y.push(Pm.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&y.push(Bm.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&y.push(Vm.configure(null===(o=this.options)||void 0===o?void 0:o.code)),!1!==this.options.codeBlock&&y.push(Hm.configure(null===(r=this.options)||void 0===r?void 0:r.codeBlock)),!1!==this.options.document&&y.push(zm.configure(null===(i=this.options)||void 0===i?void 0:i.document)),!1!==this.options.dropcursor&&y.push(qm.configure(null===(s=this.options)||void 0===s?void 0:s.dropcursor)),!1!==this.options.gapcursor&&y.push(qv.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&y.push(Yv.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&y.push(Gv.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&y.push(gy.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&y.push(vy.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&y.push(xy.configure(null===(h=this.options)||void 0===h?void 0:h.italic)),!1!==this.options.listItem&&y.push(Sy.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&y.push(Cy.configure(null===(f=this.options)||void 0===f?void 0:f.orderedList)),!1!==this.options.paragraph&&y.push(Dy.configure(null===(m=this.options)||void 0===m?void 0:m.paragraph)),!1!==this.options.strike&&y.push(Oy.configure(null===(g=this.options)||void 0===g?void 0:g.strike)),!1!==this.options.text&&y.push(Ty.configure(null===(v=this.options)||void 0===v?void 0:v.text)),y}});function Ly(e){this.j={},this.jr=[],this.jd=null,this.t=e}Ly.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,o=this.j[e];if(o)return n&&(o.t=n),o;o=Iy();var r=By(this,e);return r?(Object.assign(o.j,r.j),o.jr.append(r.jr),o.jr=r.jd,o.t=n||r.t):o.t=n,this.j[e]=o,o}};var Iy=function(){return new Ly},Ny=function(e){return new Ly(e)},Py=function(e,t,n){e.j[t]||(e.j[t]=n)},Uy=function(e,t,n){e.jr.push([t,n])},By=function(e,t){var n=e.j[t];if(n)return n;for(var o=0;o<e.jr.length;o++){var r=e.jr[o][0],i=e.jr[o][1];if(r.test(t))return i}return e.jd},jy=function(e,t,n){for(var o=0;o<t.length;o++)Py(e,t[o],n)},Ry=function(e,t){for(var n=0;n<t.length;n++){var o=t[n][0],r=t[n][1];Py(e,o,r)}},Vy=function(e,t,n,o){for(var r,i=0,s=t.length;i<s&&(r=e.j[t[i]]);)e=r,i++;if(i>=s)return[];for(;i<s-1;)r=o(),Py(e,t[i],r),e=r,i++;Py(e,t[s-1],n)},Fy="DOMAIN",Wy="LOCALHOST",Hy="TLD",zy="NUM",$y="PROTOCOL",Ky="MAILTO",qy="WS",Yy="NL",Gy="OPENBRACE",Xy="OPENBRACKET",Jy="OPENANGLEBRACKET",Zy="OPENPAREN",Qy="CLOSEBRACE",ew="CLOSEBRACKET",tw="CLOSEANGLEBRACKET",nw="CLOSEPAREN",ow="AMPERSAND",rw="APOSTROPHE",iw="ASTERISK",sw="AT",aw="BACKSLASH",lw="BACKTICK",cw="CARET",uw="COLON",dw="COMMA",hw="DOLLAR",pw="DOT",fw="EQUALS",mw="EXCLAMATION",gw="HYPHEN",vw="PERCENT",yw="PIPE",ww="PLUS",bw="POUND",kw="QUERY",xw="QUOTE",Sw="SEMI",_w="SLASH",Cw="TILDE",Dw="UNDERSCORE",Ew="SYM",Aw=Object.freeze({__proto__:null,DOMAIN:Fy,LOCALHOST:Wy,TLD:Hy,NUM:zy,PROTOCOL:$y,MAILTO:Ky,WS:qy,NL:Yy,OPENBRACE:Gy,OPENBRACKET:Xy,OPENANGLEBRACKET:Jy,OPENPAREN:Zy,CLOSEBRACE:Qy,CLOSEBRACKET:ew,CLOSEANGLEBRACKET:tw,CLOSEPAREN:nw,AMPERSAND:ow,APOSTROPHE:rw,ASTERISK:iw,AT:sw,BACKSLASH:aw,BACKTICK:lw,CARET:cw,COLON:uw,COMMA:dw,DOLLAR:hw,DOT:pw,EQUALS:fw,EXCLAMATION:mw,HYPHEN:gw,PERCENT:vw,PIPE:yw,PLUS:ww,POUND:bw,QUERY:kw,QUOTE:xw,SEMI:Sw,SLASH:_w,TILDE:Cw,UNDERSCORE:Dw,SYM:Ew}),Ow="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermögensberater-ctb vermögensberatung-pwb ελ ευ бг бел дети ею католик ком қаз мкд мон москва онлайн орг рус рф сайт срб укр გე հայ ישראל קום ابوظبي اتصالات ارامكو الاردن البحرين الجزائر السعودية العليان المغرب امارات ایران بارت بازار بھارت بيتك پاکستان ڀارت تونس سودان سورية شبكة عراق عرب عمان فلسطين قطر كاثوليك كوم مصر مليسيا موريتانيا موقع همراه कॉम नेट भारत भारतम् भारोत संगठन বাংলা ভারত ভাৰত ਭਾਰਤ ભારત ଭାରତ இந்தியா இலங்கை சிங்கப்பூர் భారత్ ಭಾರತ ഭാരതം ලංකා คอม ไทย ລາວ 닷넷 닷컴 삼성 한국 アマゾン グーグル クラウド コム ストア セール ファッション ポイント みんな 世界 中信 中国 中國 中文网 亚马逊 企业 佛山 信息 健康 八卦 公司 公益 台湾 台灣 商城 商店 商标 嘉里 嘉里大酒店 在线 大众汽车 大拿 天主教 娱乐 家電 广东 微博 慈善 我爱你 手机 招聘 政务 政府 新加坡 新闻 时尚 書籍 机构 淡马锡 游戏 澳門 点看 移动 组织机构 网址 网店 网站 网络 联通 诺基亚 谷歌 购物 通販 集团 電訊盈科 飞利浦 食品 餐厅 香格里拉 香港".split(" "),Tw=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Mw=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Lw=/\uFE0F/,Iw=/\d/,Nw=/\s/;function Pw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Iy(),n=Ny(zy),o=Ny(Fy),r=Iy(),i=Ny(qy),s=[[Iw,o],[Tw,o],[Mw,o],[Lw,o]],a=function(){var e=Ny(Fy);return e.j={"-":r},e.jr=[].concat(s),e},l=function(e){var t=a();return t.t=e,t};Ry(t,[["'",Ny(rw)],["{",Ny(Gy)],["[",Ny(Xy)],["<",Ny(Jy)],["(",Ny(Zy)],["}",Ny(Qy)],["]",Ny(ew)],[">",Ny(tw)],[")",Ny(nw)],["&",Ny(ow)],["*",Ny(iw)],["@",Ny(sw)],["`",Ny(lw)],["^",Ny(cw)],[":",Ny(uw)],[",",Ny(dw)],["$",Ny(hw)],[".",Ny(pw)],["=",Ny(fw)],["!",Ny(mw)],["-",Ny(gw)],["%",Ny(vw)],["|",Ny(yw)],["+",Ny(ww)],["#",Ny(bw)],["?",Ny(kw)],['"',Ny(xw)],["/",Ny(_w)],[";",Ny(Sw)],["~",Ny(Cw)],["_",Ny(Dw)],["\\",Ny(aw)]]),Py(t,"\n",Ny(Yy)),Uy(t,Nw,i),Py(i,"\n",Iy()),Uy(i,Nw,i);for(var c=0;c<Ow.length;c++)Vy(t,Ow[c],l(Hy),a);var u=a(),d=a(),h=a(),p=a();Vy(t,"file",u,a),Vy(t,"ftp",d,a),Vy(t,"http",h,a),Vy(t,"mailto",p,a);var f=a(),m=Ny($y),g=Ny(Ky);Py(d,"s",f),Py(d,":",m),Py(h,"s",f),Py(h,":",m),Py(u,":",m),Py(f,":",m),Py(p,":",g);for(var v=a(),y=0;y<e.length;y++)Vy(t,e[y],v,a);return Py(v,":",m),Vy(t,"localhost",l(Wy),a),Uy(t,Iw,n),Uy(t,Tw,o),Uy(t,Mw,o),Uy(t,Lw,o),Uy(n,Iw,n),Uy(n,Tw,o),Uy(n,Mw,o),Uy(n,Lw,o),Py(n,"-",r),Py(o,"-",r),Py(r,"-",r),Uy(o,Iw,o),Uy(o,Tw,o),Uy(o,Mw,o),Uy(o,Lw,o),Uy(r,Iw,o),Uy(r,Tw,o),Uy(r,Mw,o),Uy(r,Lw,o),t.jd=Ny(Ew),t}function Uw(e){return Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(e)}var Bw={defaultProtocol:"http",events:null,format:Rw,formatHref:Rw,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function jw(e){e=e||{},this.defaultProtocol="defaultProtocol"in e?e.defaultProtocol:Bw.defaultProtocol,this.events="events"in e?e.events:Bw.events,this.format="format"in e?e.format:Bw.format,this.formatHref="formatHref"in e?e.formatHref:Bw.formatHref,this.nl2br="nl2br"in e?e.nl2br:Bw.nl2br,this.tagName="tagName"in e?e.tagName:Bw.tagName,this.target="target"in e?e.target:Bw.target,this.rel="rel"in e?e.rel:Bw.rel,this.validate="validate"in e?e.validate:Bw.validate,this.truncate="truncate"in e?e.truncate:Bw.truncate,this.className="className"in e?e.className:Bw.className,this.attributes=e.attributes||Bw.attributes,this.ignoreTags=[];for(var t=("ignoreTags"in e?e.ignoreTags:Bw.ignoreTags),n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function Rw(e){return e}jw.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),rel:this.get("rel",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e),truncate:this.get("truncate",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var o,r=this[e];if(!r)return r;switch(Uw(r)){case"function":return r(t,n.t);case"object":return"function"==typeof(o=n.t in r?r[n.t]:Bw[e])?o(t,n.t):o}return r},getObject:function(e,t,n){var o=this[e];return"function"==typeof o?o(t,n.t):o}};function Vw(){}function Fw(e,t){function n(t,n){this.t=e,this.v=t,this.tk=n}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.create(e.prototype);for(var r in n)o[r]=n[r];o.constructor=t,t.prototype=o}(Vw,n,t),n}Vw.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bw.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var Ww=Fw("email",{isLink:!0}),Hw=Fw("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),zw=Fw("text"),$w=Fw("nl"),Kw=Fw("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bw.defaultProtocol,t=this.tk,n=!1,o=!1,r=[],i=0;t[i].t===$y;)n=!0,r.push(t[i].v),i++;for(;t[i].t===_w;)o=!0,r.push(t[i].v),i++;for(;i<t.length;i++)r.push(t[i].v);return r=r.join(""),n||o||(r="".concat(e,"://").concat(r)),r},hasProtocol:function(){return this.tk[0].t===$y}}),qw=Object.freeze({__proto__:null,MultiToken:Vw,Base:Vw,createTokenClass:Fw,MailtoEmail:Ww,Email:Hw,Text:zw,Nl:$w,Url:Kw});function Yw(){var e=Iy(),t=Iy(),n=Iy(),o=Iy(),r=Iy(),i=Iy(),s=Iy(),a=Ny(Kw),l=Iy(),c=Ny(Kw),u=Ny(Kw),d=Iy(),h=Iy(),p=Iy(),f=Iy(),m=Iy(),g=Ny(Kw),v=Ny(Kw),y=Ny(Kw),w=Ny(Kw),b=Iy(),k=Iy(),x=Iy(),S=Iy(),_=Iy(),C=Iy(),D=Ny(Hw),E=Iy(),A=Ny(Hw),O=Ny(Ww),T=Iy(),M=Iy(),L=Iy(),I=Iy(),N=Ny($w);Py(e,Yy,N),Py(e,$y,t),Py(e,Ky,n),Py(t,_w,o),Py(o,_w,r),Py(e,Hy,i),Py(e,Fy,i),Py(e,Wy,a),Py(e,zy,i),Py(r,Hy,u),Py(r,Fy,u),Py(r,zy,u),Py(r,Wy,u),Py(i,pw,s),Py(_,pw,C),Py(s,Hy,a),Py(s,Fy,i),Py(s,zy,i),Py(s,Wy,i),Py(C,Hy,D),Py(C,Fy,_),Py(C,zy,_),Py(C,Wy,_),Py(a,pw,s),Py(D,pw,C),Py(a,uw,l),Py(a,_w,u),Py(l,zy,c),Py(c,_w,u),Py(D,uw,E),Py(E,zy,A);var P=[ow,iw,sw,aw,lw,cw,hw,Fy,fw,gw,Wy,zy,vw,yw,ww,bw,$y,_w,Ew,Cw,Hy,Dw],U=[rw,tw,Qy,ew,nw,uw,dw,pw,mw,Jy,Gy,Xy,Zy,kw,xw,Sw];Py(u,Gy,h),Py(u,Xy,p),Py(u,Jy,f),Py(u,Zy,m),Py(d,Gy,h),Py(d,Xy,p),Py(d,Jy,f),Py(d,Zy,m),Py(h,Qy,u),Py(p,ew,u),Py(f,tw,u),Py(m,nw,u),Py(g,Qy,u),Py(v,ew,u),Py(y,tw,u),Py(w,nw,u),Py(b,Qy,u),Py(k,ew,u),Py(x,tw,u),Py(S,nw,u),jy(h,P,g),jy(p,P,v),jy(f,P,y),jy(m,P,w),jy(h,U,b),jy(p,U,k),jy(f,U,x),jy(m,U,S),jy(g,P,g),jy(v,P,v),jy(y,P,y),jy(w,P,w),jy(g,U,g),jy(v,U,v),jy(y,U,y),jy(w,U,w),jy(b,P,g),jy(k,P,v),jy(x,P,y),jy(S,P,w),jy(b,U,b),jy(k,U,k),jy(x,U,x),jy(S,U,S),jy(u,P,u),jy(d,P,u),jy(u,U,d),jy(d,U,d),Py(n,Hy,O),Py(n,Fy,O),Py(n,zy,O),Py(n,Wy,O),jy(O,P,O),jy(O,U,T),jy(T,P,O),jy(T,U,T);var B=[ow,rw,iw,aw,lw,cw,Qy,hw,Fy,fw,gw,zy,Gy,vw,yw,ww,bw,kw,_w,Ew,Cw,Hy,Dw];return jy(i,B,M),Py(i,sw,L),jy(a,B,M),Py(a,sw,L),jy(s,B,M),jy(M,B,M),Py(M,sw,L),Py(M,pw,I),jy(I,B,M),Py(L,Hy,_),Py(L,Fy,_),Py(L,zy,_),Py(L,Wy,D),e}function Gw(e,t,n){var o=n[0].s,r=n[n.length-1].e;return new e(t.substr(o,r-o),n)}var Xw="undefined"!=typeof console&&console&&console.warn||function(){},Jw={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function Zw(e){if(Jw.initialized&&Xw('linkifyjs: already initialized - will not register custom protocol "'.concat(e,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(e))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Jw.customProtocols.push(e)}function Qw(e){return Jw.initialized||function(){Jw.scanner={start:Pw(Jw.customProtocols),tokens:Aw},Jw.parser={start:Yw(),tokens:qw};for(var e={createTokenClass:Fw},t=0;t<Jw.pluginQueue.length;t++)Jw.pluginQueue[t][1]({scanner:Jw.scanner,parser:Jw.parser,utils:e});Jw.initialized=!0}(),function(e,t,n){for(var o=n.length,r=0,i=[],s=[];r<o;){for(var a=e,l=null,c=null,u=0,d=null,h=-1;r<o&&!(l=By(a,n[r].t));)s.push(n[r++]);for(;r<o&&(c=l||By(a,n[r].t));)l=null,(a=c).accepts()?(h=0,d=a):h>=0&&h++,r++,u++;if(h<0)for(var p=r-u;p<r;p++)s.push(n[p]);else{s.length>0&&(i.push(Gw(zw,t,s)),s=[]),r-=h,u-=h;var f=d.t,m=n.slice(r-u,r);i.push(Gw(f,t,m))}}return s.length>0&&i.push(Gw(zw,t,s)),i}(Jw.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,o=0;o<n;){var r=e.charCodeAt(o),i=void 0,s=r<55296||r>56319||o+1===n||(i=e.charCodeAt(o+1))<56320||i>57343?e[o]:e.slice(o,o+2);t.push(s),o+=s.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),o=n.length,r=[],i=0,s=0;s<o;){for(var a=e,l=null,c=0,u=null,d=-1,h=-1;s<o&&(l=By(a,n[s]));)(a=l).accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[s].length,h++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=h,c-=d,r.push({t:u.t,v:t.substr(i-c,c),s:i-c,e:i})}return r}(Jw.scanner.start,e))}function eb(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Qw(e),o=[],r=0;r<n.length;r++){var i=n[r];!i.isLink||t&&i.t!==t||o.push(i.toObject())}return o}function tb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Qw(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)}function nb(e){return new gu({key:new wu("autolink"),appendTransaction:(t,n,o)=>{const r=t.some((e=>e.docChanged))&&!n.doc.eq(o.doc),i=t.some((e=>e.getMeta("preventAutolink")));if(!r||i)return;const{tr:s}=o,a=function(e,t){const n=new Gc(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n}(n.doc,[...t]),{mapping:l}=a,c=function(e){const{mapping:t,steps:n}=e,o=[];return t.maps.forEach(((e,r)=>{const i=[];if(e.ranges.length)e.forEach(((e,t)=>{i.push({from:e,to:t})}));else{const{from:e,to:t}=n[r];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach((({from:e,to:n})=>{const i=t.slice(r).map(e,-1),s=t.slice(r).map(n),a=t.invert().map(i,-1),l=t.invert().map(s);o.push({oldRange:{from:a,to:l},newRange:{from:i,to:s}})}))})),hm(o)}(a);return c.forEach((({oldRange:t,newRange:r})=>{pm(t.from,t.to,n.doc).filter((t=>t.mark.type===e.type)).forEach((t=>{const r=pm(l.map(t.from),l.map(t.to),o.doc).filter((t=>t.mark.type===e.type));if(!r.length)return;const i=r[0],a=n.doc.textBetween(t.from,t.to,void 0," "),c=o.doc.textBetween(i.from,i.to,void 0," "),u=tb(a),d=tb(c);u&&!d&&s.removeMark(i.from,i.to,e.type)})),function(e,t,n){const o=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&o.push({node:e,pos:t})})),o}(o.doc,r,(e=>e.isTextblock)).forEach((t=>{eb(o.doc.textBetween(t.pos,t.pos+t.node.nodeSize,void 0," ")).filter((e=>e.isLink)).filter((t=>!e.validate||e.validate(t.value))).map((e=>({...e,from:t.pos+e.start+1,to:t.pos+e.end+1}))).filter((e=>{const t=r.from>=e.from&&r.from<=e.to,n=r.to>=e.from&&r.to<=e.to;return t||n})).forEach((t=>{s.addMark(t.from,t.to,e.type.create({href:t.href}))}))}))})),s.steps.length?s:void 0}})}const ob=wm.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(Zw)},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){return["a",lf(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[km({find:e=>eb(e).filter((e=>!this.options.validate||this.options.validate(e.value))).filter((e=>e.isLink)).map((e=>({text:e.value,index:e.start,data:e}))),type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(nb({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(function(e){return new gu({key:new wu("handleClickLink"),props:{handleClick:(t,n,o)=>{var r;const i=cm(t.state,e.type.name);return!(!(null===(r=o.target)||void 0===r?void 0:r.closest("a"))||!i.href||(window.open(i.href,i.target),0))}}})}({type:this.type})),this.options.linkOnPaste&&e.push(function(e){return new gu({key:new wu("handlePasteLink"),props:{handlePaste:(t,n,o)=>{const{state:r}=t,{selection:i}=r,{empty:s}=i;if(s)return!1;let a="";o.content.forEach((e=>{a+=e.textContent}));const l=eb(a).find((e=>e.isLink&&e.value===a));return!(!a||!l||(e.editor.commands.setMark(e.type,{href:l.href}),0))}}})}({editor:this.editor,type:this.type})),e}}),rb=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ib=bm.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",lf(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[gm({find:rb,type:this.type,getAttributes:e=>{const[,,t,n,o]=e;return{src:n,alt:t,title:o}}})]}}),sb=Ef.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new gu({props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=t,r=[];return n?(e.descendants(((e,t)=>{const n=o>=t&&o<=t+e.nodeSize,i=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&i){const o=[this.options.emptyNodeClass];this.editor.isEmpty&&o.push(this.options.emptyEditorClass);const i=Gh.node(t,t+e.nodeSize,{class:o.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});r.push(i)}return this.options.includeChildren})),Zh.create(e,r)):null}}})]}}),ab=Ef.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize"}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){return t.textBetween(0,t.content.size,void 0," ").length}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;return t.textBetween(0,t.content.size," "," ").split(" ").filter((e=>""!==e)).length}},addProseMirrorPlugins(){return[new gu({key:new wu("characterCount"),filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const o=this.storage.characters({node:t.doc}),r=this.storage.characters({node:e.doc});if(r<=n)return!0;if(o>n&&r>n&&r<=o)return!0;if(o>n&&r>n&&r>o)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,s=i-(r-n),a=i;e.deleteRange(s,a);return!(this.storage.characters({node:e.doc})>n)}})]}}),lb={class:"wysiwyg-editor"},cb={key:1,class:"p-2 rounded-lg backdrop-blur flex items-center sticky top-0 z-50 bg-box-transparent space-x-1 mb-2"},ub=(0,t._)("span",{class:"w-px h-5 bg-gray-300 dark:bg-gray-600",style:{margin:"0 12px"}},null,-1),db=["title","onClick"],hb=(0,t._)("span",{class:"w-px h-5 bg-gray-300 dark:bg-gray-600",style:{margin:"0 12px"}},null,-1),pb={__name:"SharedWysiwyg",props:{modelValue:{type:[String,Object],default:null},placeholder:{type:String,default:""},limit:{type:Number,default:1/0},options:{type:Object,default:()=>({})},readonly:Boolean},emits:["update:modelValue","count","change"],setup(r,{emit:i}){const s=r,a=(0,o.XI)(null),l=[{id:"bold",name:"Bold",icon:"riBold",action:"toggleBold"},{id:"italic",name:"Italic",icon:"riItalic",action:"toggleItalic"},{id:"strike",name:"Strikethrough",icon:"riStrikethrough2",action:"toggleStrike"}];return(0,t.YP)((()=>s.modelValue),(e=>{JSON.stringify(a.value.getJSON())===JSON.stringify(e)||a.value.commands.setContent(e,!1)})),(0,t.bv)((()=>{a.value=new Em({content:s.modelValue,editable:!s.readonly,onUpdate:()=>{const e=a.value.getJSON();i("count",a.value.storage.characterCount.characters()),i("change",e),i("update:modelValue",e)},extensions:[ob,ib,My,sb.configure({placeholder:s.placeholder}),ab.configure({limit:s.limit})],...s.options}),i("count",a.value.storage.characterCount.characters())})),(0,t.Jd)((()=>{a.value?.destroy()})),(i,s)=>{const c=(0,t.up)("v-remixicon");return(0,t.wg)(),(0,t.iD)("div",lb,[(0,o.SU)(a)?(0,t.WI)(i.$slots,"prepend",{key:0,editor:(0,o.SU)(a)}):(0,t.kq)("",!0),(0,o.SU)(a)&&!r.readonly?((0,t.wg)(),(0,t.iD)("div",cb,[(0,t._)("button",{class:(0,n.normalizeClass)([{"bg-box-transparent text-primary":(0,o.SU)(a).isActive("heading",{level:1})},"editor-menu-btn hoverable"]),title:"Heading 1",onClick:s[0]||(s[0]=e=>(0,o.SU)(a).commands.toggleHeading({level:1}))},[(0,t.Wm)(c,{name:"riH1"})],2),(0,t._)("button",{class:(0,n.normalizeClass)([{"bg-box-transparent text-primary":(0,o.SU)(a).isActive("heading",{level:2})},"editor-menu-btn hoverable"]),title:"Heading 2",onClick:s[1]||(s[1]=e=>(0,o.SU)(a).commands.toggleHeading({level:2}))},[(0,t.Wm)(c,{name:"riH2"})],2),ub,((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(l,(e=>(0,t._)("button",{key:e.id,title:e.name,class:(0,n.normalizeClass)([{"bg-box-transparent text-primary":(0,o.SU)(a).isActive(e.id)},"editor-menu-btn hoverable"]),onClick:t=>(0,o.SU)(a).chain().focus()[e.action]().run()},[(0,t.Wm)(c,{name:e.icon},null,8,["name"])],10,db))),64)),hb,(0,t._)("button",{class:(0,n.normalizeClass)([{"bg-box-transparent text-primary":(0,o.SU)(a).isActive("blockquote")},"editor-menu-btn hoverable"]),title:"Blockquote",onClick:s[2]||(s[2]=e=>(0,o.SU)(a).commands.toggleBlockquote())},[(0,t.Wm)(c,{name:"riDoubleQuotesL"})],2),(0,t._)("button",{title:"Insert image",class:"editor-menu-btn hoverable",onClick:s[3]||(s[3]=e=>function(){const e=window.prompt("URL");e&&a.value.chain().focus().setImage({src:e}).run()}((0,o.SU)(a)))},[(0,t.Wm)(c,{name:"riImageLine"})]),(0,t._)("button",{class:(0,n.normalizeClass)([{"bg-box-transparent text-primary":(0,o.SU)(a).isActive("link")},"editor-menu-btn hoverable"]),title:"Link",onClick:s[4]||(s[4]=e=>function(){const e=a.value.getAttributes("link").href,t=window.prompt("URL",e);null!==t&&(""!==t?a.value.chain().focus().extendMarkRange("link").setLink({href:t,target:"_blank"}).run():a.value.chain().focus().extendMarkRange("link").unsetLink().run())}((0,o.SU)(a)))},[(0,t.Wm)(c,{name:"riLinkM"})],2),(0,t.wy)((0,t._)("button",{title:"Remove link",class:"editor-menu-btn hoverable",onClick:s[5]||(s[5]=e=>(0,o.SU)(a).commands.unsetLink())},[(0,t.Wm)(c,{name:"riLinkUnlinkM"})],512),[[e.vShow,(0,o.SU)(a).isActive("link")]])])):(0,t.kq)("",!0),(0,t.Wm)((0,o.SU)(Am),{editor:(0,o.SU)(a)},null,8,["editor"]),(0,t.WI)(i.$slots,"append")])}}},fb=e=>((0,t.dD)("data-v-77ab8111"),e=e(),(0,t.Cn)(),e),mb={class:"flex items-center mb-12"},gb=fb((()=>(0,t._)("div",{class:"flex-grow"},null,-1))),vb={class:"text-center"},yb={class:"underline",href:"https://automa.site/profile?username=true",target:"_blank"},wb={key:0,class:"flex items-center mb-4"},bb=fb((()=>(0,t._)("div",{class:"flex-grow"},null,-1))),kb=(0,t.Uk)(" Save draft "),xb={class:"flex mb-4"},Sb=["placeholder"],_b={value:""},Cb=["value"],Db={class:"relative mb-2"},Eb={class:"text-sm text-gray-600 dark:text-gray-200 absolute bottom-2 right-2"},Ab={class:"text-sm text-gray-600 dark:text-gray-200 absolute bottom-2 right-2"},Ob={__name:"WorkflowShare",props:{workflow:{type:Object,default:()=>({})},isUpdate:Boolean},emits:["close","publish","change"],setup(r,{emit:i}){const s=r,{t:l}=(0,a.QT)(),c=(0,Lr.pm)(),u=(0,E.L)(),d=j(),h=(0,o.qj)({contentLength:0,isPublishing:!1,workflow:JSON.parse(JSON.stringify(s.workflow))});async function p(){try{h.isPublishing=!0;const e=Fr(h.workflow,["id","category"]);e.name=e.name||"unnamed",e.content=h.workflow.content||null,e.drawflow=(0,P.Rx)(e.drawflow,e.drawflow),e.description=h.workflow.description.slice(0,300),delete e.extVersion;const t=await(0,U.a8)("/me/workflows/shared",{method:"POST",body:JSON.stringify({workflow:e})}),n=await t.json();if(!t.ok){const e=new Error(t.statusText);throw e.data=n.data,e}e.drawflow=s.workflow.drawflow,d.insert(e),sessionStorage.setItem("shared-workflows",JSON.stringify(d.shared)),h.isPublishing=!1,i("publish")}catch(e){let t=l("message.somethingWrong");e.data&&e.data.show&&(t=e.message),c.error(t),console.error(e),h.isPublishing=!1}}function f(){const e=`draft:${s.workflow.id}`;k().storage.local.set({[e]:{content:h.workflow.content,category:h.workflow.category,description:h.workflow.description}})}return(0,t.YP)((()=>h.workflow),(0,P.Ds)((()=>{i("change",h.workflow)}),200),{deep:!0}),(0,t.bv)((()=>{const e=`draft:${s.workflow.id}`;k().storage.local.get(e).then((t=>{Object.assign(h.workflow,t[e])}))})),(i,s)=>{const a=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-button"),d=(0,t.up)("ui-select"),m=(0,t.up)("ui-textarea"),g=(0,t.up)("ui-card");return(0,t.wg)(),(0,t.j4)(g,{class:"w-full max-w-2xl share-workflow overflow-auto scroll"},{default:(0,t.w5)((()=>[(0,o.SU)(u).user?.username?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[r.isUpdate?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",wb,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(l)("workflow.share.title")),1),bb,(0,t.Wm)(c,{class:"mr-2",onClick:s[1]||(s[1]=e=>i.$emit("close"))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("common.cancel")),1)])),_:1}),(0,t.Wm)(c,{class:"mr-2",onClick:f},{default:(0,t.w5)((()=>[kb])),_:1}),(0,t.Wm)(c,{loading:h.isPublishing,variant:"accent",onClick:p},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("workflow.share.publish")),1)])),_:1},8,["loading"])])),(0,t.WI)(i.$slots,"prepend"),(0,t._)("div",xb,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>h.workflow.name=e),placeholder:(0,o.SU)(l)("workflow.name"),type:"text",name:"workflow name",class:"font-semibold leading-none text-2xl focus:ring-0 block w-full bg-transparent mr-4 flex-1"},null,8,Sb),[[e.vModelText,h.workflow.name]]),(0,t.Wm)(d,{modelValue:h.workflow.category,"onUpdate:modelValue":s[3]||(s[3]=e=>h.workflow.category=e)},{default:(0,t.w5)((()=>[(0,t._)("option",_b,(0,n.toDisplayString)((0,o.SU)(l)("common.category"))+" (none)",1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.qZ),((e,o)=>((0,t.wg)(),(0,t.iD)("option",{key:o,value:o},(0,n.toDisplayString)(e),9,Cb)))),128))])),_:1},8,["modelValue"])]),(0,t._)("div",Db,[(0,t.Wm)(m,{modelValue:h.workflow.description,"onUpdate:modelValue":s[4]||(s[4]=e=>h.workflow.description=e),max:300,placeholder:"Short description",class:"w-full h-32 scroll resize-none"},null,8,["modelValue"]),(0,t._)("p",Eb,(0,n.toDisplayString)(h.workflow.description.length)+"/300 ",1)]),(0,t.Wm)(pb,{modelValue:h.workflow.content,"onUpdate:modelValue":s[5]||(s[5]=e=>h.workflow.content=e),placeholder:(0,o.SU)(l)("common.description"),limit:5e3,class:"prose prose-zinc dark:prose-invert max-w-none content-editor p-4 bg-box-transparent rounded-lg relative",onCount:s[6]||(s[6]=e=>h.contentLength=e)},{append:(0,t.w5)((()=>[(0,t._)("p",Ab,(0,n.toDisplayString)(h.contentLength)+"/5000 ",1)])),_:1},8,["modelValue","placeholder"])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",mb,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(l)("workflow.share.title")),1),gb,(0,t._)("button",{onClick:s[0]||(s[0]=e=>i.$emit("close"))},[(0,t.Wm)(a,{name:"riCloseLine"})])]),(0,t._)("p",vb,[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("auth.username"))+". ",1),(0,t._)("a",yb,(0,n.toDisplayString)((0,o.SU)(l)("auth.clickHere")),1)])],64))])),_:3})}}},Tb=(0,cr.Z)(Ob,[["__scopeId","data-v-77ab8111"]]),Mb={class:"flex items-center"},Lb={class:"flex-grow"},Ib={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},Nb={key:0,class:"flex pt-4 items-center"},Pb={class:"flex-1"},Ub={__name:"SettingsTable",props:{settings:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:r}){const{t:i}=(0,a.QT)();function s(e,t){r("update",{key:e,value:t})}return(r,a)=>{const l=(0,t.up)("ui-switch"),c=(0,t.up)("ui-input"),u=(0,t.up)("transition-expand");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Mb,[(0,t._)("div",Lb,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.defaultColumn.title")),1),(0,t._)("p",Ib,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.defaultColumn.description")),1)]),(0,t.Wm)(l,{"model-value":e.settings.insertDefaultColumn,onChange:a[0]||(a[0]=e=>s("insertDefaultColumn",e))},null,8,["model-value"])]),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[e.settings.insertDefaultColumn?((0,t.wg)(),(0,t.iD)("div",Nb,[(0,t._)("p",Pb,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.defaultColumn.name")),1),(0,t.Wm)(c,{"model-value":e.settings.defaultColumnName,title:(0,o.SU)(i)("workflow.settings.defaultColumn.name"),onChange:a[1]||(a[1]=e=>s("defaultColumnName",e))},null,8,["model-value","title"])])):(0,t.kq)("",!0)])),_:1})],64)}}},Bb=Ub,jb={class:"flex items-center"},Rb={class:"mr-4 flex-1"},Vb={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},Fb={class:"flex items-center pt-4"},Wb={class:"mr-4 flex-1"},Hb={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},zb={__name:"SettingsBlocks",props:{settings:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:r}){const{t:i}=(0,a.QT)();function s(e,t){r("update",{key:e,value:t})}return(r,a)=>{const l=(0,t.up)("ui-input");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",jb,[(0,t._)("div",Rb,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.blockDelay.title")),1),(0,t._)("p",Vb,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.blockDelay.description")),1)]),(0,t.Wm)(l,{"model-value":e.settings.blockDelay,type:"number",onChange:a[0]||(a[0]=e=>s("blockDelay",+e))},null,8,["model-value"])]),(0,t._)("div",Fb,[(0,t._)("div",Wb,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.tabLoadTimeout.title")),1),(0,t._)("p",Hb,(0,n.toDisplayString)((0,o.SU)(i)("workflow.settings.tabLoadTimeout.description")),1)]),(0,t.Wm)(l,{"model-value":e.settings.tabLoadTimeout,type:"number",min:"0",max:"60000",onChange:a[1]||(a[1]=e=>s("tabLoadTimeout",+e))},null,8,["model-value"])])],64)}}},$b=zb;var Kb=s(58958);const qb={class:"flex items-center"},Yb={class:"mr-4 flex-1"},Gb={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},Xb=["value"],Jb=["title"],Zb=["value"],Qb={class:"px-2 text-sm"},ek={class:"flex items-center pt-4"},tk={class:"mr-4 flex-1"},nk={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},ok={class:"mr-4 flex-1"},rk={key:0,class:"text-sm leading-tight text-red-400 dark:text-red-300"},ik={key:1,class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},sk={class:"flex items-center pt-4"},ak={class:"mr-4 flex-1"},lk={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},ck={class:"flex items-center pt-4"},uk={class:"mr-4 flex-1"},dk={class:"text-gray-600 dark:text-gray-200 text-sm leading-tight"},hk={href:"https://docs.automa.site/blocks/trigger.html#trigger-using-js-customevent",target:"_blank",rel:"noopener",class:"mr-2 text-gray-600 dark:text-gray-200"},pk={__name:"SettingsGeneral",props:{settings:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)(),l=(0,Lr.pm)(),c=(0,Kb.z)(["notifications"]),u="chrome",d=[{id:"keep-running",name:"keepRunning"},{id:"stop-workflow",name:"stopWorkflow"},{id:"restart-workflow",name:"restartWorkflow"}],h=[{id:"debugMode",notSupport:["firefox"],name:s("workflow.settings.debugMode.title"),description:s("workflow.settings.debugMode.description")},{id:"inputAutocomplete",name:s("workflow.settings.autocomplete.title"),description:s("workflow.settings.autocomplete.description")},{id:"reuseLastState",name:s("workflow.settings.reuseLastState.title"),description:s("workflow.settings.reuseLastState.description")},{id:"saveLog",name:s("workflow.settings.saveLog"),description:""},{id:"executedBlockOnWeb",name:s("workflow.settings.executedBlockOnWeb"),description:""}];async function p(){await(0,P.LK)(i.workflow)&&l(s("workflow.settings.clearCache.info"))}function f(e,t){r("update",{key:e,value:t})}return(r,i)=>{const a=(0,t.up)("ui-select"),l=(0,t.up)("ui-switch"),m=(0,t.up)("ui-button"),g=(0,t.up)("v-remixicon"),v=(0,t.up)("ui-input");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",qb,[(0,t._)("div",Yb,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.onError.title")),1),(0,t._)("p",Gb,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.onError.description")),1)]),(0,t.Wm)(a,{"model-value":e.settings.onError,onChange:i[0]||(i[0]=e=>f("onError",e))},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(d,(e=>(0,t._)("option",{key:e.id,value:e.id},(0,n.toDisplayString)((0,o.SU)(s)(`workflow.settings.onError.items.${e.name}`)),9,Xb))),64))])),_:1},8,["model-value"]),"restart-workflow"===e.settings.onError?((0,t.wg)(),(0,t.iD)("div",{key:0,title:(0,o.SU)(s)("workflow.settings.restartWorkflow.description"),class:"flex items-center bg-input transition-colors rounded-lg ml-4"},[(0,t._)("input",{value:e.settings.restartTimes??3,type:"number",class:"py-2 pl-2 text-right appearance-none w-12 rounded-lg bg-transparent",onInput:i[1]||(i[1]=e=>f("restartTimes",+(e.target.value??3)))},null,40,Zb),(0,t._)("span",Qb,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.restartWorkflow.times")),1)],8,Jb)):(0,t.kq)("",!0)]),(0,t._)("div",ek,[(0,t._)("div",tk,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.notification.title")),1),(0,t._)("p",nk,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.notification."+((0,o.SU)(c).has.notifications?"description":"noPermission"))),1)]),(0,o.SU)(c).has.notifications?((0,t.wg)(),(0,t.j4)(l,{key:0,"model-value":e.settings.notification,onChange:i[2]||(i[2]=e=>f("notification",e))},null,8,["model-value"])):((0,t.wg)(),(0,t.j4)(m,{key:1,onClick:i[3]||(i[3]=e=>(0,o.SU)(c).request(!0))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("workflow.blocks.clipboard.grantPermission")),1)])),_:1}))]),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(h,(r=>(0,t._)("div",{key:r.id,class:"flex items-center pt-4"},[(0,t._)("div",ok,[(0,t._)("p",null,(0,n.toDisplayString)(r.name),1),r.notSupport?.includes((0,o.SU)(u))?((0,t.wg)(),(0,t.iD)("p",rk,(0,n.toDisplayString)((0,o.SU)(s)("log.messages.browser-not-supported",{browser:(0,o.SU)(u)})),1)):((0,t.wg)(),(0,t.iD)("p",ik,(0,n.toDisplayString)(r.description),1))]),r.notSupport?.includes((0,o.SU)(u))?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,"model-value":e.settings[r.id],onChange:e=>f(r.id,e)},null,8,["model-value","onChange"]))]))),64)),(0,t._)("div",sk,[(0,t._)("div",ak,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.clearCache.title")),1),(0,t._)("p",lk,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.clearCache.description")),1)]),(0,t.Wm)(m,{onClick:p},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.clearCache.btn")),1)])),_:1})]),(0,t._)("div",ck,[(0,t._)("div",uk,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.publicId.title")),1),(0,t._)("p",dk,(0,n.toDisplayString)((0,o.SU)(s)("workflow.settings.publicId.description")),1)]),(0,t._)("a",hk,[(0,t.Wm)(g,{name:"riInformationLine"})]),(0,t.Wm)(v,{"model-value":e.settings.publicId,placeholder:"myWorkflowPublicId",onChange:i[4]||(i[4]=e=>f("publicId",e))},null,8,["model-value"])])],64)}}},fk=pk,mk={class:"flex items-center px-4 pt-4"},gk={class:"flex-1"},vk={class:"space-x-2 px-4 pt-2"},yk={__name:"WorkflowSettings",props:{workflow:{type:Object,default:()=>({})}},emits:["update","close"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)(),l=[{value:"general",component:fk,name:s("settings.menu.general")},{value:"table",component:Bb,name:s("workflow.table.title")},{value:"blocks",component:$b,name:s("workflow.blocks.base.title")}],c=(0,o.iH)("general"),u=(0,o.qj)({publicId:"",restartTimes:3,notification:!0,tabLoadTimeout:3e4,inputAutocomplete:!0,insertDefaultColumn:!0,defaultColumnName:"column"});return(0,t.YP)(u,(0,P.Ds)((()=>{r("update",{settings:u})}),500),{deep:!0}),(0,t.bv)((()=>{const e=ga()(i.workflow.settings);Object.assign(u,e)})),(e,r)=>{const i=(0,t.up)("v-remixicon"),a=(0,t.up)("ui-tab"),d=(0,t.up)("ui-tabs"),h=(0,t.up)("ui-tab-panel"),p=(0,t.up)("ui-tab-panels"),f=(0,t.up)("ui-card");return(0,t.wg)(),(0,t.j4)(f,{padding:"p-0",class:"workflow-settings w-full max-w-2xl"},{default:(0,t.w5)((()=>[(0,t._)("div",mk,[(0,t._)("p",gk,(0,n.toDisplayString)((0,o.SU)(s)("common.settings")),1),(0,t.Wm)(i,{name:"riCloseLine",class:"cursor-pointer",onClick:r[0]||(r[0]=t=>e.$emit("close"))})]),(0,t._)("div",vk,[(0,t.Wm)(d,{modelValue:c.value,"onUpdate:modelValue":r[1]||(r[1]=e=>c.value=e),class:"space-x-2"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(l,(e=>(0,t.Wm)(a,{key:e.value,value:e.value},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),(0,t.Wm)(p,{modelValue:c.value,"onUpdate:modelValue":r[3]||(r[3]=e=>c.value=e),class:"overflow-auto scroll pt-4 px-4 pb-4 settings-content",style:{height:"calc(100vh - 10rem)","max-height":"600px"}},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(l,(e=>(0,t.Wm)(h,{key:e.value,value:e.value},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.component),{settings:u,onUpdate:r[2]||(r[2]=e=>u[e.key]=e.value)},null,40,["settings"]))])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1})}}},wk=yk,bk=e=>((0,t.dD)("data-v-743c6944"),e=e(),(0,t.Cn)(),e),kk=bk((()=>(0,t._)("h1",{class:"text-xl font-semibold"},"Share workflow with team",-1))),xk=bk((()=>(0,t._)("p",{class:"text-gray-600 dark:text-gray-200"}," This workflow will be shared with your team ",-1))),Sk={key:1,class:"font-semibold"},_k={class:"flex items-start mt-4"},Ck={class:"flex-1 mr-8"},Dk={class:"flex items-center"},Ek=["value"],Ak={class:"relative mb-2 mt-2"},Ok=bk((()=>(0,t._)("label",{for:"short-description",class:"text-sm ml-2 text-gray-600 dark:text-gray-200"}," Short description ",-1))),Tk={class:"text-sm text-gray-600 dark:text-gray-200 absolute bottom-2 right-2"},Mk={class:"text-sm text-gray-600 dark:text-gray-200 absolute bottom-2 right-2"},Lk={class:"w-64 sticky top-4 pb-4"},Ik=(0,t.Uk)(" Save "),Nk={class:"flex"},Pk=(0,t.Uk)(" Publish "),Uk=(0,t.Uk)(" Cancel "),Bk=bk((()=>(0,t._)("option",{value:""},"(none)",-1))),jk=["value"],Rk=bk((()=>(0,t._)("span",{class:"text-sm ml-2 text-gray-600 dark:text-gray-200 mt-5 block"}," Environment ",-1))),Vk=(0,t.Uk)(" Stage "),Fk=(0,t.Uk)(" Production "),Wk={__name:"WorkflowShareTeam",props:{workflow:{type:Object,default:()=>({})},isUpdate:Boolean},emits:["close","publish","change","update"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)(),l=(0,Lr.pm)(),c=(0,E.L)(),u=L(),d=(0,o.qj)({userTeams:[],activeTeam:null,contentLength:0,isPublishing:!1,workflow:JSON.parse(JSON.stringify(i.workflow))});async function h(){try{d.isPublishing=!0;const e=Fr(d.workflow,["id","category"]);e.name=e.name||"unnamed",e.tag=d.workflow.tag||"stage",e.content=d.workflow.content||null,e.description=d.workflow.description.slice(0,300),e.drawflow=(0,P.Rx)(e.drawflow,e.drawflow),delete e.extVersion;const t=await(0,U.a8)(`/teams/${d.activeTeam}/workflows`,{method:"POST",body:JSON.stringify({workflow:e})}),n=await t.json();if(!t.ok){const e=new Error(t.statusText);throw e.data=n.data,e}e.id=n.id,e.teamId=n.teamId,e.createdAt=Date.now(),e.drawflow=i.workflow.drawflow,await u.insert(d.activeTeam,ga()(e)),d.isPublishing=!1;const o=e.drawflow.nodes?.find((e=>"trigger"===e.label));o&&await(0,M.W5)(e.id,o),l("Successfully share the workflow with your team"),r("publish")}catch(e){let t=s("message.somethingWrong");e.data&&e.data.show&&(t=e.message),l.error(t),console.error(e),d.isPublishing=!1}}function p(){const e=`draft-team:${i.workflow.id}`;k().storage.local.set({[e]:{name:d.workflow.name,tag:d.tag,content:d.workflow.content,category:d.workflow.category,description:d.workflow.description}})}return(0,t.YP)((()=>d.workflow),(0,P.Ds)((()=>{r("change",d.workflow)}),200),{deep:!0}),(0,t.bv)((()=>{if(!i.isUpdate){const e=`draft-team:${i.workflow.id}`;k().storage.local.get(e).then((t=>{Object.assign(d.workflow,t[e]),d.workflow.tag||(d.workflow.tag="stage")})),d.userTeams=c.user.teams.filter((e=>e.access.some((e=>["owner","create"].includes(e))))),d.userTeams[0]&&(d.activeTeam=d.userTeams[0].id)}})),(r,i)=>{const a=(0,t.up)("ui-input"),l=(0,t.up)("ui-select"),c=(0,t.up)("ui-textarea"),u=(0,t.up)("ui-button"),f=(0,t.up)("v-remixicon"),m=(0,t.up)("ui-tab"),g=(0,t.up)("ui-tabs"),v=(0,t.up)("ui-card"),y=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.j4)(v,{class:"w-full max-w-4xl share-workflow overflow-auto scroll"},{default:(0,t.w5)((()=>[e.isUpdate?((0,t.wg)(),(0,t.iD)("p",Sk,"Update workflow")):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[kk,xk],64)),(0,t._)("div",_k,[(0,t._)("div",Ck,[(0,t._)("div",Dk,[(0,t.Wm)(a,{modelValue:d.workflow.name,"onUpdate:modelValue":i[0]||(i[0]=e=>d.workflow.name=e),label:(0,o.SU)(s)("workflow.name"),type:"text",name:"workflow name",class:"flex-1"},null,8,["modelValue","label"]),e.isUpdate?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,modelValue:d.activeTeam,"onUpdate:modelValue":i[1]||(i[1]=e=>d.activeTeam=e),label:"Select team",class:"ml-4",style:{"max-width":"220px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.userTeams,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,Ek)))),128))])),_:1},8,["modelValue"]))]),(0,t._)("div",Ak,[Ok,(0,t.Wm)(c,{id:"short-description",modelValue:d.workflow.description,"onUpdate:modelValue":i[2]||(i[2]=e=>d.workflow.description=e),max:300,label:"Short description",placeholder:"Write here...",class:"w-full h-28 scroll resize-none"},null,8,["modelValue"]),(0,t._)("p",Tk,(0,n.toDisplayString)(d.workflow.description.length)+"/300 ",1)]),(0,t.Wm)(pb,{modelValue:d.workflow.content,"onUpdate:modelValue":i[3]||(i[3]=e=>d.workflow.content=e),placeholder:(0,o.SU)(s)("common.description"),limit:5e3,class:"prose prose-zinc dark:prose-invert max-w-none content-editor p-4 bg-box-transparent rounded-lg relative",onCount:i[4]||(i[4]=e=>d.contentLength=e)},{append:(0,t.w5)((()=>[(0,t._)("p",Mk,(0,n.toDisplayString)(d.contentLength)+"/5000 ",1)])),_:1},8,["modelValue","placeholder"])]),(0,t._)("div",Lk,[e.isUpdate?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(u,{variant:"accent",class:"w-full",onClick:i[5]||(i[5]=e=>r.$emit("update",d.workflow))},{default:(0,t.w5)((()=>[Ik])),_:1}),(0,t.Wm)(u,{class:"w-full mt-2",onClick:i[6]||(i[6]=e=>r.$emit("close"))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("common.cancel")),1)])),_:1})],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",Nk,[(0,t.wy)(((0,t.wg)(),(0,t.j4)(u,{disabled:d.isPublishing,icon:"",onClick:p},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riSaveLine"})])),_:1},8,["disabled"])),[[y,"Save as draft"]]),(0,t.Wm)(u,{loading:d.isPublishing,disabled:!d.workflow.name.trim(),variant:"accent",class:"w-full ml-2",onClick:h},{default:(0,t.w5)((()=>[Pk])),_:1},8,["loading","disabled"])]),(0,t.Wm)(u,{disabled:d.isPublishing,class:"mt-2 w-full",onClick:i[7]||(i[7]=e=>r.$emit("close"))},{default:(0,t.w5)((()=>[Uk])),_:1},8,["disabled"])],64)),(0,t.Wm)(l,{modelValue:d.workflow.category,"onUpdate:modelValue":i[8]||(i[8]=e=>d.workflow.category=e),class:"mt-4 w-full",label:(0,o.SU)(s)("common.category")},{default:(0,t.w5)((()=>[Bk,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.qZ),((e,o)=>((0,t.wg)(),(0,t.iD)("option",{key:o,value:o},(0,n.toDisplayString)(e),9,jk)))),128))])),_:1},8,["modelValue","label"]),Rk,(0,t.Wm)(g,{modelValue:d.workflow.tag,"onUpdate:modelValue":i[9]||(i[9]=e=>d.workflow.tag=e),type:"fill",fill:""},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{value:"stage"},{default:(0,t.w5)((()=>[Vk])),_:1}),(0,t.Wm)(m,{value:"production"},{default:(0,t.w5)((()=>[Fk])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}}},Hk=(0,cr.Z)(Wk,[["__scopeId","data-v-743c6944"]]);var zk=s(88380);const $k={id:"workflow-edit-block",class:"px-4 overflow-auto scroll pb-1"},Kk={class:"sticky top-0 z-20 bg-white dark:bg-gray-800 pb-4 mb-2 flex items-center space-x-2"},qk={class:"font-semibold inline-block capitalize"},Yk=["title","href"],Gk=(0,t._)("div",{class:"flex-grow"},null,-1),Xk={__name:"WorkflowEditBlock",props:{data:{type:Object,default:()=>({})},editor:{type:Object,default:()=>({})},workflow:{type:Object,default:()=>({})},autocomplete:{type:Object,default:()=>({})},dataChanged:Boolean},emits:["close","update","update:autocomplete"],setup(e,{emit:r}){const i=e,l=s(54049),c=l.keys().reduce(((e,t)=>{const n=t.replace(/(.\/)|\.vue$/g,""),o=l(t)?.default??{};return e[n]=o,e}),{}),{t:u}=(0,a.QT)(),d=(0,t.Fl)({get:()=>i.data.data,set(e){r("update",e)}});return(r,i)=>{const s=(0,t.up)("v-remixicon"),a=(0,t.up)("ui-switch"),l=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",$k,[(0,t._)("div",Kk,[(0,t._)("button",{onClick:i[0]||(i[0]=e=>r.$emit("close"))},[(0,t.Wm)(s,{name:"riArrowLeftLine"})]),(0,t._)("p",qk,(0,n.toDisplayString)((0,o.SU)(u)(`workflow.blocks.${e.data.id}.name`)),1),(0,t._)("a",{title:(0,o.SU)(u)("common.docs"),href:`https://docs.automa.site/blocks/${e.data.id}.html`,rel:"noopener",target:"_blank",class:"text-gray-600 dark:text-gray-200"},[(0,t.Wm)(s,{name:"riInformationLine",size:"20"})],8,Yk),Gk,"trigger"!==e.data.id?(0,t.wy)(((0,t.wg)(),(0,t.j4)(a,{key:0,"model-value":!(0,o.SU)(d).disableBlock,onChange:i[1]||(i[1]=e=>r.$emit("update",{...(0,o.SU)(d),disableBlock:!e}))},null,8,["model-value"])),[[l,(0,o.SU)(u)("workflow.blocks.base.toggle."+((0,o.SU)(d).disableBlock?"enable":"disable"))]]):(0,t.kq)("",!0)]),(0,o.SU)(d)?((0,t.wg)(),(0,t.j4)((0,t.LL)((0,o.SU)(c)[e.data.editComponent]),(0,t.dG)({key:0,key:e.data.itemId||e.data.blockId,data:(0,o.SU)(d),"onUpdate:data":i[2]||(i[2]=e=>(0,o.dq)(d)?d.value=e:null),"block-id":e.data.blockId},{editor:"conditions"===e.data.id?e.editor:null,connections:"wait-connections"===e.data.id?e.data.connections:null}),null,16,["data","block-id"])):(0,t.kq)("",!0),(0,o.SU)(R.xh).includes(e.data.id)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(zk.default,{key:e.data.itemId||e.data.blockId,data:e.data,class:"mt-4",onChange:i[3]||(i[3]=e=>r.$emit("update",{...(0,o.SU)(d),...e}))},null,8,["data"]))])}}},Jk=Xk,Zk=[{id:"any",name:"Any"},{id:"string",name:"Text"},{id:"integer",name:"Number"},{id:"boolean",name:"Boolean"},{id:"array",name:"Array"}],Qk=(0,t.Uk)(" Connect to a storage table "),ex=(0,t._)("p",null,"Select a table",-1),tx={key:0},nx={class:"flex mb-4"},ox={key:1,class:"py-2 px-4 rounded-md bg-green-200 dark:bg-green-300 flex items-center mb-4 text-black"},rx={class:"mr-1"},ix=(0,t.Uk)(" This workflow is connected to the "),sx=(0,t.Uk)(" table "),ax={class:"overflow-y-auto scroll px-1",style:{"max-height":"calc(100vh - 16rem)","min-height":"300px"}},lx={key:0,class:"text-center mt-4"},cx={key:1,class:"space-y-2 py-1"},ux=["value"],dx=["onClick"],hx={__name:"WorkflowDataTable",props:{workflow:{type:Object,default:()=>({})}},emits:["update","close","change","connect","disconnect"],setup(r,{emit:i}){const s=r,{t:l}=(0,a.QT)(),c=(0,T.I)(),u=(0,o.qj)({query:"",columns:[],tableList:[],connectedTable:null}),d=(0,t.Fl)({get:()=>u.connectedTable?u.connectedTable.columns:u.columns,set(e){u.columns=e}});function h(e){const t=e.replace(/[\s@[\]]/g,"");return u.columns.some((e=>e.name===t))||""===t.trim()?"":t}function p(){const e=h(u.query);e&&(u.columns.push({id:(0,A.x0)(5),name:e,type:"string"}),u.query="")}function f(){c.update({id:s.workflow.id,data:{connectedTable:null}}).then((()=>{u.columns=s.workflow.table,u.connectedTable=null,i("disconnect")}))}return(0,t.YP)((()=>u.columns),(0,P.Ds)((e=>{if(s.workflow.connectedTable)return;const t={table:e};i("update",t),i("change",t)}),250),{deep:!0}),(0,t.bv)((async()=>{if(u.tableList=await ol.tablesItems.toArray(),s.workflow.connectedTable){const e=u.tableList.find((e=>e.id===s.workflow.connectedTable));if(e)return void(u.connectedTable=e);i("change",{connectedTable:null}),i("update",{connectedTable:null})}let e=!1;if(u.columns=s.workflow.table?.map((t=>(t.id||(e=!0,t.id=t.name),t)))||[],e){const e={table:u.columns};i("change",e),i("update",e)}})),(a,m)=>{const g=(0,t.up)("ui-button"),v=(0,t.up)("ui-list-item"),y=(0,t.up)("ui-list"),w=(0,t.up)("ui-popover"),b=(0,t.up)("ui-input"),k=(0,t.up)("router-link"),x=(0,t.up)("v-remixicon"),S=(0,t.up)("ui-select");return(0,t.wg)(),(0,t.iD)(t.HY,null,[r.workflow.connectedTable?u.connectedTable?((0,t.wg)(),(0,t.iD)("div",ox,[(0,t._)("p",rx,[ix,(0,t.Wm)(k,{to:`/storage/tables/${u.connectedTable.id}`,class:"underline"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(u.connectedTable.name),1)])),_:1},8,["to"]),sx]),(0,t.Wm)(x,{name:"riLinkUnlinkM",title:"Disconnect table",class:"cursor-pointer",onClick:f})])):(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(w,{class:"mb-4"},{trigger:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[Qk])),_:1})])),default:(0,t.w5)((()=>[ex,(0,t.Wm)(y,{class:"mt-2 space-y-1 max-h-80 overflow-auto w-64"},{default:(0,t.w5)((()=>[0===u.tableList.length?((0,t.wg)(),(0,t.iD)("p",tx,(0,n.toDisplayString)((0,o.SU)(l)("message.noData")),1)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.tableList,(e=>((0,t.wg)(),(0,t.j4)(v,{key:e.id,class:"text-overflow cursor-pointer",onClick:t=>{return n=e,void c.update({id:s.workflow.id,data:{connectedTable:n.id}}).then((()=>{i("connect"),u.query="",u.connectedTable=n}));var n}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,t._)("div",nx,[(0,t.Wm)(b,{modelValue:u.query,"onUpdate:modelValue":m[0]||(m[0]=e=>u.query=e),autofocus:"",autocomplete:"off",placeholder:(0,o.SU)(l)("workflow.table.column.name"),class:"mr-2 flex-1",onKeyup:[(0,e.withKeys)(p,["enter"]),m[1]||(m[1]=(0,e.withKeys)((e=>a.$emit("close")),["esc"]))]},null,8,["modelValue","placeholder","onKeyup"]),(0,t.Wm)(g,{variant:"accent",onClick:p},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("common.add")),1)])),_:1})])],64)),(0,t._)("div",ax,[0===(0,o.SU)(d).length?((0,t.wg)(),(0,t.iD)("p",lx,(0,n.toDisplayString)((0,o.SU)(l)("message.noData")),1)):((0,t.wg)(),(0,t.iD)("ul",cx,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(d),((e,i)=>((0,t.wg)(),(0,t.iD)("li",{key:e.id,class:"flex items-center space-x-2"},[(0,t.Wm)(b,{disabled:Boolean(r.workflow.connectedTable),"model-value":(0,o.SU)(d)[i].name,placeholder:(0,o.SU)(l)("workflow.table.column.name"),class:"flex-1",onBlur:e=>function(e,t){const n=h(t.value);n?u.columns[e].name=n:t.value=u.columns[e].name}(i,e.target)},null,8,["disabled","model-value","placeholder","onBlur"]),(0,t.Wm)(S,{modelValue:(0,o.SU)(d)[i].type,"onUpdate:modelValue":e=>(0,o.SU)(d)[i].type=e,disabled:Boolean(r.workflow.connectedTable),placeholder:(0,o.SU)(l)("workflow.table.column.type"),class:"flex-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(Zk),(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,ux)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","placeholder"]),Boolean(r.workflow.connectedTable)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e=>u.columns.splice(i,1)},[(0,t.Wm)(x,{name:"riDeleteBin7Line"})],8,dx))])))),128))]))])],64)}}},px=hx,fx={class:"global-data"},mx={class:"text-right",title:"Characters limit"},gx={__name:"WorkflowGlobalData",props:{workflow:{type:Object,default:()=>({})}},emits:["update"],setup(e,{emit:r}){const i=e,a=(0,t.RC)((()=>Promise.all([s.e(796),s.e(71)]).then(s.bind(s,78071)))),l=1e4,c=(0,o.iH)(`${i.workflow.globalData}`);return(0,t.YP)(c,(0,P.Ds)((e=>{let t=e;e.length>l&&(t=e.slice(0,l),c.value=t),r("update",{globalData:t})}),250)),(e,r)=>((0,t.wg)(),(0,t.iD)("div",fx,[(0,t._)("p",mx,(0,n.toDisplayString)(c.value.length)+"/"+(0,n.toDisplayString)(l.toLocaleString()),1),(0,t.Wm)((0,o.SU)(a),{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),style:{height:"calc(100vh - 10rem)"},lang:"json"},null,8,["modelValue"])]))}},vx={class:"capitalize flex-1 ml-2"},yx={class:"grid grid-cols-2 gap-2 mb-4"},wx=["title","onDragstart"],bx={class:"flex items-center absolute right-2 invisible group-hover:visible top-2 text-gray-600 dark:text-gray-300"},kx=["href","title"],xx=["title","onClick"],Sx={class:"leading-tight text-overflow capitalize"},_x={__name:"WorkflowBlockList",props:{category:{type:Object,default:()=>({})},blocks:{type:Array,default:()=>[]},pinned:{type:Array,default:()=>[]}},emits:["pin"],setup(e){const{t:r}=(0,a.QT)();function i({description:e,id:t}){const n=`workflow.blocks.${t}`;let o=r(`${n}.${e?"description":"name"}`);return e&&(o=`[${r(`${n}.name`)}]\n${o}`),o}return(s,a)=>{const l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-expand");return(0,t.wg)(),(0,t.j4)(c,{"hide-header-icon":"","header-class":"flex items-center py-2 focus:ring-0 w-full text-left text-gray-600 dark:text-gray-200"},{header:(0,t.w5)((({show:o})=>[(0,t._)("span",{class:(0,n.normalizeClass)([e.category.color,"h-3 w-3 rounded-full"])},null,2),(0,t._)("p",vx,(0,n.toDisplayString)(e.category.name),1),(0,t.Wm)(l,{name:o?"riSubtractLine":"riAddLine",size:"20"},null,8,["name"])])),default:(0,t.w5)((()=>[(0,t._)("div",yx,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.blocks,(a=>((0,t.wg)(),(0,t.iD)("div",{key:a.id,title:i(a),draggable:"true",class:"transform select-none cursor-move relative p-4 rounded-lg bg-input transition group",onDragstart:e=>e.dataTransfer.setData("block",JSON.stringify(a))},[(0,t._)("div",bx,[(0,t._)("a",{href:`https://docs.automa.site/blocks/${a.id}.html`,title:(0,o.SU)(r)("common.docs"),target:"_blank",rel:"noopener"},[(0,t.Wm)(l,{name:"riInformationLine",size:"18"})],8,kx),(0,t._)("span",{title:(e.pinned.includes(a.id)?"Unpin":"Pin")+" block",class:"cursor-pointer ml-1",onClick:e=>s.$emit("pin",a)},[(0,t.Wm)(l,{size:"18",name:e.pinned.includes(a.id)?"riPushpin2Fill":"riPushpin2Line"},null,8,["name"])],8,xx)]),(0,t.Wm)(l,{name:a.icon,size:"24",class:"mb-2"},null,8,["name"]),(0,t._)("p",Sx,(0,n.toDisplayString)(a.name),1)],40,wx)))),128))])])),_:1})}}},Cx=_x,Dx={class:"px-4 flex items-start mb-2 mt-1"},Ex=["title"],Ax={class:"w-56"},Ox={class:"mb-2"},Tx={class:"grid grid-cols-5 mb-2 gap-1"},Mx=["onClick"],Lx={class:"flex-1 overflow-hidden"},Ix={class:"font-semibold mt-1 text-overflow text-lg leading-tight"},Nx={class:"scroll bg-scroll px-4 flex-1 relative overflow-auto"},Px={__name:"WorkflowDetailsCard",props:{workflow:{type:Object,default:()=>({})},dataChanged:{type:Boolean,default:!1}},emits:["update"],setup(e,{emit:r}){const{t:i}=(0,a.QT)(),s=(0,$o.bx)("action:search",(()=>{document.querySelector("#search-input input")?.focus()})),l={name:"Pinned blocks",color:"bg-accent"},c=["riGlobalLine","riFileTextLine","riEqualizerLine","riTimerLine","riCalendarLine","riFlashlightLine","riLightbulbFlashLine","riDatabase2Line","riWindowLine","riCursorLine","riDownloadLine","riCommandLine"],u=Object.entries(R.wq).map((([e,t])=>({...t,id:e,name:i(`workflow.blocks.${e}.name`)}))),d=(0,o.iH)(!0),h=(0,o.iH)(""),p=(0,o.iH)([]),f=(0,t.Fl)((()=>u.reduce(((e,t)=>(t.name.toLocaleLowerCase().includes(h.value.toLocaleLowerCase())&&(e[t.category]=e[t.category]||[]).push(t),e)),{}))),m=(0,t.Fl)((()=>p.value.map((e=>({...R.wq[e],id:e,name:i(`workflow.blocks.${e}.name`)}))).filter((({name:e})=>e.toLocaleLowerCase().includes(h.value.toLocaleLowerCase())))));function g(e){if(!e.startsWith("http"))return;const t=e.slice(0,1024);r("update",{icon:t})}function v({id:e}){const t=p.value.indexOf(e);-1!==t?p.value.splice(t,1):p.value.push(e)}return(0,t.YP)(p,(()=>{k().storage.local.set({pinnedBlocks:(0,o.IU)(p.value)})}),{deep:!0}),(0,t.bv)((()=>{k().storage.local.get("pinnedBlocks").then((e=>{p.value=e.pinnedBlocks||[]}))})),(r,a)=>{const u=(0,t.up)("ui-img"),y=(0,t.up)("v-remixicon"),w=(0,t.up)("ui-input"),b=(0,t.up)("ui-popover");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Dx,[(0,t.Wm)(b,{class:"mr-2 h-8"},{trigger:(0,t.w5)((()=>[(0,t._)("span",{title:(0,o.SU)(i)("workflow.sidebar.workflowIcon"),class:"cursor-pointer inline-block h-full"},[e.workflow.icon.startsWith("http")?((0,t.wg)(),(0,t.j4)(u,{key:0,src:e.workflow.icon,class:"w-8 h-8"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(y,{key:1,name:e.workflow.icon,size:"26",class:"mt-1"},null,8,["name"]))],8,Ex)])),default:(0,t.w5)((()=>[(0,t._)("div",Ax,[(0,t._)("p",Ox,(0,n.toDisplayString)((0,o.SU)(i)("workflow.sidebar.workflowIcon")),1),(0,t._)("div",Tx,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(c,(e=>(0,t._)("span",{key:e,class:"cursor-pointer rounded-lg inline-block text-center p-2 hoverable",onClick:t=>r.$emit("update",{icon:e})},[(0,t.Wm)(y,{name:e},null,8,["name"])],8,Mx))),64))]),(0,t.Wm)(w,{"model-value":e.workflow.icon.startsWith("ri")?"":e.workflow.icon,type:"url",placeholder:"http://example.com/img.png",label:"Icon URL",onChange:g},null,8,["model-value"])])])),_:1}),(0,t._)("div",Lx,[(0,t._)("p",Ix,(0,n.toDisplayString)(e.workflow.name),1),(0,t._)("p",{class:(0,n.normalizeClass)(["leading-tight cursor-pointer",d.value?"line-clamp":"whitespace-pre-wrap"]),onClick:a[0]||(a[0]=e=>d.value=!d.value)},(0,n.toDisplayString)(e.workflow.description),3)])]),(0,t.Wm)(w,{id:"search-input",modelValue:h.value,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),placeholder:`${(0,o.SU)(i)("common.search")}... (${(0,o.SU)(s)["action:search"].readable})`,"prepend-icon":"riSearch2Line",class:"px-4 mt-4 mb-2"},null,8,["modelValue","placeholder"]),(0,t._)("div",Nx,[(0,o.SU)(m).length>0?((0,t.wg)(),(0,t.j4)(Cx,{key:0,"model-value":!0,blocks:(0,o.SU)(m),category:l,pinned:p.value,onPin:v},null,8,["blocks","pinned"])):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(f),((e,n)=>((0,t.wg)(),(0,t.j4)(Cx,{key:n,"model-value":!0,blocks:e,category:(0,o.SU)(R.bd)[n],pinned:p.value,onPin:v},null,8,["blocks","category","pinned"])))),128))])],64)}}},Ux=Px,Bx={key:0,class:"text-sm capitalize text-gray-600 dark:text-gray-200"},jx={__name:"EditorLocalCtxMenu",props:{editor:{type:Object,default:()=>({})}},emits:["copy","paste","duplicate"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)(),l=(0,o.qj)({show:!1,items:[],position:{}});let c=null;const u={paste:{id:"paste",name:s("workflow.editor.paste"),icon:"riFileCopyLine",shortcut:(0,$o.v3)("mod+v"),event:()=>r("paste",c?.position)},delete:{id:"delete",name:s("common.delete"),icon:"riDeleteBin7Line",shortcut:"Del",event:()=>{i.editor.removeEdges(c.edges),i.editor.removeNodes(c.nodes)}},copy:{id:"copy",name:s("workflow.editor.copy"),icon:"riFileCopyLine",event:()=>r("copy",c),shortcut:(0,$o.v3)("mod+c")},duplicate:{id:"duplicate",name:s("workflow.editor.duplicate"),icon:"riFileCopyLine",event:()=>r("duplicate",c),shortcut:(0,$o.KM)("editor:duplicate-block").readable}};function d(e=[],t){t.preventDefault();const{clientX:n,clientY:r}=t;l.items=e.map((e=>(0,o.Xl)(u[e]))),l.items.unshift((0,o.Xl)(u.paste)),l.position={getReferenceClientRect:()=>({width:0,height:0,top:r,right:n,bottom:r,left:n})},l.show=!0}function h(){l.show=!1,l.items=[],l.position={}}return(0,t.bv)((()=>{i.editor.onNodeContextMenu((({event:e,node:t})=>{d(["copy","duplicate","delete"],e),c={nodes:[t],edges:[]}})),i.editor.onEdgeContextMenu((({event:e,edge:t})=>{d(["delete"],e),c={nodes:[],edges:[t]}})),i.editor.onPaneContextMenu((e=>{d([],e),c={nodes:[],edges:[],position:{clientX:e.clientX,clientY:e.clientY}}})),i.editor.onSelectionContextMenu((({event:e})=>{d(["copy","duplicate","delete"],e),c={nodes:i.editor.getSelectedNodes.value,edges:i.editor.getSelectedEdges.value}}))})),(e,o)=>{const r=(0,t.up)("ui-list-item"),i=(0,t.up)("ui-list"),s=(0,t.up)("ui-popover"),a=(0,t.Q2)("close-popover");return(0,t.wg)(),(0,t.j4)(s,{modelValue:l.show,"onUpdate:modelValue":o[0]||(o[0]=e=>l.show=e),options:l.position,padding:"p-3",onClose:h},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"space-y-1 w-52"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.items,(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(r,{key:e.id,class:"cursor-pointer justify-between",onClick:e.event},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,n.toDisplayString)(e.name),1),e.shortcut?((0,t.wg)(),(0,t.iD)("span",Bx,(0,n.toDisplayString)(e.shortcut),1)):(0,t.kq)("",!0)])),_:2},1032,["onClick"])),[[a]]))),128))])),_:1})])),_:1},8,["modelValue","options"])}}},Rx=jx,Vx={class:"hoverable p-2 rounded-lg"},Fx={class:"flex items-center text-gray-600 dark:text-gray-200"},Wx=["title"],Hx=(0,t._)("div",{class:"flex-grow"},null,-1),zx=(0,t._)("p",{class:"font-semibold"},"Share the workflow",-1),$x=(0,t.Uk)(" With your team "),Kx=(0,t.Uk)(" With the community "),qx=["onClick"],Yx={key:0,class:"p-2 hoverable rounded-lg"},Gx={class:"rounded-lg p-2 hoverable"},Xx=(0,t._)("span",null,"Delete from team",-1),Jx={key:0,class:"flex h-3 w-3 absolute top-0 left-0 -ml-1 -mt-1"},Zx=[(0,t._)("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"},null,-1),(0,t._)("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-blue-600"},null,-1)],Qx={key:0,class:"flex h-3 w-3 absolute top-0 left-0 -ml-1 -mt-1"},eS=[(0,t._)("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"},null,-1),(0,t._)("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-blue-600"},null,-1)],tS=(0,t.Uk)(" Publish "),nS={class:"mb-6 text-right text-gray-600 dark:text-gray-200"},oS={class:"space-x-2 flex"},rS={__name:"EditorLocalActions",props:{isDataChanged:{type:Boolean,default:!1},workflow:{type:Object,default:()=>({})},editor:{type:Object,default:()=>({})},changedData:{type:Object,default:()=>({})},canEdit:{type:Boolean,default:!0},isTeam:Boolean},emits:["modal","change","update","permission"],setup(r,{emit:i}){const s=r;Yo();const{t:c}=(0,a.QT)(),u=(0,Lr.pm)(),d=(0,l.tv)(),h=Nr(),p=(0,E.L)(),f=(0,T.I)(),m=L(),g=j(),v=(0,$o.bx)([(0,$o.KM)("editor:save",H),(0,$o.KM)("editor:execute-workflow",A)]),{teamId:y}=d.currentRoute.value.params,w=(0,o.qj)({triggerText:"",loadingSync:!1,isPublishing:!1,showNoteModal:!1,isUploadingHost:!1,showEditDescription:!1}),b=(0,o.qj)({name:"",description:"",showModal:!1}),x=(0,t.Fl)((()=>g.getById(s.workflow.id))),S=(0,t.Fl)((()=>p.hostedWorkflows[s.workflow.id])),_=(0,t.Fl)((()=>!(!s.isTeam&&p.user?.teams)||!p.user.teams.some((e=>e.access.some((e=>["owner","create"].includes(e)))))));function C(e={},t=!1){let n=null;return n=s.isTeam?m.update({data:e,teamId:y,id:s.workflow.id}):f.update({data:e,id:s.workflow.id}),n.then((n=>(i("update",{data:e,changedIndicator:t}),n)))}function D(e){const t={};["description","category","content","tag","name"].forEach((n=>{t[n]=e[n]})),C(t),w.showEditDescription=!1}function A(){li("workflow:execute",{...s.workflow,isTesting:s.isDataChanged},"background")}async function O(e){if(p.user){w.isUploadingHost=!0;try{let t="/me/workflows",n={};if(e){const e=Fr(s.workflow,["id"]);e.drawflow=(0,P.Rx)(s.workflow.drawflow,s.workflow.drawflow),delete e.extVersion,t+="/host",n={method:"POST",body:JSON.stringify({workflow:e})}}else t+=`?id=${s.workflow.id}&type=host`,n.method="DELETE";const o=await(0,U.a8)(t,n),r=await o.json();if(!o.ok){const e=new Error(r.message);throw e.data=r.data,e}e?p.hostedWorkflows[s.workflow.id]=r:delete p.hostedWorkflows[s.workflow.id];const i=(0,P.Rx)("user-workflows",{backup:[],hosted:{}});i.hosted=p.hostedWorkflows,sessionStorage.setItem("user-workflows",JSON.stringify(i)),w.isUploadingHost=!1}catch(e){console.error(e),w.isUploadingHost=!1,u.error(e.message)}}else h.custom("auth",{title:c("auth.title")})}function I(){i("modal","workflow-share-team")}function N(e=!1){e||(x.value?d.push(`/workflows/${s.workflow.id}/shared`):p.user?i("modal","workflow-share"):h.custom("auth",{title:c("auth.title")}))}function B(){h.confirm({async:!0,title:"Delete workflow from team",okVariant:"danger",body:`Are you sure want to delete the "${s.workflow.name}" workflow from this team?`,onConfirm:async()=>{try{const e=await(0,U.a8)(`/teams/${y}/workflows/${s.workflow.id}`,{method:"DELETE"}),t=await e.json();if(!e.ok&&404!==e.status)throw new Error(t.message);return await m.delete(y,s.workflow.id),d.replace(`/workflows?active=team&teamId=${y}`),!0}catch(e){return u.error("Something went wrong"),console.error(e),!1}}})}function V(){Object.assign(b,{id:"",name:"",description:"",showModal:!1})}async function F(){if(!s.canEdit)return;const e=Fr(s.workflow,["id","tag","content"]);e.drawflow=(0,P.Rx)(s.workflow.drawflow,s.workflow.drawflow),delete e.id,delete e.extVersion,w.isPublishing=!0;try{const t=await(0,U.a8)(`/teams/${y}/workflows/${s.workflow.id}`,{method:"PATCH",body:JSON.stringify({workflow:e})}),n=await t.json();if(!t.ok){if(404===t.status)return await m.delete(y,s.workflow.id),void d.replace("/");throw new Error(n.message)}}catch(e){console.error(e),u.error("Something went wrong")}finally{w.isPublishing=!1}}function W(){C({name:b.name,description:b.description}),V()}async function H(){try{const e=s.editor.toObject();e.edges=e.edges.map((e=>(delete e.sourceNode,delete e.targetNode,e)));const t=e.nodes.find((e=>"trigger"===e.label));if(!t)return void u.error(c("message.noTriggerBlock"));await C({drawflow:e,trigger:t.data,version:k().runtime.getManifest().version},!1),await(0,M.W5)(s.workflow.id,t),i("change",{drawflow:e})}catch(e){console.error(e)}}async function z(){if(s.canEdit)return;const e=(0,P.No)(s.workflow.drawflow);e&&(w.triggerText=await Ps(e.data,c,d.currentRoute.value.params.id,!0))}async function $(){try{const e=await(0,U.a8)(`/teams/${y}/workflows/${s.workflow.id}`),t=await e.json();if(404===e.status)return await m.delete(y,s.workflow.id),void d.replace(`/workflows?active=team&teamId=${y}`);if(!e.ok)throw new Error(t.message);await m.update({teamId:y,data:t,id:s.workflow.id});const n=Ns(t);s.editor.setNodes(n.drawflow.nodes||[]),s.editor.setEdges(n.drawflow.edges||[]),s.editor.fitView(),await z();const o=n.drawflow.nodes.find((e=>"trigger"===e.label));(0,M.W5)(s.workflow.id,o),i("permission")}catch(e){u.error(e.message),console.error(e)}finally{w.loadingSync=!1,u.dismiss("sync")}}async function K(){w.loadingSync=!0,s.canEdit?h.confirm({title:"Sync workflow",okText:"Sync",body:"This action will overwrite the current workflow with the one that stored in cloud",onConfirm:()=>{$(),u("Syncing workflow...",{timeout:!1,id:"sync"})}}):$()}z();const q=[{id:"table",name:c("workflow.table.title"),icon:"riTable2"},{id:"global-data",name:c("common.globalData"),icon:"riDatabase2Line"},{id:"settings",name:c("common.settings"),icon:"riSettings3Line"}],Y=[{id:"export",icon:"riDownloadLine",name:c("common.export"),action:()=>Hr(s.workflow),hasAccess:!s.isTeam||s.canEdit},{id:"rename",icon:"riPencilLine",hasAccess:!s.isTeam||s.canEdit,name:s.isTeam?"Edit detail":c("common.rename"),action:function(){s.isTeam?w.showEditDescription=!0:Object.assign(b,{showModal:!0,name:`${s.workflow.name}`,description:`${s.workflow.description}`})}},{id:"delete",hasAccess:!0,action:function(){h.confirm({title:c("workflow.delete"),okVariant:"danger",body:c("message.delete",{name:s.workflow.name}),onConfirm:async()=>{s.isTeam?await m.delete(y,s.workflow.id):await f.delete(s.workflow.id),d.replace("/")}})},name:c("common.delete"),icon:"riDeleteBin7Line",attrs:{class:"text-red-400 dark:text-red-500"}}].filter((e=>e.hasAccess));return(i,s)=>{const a=(0,t.up)("v-remixicon"),l=(0,t.up)("ui-card"),u=(0,t.up)("ui-spinner"),d=(0,t.up)("ui-switch"),h=(0,t.up)("ui-input"),f=(0,t.up)("transition-expand"),m=(0,t.up)("ui-popover"),g=(0,t.up)("ui-list-item"),k=(0,t.up)("ui-list"),E=(0,t.up)("ui-button"),T=(0,t.up)("ui-modal"),M=(0,t.up)("ui-textarea"),L=(0,t.Q2)("tooltip"),P=(0,t.Q2)("close-popover");return(0,t.wg)(),(0,t.iD)(t.HY,null,[r.isTeam&&r.workflow.tag?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,n.normalizeClass)([(0,o.SU)(R.QB)[r.workflow.tag],"text-sm rounded-md text-black capitalize p-1 mr-2"])},(0,n.toDisplayString)(r.workflow.tag),3)):(0,t.kq)("",!0),r.isTeam&&r.canEdit?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:1,padding:"p-1 pointer-events-auto"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"hoverable p-2 rounded-lg",onClick:s[0]||(s[0]=e=>w.showNoteModal=!0)},[(0,t.Wm)(a,{name:"riFileEditLine"})])),[[L,"Workflow note",void 0,{group:!0}]])])),_:1})),r.isTeam?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:2,padding:"p-1",class:"flex items-center pointer-events-auto ml-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{trigger:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",Vx,[(0,t.Wm)(a,{class:(0,n.normalizeClass)({"text-primary":(0,o.SU)(S)}),name:"riBaseStationLine"},null,8,["class"])])),[[L,(0,o.SU)(c)("workflow.host.title"),void 0,{group:!0}]])])),default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,n.normalizeClass)([{"text-center":w.isUploadingHost},"w-64"])},[(0,t._)("div",Fx,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(c)("workflow.host.set")),1),(0,t._)("a",{title:(0,o.SU)(c)("common.docs"),href:"https://docs.automa.site/guide/host-workflow.html",target:"_blank",class:"ml-1"},[(0,t.Wm)(a,{name:"riInformationLine",size:"20"})],8,Wx),Hx,w.isUploadingHost?((0,t.wg)(),(0,t.j4)(u,{key:0,color:"text-accent"})):((0,t.wg)(),(0,t.j4)(d,{key:1,"model-value":Boolean((0,o.SU)(S)),onChange:O},null,8,["model-value"]))]),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,o.SU)(S)?(0,t.wy)(((0,t.wg)(),(0,t.j4)(h,{key:0,"model-value":(0,o.SU)(S).hostId,"prepend-icon":"riLinkM",readonly:"",class:"mt-4 block w-full",onClick:s[1]||(s[1]=e=>e.target.select())},null,8,["model-value"])),[[L,(0,o.SU)(c)("workflow.host.id"),"bottom"]]):(0,t.kq)("",!0)])),_:1})],2)])),_:1}),(0,t.Wm)(m,{disabled:(0,o.SU)(_)},{trigger:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:(0,n.normalizeClass)([{"text-primary":(0,o.SU)(x)},"hoverable p-2 rounded-lg"]),onClick:s[2]||(s[2]=e=>N(!(0,o.SU)(_)))},[(0,t.Wm)(a,{name:"riShareLine"})],2)),[[L,(0,o.SU)(c)("workflow.share.title"),void 0,{group:!0}]])])),default:(0,t.w5)((()=>[zx,(0,t.Wm)(k,{class:"mt-2 space-y-1 w-56"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{class:"cursor-pointer",onClick:I},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riTeamLine",class:"-ml-1 mr-2"}),$x])),_:1})),[[P]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{class:"cursor-pointer",onClick:s[3]||(s[3]=e=>N())},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riGroupLine",class:"-ml-1 mr-2"}),Kx])),_:1})),[[P]])])),_:1})])),_:1},8,["disabled"])])),_:1})),r.canEdit?((0,t.wg)(),(0,t.j4)(l,{key:3,padding:"p-1 ml-4 pointer-events-auto"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(q,(e=>(0,t.wy)((0,t._)("button",{key:e.id,class:"hoverable p-2 rounded-lg",onClick:t=>i.$emit("modal",e.id)},[(0,t.Wm)(a,{name:e.icon},null,8,["name"])],8,qx),[[L,e.name,void 0,{group:!0}]]))),64))])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(l,{padding:"p-1 ml-4 flex items-center pointer-events-auto"},{default:(0,t.w5)((()=>[r.workflow.isDisabled?(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{key:1,class:"p-2",onClick:s[4]||(s[4]=e=>C({isDisabled:!1}))},[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)("common.disabled")),1)])),[[L,(0,o.SU)(c)("workflow.clickToEnable")]]):(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{key:0,class:"hoverable p-2 rounded-lg",onClick:A},[(0,t.Wm)(a,{name:"riPlayLine"})])),[[L,`${(0,o.SU)(c)("common.execute")} (${(0,o.SU)(v)["editor:execute-workflow"].readable})`,void 0,{group:!0}]])])),_:1}),(0,t.Wm)(l,{padding:"p-1 ml-4 space-x-1 pointer-events-auto flex items-center"},{default:(0,t.w5)((()=>[r.canEdit?(0,t.kq)("",!0):(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",Yx,[(0,t.Wm)(a,{name:"riFlashlightLine"})])),[[L,w.triggerText,void 0,{group:!0}]]),(0,t.Wm)(m,null,{trigger:(0,t.w5)((()=>[(0,t._)("button",Gx,[(0,t.Wm)(a,{name:"riMore2Line"})])])),default:(0,t.w5)((()=>[(0,t.Wm)(k,{style:{"min-width":"9rem"}},{default:(0,t.w5)((()=>[r.isTeam&&r.canEdit?(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{key:0,class:"cursor-pointer",onClick:K},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riRefreshLine",class:"mr-2 -ml-1"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(c)("workflow.host.sync.title")),1)])),_:1})),[[P]]):(0,t.kq)("",!0),(0,t.Wm)(g,{class:"cursor-pointer",onClick:s[5]||(s[5]=e=>C({isDisabled:!r.workflow.isDisabled}))},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riToggleLine",class:"mr-2 -ml-1"}),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(c)("common."+(r.workflow.isDisabled?"enable":"disable"))),1)])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(Y),(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,(0,t.dG)({key:e.id},e.attrs||{},{class:"cursor-pointer",onClick:e.action}),{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:e.icon,class:"mr-2 -ml-1"},null,8,["name"]),(0,t.Uk)(" "+(0,n.toDisplayString)(e.name),1)])),_:2},1040,["onClick"])),[[P]]))),128)),r.isTeam&&r.canEdit&&(0,o.SU)(p).validateTeamAccess((0,o.SU)(y),["owner","create"])?(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{key:1,class:"cursor-pointer text-red-400 dark:text-red-500",onClick:B},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riDeleteBin7Line",class:"mr-2 -ml-1"}),Xx])),_:1})),[[P]]):(0,t.kq)("",!0)])),_:1})])),_:1}),r.isTeam?r.canEdit?((0,t.wg)(),(0,t.iD)(t.HY,{key:3},[(0,t.wy)(((0,t.wg)(),(0,t.j4)(E,{class:"mr-2",icon:"",onClick:H},{default:(0,t.w5)((()=>[r.isDataChanged?((0,t.wg)(),(0,t.iD)("span",Qx,eS)):(0,t.kq)("",!0),(0,t.Wm)(a,{name:"riSaveLine"})])),_:1})),[[L,`Save workflow (${(0,o.SU)(v)["editor:save"].readable})`]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(E,{loading:w.isPublishing,variant:"accent",onClick:F},{default:(0,t.w5)((()=>[tS])),_:1},8,["loading"])),[[L,"Publish workflow update"]])],64)):(0,t.wy)(((0,t.wg)(),(0,t.j4)(E,{key:2,loading:w.loadingSync,variant:"accent",onClick:K},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riRefreshLine",class:"mr-2 -ml-1"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(c)("workflow.host.sync.title")),1)])),_:1},8,["loading"])),[[L,"Sync workflow",void 0,{group:!0}]]):((0,t.wg)(),(0,t.j4)(E,{key:1,title:(0,o.SU)(v)["editor:save"].readable,variant:"accent",class:"relative",onClick:H},{default:(0,t.w5)((()=>[r.isDataChanged?((0,t.wg)(),(0,t.iD)("span",Jx,Zx)):(0,t.kq)("",!0),(0,t.Wm)(a,{name:"riSaveLine",class:"mr-2 -ml-1 my-1"}),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(c)("common.save")),1)])),_:1},8,["title"]))])),_:1}),(0,t.Wm)(T,{modelValue:w.showEditDescription,"onUpdate:modelValue":s[7]||(s[7]=e=>w.showEditDescription=e),persist:"",blur:"","custom-content":""},{default:(0,t.w5)((()=>[(0,t.Wm)(Hk,{workflow:r.workflow,"is-update":!0,onUpdate:D,onClose:s[6]||(s[6]=e=>w.showEditDescription=!1)},null,8,["workflow"])])),_:1},8,["modelValue"]),(0,t.Wm)(T,{modelValue:b.showModal,"onUpdate:modelValue":s[10]||(s[10]=e=>b.showModal=e),title:"Workflow"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:b.name,"onUpdate:modelValue":s[8]||(s[8]=e=>b.name=e),placeholder:(0,o.SU)(c)("common.name"),autofocus:"",class:"w-full mb-4",onKeyup:(0,e.withKeys)(W,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),(0,t.Wm)(M,{modelValue:b.description,"onUpdate:modelValue":s[9]||(s[9]=e=>b.description=e),placeholder:(0,o.SU)(c)("common.description"),height:"165px",class:"w-full dark:text-gray-200",max:"300",style:{"min-height":"140px"}},null,8,["modelValue","placeholder"]),(0,t._)("p",nS,(0,n.toDisplayString)(b.description.length)+"/300 ",1),(0,t._)("div",oS,[(0,t.Wm)(E,{class:"w-full",onClick:V},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)("common.cancel")),1)])),_:1}),(0,t.Wm)(E,{variant:"accent",class:"w-full",onClick:W},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)("common.update")),1)])),_:1})])])),_:1},8,["modelValue"]),(0,t.Wm)(T,{modelValue:w.showNoteModal,"onUpdate:modelValue":s[12]||(s[12]=e=>w.showNoteModal=e),title:"Workflow note","content-class":"max-w-2xl"},{default:(0,t.w5)((()=>[(0,t.Wm)(pb,{"model-value":r.workflow.content||"",limit:1e3,readonly:!r.canEdit,class:"bg-box-transparent p-4 rounded-lg overflow-auto scroll",placeholder:"Write note here...",style:{"max-height":"calc(100vh - 12rem)","min-height":"400px"},onChange:s[11]||(s[11]=e=>C({content:e},!0))},null,8,["model-value","readonly"])])),_:1},8,["modelValue"])],64)}}},iS=rS,sS={class:"p-2 hoverable transition rounded-lg"},aS={class:"w-64"},lS={class:"leading-tight"},cS={class:"flex-1 mr-2"},uS=["onClick"],dS=["title"],hS={class:"text-overflow"},pS={__name:"EditorUsedCredentials",props:{editor:{type:Object,default:()=>({})}},setup(e){const r=e,{t:i}=(0,a.QT)(),s=(0,o.iH)([]);function l(){const e=/\{\{\s*secrets@(.*?)\}\}/,t=[];r.editor.getNodes.value.forEach((({label:n,id:o,data:r})=>{const s=R.wq[n]?.refDataKeys;if(!s||!r)return;const a=new Set;s.forEach((t=>{const n=Fa().get(r,t)?.match?.(e);n&&n[1]&&a.add(n[1])})),a.size>0&&t.push({nodeId:o,items:Array.from(a),nodeName:i(`workflow.blocks.${n}.name`)})})),s.value=t}function c(e){const t=r.editor.getNode.value(e);if(!t)return;const{x:n,y:o}=t.computedPosition,i=document.querySelector(".vue-flow"),{width:s,height:a}=i.getBoundingClientRect();i.classList.add("add-transition"),r.editor.setTransform({zoom:1,x:-(n-s/2),y:-(o-a/2)}),t.selected=!0,setTimeout((()=>{i.classList.remove("add-transition")}),300)}return(0,t.bv)(l),(e,r)=>{const a=(0,t.up)("v-remixicon"),u=(0,t.up)("ui-list-item"),d=(0,t.up)("ui-list"),h=(0,t.up)("ui-popover"),p=(0,t.up)("ui-card"),f=(0,t.Q2)("tooltip");return s.value.length>0?((0,t.wg)(),(0,t.j4)(p,{key:0,padding:"p-1",class:"pointer-events-auto mr-4"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(h,{onShow:l},{trigger:(0,t.w5)((()=>[(0,t._)("button",sS,[(0,t.Wm)(a,{name:"riKey2Line"})])])),default:(0,t.w5)((()=>[(0,t._)("div",aS,[(0,t._)("p",lS,(0,n.toDisplayString)((0,o.SU)(i)("credential.use.description")),1),(0,t.Wm)(d,{class:"mt-2 overflow-auto scroll",style:{"max-height":"400px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.value,(e=>((0,t.wg)(),(0,t.j4)(u,{key:e.nodeId,style:{"align-items":"flex-start"},small:"",class:"group"},{default:(0,t.w5)((()=>[(0,t._)("div",cS,[(0,t._)("p",{title:"Jump to block",class:"text-sm text-gray-600 dark:text-gray-200 cursor-pointer",onClick:t=>c(e.nodeId)},(0,n.toDisplayString)(e.nodeName),9,uS),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.items,(e=>((0,t.wg)(),(0,t.iD)("ul",{key:e},[(0,t._)("li",{title:`Credential name: ${e}`},[(0,t._)("p",hS,"- "+(0,n.toDisplayString)(e),1)],8,dS)])))),128))]),(0,t.Wm)(a,{name:"riArrowGoForwardLine",size:"18",title:"Jump to block",class:"cursor-pointer text-gray-600 dark:text-gray-200 invisible group-hover:visible",onClick:t=>c(e.nodeId)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1})])])),_:1})),[[f,(0,o.SU)(i)("credential.use.title")]])])),_:1})):(0,t.kq)("",!0)}}},fS=pS,mS={key:0,class:"flex h-screen"},gS={key:0,class:"w-80 bg-white dark:bg-gray-800 py-6 relative border-l border-gray-100 dark:border-gray-700 dark:border-opacity-50 flex flex-col"},vS={class:"flex-1 relative overflow-auto"},yS={class:"absolute w-full flex items-center z-10 left-0 p-4 top-0 pointer-events-none"},wS={class:"inline-block"},bS={class:"ml-2 max-w-sm"},kS={key:0,class:"ml-2 p-1 text-center inline-block text-xs rounded-full bg-accent text-white dark:text-black",style:{"min-width":"25px"}},xS=(0,t._)("div",{class:"flex-grow pointer-events-none"},null,-1),SS=["disabled"],_S=["disabled"],CS=["title","href"],DS={__name:"[id]",setup(r){let i=null;const s=(0,A.kP)("1234567890abcdefghijklmnopqrstuvwxyz",7);Yo();const{t:c}=(0,a.QT)(),u=(0,Lr.pm)(),d=(0,l.yj)(),h=(0,l.tv)(),p=(0,E.L)(),f=(0,T.I)(),m=function({maxHistory:e=100}={}){const n=(0,o.XI)(0);let r=[null];return{state:(0,t.Fl)((()=>({position:n.value,historyLen:r.length,canUndo:n.value>0,canRedo:n.value<r.length-1}))),add(t){n.value<r.length-1&&(r=r.slice(0,n.value+1)),r.length>e&&r.shift(),r.push(t),n.value+=1},undo(){n.value>0&&(r[n.value].undo(),n.value-=1)},redo(){n.value<r.length-1&&(n.value+=1,r[n.value].execute())}}}(),g=L(),{teamId:v,id:y}=d.params,w="team-workflows"===d.name,b=(0,o.XI)(null),x=(0,o.XI)(null),_=(0,o.qj)({showSidebar:!0,dataChanged:!1,animateBlocks:!1,isExecuteCommand:!1,workflowConverted:!1,activeTab:d.query.tab||"editor"}),C=(0,o.qj)({permissions:[],showModal:!1}),D=(0,o.qj)({name:"",show:!1}),O=(0,o.qj)({blockData:{},editing:!1}),I=(0,o.qj)({blocks:{},common:{}}),N={data:{},isUpdating:!1},B={table:{icon:"riKey2Line",width:"max-w-2xl",component:px,title:c("workflow.table.title"),docs:"https://docs.automa.site/api-reference/table.html",events:{connect:fe,disconnect(){x.value=null}}},"workflow-share":{icon:"riShareLine",component:Tb,attrs:{blur:!0,persist:!0,customContent:!0},events:{close(){D.show=!1,D.name=""},publish(){D.show=!1,D.name=""}}},"workflow-share-team":{icon:"riShareLine",component:Hk,attrs:{blur:!0,persist:!0,customContent:!0},events:{close(){D.show=!1,D.name=""},publish(){D.show=!1,D.name=""}}},"global-data":{width:"max-w-2xl",icon:"riDatabase2Line",component:gx,title:c("common.globalData"),docs:"https://docs.automa.site/api-reference/global-data.html"},settings:{width:"max-w-2xl",icon:"riSettings3Line",component:wk,title:c("common.settings"),attrs:{customContent:!0},events:{close(){D.show=!1,D.name=""}}}},j={loopId:"loopData",refKey:"googleSheets",variableName:"variables"},V=(0,t.Fl)((()=>{const e={loopData:{},googleSheets:{},table:{},...Object.keys(tl),globalData:I.common.globalData,variables:{...I.common.variables}};return Object.values(I.blocks).forEach((t=>{Object.keys(t).forEach((n=>{e[j[n]||[]][t[n]]=""}))})),e})),F=(0,t.Fl)((()=>!w||p.validateTeamAccess(v,["edit","owner","create"]))),W=(0,t.Fl)((()=>w?g.getById(v,y):f.getById(y))),H=(0,t.Fl)((()=>f.getWorkflowStates(d.params.id))),z=(0,t.Fl)((()=>B[D.name]||{})),$=(0,t.Fl)((()=>x.value?x.value.columns:W.value.table));(0,t.JJ)("workflow",{editState:O,data:W,columns:$}),(0,t.JJ)("workflow-editor",b),(0,t.JJ)("autocompleteData",V);const K=(0,P.Ds)((e=>{if(!F.value)return;const t=b.value.getNode.value(O.blockData.blockId),n=JSON.parse(JSON.stringify(e));let o="";if(O.blockData.itemId){const e=t.data.blocks.findIndex((({itemId:e})=>e===O.blockData.itemId));-1!==e&&(t.data.blocks[e].data=n,o=O.blockData.itemId)}else t.data=n,o=O.blockData.blockId;if(I.blocks[o]){const{id:t,blockId:n}=O.blockData;Object.assign(I.blocks,G(t,{data:e,id:n}))}O.blockData.data=e,_.dataChanged=!0}),250),q=(0,P.P2)((async()=>{if(w)return;if(!p.user||N.isUpdating)return;const e=p.hostedWorkflows[d.params.id],t=p.backupIds.includes(d.params.id),n=f.getById(d.params.id);if(!t&&!e||!n||0===Object.keys(N.data).length)return;N.isUpdating=!0;["id","pass","logs","trigger","createdAt","isDisabled","isProtected"].forEach((e=>{delete N.data[e]}));try{"string"==typeof N.data.drawflow&&(N.data.drawflow=(0,P.Rx)(N.data.drawflow,N.data.drawflow));const e=await(0,U.a8)(`/me/workflows/${d.params.id}`,{method:"PUT",keepalive:!0,body:JSON.stringify({workflow:N.data})});if(!e.ok)throw new Error(e.message);if(t){const t=await e.json();t.updatedAt&&await k().storage.local.set({lastBackup:t.updatedAt})}N.data={},N.isUpdating=!1}catch(e){console.error(e),N.isUpdating=!1}}),5e3),Y=(0,P.Ds)((e=>{e.forEach((({type:e})=>{_.dataChanged||(_.dataChanged="select"!==e)}))}),250);function G(e,{data:t,id:n}){const o={[n]:{}},r=(e,t)=>{const n=R.wq[e]?.autocomplete,o={};return n?(n.forEach((e=>{const n=t[e];n&&(o[e]=n)})),o):o};return"blocks-group"===e?t.blocks.forEach((e=>{o[e.itemId]=r(e.id,e.data)})):o[n]=r(e,t),o}function X(){const e=W.value.drawflow.nodes.find((e=>"trigger"===e.label));(0,M.W5)(y,e)}function J(e){_.isExecuteCommand=!0,"undo"===e?m.undo():"redo"===e&&m.redo(),clearTimeout(null),setTimeout((()=>{_.isExecuteCommand=!1}),500)}function Z(e){const t={added:[],removed:[]};if(e.forEach((({type:e,id:n,item:o})=>{"remove"===e?(O.blockData.blockId===n&&(O.editing=!1,O.blockData={}),_.dataChanged=!0,t.removed.push(n)):"add"===e&&t.added.push(o)})),_.isExecuteCommand)return;let n=null;t.added.length>0?n=i.nodeAdded(t.added):t.removed.length>0&&(n=i.nodeRemoved(t.removed)),n&&m.add(n)}function Q(){_.animateBlocks=!0;const e=new(Ra().graphlib.Graph);e.setGraph({rankdir:"LR",ranksep:100,ranker:"tight-tree"}),e._isMultigraph=!0,e.setDefaultEdgeLabel((()=>({}))),b.value.getNodes.value.forEach((({id:t,label:n,dimensions:o,parentNode:r})=>{"blocks-group-2"===n||r||e.setNode(t,{label:n,width:o.width,height:o.height})})),b.value.getEdges.value.forEach((({source:t,target:n,id:o})=>{e.setEdge(t,n,{id:o})})),Ra().layout(e);const t=[];e.nodes().forEach((n=>{const o=e.node(n);if(!o)return;const{x:r,y:s}=o;i.state.nodes[n]&&(i.state.nodes[n].position={x:r,y:s}),t.push({id:n,type:"position",dragging:!1,position:{x:r,y:s}})})),b.value.applyNodeChanges(t),b.value.fitView(),setTimeout((()=>{_.dataChanged=!0,_.animateBlocks=!1}),500)}function ee(){_.showSidebar=!_.showSidebar,localStorage.setItem("workflow:sidebar",_.showSidebar)}function te(e){const{editComponent:t,data:n}=R.wq[e.id],o=(0,S.ZP)(e.data,n);if(O.blockData={...e,editComponent:t,data:o},"wait-connections"===e.id){const t=b.value.getEdges.value.reduce(((t,{target:n,sourceNode:o,source:r})=>{if(n!==e.blockId)return t;let i=c(`workflow.blocks.${o.label}.name`);const{description:s}=o.data;return s&&(i+=` (${s})`),t.push({name:i,id:r}),t}),[]);O.blockData.connections=t}O.editing=!0}async function ne(e){try{if(w){if(!F.value&&!e.globalData)return;await g.update({data:e,teamId:v,id:y})}else await f.update({data:e,id:d.params.id});N.data={...N.data,...e},w||await q()}catch(e){console.error(e)}}function oe({data:e,changedIndicator:t}){_.dataChanged=t,N.data={...N.data,...e},q()}function re(e){b.value=e,e.onEdgesChange(Y),e.onNodesChange(Z),e.onEdgeDoubleClick((({edge:t})=>{e.removeEdges([t])})),e.onNodeDragStop((({nodes:e})=>{e.forEach((e=>{i.state.nodes[e.id]=e}))})),e.removeSelectedNodes(e.getSelectedNodes.value.map((({id:e})=>e))),e.removeSelectedEdges(e.getSelectedEdges.value.map((({id:e})=>e)));const t=e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{});setTimeout((()=>{const n={nodes:t(e.getNodes.value),edges:t(e.getEdges.value)};i=new sl(e,n)}),1e3);const{blockId:n}=d.query;if(n){const t=e.getNode.value(n);if(!t)return;e.addSelectedNodes([t]),setTimeout((()=>{const n=document.querySelector(".vue-flow"),{height:o,width:r}=n.getBoundingClientRect(),{x:i,y:s}=t.position;e.setTransform({y:-(s-o/2),x:-(i-r/2)-200,zoom:1})}),200)}}function ie(){document.querySelectorAll(".dropable-area__node, .dropable-area__handle").forEach((e=>{e.classList.remove("dropable-area__node"),e.classList.remove("dropable-area__handle")}))}function se({target:e,elClass:t,classes:n}){const o=e.closest(t);if(o)o.classList.add(n);else{document.querySelectorAll(`.${n}`).forEach((e=>{e.classList.remove(n)}))}}function ae({target:e}){se({target:e,elClass:".vue-flow__handle.source",classes:"dropable-area__handle"}),e.closest(".vue-flow__handle")||se({target:e,elClass:".vue-flow__node:not(.vue-flow__node-BlockGroup)",classes:"dropable-area__node"})}function le({dataTransfer:e,clientX:t,clientY:n,target:o}){const r=(0,P.Rx)(e.getData("block"),null);if(!r)return;ie();const i=il.isNode(o);if(i)return void il.replaceNode(b.value,{block:r,target:i});if("trigger"===r.id&&b.value.getNodes.value.some((e=>"trigger"===e.label)))return;const a=b.value.project({x:t-360,y:n-18}),l=s(),c={position:a,label:r.id,data:r.data,type:r.component,id:"blocks-group-2"===r.id?`group-${l}`:l};b.value.addNodes([c]);const u=il.isEdge(o),d=il.isHandle(o);d?il.appendNode(b.value,{target:d,nodeId:c.id}):u&&il.insertBetweenNode(b.value,{target:u,nodeId:c.id,outputs:r.outputs}),r.fromGroup&&setTimeout((()=>{document.querySelector(`[data-id="${c.id}"]`)?.setAttribute("group-item-id",r.itemId)}),200),_.dataChanged=!0}function ce(e,t,n){const r=new Map;let i=null;const a=e.map((({id:e,label:t,position:a,data:l,type:c},u)=>{const d=s(),h={z:a.z||0,y:a.y+50,x:a.x+50};if(r.set(e,d),n)if(0===u)i={x:h.x,y:h.y},n=b.value.project({y:n.clientY,x:n.clientX-360}),Object.assign(h,n);else{const e=h.x-i.x,t=h.y-i.y;h.x=n.x+e,h.y=n.y+t}const p=ga()({type:c,data:l,label:t,id:d,selected:!0,position:h});return p.data=(0,o.qj)(p.data),p}));return{nodes:a,edges:t.reduce(((e,{target:t,targetHandle:n,source:o,sourceHandle:i})=>{const a=r.get(t),l=r.get(o);if(!a||!l)return e;const c=ga()({selected:!0,target:a,source:l,id:`edge-${s()}`,targetHandle:n.replace(t,a),sourceHandle:i.replace(o,l)});return e.push(c),e}),[])}}function ue({nodes:e,edges:t}){const n=b.value.getSelectedNodes.value,o=b.value.getSelectedEdges.value,{edges:r,nodes:i}=ce(e||n,t||o);n.forEach((e=>{e.selected=!1})),o.forEach((e=>{e.selected=!1})),b.value.addNodes(i),b.value.addEdges(r)}function de(e={}){const t=e.nodes||b.value.getSelectedNodes.value,n=e.edges||b.value.getSelectedEdges.value,o=JSON.stringify({name:"automa-blocks",data:{nodes:t,edges:n}});navigator.clipboard.writeText(o).catch((e=>{console.error(e)}))}async function he(e){b.value.removeSelectedNodes(b.value.getSelectedNodes.value),b.value.removeSelectedEdges(b.value.getSelectedEdges.value);if(await k().permissions.request({permissions:["clipboardRead"]}))try{const t=await navigator.clipboard.readText(),n=(0,P.Rx)(t);if(n&&"automa-blocks"===n.name){const{nodes:t,edges:o}=ce(n.data.nodes,n.data.edges,e);return b.value.addNodes(t),void b.value.addEdges(o)}}catch(e){console.error(e)}else u.error("Automa require clipboard permission to paste blocks")}function pe({ctrlKey:e,metaKey:t,shiftKey:n,key:o,target:r}){if(["INPUT","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable||!r.classList.contains("workflow-editor"))return;const i=n=>(e||t)&&n===o;i("c")?de():i("v")?he():i("z")&&function(e,{target:t}){["INPUT","SELECT","TEXTAREA"].includes(t.tagName)||t.isContentEditable||J(e)}(n?"redo":"undo")}async function fe(){const e=await ol.tablesItems.where("id").equals(W.value.connectedTable).first();e&&(x.value=e)}function me(){jr(W.value.drawflow).then((e=>{0!==e.length&&(C.items=e,C.showModal=!0)}))}const ge=(0,$o.bx)([(0,$o.KM)("editor:toggle-sidebar",ee),(0,$o.KM)("editor:duplicate-block",ue)]);return(0,t.YP)((()=>_.activeTab),(e=>{h.replace({...d,query:{tab:e}})})),(0,t.YP)((()=>d.params.id),((e,t)=>{"workflows-details"===d.name&&e&&t&&e!==t&&window.location.reload()})),(0,l.iS)((()=>{if(q(),!_.dataChanged||!F.value)return;return!!window.confirm(c("message.notSaved"))&&void 0})),(0,t.bv)((()=>{if(!W.value)return h.replace("/"),null;_.showSidebar=JSON.parse(localStorage.getItem("workflow:sidebar"))??!0;ne({drawflow:Ns(W.value).drawflow}).then((()=>{_.workflowConverted=!0})),(d.query.permission||w&&!F.value)&&me(),w&&!F.value&&W.value.updatedAt&&function(){const e=encodeURIComponent(W.value.updatedAt);(0,U.a8)(`/teams/${v}/workflows/${y}/check-update?updatedAt=${e}`).then((e=>e.json())).then((e=>{e&&ne(e).then((()=>{b.value.setNodes(e.drawflow.nodes||[]),b.value.setEdges(e.drawflow.edges||[]),b.value.fitView()}))})).catch((e=>{console.error(e)}))}(),W.value.connectedTable&&fe(),async function(){const e=sessionStorage.getItem(`autocomplete:${y}`);if(e){const t=(0,P.Rx)(e,{});I.blocks=t}else{const e={};W.value.drawflow.nodes.forEach((({label:t,id:n,data:o})=>{Object.assign(e,G(t,{data:o,id:n}))})),I.blocks=e}try{const e=await ol.variables.toArray();I.common.globalData=(0,P.Rx)(W.value.globalData,{}),I.common.variables={},e.forEach((e=>{I.common.variables[`$$${e.name}`]={}}))}catch(e){console.error(e)}}(),window.onbeforeunload=()=>{if(q(),_.dataChanged&&F.value)return c("message.notSaved")},window.addEventListener("keydown",pe)})),(0,t.Jd)((()=>{window.onbeforeunload=null,window.removeEventListener("keydown",pe)})),(r,i)=>{const s=(0,t.up)("ui-img"),a=(0,t.up)("v-remixicon"),l=(0,t.up)("ui-card"),u=(0,t.up)("ui-tab"),h=(0,t.up)("ui-tabs"),p=(0,t.up)("ui-input"),f=(0,t.up)("ui-tab-panel"),g=(0,t.up)("ui-tab-panels"),y=(0,t.up)("ui-modal"),k=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,o.SU)(W)?((0,t.wg)(),(0,t.iD)("div",mS,[_.showSidebar&&(0,o.SU)(F)?((0,t.wg)(),(0,t.iD)("div",gS,[O.editing?((0,t.wg)(),(0,t.j4)(Jk,{key:0,data:O.blockData,workflow:(0,o.SU)(W),editor:(0,o.SU)(b),onUpdate:(0,o.SU)(K),onClose:i[0]||(i[0]=e=>(O.editing=!1,O.blockData={}))},null,8,["data","workflow","editor","onUpdate"])):((0,t.wg)(),(0,t.j4)(Ux,{key:1,workflow:(0,o.SU)(W),onUpdate:ne},null,8,["workflow"]))])):(0,t.kq)("",!0),(0,t._)("div",vS,[(0,t._)("div",yS,[(0,o.SU)(F)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,padding:"px-2 mr-4",class:"flex items-center overflow-hidden",style:{"min-width":"150px",height:"48px"}},{default:(0,t.w5)((()=>[(0,t._)("span",wS,[(0,o.SU)(W).icon.startsWith("http")?((0,t.wg)(),(0,t.j4)(s,{key:0,src:(0,o.SU)(W).icon,class:"w-8 h-8"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(a,{key:1,name:(0,o.SU)(W).icon,size:"26"},null,8,["name"]))]),(0,t._)("div",bS,[(0,t._)("p",{class:(0,n.normalizeClass)([{"text-lg":!(0,o.SU)(W).description},"font-semibold leading-tight text-overflow"])},(0,n.toDisplayString)((0,o.SU)(W).name),3),(0,t._)("p",{class:(0,n.normalizeClass)([{"text-sm":(0,o.SU)(W).description},"text-gray-600 leading-tight dark:text-gray-200 text-overflow"])},(0,n.toDisplayString)((0,o.SU)(W).description),3)])])),_:1})),(0,t.Wm)(h,{modelValue:_.activeTab,"onUpdate:modelValue":i[1]||(i[1]=e=>_.activeTab=e),class:"border-none px-2 rounded-lg h-full space-x-1 bg-white dark:bg-gray-800 pointer-events-auto"},{default:(0,t.w5)((()=>[(0,o.SU)(F)?(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{key:0,style:{"margin-right":"6px"},onClick:ee},[(0,t.Wm)(a,{name:_.showSidebar?"riSideBarFill":"riSideBarLine"},null,8,["name"])])),[[k,`${(0,o.SU)(c)("workflow.toggleSidebar")} (${(0,o.SU)(ge)["editor:toggle-sidebar"].readable})`]]):(0,t.kq)("",!0),(0,t.Wm)(u,{value:"editor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)("common.editor")),1)])),_:1}),(0,t.Wm)(u,{value:"logs",class:"flex items-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)("common.log",2))+" ",1),(0,o.SU)(H).length>0?((0,t.wg)(),(0,t.iD)("span",kS,(0,n.toDisplayString)((0,o.SU)(H).length),1)):(0,t.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),w?((0,t.wg)(),(0,t.j4)(l,{key:1,padding:"p-1 ml-4 pointer-events-auto"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(p,{"prepend-icon":"riLinkM","model-value":`https://automa.site/teams/${(0,o.SU)(v)}/workflows/${(0,o.SU)(W).id}`,readonly:"",onClick:i[2]||(i[2]=e=>e.target.select())},null,8,["model-value"]),[[k,"Workflow URL"]])])),_:1})):(0,t.kq)("",!0),xS,(0,o.SU)(b)?((0,t.wg)(),(0,t.j4)(fS,{key:2,editor:(0,o.SU)(b)},null,8,["editor"])):(0,t.kq)("",!0),(0,t.Wm)(iS,{editor:(0,o.SU)(b),workflow:(0,o.SU)(W),"is-data-changed":_.dataChanged,"is-team":w,"can-edit":(0,o.SU)(F),onUpdate:oe,onPermission:me,onModal:i[3]||(i[3]=e=>(D.name=e,D.show=!0))},null,8,["editor","workflow","is-data-changed","can-edit"])]),(0,t.Wm)(g,{modelValue:_.activeTab,"onUpdate:modelValue":i[8]||(i[8]=e=>_.activeTab=e),class:"overflow-hidden h-full w-full",onDrop:le,onDragend:ie,onDragover:(0,e.withModifiers)(ae,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{cache:"",value:"editor",class:"w-full"},{default:(0,t.w5)((()=>[_.workflowConverted?((0,t.wg)(),(0,t.j4)(Aa,{key:0,id:(0,o.SU)(d).params.id,data:(0,o.SU)(W).drawflow,disabled:w&&!(0,o.SU)(F),class:(0,n.normalizeClass)([{"animate-blocks":_.animateBlocks},"h-screen workflow-editor"]),tabindex:"0",onInit:re,onEdit:te,"onUpdate:node":i[6]||(i[6]=e=>_.dataChanged=!0),"onDelete:node":i[7]||(i[7]=e=>_.dataChanged=!0)},(0,t.Nv)({_:2},[!w||(0,o.SU)(F)?{name:"controls-append",fn:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"control-button hoverable ml-2",onClick:Q},[(0,t.Wm)(a,{name:"riMagicLine"})])),[[k,(0,o.SU)(c)("workflow.autoAlign.title")]]),(0,t.Wm)(l,{padding:"p-0 ml-2 undo-redo"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{disabled:!(0,o.SU)(m).state.value.canUndo,class:"p-2 rounded-lg transition-colors",onClick:i[4]||(i[4]=e=>J("undo"))},[(0,t.Wm)(a,{name:"riArrowGoBackLine"})],8,SS)),[[k,`${(0,o.SU)(c)("workflow.undo")} (${(0,o.SU)($o.v3)("mod+z")})`,void 0,{group:!0}]]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{disabled:!(0,o.SU)(m).state.value.canRedo,class:"p-2 rounded-lg transition-colors",onClick:i[5]||(i[5]=e=>J("redo"))},[(0,t.Wm)(a,{name:"riArrowGoForwardLine"})],8,_S)),[[k,`${(0,o.SU)(c)("workflow.redo")} (${(0,o.SU)($o.v3)("mod+shift+z")})`,void 0,{group:!0}]])])),_:1})]))}:void 0]),1032,["id","data","disabled","class"])):(0,t.kq)("",!0),(0,o.SU)(b)?((0,t.wg)(),(0,t.j4)(Rx,{key:1,editor:(0,o.SU)(b),onCopy:de,onPaste:he,onDuplicate:ue},null,8,["editor"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(f,{value:"logs",class:"mt-24 container"},{default:(0,t.w5)((()=>[(0,t.Wm)(pa,{"workflow-id":(0,o.SU)(d).params.id,"workflow-states":(0,o.SU)(H)},null,8,["workflow-id","workflow-states"])])),_:1})])),_:1},8,["modelValue","onDragover"])])])):(0,t.kq)("",!0),(0,t.Wm)(y,(0,t.dG)({modelValue:D.show,"onUpdate:modelValue":i[10]||(i[10]=e=>D.show=e),"content-class":(0,o.SU)(z)?.width||"max-w-xl"},(0,o.SU)(z).attrs||{}),(0,t.Nv)({default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)((0,o.SU)(z).component),(0,t.dG)({workflow:(0,o.SU)(W)},(0,t.mx)((0,o.SU)(z)?.events||{}),{onUpdate:ne,onClose:i[9]||(i[9]=e=>D.show=!1)}),null,16))])),_:2},[(0,o.SU)(z).title?{name:"header",fn:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(z).title)+" ",1),(0,o.SU)(z).docs?((0,t.wg)(),(0,t.iD)("a",{key:0,title:(0,o.SU)(c)("common.docs"),href:(0,o.SU)(z).docs,target:"_blank",class:"inline-block align-middle"},[(0,t.Wm)(a,{name:"riInformationLine",size:"20"})],8,CS)):(0,t.kq)("",!0)]))}:void 0]),1040,["modelValue","content-class"]),(0,t.Wm)(hs,{modelValue:C.showModal,"onUpdate:modelValue":i[11]||(i[11]=e=>C.showModal=e),permissions:C.items,onGranted:X},null,8,["modelValue","permissions"])],64)}}},ES=DS,AS={key:0,class:"h-screen relative"},OS={class:"absolute top-0 left-0 w-full flex items-center p-4 z-10"},TS={class:"inline-block"},MS={class:"ml-2 max-w-sm"},LS=(0,t._)("div",{class:"flex-grow pointer-events-none"},null,-1),IS={key:0,class:"flex h-3 w-3 absolute top-0 left-0 -ml-1 -mt-1"},NS=[(0,t._)("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"},null,-1),(0,t._)("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-blue-600"},null,-1)],PS={class:"flex justify-between mb-6"},US={__name:"Shared",setup(e){Yo();const{t:r}=(0,a.QT)(),i=(0,Lr.pm)(),s=(0,l.yj)(),c=(0,l.tv)(),u=Nr(),d=(0,T.I)(),h=j(),p=s.params.id,f={disabled:!0,fitViewOnInit:!0,nodesDraggable:!1,edgesUpdatable:!1,nodesConnectable:!1,elementsSelectable:!1},m=(0,o.qj)({showModal:!1,data:{name:"",content:"",category:"",description:""}}),g=(0,o.qj)({editorKey:0,retrieved:!1,isChanged:!1,isUpdating:!1,isUnpublishing:!1,trigger:"Trigger: Manually"}),v=(0,o.XI)(null),y=(0,o.XI)(null),w=new Set;function b(e={}){Object.keys(e).forEach((e=>{w.add(e)})),Object.assign(y.value,e),e.drawflow&&(v.value.setNodes(e.drawflow.nodes),v.value.setEdges(e.drawflow.edges),v.value.fitView()),g.isChanged=!0}function x(){["name","content","category","description"].forEach((e=>{m.data[e]=y.value[e]})),m.showModal=!0}function S({name:e,content:t,category:n,description:o}){m.data.name=e,m.data.content=t,m.data.category=n,m.data.description=o}function _(){u.confirm({title:r("workflow.unpublish.title"),body:r("workflow.unpublish.body",{name:y.value.name}),okVariant:"danger",okText:r("workflow.unpublish.button"),async onConfirm(){try{g.isUnpublishing=!0;const e=await(0,U.a8)(`/me/workflows/shared/${p}`,{method:"DELETE"});if(200!==e.status)throw new Error(e.statusText);h.delete(p),sessionStorage.setItem("shared-workflows",JSON.stringify(d.workflows)),c.push("/"),g.isUnpublishing=!1}catch(e){console.error(e),g.isUnpublishing=!1,i.error(r("message.somethingWrong"))}}})}async function C(){try{g.isUpdating=!0;const e={};w.forEach((t=>{if("drawflow"===t){const t=y.value.drawflow;e.drawflow="string"==typeof t?JSON.parse(t):t}else e[t]=y.value[t]}));const t=`/me/workflows/shared/${p}`,n=await(0,U.a8)(t,{method:"PUT",body:JSON.stringify(e)});if(200!==n.status)throw i.error(r("message.somethingWrong")),new Error(n.statusText);g.isChanged=!1,w.clear(),sessionStorage.setItem("shared-workflows",JSON.stringify(h.workflows)),g.isUpdating=!1}catch(e){console.error(e),g.isUpdating=!1}}function D(){const e={},t=d.getById(p);["drawflow","name","description","icon","globalData","dataColumns","table","settings"].forEach((n=>{e[n]=t[n]}));const n=Ns(e);n.version=k().runtime.getManifest().version,b(n)}function E(){const e={...y.value,createdAt:Date.now(),version:k().runtime.getManifest().version};d.insert(e,{duplicateId:!0}).then((()=>{g.hasLocalCopy=!0}))}function A(e){e.setInteractive(!1),v.value=e}return(0,t.YP)(y,(()=>{g.editorKey+=1})),(0,t.bv)((()=>{const e=h.getById(p);if(!e)return void c.push("/workflows");const t=Ns(e);y.value=t,g.hasLocalCopy=d.getWorkflows.some((({id:e})=>e===p)),g.retrieved=!0})),(e,i)=>{const a=(0,t.up)("ui-img"),l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-card"),u=(0,t.up)("ui-input"),d=(0,t.up)("router-link"),h=(0,t.up)("ui-spinner"),v=(0,t.up)("ui-button"),w=(0,t.up)("ui-modal"),k=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,o.SU)(y)?((0,t.wg)(),(0,t.iD)("div",AS,[(0,t._)("div",OS,[(0,t.Wm)(c,{padding:"px-2",class:"flex items-center overflow-hidden",style:{"min-width":"150px",height:"48px"}},{default:(0,t.w5)((()=>[(0,t._)("span",TS,[(0,o.SU)(y).icon.startsWith("http")?((0,t.wg)(),(0,t.j4)(a,{key:0,src:(0,o.SU)(y).icon,class:"w-8 h-8"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(l,{key:1,name:(0,o.SU)(y).icon,size:"26"},null,8,["name"]))]),(0,t._)("div",MS,[(0,t._)("p",{class:(0,n.normalizeClass)([{"text-lg":!(0,o.SU)(y).description},"font-semibold leading-tight text-overflow"])},(0,n.toDisplayString)((0,o.SU)(y).name),3),(0,t._)("p",{class:(0,n.normalizeClass)([{"text-sm":(0,o.SU)(y).description},"text-gray-600 leading-tight dark:text-gray-200 text-overflow"])},(0,n.toDisplayString)((0,o.SU)(y).description),3)])])),_:1}),(0,t.Wm)(c,{padding:"p-1 ml-4"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(u,{"prepend-icon":"riLinkM","model-value":`https://automa.site/workflow/${(0,o.SU)(y).id}`,readonly:"",onClick:i[0]||(i[0]=e=>e.target.select())},null,8,["model-value"]),[[k,(0,o.SU)(r)("workflow.share.url")]])])),_:1}),LS,(0,t.Wm)(c,{padding:"p-1 ml-4"},{default:(0,t.w5)((()=>[g.hasLocalCopy?(0,t.wy)(((0,t.wg)(),(0,t.j4)(d,{key:0,to:`/workflows/${(0,o.SU)(p)}`,class:"hoverable p-2 rounded-lg block"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riComputerLine"})])),_:1},8,["to"])),[[k,"Go to local version",void 0,{group:!0}]]):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(c,{padding:"p-1 ml-4"},{default:(0,t.w5)((()=>[g.hasLocalCopy?(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{key:0,class:"hoverable p-2 rounded-lg",onClick:D},[(0,t.Wm)(l,{name:"riRefreshLine"})])),[[k,(0,o.SU)(r)("workflow.share.fetchLocal"),void 0,{group:!0}]]):(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{key:1,class:"hoverable p-2 rounded-lg",onClick:E},[(0,t.Wm)(l,{name:"riDownloadLine"})])),[[k,(0,o.SU)(r)("workflow.share.download"),void 0,{group:!0}]]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"hoverable p-2 rounded-lg",onClick:x},[(0,t.Wm)(l,{name:"riFileEditLine"})])),[[k,(0,o.SU)(r)("workflow.share.edit"),void 0,{group:!0}]])])),_:1}),(0,t.Wm)(c,{padding:"p-1 flex ml-4"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"hoverable p-2 mr-2 rounded-lg relative",onClick:_},[g.isUnpublishing?((0,t.wg)(),(0,t.j4)(h,{key:0,color:"text-accent",class:"absolute top-2 left-2"})):(0,t.kq)("",!0),(0,t.Wm)(l,{name:"riLock2Line",class:(0,n.normalizeClass)({"opacity-75":g.isUnpublishing})},null,8,["class"])])),[[k,(0,o.SU)(r)("workflow.share.unpublish"),void 0,{group:!0}]]),(0,t.Wm)(v,{loading:g.isUpdating,disabled:g.isUnpublishing,variant:"accent",onClick:C},{default:(0,t.w5)((()=>[g.isChanged?((0,t.wg)(),(0,t.iD)("span",IS,NS)):(0,t.kq)("",!0),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(r)("workflow.share.update")),1)])),_:1},8,["loading","disabled"])])),_:1})]),g.retrieved?((0,t.wg)(),(0,t.j4)(Aa,{id:(0,o.SU)(s).params.id,key:g.editorKey,data:(0,o.SU)(y).drawflow,options:f,disabled:!0,class:"h-full w-full",onInit:A},null,8,["id","data"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t.Wm)(w,{modelValue:m.showModal,"onUpdate:modelValue":i[2]||(i[2]=e=>m.showModal=e),"custom-content":"",onClose:i[3]||(i[3]=e=>b(m.data))},{default:(0,t.w5)((()=>[(0,t.Wm)(Tb,{workflow:(0,o.SU)(y),"is-update":"",onChange:S},{prepend:(0,t.w5)((()=>[(0,t._)("div",PS,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(r)("workflow.share.edit")),1),(0,t.Wm)(l,{name:"riCloseLine",class:"cursor-pointer",onClick:i[1]||(i[1]=e=>{m.showModal=!1,b(m.data)})})])])),_:1},8,["workflow"])])),_:1},8,["modelValue"])],64)}}},BS=US;var jS=s(27484),RS=s.n(jS);const VS={class:"container pt-8 pb-4"},FS={class:"text-2xl font-semibold mb-8 capitalize"},WS={key:1},HS={key:1},zS=["onClick"],$S={__name:"ScheduledWorkflow",setup(e){const{t:r}=(0,a.QT)(),i=(0,E.L)(),s=(0,T.I)(),l=L(),c=B(),u={},d=(0,o.qj)({query:"",triggers:[],activeTrigger:"scheduled"});let h=0;const p=["interval","date","specific-day"],f=[{value:"name",filterable:!0,text:r("common.name"),attrs:{class:"w-3/12"}},{value:"schedule",text:r("scheduledWorkflow.schedule.title"),attrs:{class:"w-4/12"}},{value:"nextRun",text:r("scheduledWorkflow.nextRun")},{value:"location",text:"Location"},{value:"active",align:"center",text:r("scheduledWorkflow.active")},{value:"action",text:"",sortable:!1,align:"right"}],m=(0,t.Fl)((()=>d.triggers.filter((({name:e})=>e.toLocaleLowerCase().includes(d.query.toLocaleLowerCase())))));async function g(e,{id:t,name:n}){if(!e||!p.includes(e.type))return null;h+=1;const o={name:n,id:h,nextRun:"-",schedule:"",active:!1,type:e.type,workflowId:t};try{const i=await k().alarms.get(t);return i&&(o.active=!0,o.nextRun=RS()(i.scheduledTime).format("DD MMM YYYY, hh:mm:ss A")),u[h]={...e,workflow:{id:t,name:n}},Object.assign(o,function(e){const t={schedule:"",scheduleDetail:""};switch(e.type){case"specific-day":{let n="";const o=e.days.map((e=>{const t=r(`workflow.blocks.trigger.days.${e.id}`);return n+=`<tr><td>${t}</td> <td>${e.times.join(", ")}</td></tr>`,t}));t.scheduleDetail=`<table><tbody>${n}</tbody></table>`,t.schedule=e.days.length>=6?r("scheduledWorkflow.schedule.types.everyDay"):r("scheduledWorkflow.schedule.types.general",{time:o.join(", ")});break}case"interval":t.schedule=r("scheduledWorkflow.schedule.types.interval",{time:e.interval});break;case"date":t.schedule=RS()(`${e.date}, ${e.time}`).format("DD MMM YYYY, hh:mm:ss A")}return t}(e)),o}catch(e){return console.error(e),null}}function v({workflows:e,path:t,location:n}){const o=e.map((async e=>{const o=t(e);await async function(e,{location:t,path:n}){if(e.isDisabled)return;let{trigger:o}=e;if(!o){const t="string"==typeof e.drawflow?JSON.parse(e.drawflow):e.drawflow;o=(0,P.No)(t)?.data}const r=await g(o,e);r&&(r.path=n,r.location=t,d.triggers.push(r))}(e,{path:o,location:n})}));return Promise.allSettled(o)}return(0,t.bv)((async()=>{try{await v({location:"Local",path:({id:e})=>`/workflows/${e}`,workflows:s.getWorkflows}),await v({location:"Hosted",workflows:c.toArray,path:({id:e})=>`/workflows/${e}/hosted`});const e={};i.user?.teams&&i.user.teams.forEach((t=>{e[t.id]=t.name})),Object.keys(l?.workflows||{}).forEach((t=>{const n=(0,P.aX)(e);v({location:`Team: ${(e[t]??"(unknown)").slice(0,24)}`,workflows:l.getByTeam(t),path:({id:e})=>n?null:`/teams/${t}/workflows/${e}`})}))}catch(e){console.error(e)}})),(e,i)=>{const s=(0,t.up)("ui-input"),a=(0,t.up)("router-link"),l=(0,t.up)("v-remixicon"),c=(0,t.up)("ui-table"),h=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",VS,[(0,t._)("h1",FS,(0,n.toDisplayString)((0,o.SU)(r)("scheduledWorkflow.title",2)),1),(0,t.Wm)(s,{modelValue:d.query,"onUpdate:modelValue":i[0]||(i[0]=e=>d.query=e),"prepend-icon":"riSearch2Line",placeholder:(0,o.SU)(r)("common.search")},null,8,["modelValue","placeholder"]),(0,t.Wm)(c,{headers:f,items:(0,o.SU)(m),"item-key":"id",class:"w-full mt-4"},{"item-name":(0,t.w5)((({item:e})=>[e.path?((0,t.wg)(),(0,t.j4)(a,{key:0,to:e.path,class:"block h-full w-full",style:{"min-height":"20px"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["to"])):((0,t.wg)(),(0,t.iD)("span",WS,(0,n.toDisplayString)(e.name),1))])),"item-schedule":(0,t.w5)((({item:e})=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("p",null,[(0,t.Uk)((0,n.toDisplayString)(e.schedule),1)])),[[h,{content:e.scheduleDetail,allowHTML:!0}]])])),"item-active":(0,t.w5)((({item:e})=>[e.active?((0,t.wg)(),(0,t.j4)(l,{key:0,class:"text-green-500 dark:text-green-400 inline-block",name:"riCheckLine"})):((0,t.wg)(),(0,t.iD)("span",HS))])),"item-action":(0,t.w5)((({item:e})=>[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"rounded-md text-gray-600 dark:text-gray-300",onClick:t=>async function(e){try{const t=u[e];if(!t)return;await(0,M.W5)(t.workflow.id,{data:t});const n=await g(t,t.workflow);if(!n)return;const o=d.triggers.findIndex((t=>t.id===e));if(-1===o)return;Object.assign(d.triggers[o],n)}catch(e){console.error(e)}}(e.id)},[(0,t.Wm)(l,{name:"riRefreshLine"})],8,zS)),[[h,(0,o.SU)(r)("scheduledWorkflow.refresh")]])])),_:1},8,["items"])])}}},KS=$S,qS={class:"p-4 font-semibold"},YS={class:"overflow-auto scroll px-4 pb-4 flex-1"},GS={class:"flex items-center mt-4"},XS=(0,t._)("p",{class:"flex-1"},"Columns",-1),JS={key:0,class:"text-center my-4 text-gray-600 dark:text-gray-300"},ZS={class:"mt-4 space-y-2"},QS=["value"],e_=["onClick"],t_={class:"text-right p-4"},n_={__name:"StorageEditTable",props:{modelValue:{type:Boolean,default:!1},name:{type:String,default:""},columns:{type:Array,default:()=>[]}},emits:["update:modelValue","save"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)();let l={};const c=(0,o.qj)({name:"",columns:[]});function u(e,t){const n=function(e){const t=e.replace(/[\s@[\]]/g,"");return c.columns.some((e=>e.name===t))||""===t.trim()?"":t}(t.value),{id:o,name:r}=c.columns[e];n?(l[o]={type:"rename",id:o,oldValue:r,newValue:n},c.columns[e].name=n):t.value=r}function d(){const e=(0,o.IU)(c);r("save",{...e,changes:l})}function h(){const e=(0,A.x0)(5),t=`column_${e}`;l[e]={type:"add",id:e,name:t},c.columns.push({id:e,type:"string",name:t})}function p(e=!1){c.name="",c.columns=[],l={},e&&r("update:modelValue",!1)}return(0,t.YP)((()=>i.modelValue),(()=>{i.modelValue?Object.assign(c,{name:`${i.name}`,columns:ga()(i.columns)}):p()})),(r,i)=>{const a=(0,t.up)("ui-input"),f=(0,t.up)("v-remixicon"),m=(0,t.up)("ui-button"),g=(0,t.up)("ui-select"),v=(0,t.up)("ui-card"),y=(0,t.up)("ui-modal");return(0,t.wg)(),(0,t.j4)(y,{"model-value":e.modelValue,persist:"","custom-content":""},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{padding:"p-0",class:"max-w-xl w-full flex flex-col",style:{height:"600px"}},{default:(0,t.w5)((()=>[(0,t._)("p",qS,(0,n.toDisplayString)((0,o.SU)(s)("storage.table.add")),1),(0,t._)("div",YS,[(0,t.Wm)(a,{modelValue:c.name,"onUpdate:modelValue":i[0]||(i[0]=e=>c.name=e),class:"w-full -mt-1",label:"Table name",placeholder:"My table"},null,8,["modelValue"]),(0,t._)("div",GS,[XS,(0,t.Wm)(m,{icon:"",title:(0,o.SU)(s)("common.add"),onClick:h},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riAddLine"})])),_:1},8,["title"])]),c.columns&&0===c.columns.length?((0,t.wg)(),(0,t.iD)("p",JS,(0,n.toDisplayString)((0,o.SU)(s)("message.noData")),1)):(0,t.kq)("",!0),(0,t._)("ul",ZS,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.columns,((e,r)=>((0,t.wg)(),(0,t.iD)("li",{key:e.id,class:"flex items-center space-x-2"},[(0,t.Wm)(a,{"model-value":e.name,placeholder:(0,o.SU)(s)("workflow.table.column.name"),class:"flex-1",onBlur:e=>u(r,e.target)},null,8,["model-value","placeholder","onBlur"]),(0,t.Wm)(g,{modelValue:e.type,"onUpdate:modelValue":t=>e.type=t,class:"flex-1",placeholder:(0,o.SU)(s)("workflow.table.column.type")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(Zk),(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,QS)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),(0,t._)("button",{onClick:e=>function(e){const t=c.columns[e];l[t.id]={type:"delete",id:t.id,name:t.name},c.columns.splice(e,1)}(r)},[(0,t.Wm)(f,{name:"riDeleteBin7Line"})],8,e_)])))),128))])]),(0,t._)("div",t_,[(0,t.Wm)(m,{class:"mr-4",onClick:i[1]||(i[1]=e=>p(!0))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("common.cancel")),1)])),_:1}),(0,t.Wm)(m,{disabled:!c.name||0===c.columns.length,variant:"accent",onClick:d},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("common.save")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["model-value"])}}},o_=n_,r_={class:"flex mt-6"},i_=(0,t._)("div",{class:"flex-grow"},null,-1),s_={__name:"StorageTables",setup(e){const{t:r}=(0,a.QT)(),i=Nr(),s=(0,T.I)(),l=(0,o.qj)({query:"",showAddTable:!1}),c=[{value:"name",filterable:!0,text:r("common.name"),attrs:{class:"w-4/12"}},{align:"center",value:"createdAt",text:r("storage.table.createdAt")},{align:"center",value:"modifiedAt",text:r("storage.table.modifiedAt")},{value:"rowsCount",align:"center",text:r("storage.table.rowsCount")},{value:"actions",align:"right",text:"",sortable:!1}],u=Vs((()=>ol.tablesItems.reverse().toArray()));function d(e){return RS()(e).format("DD MMM YYYY, hh:mm:ss A")}async function h({columns:e,name:t}){try{const n=e.reduce(((e,t)=>(e[t.id]={index:0,type:t.type,name:t.name},e)),{column:{index:0,type:"any",name:"column"}}),o=await ol.tablesItems.add({rowsCount:0,name:t,createdAt:Date.now(),modifiedAt:Date.now(),columns:e});await ol.tablesData.add({tableId:o,items:[],columnsIndex:n}),l.showAddTable=!1}catch(e){console.error(e)}}return(e,a)=>{const p=(0,t.up)("ui-input"),f=(0,t.up)("ui-button"),m=(0,t.up)("router-link"),g=(0,t.up)("v-remixicon"),v=(0,t.up)("ui-table");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",r_,[(0,t.Wm)(p,{modelValue:l.query,"onUpdate:modelValue":a[0]||(a[0]=e=>l.query=e),placeholder:(0,o.SU)(r)("common.search"),"prepend-icon":"riSearch2Line"},null,8,["modelValue","placeholder"]),i_,(0,t.Wm)(f,{variant:"accent",onClick:a[1]||(a[1]=e=>l.showAddTable=!0)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("storage.table.add")),1)])),_:1})]),(0,t.Wm)(v,{"item-key":"id",headers:c,items:(0,o.SU)(u),search:l.query,class:"w-full mt-4"},{"item-name":(0,t.w5)((({item:e})=>[(0,t.Wm)(m,{to:`/storage/tables/${e.id}`,class:"w-full block",style:{"min-height":"29px"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["to"])])),"item-createdAt":(0,t.w5)((({item:e})=>[(0,t.Uk)((0,n.toDisplayString)(d(e.createdAt)),1)])),"item-modifiedAt":(0,t.w5)((({item:e})=>[(0,t.Uk)((0,n.toDisplayString)(d(e.modifiedAt)),1)])),"item-actions":(0,t.w5)((({item:e})=>[(0,t.Wm)(g,{name:"riDeleteBin7Line",class:"cursor-pointer",onClick:t=>{return n=e,void i.confirm({title:r("storage.table.delete"),okVariant:"danger",body:r("message.delete",{name:n.name}),onConfirm:async()=>{try{await ol.tablesItems.where("id").equals(n.id).delete(),await ol.tablesData.where("tableId").equals(n.id).delete(),await s.update({id:e=>e.connectedTable===n.id,data:{connectedTable:null}})}catch(e){console.error(e)}}});var n}},null,8,["onClick"])])),_:1},8,["items","search"]),(0,t.Wm)(o_,{modelValue:l.showAddTable,"onUpdate:modelValue":a[2]||(a[2]=e=>l.showAddTable=e),onSave:h},null,8,["modelValue"])],64)}}},a_=s_,l_={class:"flex mt-6"},c_=(0,t._)("div",{class:"flex-grow"},null,-1),u_=(0,t.Uk)(" Add variable "),d_={class:"text-right mt-8"},h_={__name:"StorageVariables",setup(e){const{t:r}=(0,a.QT)(),i=(0,Lr.pm)(),s=Vs((()=>ol.variables.toArray())),l=[{value:"name",filterable:!0,text:r("common.name"),attrs:{class:"w-3/12 text-overflow"}},{value:"value",filterable:!1,text:"Value",attrs:{class:"flex-1 line-clamp"}},{value:"actions",filterable:!1,sortable:!1,text:"",attrs:{class:"w-24"}}],c=(0,o.Um)({id:"",query:""}),u=(0,o.Um)({type:"",name:"",value:"",show:!1});function d(){if(!u.name)return;const e=u.name.trim();if(s.value.some((({name:t,id:n})=>t.trim()===e&&n!==c.id)))return void i.error(`You alread add "${e}" variable`);const t=(0,P.Rx)(u.value,u.value);"edit"===u.type?ol.variables.update(c.id,{value:t,name:e}).then((()=>{u.show=!1})):ol.variables.add({value:t,name:e}).then((()=>{u.show=!1}))}return(0,t.YP)((()=>u.show),(e=>{e||(c.id="",Object.assign(u,{name:"",type:"",value:"",show:!1}))})),(e,i)=>{const a=(0,t.up)("ui-input"),h=(0,t.up)("ui-button"),p=(0,t.up)("v-remixicon"),f=(0,t.up)("ui-table"),m=(0,t.up)("ui-textarea"),g=(0,t.up)("ui-modal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l_,[(0,t.Wm)(a,{modelValue:(0,o.SU)(c).query,"onUpdate:modelValue":i[0]||(i[0]=e=>(0,o.SU)(c).query=e),placeholder:(0,o.SU)(r)("common.search"),"prepend-icon":"riSearch2Line"},null,8,["modelValue","placeholder"]),c_,(0,t.Wm)(h,{variant:"accent",onClick:i[1]||(i[1]=e=>(0,o.SU)(u).show=!0)},{default:(0,t.w5)((()=>[u_])),_:1})]),(0,t.Wm)(f,{"item-key":"id",headers:l,items:(0,o.SU)(s),search:(0,o.SU)(c).query,class:"w-full mt-4"},{"item-actions":(0,t.w5)((({item:e})=>[(0,t.Wm)(p,{name:"riPencilLine",class:"cursor-pointer inline-block mr-4",onClick:t=>function({id:e,name:t,value:n}){c.id=e,u.name=t,u.value=n,u.type="edit",u.show=!0}(e)},null,8,["onClick"]),(0,t.Wm)(p,{name:"riDeleteBin7Line",class:"cursor-pointer inline-block",onClick:t=>function({id:e}){ol.variables.delete(e)}(e)},null,8,["onClick"])])),_:1},8,["items","search"]),(0,t.Wm)(g,{modelValue:(0,o.SU)(u).show,"onUpdate:modelValue":i[5]||(i[5]=e=>(0,o.SU)(u).show=e),title:("edit"===(0,o.SU)(u).type?"Edit":"Add")+" variable"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{modelValue:(0,o.SU)(u).name,"onUpdate:modelValue":i[2]||(i[2]=e=>(0,o.SU)(u).name=e),placeholder:"Name",class:"w-full"},null,8,["modelValue"]),(0,t.Wm)(m,{modelValue:(0,o.SU)(u).value,"onUpdate:modelValue":i[3]||(i[3]=e=>(0,o.SU)(u).value=e),placeholder:"value",class:"w-full mt-4"},null,8,["modelValue"]),(0,t._)("div",d_,[(0,t.Wm)(h,{class:"mr-4",onClick:i[4]||(i[4]=e=>(0,o.SU)(u).show=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.cancel")),1)])),_:1}),(0,t.Wm)(h,{disabled:!(0,o.SU)(u).name||(0,o.SU)(u).disabled,variant:"accent",onClick:d},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.save")),1)])),_:1},8,["disabled"])])])),_:1},8,["modelValue","title"])],64)}}},p_=h_,f_={class:"flex mt-6"},m_=(0,t._)("div",{class:"flex-grow"},null,-1),g_=(0,t.Uk)(" ************ "),v_={class:"text-right mt-8"},y_={__name:"StorageCredentials",setup(e){const{t:r}=(0,a.QT)(),i=(0,Lr.pm)(),s=Vs((()=>ol.credentials.toArray())),l=[{value:"name",filterable:!0,text:r("common.name"),attrs:{class:"w-3/12 text-overflow"}},{value:"value",sortable:!1,filterable:!1,text:"Value"},{value:"createdAt",filterable:!1,text:"Created date"},{value:"actions",filterable:!1,sortable:!1,text:"",attrs:{class:"w-24"}}],c=(0,o.Um)({id:"",query:""}),u=(0,o.Um)({type:"",name:"",value:"",show:!1});function d(){if(!u.name)return;const e=u.name.trim();if(s.value.some((({name:t,id:n})=>t.trim()===e&&n!==c.id)))return void i.error(`You alread add "${e}" credential`);const t=Qa.encrypt(u.value);ol.credentials.add({name:e,createdAt:Date.now(),value:t}).then((()=>{u.show=!1}))}return(0,t.YP)((()=>u.show),(e=>{e||(c.id="",Object.assign(u,{name:"",type:"",value:"",show:!1}))})),(e,i)=>{const a=(0,t.up)("ui-input"),h=(0,t.up)("ui-button"),p=(0,t.up)("v-remixicon"),f=(0,t.up)("ui-table"),m=(0,t.up)("ui-textarea"),g=(0,t.up)("ui-modal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",f_,[(0,t.Wm)(a,{modelValue:(0,o.SU)(c).query,"onUpdate:modelValue":i[0]||(i[0]=e=>(0,o.SU)(c).query=e),placeholder:(0,o.SU)(r)("common.search"),"prepend-icon":"riSearch2Line"},null,8,["modelValue","placeholder"]),m_,(0,t.Wm)(h,{variant:"accent",onClick:i[1]||(i[1]=e=>(0,o.SU)(u).show=!0)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("credential.add")),1)])),_:1})]),(0,t.Wm)(f,{"item-key":"id",headers:l,items:(0,o.SU)(s),search:(0,o.SU)(c).query,class:"w-full mt-4"},{"item-value":(0,t.w5)((()=>[g_])),"item-createdAt":(0,t.w5)((({item:e})=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(RS())(e.createdAt).format("DD MMMM YYYY, hh:mm A")),1)])),"item-actions":(0,t.w5)((({item:e})=>[(0,t.Wm)(p,{name:"riDeleteBin7Line",class:"cursor-pointer inline-block",onClick:t=>function({id:e}){ol.credentials.delete(e)}(e)},null,8,["onClick"])])),_:1},8,["items","search"]),(0,t.Wm)(g,{modelValue:(0,o.SU)(u).show,"onUpdate:modelValue":i[5]||(i[5]=e=>(0,o.SU)(u).show=e),title:(0,o.SU)(r)("credential.add")},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{modelValue:(0,o.SU)(u).name,"onUpdate:modelValue":i[2]||(i[2]=e=>(0,o.SU)(u).name=e),placeholder:"Name",class:"w-full"},null,8,["modelValue"]),(0,t.Wm)(m,{modelValue:(0,o.SU)(u).value,"onUpdate:modelValue":i[3]||(i[3]=e=>(0,o.SU)(u).value=e),placeholder:"value",class:"w-full mt-4"},null,8,["modelValue"]),(0,t._)("div",v_,[(0,t.Wm)(h,{class:"mr-4",onClick:i[4]||(i[4]=e=>(0,o.SU)(u).show=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.cancel")),1)])),_:1}),(0,t.Wm)(h,{disabled:!(0,o.SU)(u).name,variant:"accent",onClick:d},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.save")),1)])),_:1},8,["disabled"])])])),_:1},8,["modelValue","title"])],64)}}},w_=y_,b_={class:"container py-8 pb-4"},k_={class:"flex items-center"},x_={class:"text-2xl font-semibold"},S_={href:"https://docs.automa.site/guide/storage.html",title:"Docs",class:"text-gray-600 dark:text-gray-200 ml-2",target:"_blank"},__={__name:"Storage",setup(e){const{t:r}=(0,a.QT)(),i=(0,l.yj)(),s=(0,l.tv)(),{tab:c}=i.query,u=(0,o.qj)({activeTab:["tables","variables","credentials"].includes(c)?c:"tables"});function d(e){s.replace({query:{tab:e}})}return(e,i)=>{const s=(0,t.up)("v-remixicon"),a=(0,t.up)("ui-tab"),l=(0,t.up)("ui-tabs"),c=(0,t.up)("ui-tab-panel"),h=(0,t.up)("ui-tab-panels");return(0,t.wg)(),(0,t.iD)("div",b_,[(0,t._)("div",k_,[(0,t._)("h1",x_,(0,n.toDisplayString)((0,o.SU)(r)("common.storage")),1),(0,t._)("a",S_,[(0,t.Wm)(s,{name:"riInformationLine",size:"20"})])]),(0,t.Wm)(l,{modelValue:u.activeTab,"onUpdate:modelValue":i[0]||(i[0]=e=>u.activeTab=e),class:"mt-5",onChange:d},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{value:"tables"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("workflow.table.title",2)),1)])),_:1}),(0,t.Wm)(a,{value:"variables"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("workflow.variables.title",2)),1)])),_:1}),(0,t.Wm)(a,{value:"credentials"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("credential.title",2)),1)])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(h,{modelValue:u.activeTab,"onUpdate:modelValue":i[1]||(i[1]=e=>u.activeTab=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{value:"tables"},{default:(0,t.w5)((()=>[(0,t.Wm)(a_)])),_:1}),(0,t.Wm)(c,{value:"variables"},{default:(0,t.w5)((()=>[(0,t.Wm)(p_)])),_:1}),(0,t.Wm)(c,{value:"credentials"},{default:(0,t.w5)((()=>[(0,t.Wm)(w_)])),_:1})])),_:1},8,["modelValue"])])}}},C_=__;var D_=s(57460),E_=s.n(D_);const A_={"plain-text":{mime:"text/plain",ext:".txt"},json:{mime:"application/json",ext:".json"},csv:{mime:"text/csv",ext:".csv"}};function O_(e,{name:t,type:n,addBOMHeader:o,csvOptions:r,returnUrl:i},s){let a=e;if("csv"===n||"json"===n){const t=s?e:function(e,t){if(Array.isArray(t))return t;const n=[];return e.forEach((e=>{for(let o=0;o<t[e].length;o+=1){const r=t[e][o];void 0===n[o]?n.push({[e]:r}):n[o][e]=r}})),n}(Object.keys(e),e);a="csv"===n?E_().unparse(t,r||{}):JSON.stringify(t,null,2)}else if("plain-text"===n){const t=e=>"object"!=typeof e?[e]:Object.values(e);a=(Array.isArray(e)?e.flatMap((e=>t(e))):t(e)).join(" ")}const l=[a];"csv"===n&&o&&l.unshift(new Uint8Array([239,187,191]));const{mime:c,ext:u}=A_[n],d=URL.createObjectURL(new Blob(l,{type:c}));return i||(0,P.AG)(`${t||"unnamed"}${u}`,d),d}const T_={key:0,class:"container py-8 pb-4"},M_={class:"mb-12 flex items-center"},L_={class:"font-semibold text-3xl"},I_=(0,t._)("div",{class:"flex-grow"},null,-1),N_={class:"flex items-center mb-4"},P_=(0,t._)("div",{class:"flex-grow"},null,-1),U_=(0,t._)("div",{class:"flex-1"},null,-1),B_=(0,t._)("span",null,"Edit table",-1),j_={key:0,class:"flex items-center justify-between mt-4"},R_=["value"],V_={__name:"Tables",setup(r){const{t:i}=(0,a.QT)(),s=(0,l.yj)(),c=Nr(),u=(0,l.tv)(),d=(0,T.I)(),h=+s.params.id,p=Vs((()=>ol.tablesItems.where("id").equals(h).first())),f=Vs((()=>ol.tablesData.where("tableId").equals(h).first())),m=(0,o.XI)({body:[],header:[]}),g=(0,o.Um)({query:""}),v=(0,o.Um)({name:"",columns:[],show:!1}),y=(0,o.Um)({perPage:10,currentPage:1}),w=(0,t.Fl)((()=>m.value.body.slice((y.currentPage-1)*y.perPage,y.currentPage*y.perPage)));function b(){v.name=p.value.name,v.columns=p.value.columns,v.show=!0}function k(e){return e.unshift({value:"$$id",text:"",sortable:!1}),e.push({value:"action",text:"",sortable:!1,align:"right",attrs:{width:"100px"}}),e}async function x({columns:e,name:t,changes:n}){const r=Object.values(n);try{await ol.tablesItems.update(h,{name:t,columns:e});const n=[],i=[],s={},{columnsIndex:a}=f.value;e.forEach((({name:e,id:t,type:o})=>{const r=a[t]?.index||0;s[t]={type:o,index:r,name:e},n.push({text:e,value:e,filterable:["string","any"].includes(o)})})),a.column&&(s.column=(0,o.IU)(a.column)),m.value.header=k(n),m.value.body=m.value.body.map(((e,t)=>(r.forEach((({type:t,oldValue:n,newValue:o,name:r})=>{"rename"===t&&(0,P.aX)(e,n)?(e[o]=e[n],delete e[n]):"delete"===t&&delete e[r]})),delete e.$$id,i.push({...e}),e.$$id=t+1,e))),await ol.tablesData.where("tableId").equals(h).modify({items:i,columnsIndex:s}),v.show=!1}catch(e){console.error(e)}}function S(){c.confirm({title:"Clear data",okVariant:"danger",body:"Are you sure want to clear the table data?",onConfirm:async()=>{await ol.tablesItems.update(h,{rowsCount:0,modifiedAt:Date.now()});const e=p.value.columns.reduce(((e,t)=>(e[t.id]={index:0,type:t.type,name:t.name},e)),{column:{index:0,type:"any",name:"column"}});await ol.tablesData.where("tableId").equals(h).modify({items:[],columnsIndex:e})}})}function _(){c.confirm({title:i("storage.table.delete"),okVariant:"danger",body:i("message.delete",{name:p.value.name}),onConfirm:async()=>{try{await ol.tablesItems.where("id").equals(h).delete(),await ol.tablesData.where("tableId").equals(h).delete(),await d.update({id:e=>e.connectedTable===h,data:{connectedTable:null}}),u.replace("/storage")}catch(e){console.error(e)}}})}return(0,t.YP)(f,(()=>{if(!p.value||!f.value)return;const e={header:[],body:[]},t=p.value.columns.map((({name:e,type:t})=>({text:e,value:e,filterable:["string","any"].includes(t)})));e.body=f.value.items.map(((e,t)=>({...e,$$id:t+1}))),e.header=k(t),m.value=e})),(r,s)=>{const a=(0,t.up)("v-remixicon"),l=(0,t.up)("ui-button"),c=(0,t.up)("ui-input"),u=(0,t.up)("ui-list-item"),d=(0,t.up)("ui-list"),k=(0,t.up)("ui-popover"),C=(0,t.up)("ui-table"),D=(0,t.up)("ui-pagination"),E=(0,t.Q2)("tooltip"),A=(0,t.Q2)("close-popover");return(0,o.SU)(p)&&(0,o.SU)(f)?((0,t.wg)(),(0,t.iD)("div",T_,[(0,t._)("div",M_,[(0,t._)("h1",L_,(0,n.toDisplayString)((0,o.SU)(p).name),1),I_,(0,t.wy)(((0,t.wg)(),(0,t.j4)(l,{icon:"",class:"ml-2",onClick:S},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riFileShredLine"})])),_:1})),[[E,"Clear data",void 0,{group:!0}]]),(0,t.wy)(((0,t.wg)(),(0,t.j4)(l,{icon:"",class:"text-red-400 dark:text-red-300 ml-4",onClick:_},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riDeleteBin7Line"})])),_:1})),[[E,"Delete table"]])]),(0,t._)("div",N_,[(0,t.Wm)(c,{modelValue:(0,o.SU)(g).query,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,o.SU)(g).query=e),placeholder:(0,o.SU)(i)("common.search"),"prepend-icon":"riSearch2Line"},null,8,["modelValue","placeholder"]),P_,U_,(0,t.Wm)(l,{class:"ml-4",onClick:b},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:"riPencilLine",class:"mr-2 -ml-1"}),B_])),_:1}),(0,t.Wm)(k,{"trigger-width":"",class:"ml-4"},{trigger:(0,t.w5)((()=>[(0,t.Wm)(l,{variant:"accent"},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(i)("log.exportData.title")),1),(0,t.Wm)(a,{name:"riArrowDropDownLine",class:"ml-2 -mr-1"})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"space-y-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.A_),(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(u,{key:e.id,class:"cursor-pointer",onClick:t=>function(e){O_(f.value.items,{name:p.value.name,type:e},!0)}(e.id)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)(`log.exportData.types.${e.id}`)),1)])),_:2},1032,["onClick"])),[[A]]))),128))])),_:1})])),_:1})]),(0,t.Wm)(C,{headers:(0,o.SU)(m).header,items:(0,o.SU)(w),search:(0,o.SU)(g).query,"item-key":"id",class:"w-full"},{"item-action":(0,t.w5)((({item:e})=>[(0,t.Wm)(a,{title:"Delete row",class:"cursor-pointer",name:"riDeleteBin7Line",onClick:t=>function(e){const t=m.value.body.findIndex((({$$id:t})=>t===e.$$id));if(-1===t)return;const n={},{columnsIndex:r}=f.value,i=Object.values(p.value.columns);Object.keys(e).forEach((t=>{if("$$id"===t)return;const o=n[t]||i.find((e=>e.name===t));if(!o)return;const s=r[o.id];s&&s.index>=e.$$id-1&&(s.index-=1),n[t]=o})),m.value.body.splice(t,1),f.value.items.splice(t,1),ol.tablesItems.update(h,{modifiedAt:Date.now(),rowsCount:p.value.rowsCount-1}),ol.tablesData.where("tableId").equals(h).modify({items:(0,o.IU)(f.value.items)}).then((()=>{(0,o.oR)(m)}))}(e)},null,8,["onClick"])])),_:1},8,["headers","items","search"]),(0,o.SU)(m).body&&(0,o.SU)(m).body.length>=10?((0,t.wg)(),(0,t.iD)("div",j_,[(0,t._)("div",null,[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("components.pagination.text1"))+" ",1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>(0,o.SU)(y).perPage=e),class:"p-1 rounded-md bg-input"},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([10,15,25,50,100,150],(e=>(0,t._)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,R_))),64))],512),[[e.vModelSelect,(0,o.SU)(y).perPage]]),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(i)("components.pagination.text2",{count:(0,o.SU)(m).body.length})),1)]),(0,t.Wm)(D,{modelValue:(0,o.SU)(y).currentPage,"onUpdate:modelValue":s[2]||(s[2]=e=>(0,o.SU)(y).currentPage=e),"per-page":(0,o.SU)(y).perPage,records:(0,o.SU)(m).body.length},null,8,["modelValue","per-page","records"])])):(0,t.kq)("",!0),(0,t.Wm)(o_,{modelValue:(0,o.SU)(v).show,"onUpdate:modelValue":s[3]||(s[3]=e=>(0,o.SU)(v).show=e),name:(0,o.SU)(v).name,columns:(0,o.SU)(v).columns,onSave:x},null,8,["modelValue","name","columns"])])):(0,t.kq)("",!0)}}},F_=V_,W_={class:"flex items-center mb-6 space-x-4"},H_={class:"flex items-center workflow-sort"},z_=["value"],$_={class:"w-48"},K_={class:"flex-1 mb-2 font-semibold"},q_={class:"mb-2 text-sm text-gray-600 dark:text-gray-200"},Y_={class:"grid grid-cols-2 gap-2"},G_={class:"mb-1 text-sm text-gray-600 dark:text-gray-200 mt-3"},X_=["value"],J_={__name:"LogsFilters",props:{filters:{type:Object,default:()=>({})},sorts:{type:Object,default:()=>({})}},emits:["updateSorts","updateFilters","clear"],setup(e,{emit:r}){const{t:i}=(0,a.QT)(),s=(0,$o.bx)("action:search",(()=>{document.querySelector("#search-input input")?.focus()})),l=[{id:"all",name:i("common.all")},{id:"success",name:i("logStatus.success")},{id:"stopped",name:i("logStatus.stopped")},{id:"error",name:i("logStatus.error")}],c=[{id:0,name:i("common.all")},{id:1,name:i("log.filter.byDate.items.lastDay")},{id:7,name:i("log.filter.byDate.items.last7Days")},{id:30,name:i("log.filter.byDate.items.last30Days")}],u=[{id:"name",name:i("sort.name")},{id:"startedAt",name:i("sort.createdAt")}];function d(e,t){r("updateFilters",{key:e,value:t})}function h(e,t){r("updateSorts",{key:e,value:t})}return(r,a)=>{const p=(0,t.up)("ui-input"),f=(0,t.up)("v-remixicon"),m=(0,t.up)("ui-button"),g=(0,t.up)("ui-select"),v=(0,t.up)("ui-radio"),y=(0,t.up)("ui-popover");return(0,t.wg)(),(0,t.iD)("div",W_,[(0,t.Wm)(p,{id:"search-input","model-value":e.filters.query,placeholder:`${(0,o.SU)(i)("common.search")}... (${(0,o.SU)(s)["action:search"].readable})`,"prepend-icon":"riSearch2Line",class:"flex-1",onChange:a[0]||(a[0]=e=>d("query",e))},null,8,["model-value","placeholder"]),(0,t._)("div",H_,[(0,t.Wm)(m,{icon:"",class:"rounded-r-none border-gray-300 border-r",onClick:a[1]||(a[1]=t=>h("order","asc"===e.sorts.order?"desc":"asc"))},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"asc"===e.sorts.order?"riSortAsc":"riSortDesc"},null,8,["name"])])),_:1}),(0,t.Wm)(g,{"model-value":e.sorts.by,placeholder:(0,o.SU)(i)("sort.sortBy"),onChange:a[2]||(a[2]=e=>h("by",e))},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(u,(e=>(0,t._)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,z_))),64))])),_:1},8,["model-value","placeholder"])]),(0,t.Wm)(y,null,{trigger:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riFilter2Line",class:"mr-2 -ml-1"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(i)("log.filter.title")),1)])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("div",$_,[(0,t._)("p",K_,(0,n.toDisplayString)((0,o.SU)(i)("log.filter.title")),1),(0,t._)("p",q_,(0,n.toDisplayString)((0,o.SU)(i)("log.filter.byStatus")),1),(0,t._)("div",Y_,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(l,(o=>(0,t.Wm)(v,{key:o.id,"model-value":e.filters.byStatus,value:o.id,class:"capitalize text-sm",onChange:a[3]||(a[3]=e=>d("byStatus",e))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(o.name),1)])),_:2},1032,["model-value","value"]))),64))]),(0,t._)("p",G_,(0,n.toDisplayString)((0,o.SU)(i)("log.filter.byDate.title")),1),(0,t.Wm)(g,{"model-value":e.filters.byDate,class:"w-full",onChange:a[4]||(a[4]=e=>d("byDate",e))},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(c,(e=>(0,t._)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,X_))),64))])),_:1},8,["model-value"])])])),_:1}),(0,t.Wm)(m,{onClick:a[5]||(a[5]=e=>r.$emit("clear"))},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"riDeleteBin7Line",class:"mr-2 -ml-1"}),(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(i)("log.clearLogs.title")),1)])),_:1})])}}},Z_=J_,Q_={key:0,class:"text-center py-8"},eC={class:"flex items-center mb-2"},tC=(0,t._)("div",{class:"flex-grow"},null,-1),nC={__name:"LogsDataViewer",props:{log:{type:Object,default:()=>({})},editorClass:{type:String,default:""}},setup(e){const r=e,i=(0,t.RC)((()=>Promise.all([s.e(796),s.e(71)]).then(s.bind(s,78071)))),{t:l}=(0,a.QT)(),c=(0,o.Um)({status:"loading",activeTab:"table",fileName:r.log.name}),u={table:"",variables:""},d=(0,t.Fl)((()=>"idle"!==c.status?"":u[c.activeTab]?u[c.activeTab]:""));return(0,t.bv)((async()=>{const e=await Vo.logsData.where("logId").equals(r.log.id).last();e?(Object.keys(e.data).forEach((t=>{u[t]=JSON.stringify(e.data[t],null,2)})),c.status="idle"):c.status="error"})),(r,s)=>{const a=(0,t.up)("ui-spinner"),h=(0,t.up)("ui-input"),p=(0,t.up)("v-remixicon"),f=(0,t.up)("ui-button"),m=(0,t.up)("ui-list-item"),g=(0,t.up)("ui-list"),v=(0,t.up)("ui-popover"),y=(0,t.up)("ui-tab"),w=(0,t.up)("ui-tabs"),b=(0,t.Q2)("close-popover");return"loading"===(0,o.SU)(c).status?((0,t.wg)(),(0,t.iD)("div",Q_,[(0,t.Wm)(a,{color:"text-primary"})])):"idle"===(0,o.SU)(c).status?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",eC,[(0,t.Wm)(h,{modelValue:(0,o.SU)(c).fileName,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,o.SU)(c).fileName=e),placeholder:(0,o.SU)(l)("common.fileName"),title:(0,o.SU)(l)("common.fileName")},null,8,["modelValue","placeholder","title"]),tC,(0,t.Wm)(v,{"trigger-width":""},{trigger:(0,t.w5)((()=>[(0,t.Wm)(f,{variant:"accent"},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(l)("log.exportData.title")),1),(0,t.Wm)(p,{name:"riArrowDropDownLine",class:"ml-2 -mr-1"})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"space-y-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.A_),(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{key:e.id,class:"cursor-pointer",onClick:t=>function(e){O_(u?.table||u,{name:c.fileName,type:e},!0)}(e.id)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)(`log.exportData.types.${e.id}`)),1)])),_:2},1032,["onClick"])),[[b]]))),128))])),_:1})])),_:1})]),(0,o.SU)(P.aX)(u,"table")?((0,t.wg)(),(0,t.j4)(w,{key:0,modelValue:(0,o.SU)(c).activeTab,"onUpdate:modelValue":s[1]||(s[1]=e=>(0,o.SU)(c).activeTab=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{value:"table"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("workflow.table.title")),1)])),_:1}),(0,t.Wm)(y,{value:"variables"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("workflow.variables.title",2)),1)])),_:1})])),_:1},8,["modelValue"])):(0,t.kq)("",!0),(0,t.Wm)((0,o.SU)(i),{"model-value":(0,o.SU)(d),class:(0,n.normalizeClass)([e.editorClass,"rounded-t-none"]),lang:"json",readonly:""},null,8,["model-value","class"])],64)):(0,t.kq)("",!0)}}},oC=nC,rC={class:"container pt-8 pb-4 logs-list"},iC={class:"text-2xl font-semibold mb-6"},sC={key:0,style:{"min-height":"320px"}},aC={class:"w-8"},lC={class:"ml-4 text-right"},cC={class:"flex items-center justify-between mt-4"},uC=["value"],dC={class:"capitalize"},hC={__name:"Logs",setup(r){const{t:i}=(0,a.QT)(),s=Nr(),l=(0,T.I)(),c=Vs((()=>Vo.items.toArray())),u=JSON.parse(localStorage.getItem("logs-sorts")||"{}"),d=(0,o.iH)([]),h=(0,o.Um)({perPage:10,currentPage:1}),p=(0,o.Um)({query:"",byDate:0,byStatus:"all"}),f=(0,o.Um)({order:u.order||"desc",by:u.by||"endedAt"}),m=(0,o.Um)({show:!1,log:{}}),g=(0,t.Fl)((()=>c.value?c.value.filter((({name:e,status:t,endedAt:n})=>{let o=!0,r=!0;const i=e.toLocaleLowerCase().includes(p.query.toLocaleLowerCase());if("all"!==p.byStatus&&(r=t===p.byStatus),p.byDate>0){o=Date.now()-24*p.byDate*60*60*1e3<=n}return i&&r&&o})).slice().sort(((e,t)=>{const n=e[f.by],o=t[f.by];return"asc"===f.order?n>o?1:-1:o>n?1:-1})):[])),v=(0,t.Fl)((()=>g.value.slice((h.currentPage-1)*h.perPage,h.currentPage*h.perPage)));function y(){s.confirm({title:i("log.delete.title"),okVariant:"danger",body:i("log.delete.description"),onConfirm:()=>{Vo.items.bulkDelete(d.value).then((()=>{d.value=[]}))}})}function w(){s.confirm({title:i("log.clearLogs.title"),okVariant:"danger",body:i("log.clearLogs.description"),onConfirm:()=>{Vo.delete()}})}function b(){if(d.value.length>=v.value?.length)return void(d.value=[]);const e=v?.value.map((({id:e})=>e));d.value=e}return(0,t.YP)((()=>f),(e=>{localStorage.setItem("logs-sorts",JSON.stringify(e))}),{deep:!0}),(r,s)=>{const a=(0,t.up)("ui-checkbox"),c=(0,t.up)("v-remixicon"),u=(0,t.up)("ui-pagination"),k=(0,t.up)("ui-button"),x=(0,t.up)("ui-card"),S=(0,t.up)("ui-modal");return(0,t.wg)(),(0,t.iD)("div",rC,[(0,t._)("h1",iC,(0,n.toDisplayString)((0,o.SU)(i)("common.log",2)),1),(0,t.Wm)(Z_,{sorts:(0,o.SU)(f),filters:(0,o.SU)(p),onClear:w,onUpdateSorts:s[0]||(s[0]=e=>(0,o.SU)(f)[e.key]=e.value),onUpdateFilters:s[1]||(s[1]=e=>(0,o.SU)(p)[e.key]=e.value)},null,8,["sorts","filters"]),(0,o.SU)(v)?((0,t.wg)(),(0,t.iD)("div",sC,[(0,t.Wm)(aa,{logs:(0,o.SU)(v),running:(0,o.SU)(l).states,class:"w-full"},{"item-prepend":(0,t.w5)((({log:e})=>[(0,t._)("td",aC,[(0,t.Wm)(a,{"model-value":d.value.includes(e.id),class:"align-text-bottom",onChange:t=>function(e,t){if(e)return void d.value.push(t);const n=d.value.indexOf(t);-1!==n&&d.value.splice(n,1)}(t,e.id)},null,8,["model-value","onChange"])])])),"item-append":(0,t.w5)((({log:e})=>[(0,t._)("td",lC,[(0,t.Wm)(c,{name:"riDeleteBin7Line",class:"text-red-500 inline-block dark:text-red-400 cursor-pointer",onClick:t=>{return n=e.id,void Vo.items.delete(n).then((()=>{Vo.ctxData.where("logId").equals(n).delete(),Vo.histories.where("logId").equals(n).delete(),Vo.logsData.where("logId").equals(n).delete()}));var n}},null,8,["onClick"])])])),_:1},8,["logs","running"])])):(0,t.kq)("",!0),(0,t._)("div",cC,[(0,t._)("div",null,[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("components.pagination.text1"))+" ",1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>(0,o.SU)(h).perPage=e),class:"p-1 rounded-md bg-input"},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([10,15,25,50,100],(e=>(0,t._)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,uC))),64))],512),[[e.vModelSelect,(0,o.SU)(h).perPage]]),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(i)("components.pagination.text2",{count:(0,o.SU)(g).length})),1)]),(0,t.Wm)(u,{modelValue:(0,o.SU)(h).currentPage,"onUpdate:modelValue":s[3]||(s[3]=e=>(0,o.SU)(h).currentPage=e),"per-page":(0,o.SU)(h).perPage,records:(0,o.SU)(g).length},null,8,["modelValue","per-page","records"])]),0!==d.value.length?((0,t.wg)(),(0,t.j4)(x,{key:1,class:"fixed right-0 bottom-0 m-5 shadow-xl space-x-2"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:b},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("log."+(d.value.length>=(0,o.SU)(v)?.length?"deselectAll":"selectAll"))),1)])),_:1}),(0,t.Wm)(k,{variant:"danger",onClick:y},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("log.deleteSelected"))+" ("+(0,n.toDisplayString)(d.value.length)+") ",1)])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(S,{modelValue:(0,o.SU)(m).show,"onUpdate:modelValue":s[4]||(s[4]=e=>(0,o.SU)(m).show=e),"content-class":"max-w-2xl"},{header:(0,t.w5)((()=>[(0,t._)("span",dC,(0,n.toDisplayString)((0,o.SU)(i)("common.data")),1)])),default:(0,t.w5)((()=>[(0,t.Wm)(oC,{log:(0,o.SU)(m).log,"editor-class":"logs-list-data"},null,8,["log"])])),_:1},8,["modelValue"])])}}},pC=hC,fC={key:0,class:"text-center"},mC=(0,t._)("img",{src:Ki,class:"mx-auto max-w-sm"},null,-1),gC={class:"text-xl font-semibold"},vC={class:"flex items-center"},yC=(0,t.Uk)(" Table "),wC=(0,t.Uk)(" Raw "),bC=(0,t._)("div",{class:"flex-grow"},null,-1),kC={key:0,class:"flex items-center justify-between mt-4"},xC=["value"],SC={__name:"LogsTable",props:{tableData:{type:Object,default:()=>({})},currentLog:{type:Object,default:()=>({})}},setup(r){const i=r,l=(0,t.RC)((()=>Promise.all([s.e(796),s.e(71)]).then(s.bind(s,78071)))),{t:c}=(0,a.QT)(),u=(0,o.Um)({query:"",activeTab:"table"}),d=(0,o.Um)({perPage:10,currentPage:1}),h=(0,t.Fl)((()=>i.tableData.body.slice((d.currentPage-1)*d.perPage,d.currentPage*d.perPage)));return(s,a)=>{const p=(0,t.up)("ui-tab"),f=(0,t.up)("ui-tabs"),m=(0,t.up)("ui-input"),g=(0,t.up)("v-remixicon"),v=(0,t.up)("ui-button"),y=(0,t.up)("ui-list-item"),w=(0,t.up)("ui-list"),b=(0,t.up)("ui-popover"),k=(0,t.up)("ui-table"),x=(0,t.up)("ui-pagination"),S=(0,t.Q2)("close-popover");return 0===r.tableData.body.length?((0,t.wg)(),(0,t.iD)("div",fC,[mC,(0,t._)("p",gC,(0,n.toDisplayString)((0,o.SU)(c)("message.noData")),1)])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",vC,[(0,t.Wm)(f,{modelValue:(0,o.SU)(u).activeTab,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.SU)(u).activeTab=e),type:"fill",class:"mb-4",color:"",style:{padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:"table"},{default:(0,t.w5)((()=>[yC])),_:1}),(0,t.Wm)(p,{value:"raw"},{default:(0,t.w5)((()=>[wC])),_:1})])),_:1},8,["modelValue"]),bC,"table"===(0,o.SU)(u).activeTab?((0,t.wg)(),(0,t.j4)(m,{key:0,modelValue:(0,o.SU)(u).query,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.SU)(u).query=e),placeholder:(0,o.SU)(c)("common.search"),class:"mr-4","prepend-icon":"riSearch2Line",type:"search"},null,8,["modelValue","placeholder"])):(0,t.kq)("",!0),(0,t.Wm)(b,{"trigger-width":""},{trigger:(0,t.w5)((()=>[(0,t.Wm)(v,{variant:"accent"},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,n.toDisplayString)((0,o.SU)(c)("log.exportData.title")),1),(0,t.Wm)(g,{name:"riArrowDropDownLine",class:"ml-2 -mr-1"})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"space-y-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.A_),(e=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(y,{key:e.id,class:"cursor-pointer",onClick:t=>function(e){O_(i.currentLog.data.table,{name:i.currentLog.name,type:e},!0)}(e.id)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)(`log.exportData.types.${e.id}`)),1)])),_:2},1032,["onClick"])),[[S]]))),128))])),_:1})])),_:1})]),(0,t.wy)((0,t.Wm)((0,o.SU)(l),{"model-value":JSON.stringify(r.currentLog.data.table,null,2),readonly:"",lang:"json",style:{"max-height":"600px"}},null,8,["model-value"]),[[e.vShow,"raw"===(0,o.SU)(u).activeTab]]),(0,t.wy)((0,t.Wm)(k,{headers:r.tableData.header,items:(0,o.SU)(h),search:(0,o.SU)(u).query,"item-key":"id",class:"w-full"},null,8,["headers","items","search"]),[[e.vShow,"table"===(0,o.SU)(u).activeTab]]),"table"===(0,o.SU)(u).activeTab&&r.tableData.body&&r.tableData.body.length>=10?((0,t.wg)(),(0,t.iD)("div",kC,[(0,t._)("div",null,[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(c)("components.pagination.text1"))+" ",1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.SU)(d).perPage=e),class:"p-1 rounded-md bg-input"},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([10,15,25,50,100,150],(e=>(0,t._)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,xC))),64))],512),[[e.vModelSelect,(0,o.SU)(d).perPage]]),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(c)("components.pagination.text2",{count:r.tableData.body.length})),1)]),(0,t.Wm)(x,{modelValue:(0,o.SU)(d).currentPage,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.SU)(d).currentPage=e),"per-page":(0,o.SU)(d).perPage,records:r.tableData.body.length},null,8,["modelValue","per-page","records"])])):(0,t.kq)("",!0)],64))}}},_C=SC,CC={class:"p-4 rounded-lg bg-gray-900 dark:bg-gray-800 text-gray-100 dark scroll overflow-auto",style:{"max-height":"600px"}},DC={class:"text-sm font-mono space-y-1 w-full overflow-auto"},EC={class:"w-6"},AC=["title"],OC=["title"],TC=["title"],MC=["title"],LC={class:"px-2 pb-2 text-gray-300 overflow-auto text-sm ml-6 scroll max-h-96"},IC={key:1,class:"flex items-center justify-between mt-4"},NC=["value"],PC={__name:"LogsHistory",props:{currentLog:{type:Object,default:()=>({})},ctxData:{type:Object,default:()=>({})},parentLog:{type:Object,default:null}},setup(r){const i=r,s={success:{color:"text-green-400",icon:"riCheckLine"},stop:{color:"text-yellow-400",icon:"riStopLine"},stopped:{color:"text-yellow-400",icon:"riStopLine"},error:{color:"text-red-400",icon:"riErrorWarningLine"},finish:{color:"text-blue-300",icon:"riFlagLine"}},{t:l,te:c}=(0,a.QT)(),u=(0,o.Um)({itemId:""}),d=(0,o.Um)({perPage:25,currentPage:1}),h=(0,t.Fl)((()=>i.currentLog.history.slice((d.currentPage-1)*d.perPage,d.currentPage*d.perPage).map(p)));function p(e){const t={...e},n=(e,t)=>{const n="string"==typeof e?{path:e}:e;return c(n.path)?l(n.path,n.params):t};return["finish","stop"].includes(e.type)?t.name=l(`log.types.${e.type}`):t.name=n(`workflow.blocks.${e.name}.name`,e.name),t.message=n({path:`log.messages.${e.message}`,params:e},e.message),t}function f(e){const{workflowId:t,teamId:n}=i.currentLog;let o=`/workflows/${t}`;return t.startsWith("team")&&n&&(o=`/teams/${n}/workflows/${t}`),`${o}?blockId=${e}`}return(i,a)=>{const c=(0,t.up)("v-remixicon"),p=(0,t.up)("router-link"),m=(0,t.up)("ui-expand"),g=(0,t.up)("ui-pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[r.parentLog?((0,t.wg)(),(0,t.j4)(p,{key:0,replace:"",to:"/logs/"+r.currentLog.parentLog?.id||0,class:"mb-4 flex"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"riArrowLeftLine",class:"mr-2"}),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(l)("log.goBack",{name:r.parentLog.name})),1)])),_:1},8,["to"])):(0,t.kq)("",!0),(0,t._)("div",CC,[(0,t.WI)(i.$slots,"prepend"),(0,t._)("div",DC,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(h),((i,a)=>((0,t.wg)(),(0,t.j4)(m,{key:i.id||a,disabled:!r.ctxData[i.id],"hide-header-icon":"",class:"hoverable rounded-md","active-class":"bg-box-transparent","header-class":"px-2 w-full text-left focus:ring-0 py-1 rounded-md group cursor-default flex items-start",onClick:e=>(0,o.SU)(u).itemId=i.id},{header:(0,t.w5)((({show:a})=>[(0,t._)("span",EC,[(0,t.wy)((0,t.Wm)(c,{rotate:a?270:180,size:"20",name:"riArrowLeftSLine",class:"transition-transform text-gray-400 -ml-1 mr-2"},null,8,["rotate"]),[[e.vShow,r.ctxData[i.id]]])]),(0,t._)("span",{title:`${(0,o.SU)(l)("log.duration")}: ${Math.round(i.duration/1e3)}s`,class:"w-14 flex-shrink-0 text-overflow text-gray-400"},(0,n.toDisplayString)((0,o.SU)(P.g9)(0,i.duration||0)),9,AC),(0,t._)("span",{class:(0,n.normalizeClass)([s[i.type]?.color,"w-2/12 flex-shrink-0 text-overflow"]),title:i.type},[(0,t.Wm)(c,{name:s[i.type]?.icon,size:"18",class:"inline-block -mr-1 align-text-top"},null,8,["name"]),(0,t.Uk)(" "+(0,n.toDisplayString)(i.name),1)],10,OC),(0,t._)("span",{title:`${(0,o.SU)(l)("common.description")} (${i.description})`,class:"ml-2 w-2/12 text-overflow flex-shrink-0"},(0,n.toDisplayString)(i.description),9,TC),(0,t._)("p",{title:i.message,class:"text-sm line-clamp ml-2 flex-1 leading-tight text-gray-600 dark:text-gray-200"},(0,n.toDisplayString)(i.message),9,MC),i.logId?((0,t.wg)(),(0,t.j4)(p,{key:0,to:{name:"logs-details",params:{id:i.logId}},custom:""},{default:(0,t.w5)((({navigate:n})=>[(0,t.Wm)(c,{title:"Open log detail",class:"ml-2 text-gray-300 cursor-pointer",size:"20",name:"riFileTextLine",onClick:(0,e.withModifiers)(n,["stop"])},null,8,["onClick"])])),_:2},1032,["to"])):(0,t.kq)("",!0),f(i.blockId)?(0,t.wy)(((0,t.wg)(),(0,t.j4)(p,{key:1,to:f(i.blockId)},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"riExternalLinkLine",size:"20",title:"Go to block",class:"text-gray-300 cursor-pointer ml-2 invisible group-hover:visible"})])),_:2},1032,["to"])),[[e.vShow,r.currentLog.workflowId&&i.blockId]]):(0,t.kq)("",!0)])),default:(0,t.w5)((()=>[(0,t._)("pre",LC,(0,n.toDisplayString)(r.ctxData[(0,o.SU)(u).itemId]||"EMPTY"),1)])),_:2},1032,["disabled","onClick"])))),128)),(0,t.WI)(i.$slots,"append-items")])]),r.currentLog.history.length>=25?((0,t.wg)(),(0,t.iD)("div",IC,[(0,t._)("div",null,[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(l)("components.pagination.text1"))+" ",1),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.SU)(d).perPage=e),class:"p-1 rounded-md bg-input"},[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([25,50,75,100,150,200],(e=>(0,t._)("option",{key:e,value:e},(0,n.toDisplayString)(e),9,NC))),64))],512),[[e.vModelSelect,(0,o.SU)(d).perPage]]),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(l)("components.pagination.text2",{count:r.currentLog.history.length})),1)]),(0,t.Wm)(g,{modelValue:(0,o.SU)(d).currentPage,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.SU)(d).currentPage=e),"per-page":(0,o.SU)(d).perPage,records:r.currentLog.history.length},null,8,["modelValue","per-page","records"])])):(0,t.kq)("",!0)],64)}}},UC=PC,BC={key:0,class:"text-center"},jC=(0,t._)("img",{src:Ki,class:"mx-auto max-w-sm"},null,-1),RC={class:"text-xl font-semibold"},VC=(0,t.Uk)(" GUI "),FC=(0,t.Uk)(" Raw "),WC={key:0,class:"mt-4"},HC={class:"space-y-2 grid grid-cols-1 md:grid-cols-2 gap-4"},zC={__name:"LogsVariables",props:{currentLog:{type:Object,default:()=>({})}},setup(e){const r=e,i=(0,t.RC)((()=>Promise.all([s.e(796),s.e(71)]).then(s.bind(s,78071)))),{t:l}=(0,a.QT)(),c=(0,o.Um)({activeTab:"gui"}),u=(0,t.Fl)((()=>r.currentLog.data?.variables||{}));return(e,r)=>{const s=(0,t.up)("ui-tab"),a=(0,t.up)("ui-tabs"),d=(0,t.up)("ui-input");return 0===Object.keys((0,o.SU)(u)).length?((0,t.wg)(),(0,t.iD)("div",BC,[jC,(0,t._)("p",RC,(0,n.toDisplayString)((0,o.SU)(l)("message.noData")),1)])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Wm)(a,{modelValue:(0,o.SU)(c).activeTab,"onUpdate:modelValue":r[0]||(r[0]=e=>(0,o.SU)(c).activeTab=e),type:"fill",class:"mb-4",color:"",style:{padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{value:"gui"},{default:(0,t.w5)((()=>[VC])),_:1}),(0,t.Wm)(s,{value:"raw"},{default:(0,t.w5)((()=>[FC])),_:1})])),_:1},8,["modelValue"]),"gui"===(0,o.SU)(c).activeTab?((0,t.wg)(),(0,t.iD)("div",WC,[(0,t._)("ul",HC,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(u),((e,n)=>((0,t.wg)(),(0,t.iD)("li",{key:n,class:"px-2 pb-2 pt-1 rounded-lg flex items-center border-2 space-x-2"},[(0,t.Wm)(d,{"model-value":n,label:(0,o.SU)(l)("common.name"),class:"w-full",placeholder:"EMPTY",readonly:""},null,8,["model-value","label"]),(0,t.Wm)(d,{"model-value":JSON.stringify(e),label:"Value",class:"w-full",placeholder:"EMPTY",readonly:""},null,8,["model-value"])])))),128))])])):((0,t.wg)(),(0,t.j4)((0,o.SU)(i),{key:1,"model-value":JSON.stringify((0,o.SU)(u),null,2),class:"mt-4",lang:"json",readonly:""},null,8,["model-value"]))],64))}}},$C=zC,KC={key:0,class:"container pt-8 pb-4"},qC={class:"flex items-center"},YC={class:"text-2xl max-w-md text-overflow font-semibold"},GC={class:"text-gray-600 dark:text-gray-200"},XC=(0,t._)("div",{class:"flex-grow"},null,-1),JC={__name:"[id]",setup(e){const{t:r}=(0,a.QT)(),i=(0,l.yj)(),s=(0,l.tv)(),c=(0,T.I)(),u=(0,o.XI)({}),d=(0,o.XI)(null),h=window.history.state.back,p=[{id:"logs",name:r("common.log",2)},{id:"table",name:r("workflow.table.title")},{id:"variables",name:r("workflow.variables.title",2)}],f=(0,o.Um)({activeTab:"logs",workflowExists:!1}),m=(0,o.Um)({converted:!1,body:[],header:[]}),g=(0,o.XI)({history:[],data:{table:[],variables:{}}});function v(){s.go(-1)}function y(){Vo.items.where("id").equals(i.params.id).delete().then((()=>{h.startsWith("/workflows")?s.replace(h):s.replace("/logs")}))}function w(){let e=`/workflows/${g.value.workflowId}`;h.startsWith(e)&&(e=h),s.push(e)}function b(e){"table"!==e||m.converted||function(){const e=g.value.data?.table;if(!e)return;const[t]=(0,P.ex)(e);m.converted=!0,m.body=e.map(((e,t)=>({...e,id:t+1}))),m.header=t.map((e=>({text:e,value:e,filterable:!0}))),m.header.unshift({value:"id",text:"",sortable:!1})}()}return(0,t.YP)((()=>i.params),(async function(){const e=i.params.id;if(!e)return;const t=await Vo.items.where("id").equals(e).last();if(!t)return;m.body=[],m.header=[],d.value=null,m.converted=!1;const[n,o,r]=await Promise.all(["ctxData","histories","logsData"].map((t=>Vo[t].where("logId").equals(e).last())));u.value=n?.data||{},g.value={history:o?.data||[],data:r?.data||{},...t},f.workflowExists=Boolean(c.getById(t.workflowId));const s=t.collectionLogId||t.parentLog?.id;s&&(d.value=await Vo.items.where("id").equals(s).last()||null)}),{immediate:!0}),(e,i)=>{const s=(0,t.up)("v-remixicon"),a=(0,t.up)("ui-button"),l=(0,t.up)("ui-tab"),c=(0,t.up)("ui-tabs"),h=(0,t.up)("ui-tab-panel"),k=(0,t.up)("ui-tab-panels"),x=(0,t.Q2)("tooltip");return(0,o.SU)(g).id?((0,t.wg)(),(0,t.iD)("div",KC,[(0,t._)("div",qC,[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{role:"button",class:"h-12 px-1 transition mr-2 bg-input rounded-lg dark:text-gray-300 text-gray-600",onClick:v},[(0,t.Wm)(s,{name:"riArrowLeftSLine"})])),[[x,(0,o.SU)(r)("workflow.blocks.go-back.name"),"bottom"]]),(0,t._)("div",null,[(0,t._)("h1",YC,(0,n.toDisplayString)((0,o.SU)(g).name),1),(0,t._)("p",GC,(0,n.toDisplayString)((0,o.SU)(r)("log.description.text",{status:(0,o.SU)(r)(`log.description.status.${(0,o.SU)(g).status||"success"}`),date:(0,o.SU)(V.Z)((0,o.SU)(g).startedAt).format("DD MMM"),duration:(0,o.SU)(P.g9)((0,o.SU)(g).startedAt,(0,o.SU)(g).endedAt)})),1)]),XC,(0,o.SU)(f).workflowExists?(0,t.wy)(((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"",class:"mr-4",onClick:w},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"riExternalLinkLine"})])),_:1})),[[x,(0,o.SU)(r)("log.goWorkflow")]]):(0,t.kq)("",!0),(0,t.Wm)(a,{class:"text-red-500 dark:text-red-400",onClick:y},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.delete")),1)])),_:1})]),(0,t.Wm)(c,{modelValue:(0,o.SU)(f).activeTab,"onUpdate:modelValue":i[0]||(i[0]=e=>(0,o.SU)(f).activeTab=e),class:"mt-4",onChange:b},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(p,(e=>(0,t.Wm)(l,{key:e.id,class:"mr-4",value:e.id},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"]),(0,t.Wm)(k,{"model-value":(0,o.SU)(f).activeTab,class:"mt-4 pb-4",style:{"min-height":"500px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{value:"logs"},{default:(0,t.w5)((()=>[(0,t.Wm)(UC,{"current-log":(0,o.SU)(g),"ctx-data":(0,o.SU)(u),"parent-log":(0,o.SU)(d)},null,8,["current-log","ctx-data","parent-log"])])),_:1}),(0,t.Wm)(h,{value:"table"},{default:(0,t.w5)((()=>[(0,t.Wm)(_C,{"current-log":(0,o.SU)(g),"table-data":(0,o.SU)(m)},null,8,["current-log","table-data"])])),_:1}),(0,t.Wm)(h,{value:"variables"},{default:(0,t.w5)((()=>[(0,t.Wm)($C,{"current-log":(0,o.SU)(g)},null,8,["current-log"])])),_:1})])),_:1},8,["model-value"])])):(0,t.kq)("",!0)}}},ZC=JC,QC={key:0,class:"container py-8"},eD={class:"flex items-center"},tD={class:"flex-grow overflow-hidden"},nD={class:"text-2xl max-w-md text-overflow font-semibold text-overflow"},oD={class:"mt-8"},rD={class:"mb-4 text-sm"},iD={class:"leading-tight"},sD={class:"leading-tight text-gray-600 dark:text-gray-300"},aD=["title"],lD={class:"flex-1"},cD={__name:"Running",setup(e){const{t:r}=(0,a.QT)(),i=(0,l.yj)(),s=(0,l.tv)(),c=(0,T.I)(),u=(0,o.XI)(0),d=setInterval((()=>{u.value+=1}),1e3),h=(0,t.Fl)((()=>c.states.find((({id:e})=>e===i.params.id))));function p(){li("workflow:stop",h.value.id,"background")}function f(e){const{workflowId:t,teamId:n}=h.value;let o=`/workflows/${t}`;return t.startsWith("team")&&!n?null:(o=`/teams/${n}/workflows/${t}`,`${o}?blockId=${e}`)}return(0,t.YP)(h,(async()=>{if(i.name.startsWith("logs")&&!h.value&&i.params.id){let e="/logs";await Vo.items.where("id").equals(i.params.id).first()&&(e=`/logs/${i.params.id}`),s.replace(e)}}),{immediate:!0}),(0,t.Jd)((()=>{clearInterval(d)})),(e,i)=>{const s=(0,t.up)("ui-button"),a=(0,t.up)("ui-spinner"),l=(0,t.up)("v-remixicon"),c=(0,t.up)("router-link");return(0,o.SU)(h)?((0,t.wg)(),(0,t.iD)("div",QC,[(0,t._)("div",eD,[(0,t._)("div",tD,[(0,t._)("h1",nD,(0,n.toDisplayString)((0,o.SU)(h).state.name),1),(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(r)("running.start",{date:(0,o.SU)(V.Z)((0,o.SU)(h).state.startedTimestamp).format("DD MMM, hh:mm A")})),1)]),(0,t.Wm)(s,{onClick:p},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("common.stop")),1)])),_:1})]),(0,t._)("div",oD,[(0,t.Wm)(UC,{"current-log":{history:(0,o.SU)(h).state.logs,workflowId:(0,o.SU)(h).workflowId}},{prepend:(0,t.w5)((()=>[(0,t._)("div",rD,[(0,t._)("h3",iD,(0,n.toDisplayString)((0,o.SU)(r)("common.log",2)),1),(0,t._)("p",sD,(0,n.toDisplayString)((0,o.SU)(r)("running.message")),1)])])),"append-items":(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(h).state.currentBlock,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"px-2 py-1 rounded-md w-full group hoverable flex items-center"},[((0,t.wg)(),(0,t.iD)("span",{key:(0,o.SU)(u),title:`Duration: ${Math.round((Date.now()-e.startedAt)/1e3)}s`,class:"w-14 flex-shrink-0 text-overflow text-gray-400 ml-6"},(0,n.toDisplayString)((0,o.SU)(P.g9)(e.startedAt,Date.now())),9,aD)),(0,t.Wm)(a,{size:"16",class:"mr-2",color:"text-accent"}),(0,t._)("p",lD,(0,n.toDisplayString)((0,o.SU)(r)(`workflow.blocks.${e.name}.name`)),1),f(e.id)?((0,t.wg)(),(0,t.j4)(c,{key:0,to:f(e.id),title:"Go to block",class:"invisible group-hover:visible"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"riExternalLinkLine",size:"20",title:"Go to block",class:"text-gray-300 cursor-pointer ml-2 invisible group-hover:visible"})])),_:2},1032,["to"])):(0,t.kq)("",!0)])))),128))])),_:1},8,["current-log"])])])):(0,t.kq)("",!0)}}},uD=cD,dD={class:"container pt-8 pb-4"},hD={class:"text-2xl font-semibold mb-10"},pD={class:"flex items-start"},fD={class:"settings-content flex-1"},mD={__name:"Settings",setup(e){const{t:r}=(0,a.QT)(),i=[{id:"general",path:"/settings",icon:"riSettings3Line"},{id:"backup",path:"/backup",icon:"riDatabase2Line"},{id:"editor",path:"/editor",icon:"riMindMap"},{id:"shortcuts",path:"/shortcuts",icon:"riKeyboardLine"},{id:"about",path:"/about",icon:"riInformationLine"}];return(e,s)=>{const a=(0,t.up)("v-remixicon"),l=(0,t.up)("ui-list-item"),c=(0,t.up)("router-link"),u=(0,t.up)("ui-list"),d=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)("div",dD,[(0,t._)("h1",hD,(0,n.toDisplayString)((0,o.SU)(r)("common.settings")),1),(0,t._)("div",pD,[(0,t.Wm)(u,{class:"w-64 mr-12 space-y-2 sticky top-8"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(i,(e=>(0,t.Wm)(c,{key:e.id,custom:"",to:e.path},{default:(0,t.w5)((({href:i,navigate:s,isExactActive:c})=>[(0,t.Wm)(l,{href:i,class:(0,n.normalizeClass)([c?"bg-box-transparent":"text-gray-600 dark:text-gray-200"]),tag:"a",onClick:s},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{name:e.icon,class:"mr-2 -ml-1"},null,8,["name"]),(0,t.Uk)(" "+(0,n.toDisplayString)((0,o.SU)(r)(`settings.menu.${e.id}`)),1)])),_:2},1032,["href","class","onClick"])])),_:2},1032,["to"]))),64))])),_:1}),(0,t._)("div",fD,[(0,t.Wm)(d)])])])}}},gD=mD,vD={class:"mb-12"},yD={class:"font-semibold mb-1"},wD={class:"flex items-center space-x-4"},bD=["onClick"],kD=["src"],xD={class:"text-sm text-gray-600 dark:text-gray-200 ml-1"},SD={class:"flex items-center"},_D={id:"languages"},CD={class:"font-semibold mb-1"},DD=["value"],ED={class:"block text-gray-600 dark:text-gray-200 ml-1",href:"https://github.com/Kholid060/automa/wiki/Help-Translate",target:"_blank",rel:"noopener"},AD={key:0,class:"inline-block ml-4"},OD={id:"delete-logs",class:"mt-12"},TD={class:"font-semibold mb-1"},MD=["value"],LD={__name:"SettingsIndex",setup(e){const r=["never",7,14,30,60,120],{t:i}=(0,a.QT)(),l=D(),c=N(),u=(0,o.iH)(!1),d=(0,t.Fl)((()=>l.settings));function h(e,t){l.updateSettings({[e]:t})}function p(e){u.value=!0,h("locale",e)}return(e,a)=>{const l=(0,t.up)("ui-select");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",vD,[(0,t._)("p",yD,(0,n.toDisplayString)((0,o.SU)(i)("settings.theme")),1),(0,t._)("div",wD,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(c).themes,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"cursor-pointer",role:"button",onClick:t=>(0,o.SU)(c).set(e.id)},[(0,t._)("div",{class:(0,n.normalizeClass)([{"ring ring-accent":e.id===(0,o.SU)(c).activeTheme.value},"p-0.5 rounded-lg"])},[(0,t._)("img",{src:s(93233)(`./theme-${e.id}.png`),width:"140",class:"rounded-lg"},null,8,kD)],2),(0,t._)("span",xD,(0,n.toDisplayString)(e.name),1)],8,bD)))),128))])]),(0,t._)("div",SD,[(0,t._)("div",_D,[(0,t._)("p",CD,(0,n.toDisplayString)((0,o.SU)(i)("settings.language.label")),1),(0,t.Wm)(l,{"model-value":(0,o.SU)(d).locale,class:"w-80",onChange:p},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(R.Zv),(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,DD)))),128))])),_:1},8,["model-value"]),(0,t._)("a",ED,(0,n.toDisplayString)((0,o.SU)(i)("settings.language.helpTranslate")),1)]),u.value?((0,t.wg)(),(0,t.iD)("p",AD,(0,n.toDisplayString)((0,o.SU)(i)("settings.language.reloadPage")),1)):(0,t.kq)("",!0)]),(0,t._)("div",OD,[(0,t._)("p",TD,(0,n.toDisplayString)((0,o.SU)(i)("settings.deleteLog.title")),1),(0,t.Wm)(l,{label:"Delete after",class:"w-80","model-value":(0,o.SU)(d).deleteLogAfter,onChange:a[0]||(a[0]=e=>h("deleteLogAfter","never"===e?"never":+e))},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(r,(e=>(0,t._)("option",{key:e,value:e},["string"==typeof e?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("settings.deleteLog.deleteAfter.never")),1)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(i)("settings.deleteLog.deleteAfter.days",{day:e})),1)],64))],8,MD))),64))])),_:1},8,["model-value"])])],64)}}},ID=LD,ND={class:"max-w-lg"},PD=(0,t._)("div",{class:"p-3 mb-2 bg-box-transparent rounded-full inline-block"},[(0,t._)("img",{src:i,class:"w-14"})],-1),UD=(0,t._)("p",{class:"text-2xl font-semibold"},"Automa",-1),BD={class:"mb-2 mt-1"},jD=(0,t._)("p",{class:"text-gray-600 dark:text-gray-200"}," Automa is a chrome extension for browser automation. From auto-fill forms, doing a repetitive task, taking a screenshot, to scraping data of the website, it's up to you what you want to do with this extension. ",-1),RD={class:"mt-4 space-x-2"},VD=["href"],FD=(0,t._)("div",{class:"border-b dark:border-gray-700 my-8"},null,-1),WD=(0,t._)("h2",{class:"text-xl font-semibold"},"Contributors",-1),HD=(0,t._)("p",{class:"mt-1 text-gray-600 dark:text-gray-200"}," Thanks to everyone who has submitted issues, made suggestions, and generally helped make this a better project. ",-1),zD={class:"mt-4 gap-2 mb-12 grid grid-cols-7"},$D=["href"],KD=["src","alt"],qD=(0,t._)("h3",null,"Translators",-1),YD={__name:"SettingsAbout",setup(e){Yo();const r=D(),i=k().runtime.getManifest().version,s=[...R.Pz,{name:"Website",icon:"riGlobalLine",url:"https://www.automa.site"},{name:"Documentation",icon:"riBook3Line",url:"https://docs.automa.site"},{name:"Blog",icon:"riArticleLine",url:"https://blog.automa.site"},{name:"Donate",icon:"riHandHeartLine",url:"https://paypal.me/akholid060"}];return(0,t.bv)((async()=>{if(!r.contributors)try{const e=await fetch("https://api.github.com/repos/Kholid060/automa/contributors"),t=(await e.json()).reduce(((e,{type:t,avatar_url:n,login:o,html_url:r})=>("Bot"!==t&&e.push({username:o,url:r,avatar:n}),e)),[]);r.contributors=t}catch(e){console.error(e)}})),(e,a)=>{const l=(0,t.up)("v-remixicon"),c=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",ND,[PD,UD,(0,t._)("p",BD,"Version: "+(0,n.toDisplayString)((0,o.SU)(i)),1),jD,(0,t._)("div",RD,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(s,(e=>(0,t.wy)((0,t._)("a",{key:e.name,href:e.url,target:"_blank",class:"inline-block p-2 rounded-lg transition hoverable"},[(0,t.Wm)(l,{name:e.icon},null,8,["name"])],8,VD),[[c,e.name,void 0,{group:!0}]]))),64))]),FD,WD,HD,(0,t._)("div",zD,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(r).contributors,(e=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("a",{key:e.username,href:e.url,target:"_blank",rel:"noopener"},[(0,t._)("img",{src:e.avatar,alt:`${e.username} avatar`,class:"w-16 rounded-lg"},null,8,KD)],8,$D)),[[c,e.username,void 0,{group:!0}]]))),128))]),qD])}}};var GD=s(31647);const XD=e=>((0,t.dD)("data-v-11373fc8"),e=e(),(0,t.Cn)(),e),JD={key:0,class:"text-gray-600 dark:text-gray-200 mb-4"},ZD={class:"mb-8 border p-4 rounded-lg dark:border-gray-800 border-gray-200"},QD=XD((()=>(0,t._)("p",{class:"font-semibold mb-2 capitalize"},"Automa",-1))),eE=XD((()=>(0,t._)("p",{class:"flex-1"},"Shortcut",-1))),tE={class:"font-semibold mb-2 capitalize"},nE={class:"flex-1 mr-4 capitalize"},oE=["onClick"],rE={__name:"SettingsShortcuts",setup(e){const{t:r}=(0,a.QT)(),i=(0,Lr.pm)(),s=(0,o.iH)($o.j3),l=(0,o.iH)((0,$o.v3)("mod+shift+a")),c=(0,o.qj)({id:"",keys:[],isChanged:!1}),u=(0,t.Fl)((()=>{const e=Object.values(s.value),t={};return e.forEach((e=>{const[n,o]=e.id.split(":"),r=(0,$o.v3)(e.combo),i=o.replace("-"," ");(t[n]=t[n]||[]).push({...e,name:i,keys:r.split("+")})})),t}));function d(e){e.preventDefault(),e.stopPropagation(),c.id?(0,GD.X)(e,(e=>{c.keys=e})):document.removeEventListener("keydown",d,!0)}function h(){c.id="",c.keys=[],document.removeEventListener("keydown",d,!0)}function p({id:e}){c.id||document.addEventListener("keydown",d,!0),c.keys=[],c.id=e}function f(){if(0===c.keys.length)return;const e=c.keys.join("+");if(c.id.startsWith("automa"))return k().storage.local.set({automaShortcut:e}),l.value=(0,$o.v3)(e),void h();const t=Object.keys(s.value).find((t=>s.value[t].combo===e&&t!==c.id));t?i.error(r("settings.shortcuts.duplicate",{name:t})):(s.value[c.id].combo=e,h(),c.isChanged=!0,localStorage.setItem("shortcuts",JSON.stringify(s.value)))}return(0,t.bv)((()=>{k().storage.local.get("automaShortcut").then((e=>{e.automaShortcut&&(l.value=(0,$o.v3)(e.automaShortcut))}))})),(0,t.Jd)((()=>{document.removeEventListener("keydown",d,!0)})),(e,i)=>{const s=(0,t.up)("v-remixicon"),a=(0,t.up)("ui-list-item"),d=(0,t.up)("ui-list"),m=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[c.isChanged?((0,t.wg)(),(0,t.iD)("p",JD,(0,n.toDisplayString)((0,o.SU)(r)("settings.language.reloadPage")),1)):(0,t.kq)("",!0),(0,t._)("div",ZD,[QD,(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{class:"group"},{default:(0,t.w5)((()=>[eE,"automa:shortcut"===c.id?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.keys,(e=>((0,t.wg)(),(0,t.iD)("kbd",{key:e},(0,n.toDisplayString)((0,o.SU)($o.v3)(e)),1)))),128)),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"mr-2 ml-4",onClick:h},[(0,t.Wm)(s,{name:"riCloseLine"})])),[[m,(0,o.SU)(r)("common.cancel")]]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{onClick:f},[(0,t.Wm)(s,{name:"riStopLine"})])),[[m,(0,o.SU)(r)("workflow.blocks.trigger.shortcut.stopRecord")]])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"group-hover:visible invisible",onClick:i[0]||(i[0]=e=>p({id:"automa:shortcut"}))},[(0,t.Wm)(s,{name:"riRecordCircleLine"})])),[[m,(0,o.SU)(r)("workflow.blocks.trigger.shortcut.tooltip")]]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.value.split("+"),(e=>((0,t.wg)(),(0,t.iD)("kbd",{key:e},(0,n.toDisplayString)(e),1)))),128))],64))])),_:1})])),_:1})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(u),((e,i)=>((0,t.wg)(),(0,t.iD)("div",{key:i,class:"mb-8 border p-4 rounded-lg dark:border-gray-800 border-gray-200"},[(0,t._)("p",tE,(0,n.toDisplayString)(i),1),(0,t.Wm)(d,{class:"space-y-1 text-gray-600 dark:text-gray-200"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e,(e=>((0,t.wg)(),(0,t.j4)(a,{key:e.id,class:"group h-12"},{default:(0,t.w5)((()=>[(0,t._)("p",nE,(0,n.toDisplayString)(e.name),1),c.id===e.id?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.keys,(e=>((0,t.wg)(),(0,t.iD)("kbd",{key:e},(0,n.toDisplayString)((0,o.SU)($o.v3)(e)),1)))),128)),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"mr-2 ml-4",onClick:h},[(0,t.Wm)(s,{name:"riCloseLine"})])),[[m,(0,o.SU)(r)("common.cancel")]]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{onClick:f},[(0,t.Wm)(s,{name:"riStopLine"})])),[[m,(0,o.SU)(r)("workflow.blocks.trigger.shortcut.stopRecord")]])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.wy)(((0,t.wg)(),(0,t.iD)("button",{class:"group-hover:visible invisible",onClick:t=>p(e)},[(0,t.Wm)(s,{name:"riRecordCircleLine"})],8,oE)),[[m,(0,o.SU)(r)("workflow.blocks.trigger.shortcut.tooltip")]]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.keys,(e=>((0,t.wg)(),(0,t.iD)("kbd",{key:e},(0,n.toDisplayString)(e),1)))),128))],64))])),_:2},1024)))),128))])),_:2},1024)])))),128))],64)}}},iE=(0,cr.Z)(rE,[["__scopeId","data-v-11373fc8"]]),sE={class:"overflow-auto scroll w-full content"},aE={key:0,class:"text-center"},lE=(0,t._)("img",{src:Ki,class:"mx-auto max-w-sm"},null,-1),cE={class:"text-xl font-semibold"},uE={class:"flex-1 ml-2 overflow-hidden"},dE={class:"text-overflow flex-1"},hE={class:"text-gray-600 text-sm dark:text-gray-200 leading-tight text-overflow"},pE={class:"flex items-center"},fE=(0,t._)("div",{class:"flex-grow"},null,-1),mE={__name:"SettingsBackupItems",props:{workflows:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},limit:{type:Number,default:1/0},query:{type:String,default:""}},emits:["update:modelValue","select"],setup(e,{emit:r}){const i=e,{t:s}=(0,a.QT)(),l=(0,t.Fl)((()=>i.modelValue.length>=i.limit));function c(e){return i.modelValue.includes(e)}return(a,u)=>{const d=(0,t.up)("ui-checkbox"),h=(0,t.up)("ui-img"),p=(0,t.up)("v-remixicon"),f=(0,t.up)("ui-list-item"),m=(0,t.up)("ui-list");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",sE,[e.query||0!==e.workflows.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",aE,[lE,(0,t._)("p",cE,(0,n.toDisplayString)((0,o.SU)(s)("message.noData")),1)])),(0,t.Wm)(m,{class:"space-y-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.workflows,(e=>((0,t.wg)(),(0,t.j4)(f,{key:e.id,class:(0,n.normalizeClass)([{"bg-box-transparent":c(e.id)},"overflow-hidden group"])},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{disabled:(0,o.SU)(l)&&!c(e.id),"model-value":c(e.id),class:"mr-4",onChange:t=>function(e,t){const n=[...i.modelValue];if(e)n.push(t);else{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}r("update:modelValue",n)}(t,e.id)},null,8,["disabled","model-value","onChange"]),e.icon?.startsWith("http")?((0,t.wg)(),(0,t.j4)(h,{key:0,src:e.icon,style:{height:"24px",width:"24px"},alt:"Can not display"},null,8,["src"])):((0,t.wg)(),(0,t.j4)(p,{key:1,name:e.icon},null,8,["name"])),(0,t._)("div",uE,[(0,t._)("p",dE,(0,n.toDisplayString)(e.name),1),(0,t._)("p",hE,(0,n.toDisplayString)(e.description),1)]),(0,t.WI)(a.$slots,"default",{workflow:e})])),_:2},1032,["class"])))),128))])),_:3})]),(0,t._)("div",pE,[(0,t.Wm)(d,{"model-value":(0,o.SU)(l),indeterminate:e.modelValue.length>0&&e.modelValue.length<e.limit,class:"mt-2 ml-4",onChange:u[0]||(u[0]=e=>a.$emit("select",e))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(s)("settings.backupWorkflows.cloud."+(e.modelValue.length>0&&e.modelValue.length>=e.limit?"deselectAll":"selectAll"))),1)])),_:1},8,["model-value","indeterminate"]),fE,(0,t._)("span",null,(0,n.toDisplayString)(e.modelValue.length)+"/"+(0,n.toDisplayString)(e.limit),1)])],64)}}},gE=mE,vE={class:"flex items-start mt-4 cloud-backup"},yE={class:"w-56"},wE={class:"mb-1 text-sm text-gray-600 dark:text-gray-200"},bE={key:0,class:"ml-2 text-sm rounded-full bg-accent dark:text-black text-gray-100 text-center",style:{height:"29px",width:"29px","line-height":"29px"}},kE={key:0,class:"text-center block flex-1 content"},xE={key:1,class:"flex-1 ml-4 overflow-hidden"},SE=["title"],_E=["aria-label","onClick"],CE={class:"mb-2"},DE=["onClick"],EE={__name:"SettingsCloudBackup",emits:["close"],setup(e){const{t:r}=(0,a.QT)(),i=(0,Lr.pm)(),s=(0,E.L)(),l=(0,T.I)(),c=(0,o.qj)({query:"",deleteIds:[],activeTab:"local",cloudWorkflows:[],selectedWorkflows:[],backupRetrieved:!1}),u=(0,o.qj)({workflowId:"",deleting:!1,uploading:!1}),d=(0,t.Fl)((()=>l.getWorkflows.filter((({name:e,id:t})=>{const n=c.cloudWorkflows.some((e=>e.id===t));return e.toLocaleLowerCase().includes(c.query.toLowerCase())&&!n})).sort(((e,t)=>e.createdAt-t.createdAt)))),h=(0,t.Fl)((()=>c.cloudWorkflows.filter((({name:e})=>e.toLocaleLowerCase().includes(c.query.toLowerCase()))))),p=(0,t.Fl)((()=>s.user.limit.backupWorkflow-c.cloudWorkflows.length));function f(e,t){return(0,V.Z)(e.updatedAt||Date.now()).format(t)}function m(e){c.deleteIds=e?c.cloudWorkflows.map((({id:e})=>e)):[]}function g(){let e=c.selectedWorkflows.length;e>=p.value?c.selectedWorkflows=[]:d.value.forEach((({id:t})=>{e>=p.value||c.selectedWorkflows.includes(t)||(c.selectedWorkflows.push(t),e+=1)}))}async function v(e){try{u.deleting=!0,e&&(u.workflowId=e);const t=e?[e]:c.deleteIds,n=await(0,U.a8)(`/me/workflows?id=${t.join(",")}&type=backup`,{method:"DELETE"});if(!n.ok)throw new Error(n.statusText);t.forEach((e=>{const t=c.cloudWorkflows.findIndex((t=>t.id===e));-1!==t&&c.cloudWorkflows.splice(t,1)})),await k().storage.local.set({backupIds:c.cloudWorkflows.map((({id:e})=>e))}),c.deleteIds=[],u.workflowId="",u.deleting=!1,sessionStorage.removeItem("backup-workflows")}catch(e){console.error(e),u.workflowId="",u.deleting=!1,i.error(r("message.somethingWrong")),u.uploading=!1}}async function y(e){if(!u.uploading)try{u.uploading=!0,e&&(u.workflowId=e);const t=(e?[e]:c.selectedWorkflows).reduce(((e,t)=>{const n=l.getById(t);if(!n)return e;const o=Fr(n,["dataColumns","id"]);return delete o.extVersion,o.drawflow="string"==typeof o.drawflow?(0,P.Rx)(o.drawflow,{drawflow:{nodes:[],edges:[]}}):o.drawflow,e.push(o),e}),[]),n=await(0,U.a8)("/me/workflows/backup",{method:"POST",body:JSON.stringify({workflows:t})}),o=await n.json();if(!n.ok)throw new Error(o.message);const{lastBackup:r,data:i,ids:s}=o;u.uploading=!1,u.workflowId="",s.forEach((e=>{c.cloudWorkflows.some((t=>t.id===e))||c.cloudWorkflows.push(l.getById(e))})),c.lastSync=r,c.selectedWorkflows=[],c.lastBackup=r;const a=(0,P.Rx)("user-workflows",{backup:[],hosted:{}});a.backup=c.cloudWorkflows,sessionStorage.setItem("user-workflows",JSON.stringify(a)),await Promise.allSettled(i.map((async()=>{l.update({data:i,id:i.id})}))),await k().storage.local.set({lastBackup:r,backupIds:s,lastSync:r}),sessionStorage.removeItem("backup-workflows"),sessionStorage.removeItem("user-workflows"),sessionStorage.removeItem("cache-time:backup-workflows")}catch(e){console.error(e),i.error(e.message),u.workflowId="",u.uploading=!1}}return(0,t.bv)((async()=>{await async function(){if(!c.backupRetrieved){c.deleteIds=[];try{const e=await(0,U.tO)("backup-workflows",(async()=>{const e=await(0,U.a8)("/me/workflows?type=backup");if(!e.ok)throw new Error(e.statusText);return await e.json()}));c.cloudWorkflows=e,c.backupRetrieved=!0}catch(e){console.error(e),c.loadingBackup=!1}}}()})),(e,i)=>{const s=(0,t.up)("ui-input"),a=(0,t.up)("ui-list-item"),l=(0,t.up)("ui-list"),w=(0,t.up)("ui-button"),b=(0,t.up)("ui-spinner"),k=(0,t.up)("v-remixicon");return(0,t.wg)(),(0,t.iD)("div",vE,[(0,t._)("div",yE,[(0,t.Wm)(s,{modelValue:c.query,"onUpdate:modelValue":i[0]||(i[0]=e=>c.query=e),placeholder:(0,o.SU)(r)("common.search"),autocomplete:"off","prepend-icon":"riSearch2Line"},null,8,["modelValue","placeholder"]),(0,t.Wm)(l,{class:"mt-4"},{default:(0,t.w5)((()=>[(0,t._)("p",wE,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.location")),1),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(["local","cloud"],(e=>(0,t.Wm)(a,{key:e,active:e===c.activeTab,disabled:u.uploading||u.deleting,color:"bg-box-transparent",class:"mb-1 cursor-pointer",onClick:t=>c.activeTab=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)(`settings.backupWorkflows.cloud.buttons.${e}`))+" ",1),"cloud"===e?((0,t.wg)(),(0,t.iD)("span",bE,(0,n.toDisplayString)(c.cloudWorkflows.length),1)):(0,t.kq)("",!0)])),_:2},1032,["active","disabled","onClick"]))),64))])),_:1}),c.selectedWorkflows.length>0&&"local"===c.activeTab?((0,t.wg)(),(0,t.j4)(w,{key:0,loading:u.uploading,variant:"accent",class:"mt-4 w-8/12",onClick:i[1]||(i[1]=e=>y())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.backup.button"))+" ("+(0,n.toDisplayString)(c.selectedWorkflows.length)+") ",1)])),_:1},8,["loading"])):(0,t.kq)("",!0),c.deleteIds.length>0&&"cloud"===c.activeTab?((0,t.wg)(),(0,t.j4)(w,{key:1,loading:u.deleting,variant:"danger",class:"mt-4",onClick:i[2]||(i[2]=e=>v())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.delete"))+" ("+(0,n.toDisplayString)(c.deleteIds.length)+") ",1)])),_:1},8,["loading"])):(0,t.kq)("",!0)]),c.backupRetrieved?((0,t.wg)(),(0,t.iD)("div",xE,["cloud"===c.activeTab?((0,t.wg)(),(0,t.j4)(gE,{key:0,modelValue:c.deleteIds,"onUpdate:modelValue":i[3]||(i[3]=e=>c.deleteIds=e),workflows:(0,o.SU)(h),limit:c.cloudWorkflows.length,query:c.query,onSelect:m},{default:(0,t.w5)((({workflow:e})=>[(0,t._)("p",{title:`Last updated: ${f(e,"DD MMMM YYYY, hh:mm A")}`,class:"ml-4 mr-8"},(0,n.toDisplayString)(f(e,"DD MMM YYYY")),9,SE),u.workflowId===e.id?((0,t.wg)(),(0,t.j4)(b,{key:0,color:"text-accent",class:"ml-4"})):u.deleting?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:1,class:"ml-4 invisible group-hover:visible","aria-label":(0,o.SU)(r)("settings.backupWorkflows.cloud.delete"),onClick:t=>v(e.id)},[(0,t.Wm)(k,{name:"riDeleteBin7Line"})],8,_E))])),_:1},8,["modelValue","workflows","limit","query"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("p",CE,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.selectText")),1),(0,t.Wm)(gE,{modelValue:c.selectedWorkflows,"onUpdate:modelValue":i[4]||(i[4]=e=>c.selectedWorkflows=e),workflows:(0,o.SU)(d),limit:(0,o.SU)(p),query:c.query,onSelect:g},{default:(0,t.w5)((({workflow:e})=>[u.workflowId===e.id?((0,t.wg)(),(0,t.j4)(b,{key:0,color:"text-accent",class:"ml-4"})):!u.uploading&&c.selectedWorkflows.length<=(0,o.SU)(p)?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"ml-4 invisible group-hover:visible",onClick:t=>y(e.id)},[(0,t.Wm)(k,{name:"riUploadCloud2Line"})],8,DE)):(0,t.kq)("",!0)])),_:1},8,["modelValue","workflows","limit","query"])],64))])):((0,t.wg)(),(0,t.iD)("div",kE,[(0,t.Wm)(b,{color:"text-accent"})]))])}}},AE=EE,OE={class:"max-w-xl"},TE={class:"font-semibold mb-2"},ME={class:"border dark:border-gray-700 p-4 rounded-lg flex items-center"},LE={class:"inline-block p-2 rounded-full bg-box-transparent"},IE={class:"flex-1 ml-4 leading-tight"},NE={class:"text-sm text-gray-600 dark:text-gray-200"},PE={class:"border dark:border-gray-700 p-4 rounded-lg flex items-center mt-2"},UE={class:"inline-block p-2 rounded-full bg-box-transparent"},BE={class:"flex-1 ml-4"},jE={key:1,class:"text-center py-4"},RE={class:"font-semibold mb-2"},VE={class:"flex space-x-4"},FE={class:"border dark:border-gray-700 p-4 rounded-lg w-6/12"},WE={class:"text-center"},HE={class:"inline-block p-4 rounded-full bg-box-transparent"},zE={class:"border dark:border-gray-700 p-4 rounded-lg w-6/12"},$E={class:"text-center"},KE={class:"inline-block p-4 rounded-full bg-box-transparent"},qE={__name:"SettingsBackup",setup(e){const{t:r}=(0,a.QT)(),i=(0,Lr.pm)(),s=Nr(),l=(0,E.L)(),c=(0,T.I)(),u=(0,o.qj)({lastSync:null,encrypt:!1,lastBackup:null,loadingSync:!1,updateIfExists:!1}),d=(0,o.qj)({ids:[],modal:!1,loading:!1});async function h(){try{u.loadingSync=!0;const{backup:e,hosted:t}=await(0,U._i)(!1),n=e.map((({id:e})=>e));l.backupIds=n,l.hostedWorkflows=t,await k().storage.local.set({backupIds:n,lastBackup:(new Date).toISOString()}),await c.insertOrUpdate(e,{checkUpdateDate:!0}),u.loadingSync=!1}catch(e){console.error(e),i.error(r("message.somethingWrong")),u.loadingSync=!1}}function p(){const e=c.getWorkflows.reduce(((e,t)=>(t.isProtected||(delete t.$id,delete t.createdAt,delete t.data,delete t.isDisabled,delete t.isProtected,e.push(t)),e)),[]),t={isProtected:u.encrypt,workflows:JSON.stringify(e)},n=e=>{const t=`automa-${RS()().format("DD-MM-YYYY")}.json`,n=new Blob([JSON.stringify(e)],{type:"application/json"}),o=URL.createObjectURL(n);(0,P.AG)(t,o),URL.revokeObjectURL(o)};u.encrypt?s.prompt({placeholder:r("common.password"),title:r("settings.backupWorkflows.title"),okText:r("settings.backupWorkflows.backup.button"),inputType:"password",onConfirm:e=>{const o=Ga().encrypt(t.workflows,e).toString(),r=qa()(o,e).toString();t.workflows=r+o,n(t)}}):n(t)}async function f(){try{const[e]=await(0,P.y)("application/json"),t=new FileReader,n=e=>{const t=e.map((e=>(u.updateIfExists||(e.createdAt=Date.now(),delete e.id),e))),n=e=>{i(r("settings.backupWorkflows.workflowsAdded",{count:e.workflows.length}))};return u.updateIfExists?c.insertOrUpdate(t).then(n):c.insert(t).then(n)};t.onload=({target:e})=>{const t=(0,P.Rx)(e.result,null);t&&(t.isProtected?s.prompt({placeholder:r("common.password"),title:r("settings.backupWorkflows.restore.title"),okText:r("settings.backupWorkflows.restore.button"),inputType:"password",onConfirm:e=>{const o=t.workflows.substring(0,64),s=t.workflows.substring(64);if(o!==qa()(s,e).toString())return void i.error(r("settings.backupWorkflows.invalidPassword"));const a=Ga().decrypt(s,e).toString(Ja());t.workflows=(0,P.Rx)(a,[]),n(t.workflows)}}):(t.workflows=(0,P.Rx)(t.workflows,[]),n(t.workflows)))},t.readAsText(e)}catch(e){console.error(e),i.error(e.message)}}return(0,t.bv)((async()=>{const{lastBackup:e,lastSync:t}=await k().storage.local.get(["lastBackup","lastSync"]);u.lastSync=t,u.lastBackup=e})),(e,i)=>{const s=(0,t.up)("v-remixicon"),a=(0,t.up)("ui-button"),c=(0,t.up)("ui-card"),m=(0,t.up)("ui-checkbox"),g=(0,t.up)("ui-modal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",OE,[(0,t.Wm)(c,{class:"mb-12"},{default:(0,t.w5)((()=>{return[(0,t._)("h2",TE,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.title")),1),(0,o.SU)(l).user?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",ME,[(0,t._)("span",LE,[(0,t.Wm)(s,{name:"riUploadLine"})]),(0,t._)("div",IE,[(0,t._)("p",NE,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.lastBackup")),1),(0,t._)("p",null,(0,n.toDisplayString)((e=u.lastBackup,e?RS()(e).format("DD MMMM YYYY, hh:mm A"):"null")),1)]),(0,t.Wm)(a,{loading:d.loading,onClick:i[0]||(i[0]=e=>d.modal=!0)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.backup.button")),1)])),_:1},8,["loading"])]),(0,t._)("div",PE,[(0,t._)("span",UE,[(0,t.Wm)(s,{name:"riDownloadLine"})]),(0,t._)("p",BE,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.sync")),1),(0,t.Wm)(a,{loading:u.loadingSync,class:"ml-2",onClick:h},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.cloud.sync")),1)])),_:1},8,["loading"])])],64)):((0,t.wg)(),(0,t.iD)("div",jE,[(0,t._)("p",null,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.needSignin")),1),(0,t.Wm)(a,{tag:"a",href:"https://automa.site/auth",target:"_blank",class:"mt-4 w-44 inline-block"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("auth.signIn")),1)])),_:1})])),(0,t.kq)("",!0)];var e})),_:1}),(0,t._)("h2",RE,(0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.title")),1),(0,t._)("div",VE,[(0,t._)("div",FE,[(0,t._)("div",WE,[(0,t._)("span",HE,[(0,t.Wm)(s,{name:"riDownloadLine",size:"36"})])]),(0,t.Wm)(m,{modelValue:u.encrypt,"onUpdate:modelValue":i[1]||(i[1]=e=>u.encrypt=e),class:"mt-12 mb-4"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.backup.encrypt")),1)])),_:1},8,["modelValue"]),(0,t.Wm)(a,{class:"w-full",onClick:p},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.backup.button")),1)])),_:1})]),(0,t._)("div",zE,[(0,t._)("div",$E,[(0,t._)("span",KE,[(0,t.Wm)(s,{name:"riUploadLine",size:"36"})])]),(0,t.Wm)(m,{modelValue:u.updateIfExists,"onUpdate:modelValue":i[2]||(i[2]=e=>u.updateIfExists=e),class:"mt-6 mb-4"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.restore.update")),1)])),_:1},8,["modelValue"]),(0,t.Wm)(a,{class:"w-full",onClick:f},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)((0,o.SU)(r)("settings.backupWorkflows.restore.button")),1)])),_:1})])])]),(0,t.Wm)(g,{modelValue:d.modal,"onUpdate:modelValue":i[5]||(i[5]=e=>d.modal=e),title:(0,o.SU)(r)("settings.backupWorkflows.cloud.title"),"content-class":"max-w-4xl"},{default:(0,t.w5)((()=>[(0,t.Wm)(AE,{ids:d.ids,"onUpdate:ids":i[3]||(i[3]=e=>d.ids=e),onClose:i[4]||(i[4]=e=>d.modal=!1)},null,8,["ids"])])),_:1},8,["modelValue","title"])],64)}}},YE=qE,GE={class:"max-w-2xl"},XE={class:"font-semibold"},JE={class:"flex items-center space-x-4 mt-2"},ZE=["onClick"],QE=["src"],eA={class:"text-sm text-gray-600 dark:text-gray-200 ml-1"},tA=(0,t._)("p",{class:"font-semibold mt-8"},"Zoom",-1),nA={class:"flex items-center mt-1 space-x-4"},oA={class:"flex-1 ml-4"},rA={class:"leading-tight"},iA={class:"text-gray-600 text-sm leading-tight dark:text-gray-200"},sA={class:"flex-1 ml-4"},aA={class:"leading-tight"},lA={class:"text-gray-600 text-sm leading-tight dark:text-gray-200"},cA={key:0,class:"pl-16 ml-2 space-x-2",style:{"margin-top":"0"}},uA={__name:"SettingsEditor",setup(e){const r=[{id:"default",name:"Default",img:"default"},{id:"step",name:"Step",img:"step"},{id:"straight",name:"Straight",img:"straight"},{id:"smoothstep",name:"Smooth step",img:"smooth-step"},{id:"simplebezier",name:"Simple bezier",img:"default"}],{t:i}=(0,a.QT)(),l=D(),c=(0,o.qj)({});return(0,t.YP)(c,(()=>{l.updateSettings({editor:c})})),(0,t.bv)((()=>{Object.assign(c,ga()(l.settings.editor))})),(e,a)=>{const l=(0,t.up)("ui-input"),u=(0,t.up)("ui-switch"),d=(0,t.up)("ui-list-item"),h=(0,t.up)("transition-expand"),p=(0,t.up)("ui-list");return(0,t.wg)(),(0,t.iD)("div",GE,[(0,t._)("p",XE,(0,n.toDisplayString)((0,o.SU)(i)("settings.editor.curvature.title")),1),(0,t._)("div",JE,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(r,(e=>(0,t._)("div",{key:e.id,class:"cursor-pointer",role:"button",onClick:t=>c.lineType=e.id},[(0,t._)("div",{class:(0,n.normalizeClass)([{"ring ring-accent":e.id===c.lineType},"p-0.5 rounded-lg"])},[(0,t._)("img",{src:s(260)(`./${e.img}.png`),width:"140",class:"rounded-lg"},null,8,QE)],2),(0,t._)("span",eA,(0,n.toDisplayString)(e.name),1)],8,ZE))),64))]),tA,(0,t._)("div",nA,[(0,t.Wm)(l,{modelValue:c.minZoom,"onUpdate:modelValue":a[0]||(a[0]=e=>c.minZoom=e),modelModifiers:{number:!0},type:"number",label:"Min zoom"},null,8,["modelValue"]),(0,t.Wm)(l,{modelValue:c.maxZoom,"onUpdate:modelValue":a[1]||(a[1]=e=>c.maxZoom=e),modelModifiers:{number:!0},type:"number",label:"Max zoom"},null,8,["modelValue"])]),(0,t.Wm)(p,{class:"mt-8 space-y-2"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{small:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:c.arrow,"onUpdate:modelValue":a[2]||(a[2]=e=>c.arrow=e)},null,8,["modelValue"]),(0,t._)("div",oA,[(0,t._)("p",rA,(0,n.toDisplayString)((0,o.SU)(i)("settings.editor.arrow.title")),1),(0,t._)("p",iA,(0,n.toDisplayString)((0,o.SU)(i)("settings.editor.arrow.description")),1)])])),_:1}),(0,t.Wm)(d,{small:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:c.snapToGrid,"onUpdate:modelValue":a[3]||(a[3]=e=>c.snapToGrid=e)},null,8,["modelValue"]),(0,t._)("div",sA,[(0,t._)("p",aA,(0,n.toDisplayString)((0,o.SU)(i)("settings.editor.snapGrid.title")),1),(0,t._)("p",lA,(0,n.toDisplayString)((0,o.SU)(i)("settings.editor.snapGrid.description")),1)])])),_:1}),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[c.snapToGrid?((0,t.wg)(),(0,t.iD)("div",cA,[(0,t.Wm)(l,{modelValue:c.snapGrid[0],"onUpdate:modelValue":a[4]||(a[4]=e=>c.snapGrid[0]=e),modelModifiers:{number:!0},type:"number",label:"X Axis"},null,8,["modelValue"]),(0,t.Wm)(l,{modelValue:c.snapGrid[1],"onUpdate:modelValue":a[5]||(a[5]=e=>c.snapGrid[1]=e),modelModifiers:{number:!0},type:"number",label:"Y Axis"},null,8,["modelValue"])])):(0,t.kq)("",!0)])),_:1})])),_:1})])}}},dA=[{name:"home",path:"/",redirect:"/workflows",component:Is},{name:"welcome",path:"/welcome",component:Mr},{name:"workflows",path:"/workflows",component:Is},{name:"schedule",path:"/schedule",component:KS},{name:"team-workflows",path:"/teams/:teamId/workflows/:id",component:ES},{name:"workflows-details",path:"/workflows/:id",component:ES},{name:"workflow-host",path:"/workflows/:id/host",component:Ba},{name:"workflow-shared",path:"/workflows/:id/shared",component:BS},{name:"storage",path:"/storage",component:C_},{name:"storage-tables",path:"/storage/tables/:id",component:F_},{name:"logs",path:"/logs",component:pC},{name:"logs-details",path:"/logs/:id",component:ZC},{name:"logs-running",path:"/logs/:id/running",component:uD},{path:"/settings",component:gD,children:[{path:"",component:ID},{path:"/about",component:YD},{path:"/backup",component:YE},{path:"/editor",component:uA},{path:"/shortcuts",component:iE}]}],hA=(0,l.p7)({routes:dA,history:(0,l.r5)()});const pA=(0,x.WB)();pA.use((function({store:e,options:t}){const n=(0,o.Xl)(k());e.saveToStorage=o=>{const r=t.storageMap[o];if(!r||!e.retrieved)return null;const i=JSON.parse(JSON.stringify(e[o]));return n.storage.local.set({[r]:i})}}));const fA=pA;function mA(e){return"string"==typeof e?{content:e}:"object"==typeof e&&null!==e?e:{}}const gA={mounted(e,{value:t,arg:n="top",instance:o,modifiers:r}){const i=mA(t),s=(0,qo.Z)(e,{...i,theme:"tooltip-theme",placement:n});r.group&&(Array.isArray(o._tooltipGroup)||(o._tooltipGroup=[]),o._tooltipGroup.push(s))},updated(e,{value:t,arg:n="top"}){const o=mA(t);e._tippy.setProps({placement:n,...o})}},vA={mounted(e,{value:t=!0}){t&&e.focus()}},yA={mounted(e){e.addEventListener("click",Ko.Bn)},beforeUnmount(e){e.removeEventListener("click",Ko.Bn)}},wA=s(74263),bA=s(17409);function kA(e,t){t.keys().forEach((n=>{const o=n.replace(/(.\/)|\.vue$/g,""),r=t(n)?.default??{};e.component(o,r)}))}var xA={name:"v-remixicon",props:{name:String,title:String,viewBox:{type:String,default:"0 0 24 24"},size:{type:[String,Number],default:24},fill:{type:String,default:"currentColor"},rotate:{type:[Number,String],default:0},path:{type:String,default:""}},setup(e){const n=(0,t.f3)("remixicons"),o=(0,t.Fl)((()=>{if(e.path)return path;const t=n[e.name];if(void 0!==t)return t;console.error(`[v-remixicon] ${e.name} name of the icon is incorrect`)}));return()=>(0,t.h)("svg",{viewBox:e.viewBox,fill:e.fill,height:e.size,width:e.size,class:"v-remixicon",xmlns:"http://www.w3.org/2000/svg",style:{transform:e.rotate?`rotate(${e.rotate}deg)`:null}},[e.title?(0,t.h)("title",{},e.title):null,(0,t.h)("g",{},[(0,t.h)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,t.h)("path",{"fill-rule":"nonzero",d:o.value})])])}};var SA={install(e,t){e.provide("remixicons",t),e.component(xA.name,xA)}};const _A={riH1:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z",riH2:"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z",riAB:"M5 15v2c0 1.054.95 2 2 2h3v2H7a4 4 0 0 1-4-4v-2h2zm13-5l4.4 11h-2.155l-1.201-3h-4.09l-1.199 3h-2.154L16 10h2zm-1 2.885L15.753 16h2.492L17 12.885zM3 3h6a3 3 0 0 1 2.235 5A3 3 0 0 1 9 13H3V3zm6 6H5v2h4a1 1 0 0 0 0-2zm8-6a4 4 0 0 1 4 4v2h-2V7a2 2 0 0 0-2-2h-3V3h3zM9 5H5v2h4a1 1 0 1 0 0-2z",riBold:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z",riLink:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 1 0-7.071-7.071L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 0 1 9.9 9.9l-1.415 1.414zm-2.828 2.828l-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z",riLinkM:"M17.657 14.828l-1.414-1.414L17.657 12A4 4 0 1 0 12 6.343l-1.414 1.414-1.414-1.414 1.414-1.414a6 6 0 0 1 8.485 8.485l-1.414 1.414zm-2.829 2.829l-1.414 1.414a6 6 0 1 1-8.485-8.485l1.414-1.414 1.414 1.414L6.343 12A4 4 0 1 0 12 17.657l1.414-1.414 1.414 1.414zm0-9.9l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z",riItalic:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z",riTable2:"M13 10v4h6v-4h-6zm-2 0H5v4h6v-4zm2 9h6v-3h-6v3zm-2 0v-3H5v3h6zm2-14v3h6V5h-6zm-2 0H5v3h6V5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z",riEyeLine:"M12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7 9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z",riAddLine:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z",riSortAsc:"M19 3l4 5h-3v12h-2V8h-3l4-5zm-5 15v2H3v-2h11zm0-7v2H3v-2h11zm-2-7v2H3V4h9z",riMindMap:"M18 3c1.657 0 3 1.343 3 3s-1.343 3-3 3h-3c-1.306 0-2.417-.834-2.829-2H11c-1.1 0-2 .9-2 2v.171c1.166.412 2 1.523 2 2.829 0 1.306-.834 2.417-2 2.829V15c0 1.1.9 2 2 2h1.17c.412-1.165 1.524-2 2.83-2h3c1.657 0 3 1.343 3 3s-1.343 3-3 3h-3c-1.306 0-2.417-.834-2.829-2H11c-2.21 0-4-1.79-4-4H5c-1.657 0-3-1.343-3-3s1.343-3 3-3h2c0-2.21 1.79-4 4-4h1.17c.412-1.165 1.524-2 2.83-2h3zm0 14h-3c-.552 0-1 .448-1 1s.448 1 1 1h3c.552 0 1-.448 1-1s-.448-1-1-1zM8 11H5c-.552 0-1 .448-1 1s.448 1 1 1h3c.552 0 1-.448 1-1s-.448-1-1-1zm10-6h-3c-.552 0-1 .448-1 1s.448 1 1 1h3c.552 0 1-.448 1-1s-.448-1-1-1z",riKey2Line:"M10.758 11.828l7.849-7.849 1.414 1.414-1.414 1.415 2.474 2.474-1.414 1.415-2.475-2.475-1.414 1.414 2.121 2.121-1.414 1.415-2.121-2.122-2.192 2.192a5.002 5.002 0 0 1-7.708 6.294 5 5 0 0 1 6.294-7.708zm-.637 6.293A3 3 0 1 0 5.88 13.88a3 3 0 0 0 4.242 4.242z",riTBoxLine:"M5 5v14h14V5H5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm9 7v7h-2v-7H7V8h10v2h-4z",riSaveLine:"M7 19v-6h10v6h2V7.828L16.172 5H5v14h2zM4 3h13l4 4v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm5 12v4h6v-4H9z",riPlayLine:"M16.394 12L10 7.737v8.526L16.394 12zm2.982.416L8.777 19.482A.5.5 0 0 1 8 19.066V4.934a.5.5 0 0 1 .777-.416l10.599 7.066a.5.5 0 0 1 0 .832z",riMoreLine:"M4.5 10.5c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5S6 12.825 6 12s-.675-1.5-1.5-1.5zm15 0c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5S21 12.825 21 12s-.675-1.5-1.5-1.5zm-7.5 0c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5 1.5-.675 1.5-1.5-.675-1.5-1.5-1.5z",riStopLine:"M7 7v10h10V7H7zM6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z",riSortDesc:"M20 4v12h3l-4 5-4-5h3V4h2zm-8 14v2H3v-2h9zm2-7v2H3v-2h11zm0-7v2H3V4h11z",riTimeLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1-8h4v2h-6V7h2v5z",riFlagLine:"M5 16v6H3V3h9.382a1 1 0 0 1 .894.553L14 5h6a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-6.382a1 1 0 0 1-.894-.553L12 16H5zM5 5v9h8.236l1 2H19V7h-6.236l-1-2H5z",riTeamLine:"M12 11a5 5 0 0 1 5 5v6h-2v-6a3 3 0 0 0-2.824-2.995L12 13a3 3 0 0 0-2.995 2.824L9 16v6H7v-6a5 5 0 0 1 5-5zm-6.5 3c.279 0 .55.033.81.094a5.947 5.947 0 0 0-.301 1.575L6 16v.086a1.492 1.492 0 0 0-.356-.08L5.5 16a1.5 1.5 0 0 0-1.493 1.356L4 17.5V22H2v-4.5A3.5 3.5 0 0 1 5.5 14zm13 0a3.5 3.5 0 0 1 3.5 3.5V22h-2v-4.5a1.5 1.5 0 0 0-1.356-1.493L18.5 16c-.175 0-.343.03-.5.085V16c0-.666-.108-1.306-.309-1.904.259-.063.53-.096.809-.096zm-13-6a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm13 0a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm-13 2a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zm13 0a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1zM12 2a4 4 0 1 1 0 8 4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z",riLinksLine:"M13.06 8.11l1.415 1.415a7 7 0 0 1 0 9.9l-.354.353a7 7 0 0 1-9.9-9.9l1.415 1.415a5 5 0 1 0 7.071 7.071l.354-.354a5 5 0 0 0 0-7.07l-1.415-1.415 1.415-1.414zm6.718 6.011l-1.414-1.414a5 5 0 1 0-7.071-7.071l-.354.354a5 5 0 0 0 0 7.07l1.415 1.415-1.415 1.414-1.414-1.414a7 7 0 0 1 0-9.9l.354-.353a7 7 0 0 1 9.9 9.9z",riGroupLine:"M2 22a8 8 0 1 1 16 0h-2a6 6 0 1 0-12 0H2zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm8.284 3.703A8.002 8.002 0 0 1 23 22h-2a6.001 6.001 0 0 0-3.537-5.473l.82-1.824zm-.688-11.29A5.5 5.5 0 0 1 21 8.5a5.499 5.499 0 0 1-5 5.478v-2.013a3.5 3.5 0 0 0 1.041-6.609l.555-1.943z",riGuideLine:"M13 8v8a3 3 0 0 1-3 3H7.83a3.001 3.001 0 1 1 0-2H10a1 1 0 0 0 1-1V8a3 3 0 0 1 3-3h3V2l5 4-5 4V7h-3a1 1 0 0 0-1 1zM5 19a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",riChat3Line:"M7.291 20.824L2 22l1.176-5.291A9.956 9.956 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10a9.956 9.956 0 0 1-4.709-1.176zm.29-2.113l.653.35A7.955 7.955 0 0 0 12 20a8 8 0 1 0-8-8c0 1.334.325 2.618.94 3.766l.349.653-.655 2.947 2.947-.655z",riEarthLine:"M6.235 6.453a8 8 0 0 0 8.817 12.944c.115-.75-.137-1.47-.24-1.722-.23-.56-.988-1.517-2.253-2.844-.338-.355-.316-.628-.195-1.437l.013-.091c.082-.554.22-.882 2.085-1.178.948-.15 1.197.228 1.542.753l.116.172c.328.48.571.59.938.756.165.075.37.17.645.325.652.373.652.794.652 1.716v.105c0 .391-.038.735-.098 1.034a8.002 8.002 0 0 0-3.105-12.341c-.553.373-1.312.902-1.577 1.265-.135.185-.327 1.132-.95 1.21-.162.02-.381.006-.613-.009-.622-.04-1.472-.095-1.744.644-.173.468-.203 1.74.356 2.4.09.105.107.3.046.519-.08.287-.241.462-.292.498-.096-.056-.288-.279-.419-.43-.313-.365-.705-.82-1.211-.96-.184-.051-.386-.093-.583-.135-.549-.115-1.17-.246-1.315-.554-.106-.226-.105-.537-.105-.865 0-.417 0-.888-.204-1.345a1.276 1.276 0 0 0-.306-.43zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z",riLock2Line:"M6 8V7a6 6 0 1 1 12 0v1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2zm13 2H5v10h14V10zm-8 5.732a2 2 0 1 1 2 0V18h-2v-2.268zM8 8h8V7a4 4 0 1 0-8 0v1z",riSliceLine:"M15.69 12.918l1.769 1.768c-6.01 6.01-10.96 6.01-15.203 4.596L17.812 3.726l3.536 3.535-5.657 5.657zm-2.828 0l5.657-5.657-.707-.707L6.314 18.052c2.732.107 5.358-.907 8.267-3.416l-1.719-1.718z",riHome5Line:"M13 19h6V9.978l-7-5.444-7 5.444V19h6v-6h2v6zm8 1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.49a1 1 0 0 1 .386-.79l8-6.222a1 1 0 0 1 1.228 0l8 6.222a1 1 0 0 1 .386.79V20z",riShareLine:"M13.12 17.023l-4.199-2.29a4 4 0 1 1 0-5.465l4.2-2.29a4 4 0 1 1 .959 1.755l-4.2 2.29a4.008 4.008 0 0 1 0 1.954l4.199 2.29a4 4 0 1 1-.959 1.755zM6 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm11-6a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 12a2 2 0 1 0 0-4 2 2 0 0 0 0 4z",riBook3Line:"M21 4H7a2 2 0 1 0 0 4h14v13a1 1 0 0 1-1 1H7a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h13a1 1 0 0 1 1 1v1zM5 18a2 2 0 0 0 2 2h12V10H7a3.982 3.982 0 0 1-2-.535V18zM20 7H7a1 1 0 1 1 0-2h13v2z",riPauseLine:"M6 5h2v14H6V5zm10 0h2v14h-2V5z",riFlowChart:"M6 21.5c-1.933 0-3.5-1.567-3.5-3.5s1.567-3.5 3.5-3.5c1.585 0 2.924 1.054 3.355 2.5H15v-2h2V9.242L14.757 7H9V9H3V3h6v2h5.757L18 1.756 22.243 6 19 9.241V15L21 15v6h-6v-2H9.355c-.43 1.446-1.77 2.5-3.355 2.5zm0-5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm13 .5h-2v2h2v-2zM18 4.586L16.586 6 18 7.414 19.414 6 18 4.586zM7 5H5v2h2V5z",riMore2Line:"M12 3c-.825 0-1.5.675-1.5 1.5S11.175 6 12 6s1.5-.675 1.5-1.5S12.825 3 12 3zm0 15c-.825 0-1.5.675-1.5 1.5S11.175 21 12 21s1.5-.675 1.5-1.5S12.825 18 12 18zm0-7.5c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5 1.5-.675 1.5-1.5-.675-1.5-1.5-1.5z",riMouseLine:"M11.141 4c-1.582 0-2.387.169-3.128.565a3.453 3.453 0 0 0-1.448 1.448C6.169 6.753 6 7.559 6 9.14v5.718c0 1.582.169 2.387.565 3.128.337.63.818 1.111 1.448 1.448.74.396 1.546.565 3.128.565h1.718c1.582 0 2.387-.169 3.128-.565a3.453 3.453 0 0 0 1.448-1.448c.396-.74.565-1.546.565-3.128V9.14c0-1.582-.169-2.387-.565-3.128a3.453 3.453 0 0 0-1.448-1.448C15.247 4.169 14.441 4 12.86 4H11.14zm0-2h1.718c2.014 0 3.094.278 4.072.801a5.452 5.452 0 0 1 2.268 2.268c.523.978.801 2.058.801 4.072v5.718c0 2.014-.278 3.094-.801 4.072a5.452 5.452 0 0 1-2.268 2.268c-.978.523-2.058.801-4.072.801H11.14c-2.014 0-3.094-.278-4.072-.801a5.452 5.452 0 0 1-2.268-2.268C4.278 17.953 4 16.873 4 14.859V9.14c0-2.014.278-3.094.801-4.072A5.452 5.452 0 0 1 7.07 2.801C8.047 2.278 9.127 2 11.141 2zM11 6h2v5h-2V6z",riFocusLine:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0 2C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-8a2 2 0 1 1 0-4 2 2 0 0 1 0 4z",riParagraph:"M12 6v15h-2v-5a6 6 0 1 1 0-12h10v2h-3v15h-2V6h-3zm-2 0a4 4 0 1 0 0 8V6z",riImageLine:"M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z",riCloseLine:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z",riCheckLine:"M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z",riTimerLine:"M17.618 5.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 1 1-1.414-1.414zM12 20a7 7 0 1 0 0-14 7 7 0 0 0 0 14zM11 8h2v6h-2V8zM8 1h8v2H8V1z",riMagicLine:"M15.199 9.945a2.6 2.6 0 0 1-.79-1.551l-.403-3.083-2.73 1.486a2.6 2.6 0 0 1-1.72.273L6.5 6.5l.57 3.056a2.6 2.6 0 0 1-.273 1.72l-1.486 2.73 3.083.403a2.6 2.6 0 0 1 1.55.79l2.138 2.257 1.336-2.807a2.6 2.6 0 0 1 1.23-1.231l2.808-1.336-2.257-2.137zm.025 5.563l-2.213 4.65a.6.6 0 0 1-.977.155l-3.542-3.739a.6.6 0 0 0-.357-.182l-5.107-.668a.6.6 0 0 1-.449-.881l2.462-4.524a.6.6 0 0 0 .062-.396L4.16 4.86a.6.6 0 0 1 .7-.7l5.063.943a.6.6 0 0 0 .396-.062l4.524-2.462a.6.6 0 0 1 .881.45l.668 5.106a.6.6 0 0 0 .182.357l3.739 3.542a.6.6 0 0 1-.155.977l-4.65 2.213a.6.6 0 0 0-.284.284zm.797 1.927l1.414-1.414 4.243 4.242-1.415 1.415-4.242-4.243z",riHtml5Line:"M12 18.178l-4.62-1.256-.328-3.544h2.27l.158 1.844 2.52.667 2.52-.667.26-2.866H6.96l-.635-6.678h11.35l-.227 2.21H8.822l.204 2.256h8.217l-.624 6.778L12 18.178zM3 2h18l-1.623 18L12 22l-7.377-2L3 2zm2.188 2L6.49 18.434 12 19.928l5.51-1.494L18.812 4H5.188z",riToggleLine:"M8 7a5 5 0 1 0 0 10h8a5 5 0 0 0 0-10H8zm0-2h8a7 7 0 0 1 0 14H8A7 7 0 0 1 8 5zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6z",riFolderLine:"M4 5v14h16V7h-8.414l-2-2H4zm8.414 0H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2z",riGithubFill:"M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z",riEyeOffLine:"M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978l-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264l-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084a4.5 4.5 0 0 1 4.769 4.769l-4.77-4.769z",riWindowLine:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm17 8H4v8h16v-8zm0-2V5H4v4h16zM9 6h2v2H9V6zM5 6h2v2H5V6z",riPencilLine:"M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z",riGlobalLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-2.29-2.333A17.9 17.9 0 0 1 8.027 13H4.062a8.008 8.008 0 0 0 5.648 6.667zM10.03 13c.151 2.439.848 4.73 1.97 6.752A15.905 15.905 0 0 0 13.97 13h-3.94zm9.908 0h-3.965a17.9 17.9 0 0 1-1.683 6.667A8.008 8.008 0 0 0 19.938 13zM4.062 11h3.965A17.9 17.9 0 0 1 9.71 4.333 8.008 8.008 0 0 0 4.062 11zm5.969 0h3.938A15.905 15.905 0 0 0 12 4.248 15.905 15.905 0 0 0 10.03 11zm4.259-6.667A17.9 17.9 0 0 1 15.973 11h3.965a8.008 8.008 0 0 0-5.648-6.667z",riShieldLine:"M3.783 2.826L12 1l8.217 1.826a1 1 0 0 1 .783.976v9.987a6 6 0 0 1-2.672 4.992L12 23l-6.328-4.219A6 6 0 0 1 3 13.79V3.802a1 1 0 0 1 .783-.976zM5 4.604v9.185a4 4 0 0 0 1.781 3.328L12 20.597l5.219-3.48A4 4 0 0 0 19 13.79V4.604L12 3.05 5 4.604z",riCursorLine:"M15.388 13.498l2.552 7.014-4.698 1.71-2.553-7.014-3.899 2.445L8.41 1.633l11.537 11.232-4.558.633zm-.011 5.818l-2.715-7.46 2.96-.41-5.64-5.49-.79 7.83 2.53-1.587 2.715 7.46.94-.343z",riUploadLine:"M3 19h18v2H3v-2zM13 5.828V17h-2V5.828L4.929 11.9l-1.414-1.414L12 2l8.485 8.485-1.414 1.414L13 5.83z",riFocus3Line:"M13 1l.001 3.062A8.004 8.004 0 0 1 19.938 11H23v2l-3.062.001a8.004 8.004 0 0 1-6.937 6.937L13 23h-2v-3.062a8.004 8.004 0 0 1-6.938-6.937L1 13v-2h3.062A8.004 8.004 0 0 1 11 4.062V1h2zm-1 5a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z",riTwitterLine:"M15.3 5.55a2.9 2.9 0 0 0-2.9 2.847l-.028 1.575a.6.6 0 0 1-.68.583l-1.561-.212c-2.054-.28-4.022-1.226-5.91-2.799-.598 3.31.57 5.603 3.383 7.372l1.747 1.098a.6.6 0 0 1 .034.993L7.793 18.17c.947.059 1.846.017 2.592-.131 4.718-.942 7.855-4.492 7.855-10.348 0-.478-1.012-2.141-2.94-2.141zm-4.9 2.81a4.9 4.9 0 0 1 8.385-3.355c.711-.005 1.316.175 2.669-.645-.335 1.64-.5 2.352-1.214 3.331 0 7.642-4.697 11.358-9.463 12.309-3.268.652-8.02-.419-9.382-1.841.694-.054 3.514-.357 5.144-1.55C5.16 15.7-.329 12.47 3.278 3.786c1.693 1.977 3.41 3.323 5.15 4.037 1.158.475 1.442.465 1.973.538z",riDiscordLine:"M13.914 14.58a8.998 8.998 0 0 1-.484.104 7.06 7.06 0 0 1-2.664-.01c-.154-.03-.372-.083-.653-.158l-.921 1.197c-2.273-.073-3.137-1.596-3.137-1.596 0-3.381 1.481-6.122 1.481-6.122 1.481-1.133 2.89-1.102 2.89-1.102l.403.525a1.12 1.12 0 0 1 .112-.01 8.527 8.527 0 0 1 2.314.01l.442-.525s1.41-.031 2.89 1.103c0 0 1.482 2.74 1.482 6.121 0 0-.875 1.522-3.148 1.596l-1.007-1.134zM10.076 11C9.475 11 9 11.45 9 12s.485 1 1.076 1c.6 0 1.075-.45 1.075-1 .01-.55-.474-1-1.075-1zm3.848 0c-.6 0-1.075.45-1.075 1s.485 1 1.075 1c.601 0 1.076-.45 1.076-1s-.475-1-1.076-1zM21 23l-4.99-5H19V4H5v14h11.003l.57 2H5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v19z",riLinkUnlinkM:"M17.657 14.828l-1.414-1.414L17.657 12A4 4 0 1 0 12 6.343l-1.414 1.414-1.414-1.414 1.414-1.414a6 6 0 0 1 8.485 8.485l-1.414 1.414zm-2.829 2.829l-1.414 1.414a6 6 0 1 1-8.485-8.485l1.414-1.414 1.414 1.414L6.343 12A4 4 0 1 0 12 17.657l1.414-1.414 1.414 1.414zm0-9.9l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07zM5.775 2.293l1.932-.518L8.742 5.64l-1.931.518-1.036-3.864zm9.483 16.068l1.931-.518 1.036 3.864-1.932.518-1.035-3.864zM2.293 5.775l3.864 1.036-.518 1.931-3.864-1.035.518-1.932zm16.068 9.483l3.864 1.035-.518 1.932-3.864-1.036.518-1.931z",riYoutubeLine:"M19.606 6.995c-.076-.298-.292-.523-.539-.592C18.63 6.28 16.5 6 12 6s-6.628.28-7.069.403c-.244.068-.46.293-.537.592C4.285 7.419 4 9.196 4 12s.285 4.58.394 5.006c.076.297.292.522.538.59C5.372 17.72 7.5 18 12 18s6.629-.28 7.069-.403c.244-.068.46-.293.537-.592C19.715 16.581 20 14.8 20 12s-.285-4.58-.394-5.005zm1.937-.497C22 8.28 22 12 22 12s0 3.72-.457 5.502c-.254.985-.997 1.76-1.938 2.022C17.896 20 12 20 12 20s-5.893 0-7.605-.476c-.945-.266-1.687-1.04-1.938-2.022C2 15.72 2 12 2 12s0-3.72.457-5.502c.254-.985.997-1.76 1.938-2.022C6.107 4 12 4 12 4s5.896 0 7.605.476c.945.266 1.687 1.04 1.938 2.022zM10 15.5v-7l6 3.5-6 3.5z",riSideBarLine:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm5 2H4v14h4V5zm2 0v14h10V5H10z",riSideBarFill:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm6 2v14h11V5H9z",riWindow2Line:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm17 8H4v8h16v-8zm0-2V5H4v4h16zm-5-3h4v2h-4V6z",riRefreshLine:"M5.463 4.433A9.961 9.961 0 0 1 12 2c5.523 0 10 4.477 10 10 0 2.136-.67 4.116-1.81 5.74L17 12h3A8 8 0 0 0 6.46 6.228l-.997-1.795zm13.074 15.134A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12c0-2.136.67-4.116 1.81-5.74L7 12H4a8 8 0 0 0 13.54 5.772l.997 1.795z",riRefreshFill:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924A7 7 0 0 0 9.032 5.658l.975 1.755A5 5 0 0 1 17 12h-3l2.82 5.076zm-1.852 1.266l-.975-1.755A5 5 0 0 1 7 12h3L7.18 6.924a7 7 0 0 0 7.788 11.418z",riFilter2Line:"M14 14v6l-4 2v-8L4 5V3h16v2l-6 9zM6.404 5L12 13.394 17.596 5H6.404z",riRestartLine:"M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z",riSearch2Line:"M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z",riEditBoxLine:"M16.757 3l-2 2H5v14h14V9.243l2-2V20a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12.757zm3.728-.9L21.9 3.516l-9.192 9.192-1.412.003-.002-1.417L20.485 2.1z",riHistoryLine:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12h2c0 4.418 3.582 8 8 8s8-3.582 8-8-3.582-8-8-8C9.25 4 6.824 5.387 5.385 7.5H8v2H2v-6h2V6c1.824-2.43 4.729-4 8-4zm1 5v4.585l3.243 3.243-1.415 1.415L11 12.413V7h2z",riRepeat2Line:"M8 20v1.932a.5.5 0 0 1-.82.385l-4.12-3.433A.5.5 0 0 1 3.382 18H18a2 2 0 0 0 2-2V8h2v8a4 4 0 0 1-4 4H8zm8-16V2.068a.5.5 0 0 1 .82-.385l4.12 3.433a.5.5 0 0 1-.321.884H6a2 2 0 0 0-2 2v8H2V8a4 4 0 0 1 4-4h10z",riCommandLine:"M10 8h4V6.5a3.5 3.5 0 1 1 3.5 3.5H16v4h1.5a3.5 3.5 0 1 1-3.5 3.5V16h-4v1.5A3.5 3.5 0 1 1 6.5 14H8v-4H6.5A3.5 3.5 0 1 1 10 6.5V8zM8 8V6.5A1.5 1.5 0 1 0 6.5 8H8zm0 8H6.5A1.5 1.5 0 1 0 8 17.5V16zm8-8h1.5A1.5 1.5 0 1 0 16 6.5V8zm0 8v1.5a1.5 1.5 0 1 0 1.5-1.5H16zm-6-6v4h4v-4h-4z",riArticleLine:"M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zm-1-2V4H5v16h14zM7 6h4v4H7V6zm0 6h10v2H7v-2zm0 4h10v2H7v-2zm6-9h4v2h-4V7z",riKeyboardLine:"M3 17h18v2H3v-2zm0-6h3v3H3v-3zm5 0h3v3H8v-3zM3 5h3v3H3V5zm10 0h3v3h-3V5zm5 0h3v3h-3V5zm-5 6h3v3h-3v-3zm5 0h3v3h-3v-3zM8 5h3v3H8V5z",riFileEditLine:"M21 6.757l-2 2V4h-9v5H5v11h14v-2.757l2-2v5.765a.993.993 0 0 1-.993.992H3.993A1 1 0 0 1 3 20.993V8l6.003-6h10.995C20.55 2 21 2.455 21 2.992v3.765zm.778 2.05l1.414 1.415L15.414 18l-1.416-.002.002-1.412 7.778-7.778z",riCompass3Line:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm4.5-12.5L14 14l-6.5 2.5L10 10l6.5-2.5zM12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",riComputerLine:"M4 16h16V5H4v11zm9 2v2h4v2H7v-2h4v-2H2.992A.998.998 0 0 1 2 16.993V4.007C2 3.451 2.455 3 2.992 3h18.016c.548 0 .992.449.992 1.007v12.986c0 .556-.455 1.007-.992 1.007H13z",riFileCopyLine:"M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z",riCalendarLine:"M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zm-2 2H9v2H7V5H4v4h16V5h-3v2h-2V5zm5 6H4v8h16v-8z",riFileTextLine:"M21 8v12.993A1 1 0 0 1 20.007 22H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8zm-2 1h-5V4H5v16h14V9zM8 7h3v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z",riSubtractLine:"M5 11h14v2H5z",riBracketsLine:"M9 3v2H6v14h3v2H4V3h5zm6 0h5v18h-5v-2h3V5h-3V3z",riPushpin2Line:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3h12zM9 5v6.606L7.404 14h9.192L15 11.606V5H9z",riPushpin2Fill:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3z",riDownloadLine:"M3 19h18v2H3v-2zm10-5.828L19.071 7.1l1.414 1.414L12 17 3.515 8.515 4.929 7.1 11 13.17V2h2v11.172z",riFileListLine:"M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zm-1-2V4H5v16h14zM8 7h8v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z",riDragDropLine:"M16 13l6.964 4.062-2.973.85 2.125 3.681-1.732 1-2.125-3.68-2.223 2.15L16 13zm-2-7h2v2h5a1 1 0 0 1 1 1v4h-2v-3H10v10h4v2H9a1 1 0 0 1-1-1v-5H6v-2h2V9a1 1 0 0 1 1-1h5V6zM4 14v2H2v-2h2zm0-4v2H2v-2h2zm0-4v2H2V6h2zm0-4v2H2V2h2zm4 0v2H6V2h2zm4 0v2h-2V2h2zm4 0v2h-2V2h2z",riClipboardLine:"M7 4V2h10v2h3.007c.548 0 .993.445.993.993v16.014a.994.994 0 0 1-.993.993H3.993A.994.994 0 0 1 3 21.007V4.993C3 4.445 3.445 4 3.993 4H7zm0 2H5v14h14V6h-2v2H7V6zm2-2v2h6V4H9z",riDoubleQuotesL:"M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z",riLightbulbLine:"M9.973 18H11v-5h2v5h1.027c.132-1.202.745-2.194 1.74-3.277.113-.122.832-.867.917-.973a6 6 0 1 0-9.37-.002c.086.107.807.853.918.974.996 1.084 1.609 2.076 1.741 3.278zM10 20v1h4v-1h-4zm-4.246-5a8 8 0 1 1 12.49.002C17.624 15.774 16 17 16 18.5V21a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-2.5C8 17 6.375 15.774 5.754 15z",riFolderZipLine:"M10.414 3l2 2H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414zM18 18h-4v-3h2v-2h-2v-2h2V9h-2V7h-2.414l-2-2H4v14h16V7h-4v2h2v2h-2v2h2v5z",riFileShredLine:"M6 12h12V8h-4V4H6v8zm-2 0V2.995c0-.55.445-.995.996-.995H15l5 5v5h2v2H2v-2h2zm-1 4h2v6H3v-6zm16 0h2v6h-2v-6zm-4 0h2v6h-2v-6zm-4 0h2v6h-2v-6zm-4 0h2v6H7v-6z",riHandHeartLine:"M5 9a1 1 0 0 1 1 1 6.97 6.97 0 0 1 4.33 1.5h2.17c1.332 0 2.53.579 3.353 1.499L19 13a5 5 0 0 1 4.516 2.851C21.151 18.972 17.322 21 13 21c-2.79 0-5.15-.603-7.06-1.658A.998.998 0 0 1 5 20H2a1 1 0 0 1-1-1v-9a1 1 0 0 1 1-1h3zm1.001 3L6 17.021l.045.033C7.84 18.314 10.178 19 13 19c3.004 0 5.799-1.156 7.835-3.13l.133-.133-.12-.1a2.994 2.994 0 0 0-1.643-.63L19 15l-2.112-.001c.073.322.112.657.112 1.001v1H8v-2l6.79-.001-.034-.078a2.501 2.501 0 0 0-2.092-1.416L12.5 13.5H9.57A4.985 4.985 0 0 0 6.002 12zM4 11H3v7h1v-7zm9.646-7.425L14 3.93l.354-.354a2.5 2.5 0 1 1 3.535 3.536L14 11l-3.89-3.89a2.5 2.5 0 1 1 3.536-3.535zm-2.12 1.415a.5.5 0 0 0-.06.637l.058.069L14 8.17l2.476-2.474a.5.5 0 0 0 .058-.638l-.058-.07a.5.5 0 0 0-.638-.057l-.07.058-1.769 1.768-1.767-1.77-.068-.056a.5.5 0 0 0-.638.058z",riDatabase2Line:"M5 12.5c0 .313.461.858 1.53 1.393C7.914 14.585 9.877 15 12 15c2.123 0 4.086-.415 5.47-1.107 1.069-.535 1.53-1.08 1.53-1.393v-2.171C17.35 11.349 14.827 12 12 12s-5.35-.652-7-1.671V12.5zm14 2.829C17.35 16.349 14.827 17 12 17s-5.35-.652-7-1.671V17.5c0 .313.461.858 1.53 1.393C7.914 19.585 9.877 20 12 20c2.123 0 4.086-.415 5.47-1.107 1.069-.535 1.53-1.08 1.53-1.393v-2.171zM3 17.5v-10C3 5.015 7.03 3 12 3s9 2.015 9 4.5v10c0 2.485-4.03 4.5-9 4.5s-9-2.015-9-4.5zm9-7.5c2.123 0 4.086-.415 5.47-1.107C18.539 8.358 19 7.813 19 7.5c0-.313-.461-.858-1.53-1.393C16.086 5.415 14.123 5 12 5c-2.123 0-4.086.415-5.47 1.107C5.461 6.642 5 7.187 5 7.5c0 .313.461.858 1.53 1.393C7.914 9.585 9.877 10 12 10z",riSettings3Line:"M3.34 17a10.018 10.018 0 0 1-.978-2.326 3 3 0 0 0 .002-5.347A9.99 9.99 0 0 1 4.865 4.99a3 3 0 0 0 4.631-2.674 9.99 9.99 0 0 1 5.007.002 3 3 0 0 0 4.632 2.672c.579.59 1.093 1.261 1.525 2.01.433.749.757 1.53.978 2.326a3 3 0 0 0-.002 5.347 9.99 9.99 0 0 1-2.501 4.337 3 3 0 0 0-4.631 2.674 9.99 9.99 0 0 1-5.007-.002 3 3 0 0 0-4.632-2.672A10.018 10.018 0 0 1 3.34 17zm5.66.196a4.993 4.993 0 0 1 2.25 2.77c.499.047 1 .048 1.499.001A4.993 4.993 0 0 1 15 17.197a4.993 4.993 0 0 1 3.525-.565c.29-.408.54-.843.748-1.298A4.993 4.993 0 0 1 18 12c0-1.26.47-2.437 1.273-3.334a8.126 8.126 0 0 0-.75-1.298A4.993 4.993 0 0 1 15 6.804a4.993 4.993 0 0 1-2.25-2.77c-.499-.047-1-.048-1.499-.001A4.993 4.993 0 0 1 9 6.803a4.993 4.993 0 0 1-3.525.565 7.99 7.99 0 0 0-.748 1.298A4.993 4.993 0 0 1 6 12c0 1.26-.47 2.437-1.273 3.334a8.126 8.126 0 0 0 .75 1.298A4.993 4.993 0 0 1 9 17.196zM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",riArrowLeftLine:"M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z",riEqualizerLine:"M6.17 18a3.001 3.001 0 0 1 5.66 0H22v2H11.83a3.001 3.001 0 0 1-5.66 0H2v-2h4.17zm6-7a3.001 3.001 0 0 1 5.66 0H22v2h-4.17a3.001 3.001 0 0 1-5.66 0H2v-2h10.17zm-6-7a3.001 3.001 0 0 1 5.66 0H22v2H11.83a3.001 3.001 0 0 1-5.66 0H2V4h4.17zM9 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",riStrikethrough2:"M13 9h-2V6H5V4h14v2h-6v3zm0 6v5h-2v-5h2zM3 11h18v2H3v-2z",riFileUploadLine:"M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM13 12v4h-2v-4H8l4-4 4 4h-3z",riCodeSSlashLine:"M24 12l-5.657 5.657-1.414-1.414L21.172 12l-4.243-4.243 1.414-1.414L24 12zM2.828 12l4.243 4.243-1.414 1.414L0 12l5.657-5.657L7.07 7.757 2.828 12zm6.96 9H7.66l6.552-18h2.128L9.788 21z",riHardDrive2Line:"M5 14h14V4H5v10zm0 2v4h14v-4H5zM4 2h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm11 15h2v2h-2v-2z",riDeleteBin7Line:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zM9 4v2h6V4H9z",riArrowLeftSLine:"M10.828 12l4.95 4.95-1.414 1.414L8 12l6.364-6.364 1.414 1.414z",riFullscreenLine:"M20 3h2v6h-2V5h-4V3h4zM4 3h4v2H4v4H2V3h2zm16 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z",riFlashlightLine:"M13 9h8L11 24v-9H4l9-15v9zm-2 2V7.22L7.532 13H13v4.394L17.263 11H11z",riTimerFlashLine:"M6.382 5.968A8.962 8.962 0 0 1 12 4c2.125 0 4.078.736 5.618 1.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 1 1-14.064 0L3.515 5.93l1.414-1.414 1.453 1.453zM12 20a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm1-8h3l-5 6.5V14H8l5-6.505V12zM8 1h8v2H8V1z",riBaseStationLine:"M12 13l6 9H6l6-9zm0 3.6L9.74 20h4.52L12 16.6zm-1.06-6.04a1.5 1.5 0 1 1 2.12-2.12 1.5 1.5 0 0 1-2.12 2.12zM5.281 2.783l1.415 1.415a7.5 7.5 0 0 0 0 10.606l-1.415 1.415a9.5 9.5 0 0 1 0-13.436zm13.436 0a9.5 9.5 0 0 1 0 13.436l-1.415-1.415a7.5 7.5 0 0 0 0-10.606l1.415-1.415zM8.11 5.611l1.414 1.414a3.5 3.5 0 0 0 0 4.95l-1.414 1.414a5.5 5.5 0 0 1 0-7.778zm7.778 0a5.5 5.5 0 0 1 0 7.778l-1.414-1.414a3.5 3.5 0 0 0 0-4.95l1.414-1.414z",riFileHistoryLine:"M16 2l5 5v13.993c0 .556-.445 1.007-.993 1.007H3.993C3.445 22 3 21.545 3 21.008V2.992C3 2.444 3.447 2 3.999 2H16zm-1 2H5v16h14V8h-4V4zm-2 5v4h3v2h-5V9h2z",riInformationLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM11 7h2v2h-2V7zm0 4h2v6h-2v-6z",riArrowUpDownLine:"M11.95 7.95l-1.414 1.414L8 6.828 8 20H6V6.828L3.465 9.364 2.05 7.95 7 3l4.95 4.95zm10 8.1L17 21l-4.95-4.95 1.414-1.414 2.537 2.536L16 4h2v13.172l2.536-2.536 1.414 1.414z",riArrowGoBackLine:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z",riInputCursorMove:"M8 21v-2h3V5H8V3h8v2h-3v14h3v2H8zM18.05 7.05L23 12l-4.95 4.95-1.414-1.414L20.172 12l-3.536-3.536L18.05 7.05zm-12.1 0l1.414 1.414L3.828 12l3.536 3.536L5.95 16.95 1 12l4.95-4.95z",riCloseCircleLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9.414l2.828-2.829 1.415 1.415L13.414 12l2.829 2.828-1.415 1.415L12 13.414l-2.828 2.829-1.415-1.415L10.586 12 7.757 9.172l1.415-1.415L12 10.586z",riRecordCircleLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z",riErrorWarningLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z",riExternalLinkLine:"M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z",riUploadCloud2Line:"M12 12.586l4.243 4.242-1.415 1.415L13 16.415V22h-2v-5.587l-1.828 1.83-1.415-1.415L12 12.586zM12 2a7.001 7.001 0 0 1 6.954 6.194 5.5 5.5 0 0 1-.953 10.784v-2.014a3.5 3.5 0 1 0-1.112-6.91 5 5 0 1 0-9.777 0 3.5 3.5 0 0 0-1.292 6.88l.18.03v2.014a5.5 5.5 0 0 1-.954-10.784A7 7 0 0 1 12 2z",riFileDownloadLine:"M13 12h3l-4 4-4-4h3V8h2v4zm2-8H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z",riShieldKeyholeLine:"M12 1l8.217 1.826a1 1 0 0 1 .783.976v9.987a6 6 0 0 1-2.672 4.992L12 23l-6.328-4.219A6 6 0 0 1 3 13.79V3.802a1 1 0 0 1 .783-.976L12 1zm0 2.049L5 4.604v9.185a4 4 0 0 0 1.781 3.328L12 20.597l5.219-3.48A4 4 0 0 0 19 13.79V4.604L12 3.05zM12 7a2 2 0 0 1 1.001 3.732L13 15h-2v-4.268A2 2 0 0 1 12 7z",riArrowDropDownLine:"M12 15l-4.243-4.243 1.415-1.414L12 12.172l2.828-2.829 1.415 1.414z",riNotification3Line:"M20 17h2v2H2v-2h2v-7a8 8 0 1 1 16 0v7zm-2 0v-7a6 6 0 1 0-12 0v7h12zm-9 4h6v2H9v-2z",riArrowLeftRightLine:"M16.05 12.05L21 17l-4.95 4.95-1.414-1.414 2.536-2.537L4 18v-2h13.172l-2.536-2.536 1.414-1.414zm-8.1-10l1.414 1.414L6.828 6 20 6v2H6.828l2.536 2.536L7.95 11.95 3 7l4.95-4.95z",riArrowGoForwardLine:"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z",riCheckboxCircleLine:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z",riLightbulbFlashLine:"M9.973 18h4.054c.132-1.202.745-2.194 1.74-3.277.113-.122.832-.867.917-.973a6 6 0 1 0-9.37-.002c.086.107.807.853.918.974.996 1.084 1.609 2.076 1.741 3.278zM14 20h-4v1h4v-1zm-8.246-5a8 8 0 1 1 12.49.002C17.624 15.774 16 17 16 18.5V21a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-2.5C8 17 6.375 15.774 5.754 15zM13 10.004h2.5l-4.5 6v-4H8.5L13 6v4.005z",riIncreaseDecreaseLine:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2v14h16V5H4zm5 6h2v2H9v2H7v-2H5v-2h2V9h2v2zm4 0h6v2h-6v-2z",mdiEqual:"M19,10H5V8H19V10M19,16H5V14H19V16Z",mdiVariable:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z",mdiRegex:"M16,16.92C15.67,16.97 15.34,17 15,17C14.66,17 14.33,16.97 14,16.92V13.41L11.5,15.89C11,15.5 10.5,15 10.11,14.5L12.59,12H9.08C9.03,11.67 9,11.34 9,11C9,10.66 9.03,10.33 9.08,10H12.59L10.11,7.5C10.3,7.25 10.5,7 10.76,6.76V6.76C11,6.5 11.25,6.3 11.5,6.11L14,8.59V5.08C14.33,5.03 14.66,5 15,5C15.34,5 15.67,5.03 16,5.08V8.59L18.5,6.11C19,6.5 19.5,7 19.89,7.5L17.41,10H20.92C20.97,10.33 21,10.66 21,11C21,11.34 20.97,11.67 20.92,12H17.41L19.89,14.5C19.7,14.75 19.5,15 19.24,15.24V15.24C19,15.5 18.75,15.7 18.5,15.89L16,13.41V16.92H16V16.92M5,19A2,2 0 0,1 7,17A2,2 0 0,1 9,19A2,2 0 0,1 7,21A2,2 0 0,1 5,19H5Z",mdiCookieOutline:"M20.87 10.5C20.6 10 20 10 20 10H18V9C18 8 17 8 17 8H15V7C15 6 14 6 14 6H13V4C13 3 12 3 12 3C7.03 3 3 7.03 3 12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12C21 11.5 20.96 11 20.87 10.5M11.32 18.96C12 18.82 12.5 18.22 12.5 17.5C12.5 16.67 11.83 16 11 16S9.5 16.67 9.5 17.5C9.5 18 9.76 18.47 10.16 18.74C7.54 18.04 5.5 15.81 5.09 13.12C5 12.61 5 12.11 5 11.62C5.07 12.39 5.71 13 6.5 13C7.33 13 8 12.33 8 11.5S7.33 10 6.5 10C5.82 10 5.25 10.46 5.07 11.08C5.47 8 7.91 5.5 11 5.07V6.5C11 7.33 11.67 8 12.5 8H13V8.5C13 9.33 13.67 10 14.5 10H16V10.5C16 11.33 16.67 12 17.5 12H19C19 16.08 15.5 19.36 11.32 18.96M9.5 9C8.67 9 8 8.33 8 7.5S8.67 6 9.5 6 11 6.67 11 7.5 10.33 9 9.5 9M13 12.5C13 13.33 12.33 14 11.5 14S10 13.33 10 12.5 10.67 11 11.5 11 13 11.67 13 12.5M18 14.5C18 15.33 17.33 16 16.5 16S15 15.33 15 14.5 15.67 13 16.5 13 18 13.67 18 14.5Z",mdiDrag:"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",webhookIcon:"M11.1339746,6.5 C11.410117,6.02170738 12.0217074,5.85783222 12.5,6.1339746 C12.6618283,6.22740623 12.7876628,6.35923925 12.8726385,6.51131768 L12.8728316,6.51197847 L15.5280985,11.258439 C17.7104719,10.5794609 20.1487626,11.4726335 21.3395353,13.5351122 C22.7202472,15.9265753 21.9008714,18.9845274 19.5094083,20.3652392 C18.0316717,21.2184108 16.2512131,21.2502691 14.7625925,20.5024023 L14.5614635,20.3955914 L15.5391998,18.650876 C16.4572736,19.1653634 17.5817121,19.1687941 18.5094083,18.6331884 C19.9442862,17.8047613 20.4359116,15.9699901 19.6074845,14.5351122 C18.8086441,13.15148 17.0740576,12.6449281 15.6646114,13.35331 L15.5094083,13.437036 L15.4923149,13.408 L14.6887376,13.8579251 L11.1271684,7.48802153 C10.9611644,7.19043272 10.9514715,6.81610467 11.1339746,6.5 Z M3.69009425,12.2357175 L5.00912623,13.7390986 C4.15631502,14.4873355 3.78941522,15.6581523 4.08821537,16.7732896 C4.5170408,18.373688 6.16205167,19.3234354 7.76244998,18.89461 C9.00692272,18.5611545 9.88400974,17.477653 9.97851857,16.2240731 L9.98665134,16.0438959 L10.0023149,16.043 L10.0029449,15 L17,15 C17.1696897,14.9996082 17.342108,15.0428156 17.5,15.1339746 C17.9782926,15.410117 18.1421678,16.0217074 17.8660254,16.5 C17.6809741,16.8205182 17.3452819,16.9998396 17.000012,17.0001665 L17,17 L11.8855308,17.0005501 C11.512912,18.8188035 10.1440497,20.3270146 8.28008807,20.8264616 C5.61275756,21.5411707 2.87107277,19.9582583 2.15636371,17.2909277 C1.67853507,15.507647 2.22314594,13.6374116 3.52361777,12.3885391 L3.69009425,12.2357175 Z M12,2 C14.6887547,2 16.8818181,4.12230671 16.9953805,6.78311038 L17,7 L15,7 C15,5.34314575 13.6568542,4 12,4 C10.3431458,4 9,5.34314575 9,7 C9,8.03663591 9.52964394,8.97937227 10.3797433,9.52549875 L10.4663149,9.577 L11.4242264,10.1109289 L7.87365874,16.4865392 L7.8723149,16.486 L7.8660254,16.5 C7.60960748,16.9441289 7.06395121,17.1171529 6.60436072,16.9185096 L6.5,16.8660254 C6.02170738,16.589883 5.85783222,15.9782926 6.1339746,15.5 L6.12634126,15.5134608 L8.7500113,10.80028 C7.65887804,9.86710067 7,8.49115157 7,7 C7,4.23857625 9.23857625,2 12,2 Z",mdiGoogleSheet:"M19,11V9H11V5H9V9H5V11H9V19H11V11H19M19,3C19.5,3 20,3.2 20.39,3.61C20.8,4 21,4.5 21,5V19C21,19.5 20.8,20 20.39,20.39C20,20.8 19.5,21 19,21H5C4.5,21 4,20.8 3.61,20.39C3.2,20 3,19.5 3,19V5C3,4.5 3.2,4 3.61,3.61C4,3.2 4.5,3 5,3H19Z",mdiCursorDefaultClickOutline:"M11.5,11L17.88,16.37L17,16.55L16.36,16.67C15.73,16.8 15.37,17.5 15.65,18.07L15.92,18.65L17.28,21.59L15.86,22.25L14.5,19.32L14.24,18.74C13.97,18.15 13.22,17.97 12.72,18.38L12.21,18.78L11.5,19.35V11M10.76,8.69A0.76,0.76 0 0,0 10,9.45V20.9C10,21.32 10.34,21.66 10.76,21.66C10.95,21.66 11.11,21.6 11.24,21.5L13.15,19.95L14.81,23.57C14.94,23.84 15.21,24 15.5,24C15.61,24 15.72,24 15.83,23.92L18.59,22.64C18.97,22.46 19.15,22 18.95,21.63L17.28,18L19.69,17.55C19.85,17.5 20,17.43 20.12,17.29C20.39,16.97 20.35,16.5 20,16.21L11.26,8.86L11.25,8.87C11.12,8.76 10.95,8.69 10.76,8.69M15,10V8H20V10H15M13.83,4.76L16.66,1.93L18.07,3.34L15.24,6.17L13.83,4.76M10,0H12V5H10V0M3.93,14.66L6.76,11.83L8.17,13.24L5.34,16.07L3.93,14.66M3.93,3.34L5.34,1.93L8.17,4.76L6.76,6.17L3.93,3.34M7,10H2V8H7V10"},CA=SA,DA=Lr.ZP;(0,e.createApp)(wr).use(hA).use((function(e){e.directive("tooltip",gA),e.directive("autofocus",vA),e.directive("close-popover",yA),kA(e,wA),kA(e,bA)})).use(fA).use(H).use(DA).use(CA,_A).mount("#app")})()})();
(()=>{var e={40452:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,a=[],i=[],o=[],s=[],c=[],l=[],u=[],d=[],h=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,a[n]=p,i[p]=n;var m=e[n],g=e[m],y=e[g],b=257*e[p]^16843008*p;o[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,c[n]=b<<8|b>>>24,l[n]=b,b=16843009*y^65537*g^257*m^16843008*n,u[p]=b<<24|b>>>8,d[p]=b<<16|b>>>16,h[p]=b<<8|b>>>24,f[p]=b,n?(n=m^e[e[e[y^m]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;o<r;o++)o<n?i[o]=t[o]:(l=i[o-1],o%n?n>6&&o%n==4&&(l=a[l>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l]):(l=a[(l=l<<8|l>>>24)>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l],l^=p[o/n|0]<<24),i[o]=i[o-n]^l);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(o=r-c,c%4)var l=i[o];else l=i[o-4];s[c]=c<4||o<=4?l:u[a[l>>>24]]^d[a[l>>>16&255]]^h[a[l>>>8&255]]^f[a[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,h,f,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,a,i,o,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],h=e[t+3]^n[3],f=4,p=1;p<c;p++){var m=r[l>>>24]^a[u>>>16&255]^i[d>>>8&255]^o[255&h]^n[f++],g=r[u>>>24]^a[d>>>16&255]^i[h>>>8&255]^o[255&l]^n[f++],y=r[d>>>24]^a[h>>>16&255]^i[l>>>8&255]^o[255&u]^n[f++],b=r[h>>>24]^a[l>>>16&255]^i[u>>>8&255]^o[255&d]^n[f++];l=m,u=g,d=y,h=b}m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^n[f++],g=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^n[f++],y=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[f++],b=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}(),r.AES)},75109:function(e,t,n){var r;e.exports=(r=n(78249),n(90888),void(r.lib.Cipher||function(e){var t=r,n=t.lib,a=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,u=n.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:y}return function(t){return{encrypt:function(n,r,a){return e(r).encrypt(t,n,r,a)},decrypt:function(n,r,a){return e(r).decrypt(t,n,r,a)}}}}()}),d=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),h=n.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=d.CBC=function(){var t=h.extend();function n(t,n,r){var a,i=this._iv;i?(a=i,this._iv=e):a=this._prevBlock;for(var o=0;o<r;o++)t[n+o]^=a[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,a=r.blockSize;n.call(this,e,t,a),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,a=r.blockSize,i=e.slice(t,t+a);r.decryptBlock(e,t),n.call(this,e,t,a),this._prevBlock=i}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,a=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(a);var c=i.create(o,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},y=n.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var a=e.createEncryptor(n,r),i=a.finalize(t),o=a.cfg;return m.create({ciphertext:i,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var a=l.create({keySize:t+n}).compute(e,r),o=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,m.create({key:a,iv:o,salt:r})}},v=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,n,r){var a=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=a.iv;var i=y.encrypt.call(this,e,t,a.key,r);return i.mixIn(a),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var a=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=a.iv,y.decrypt.call(this,e,t,a.key,r)}})}()))},78249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(42480)}catch(e){}var a=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},c=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,a=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<a;i++){var o=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=o<<24-(r+i)%4*8}else for(var s=0;s<a;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(a());return new l.init(t,e)}}),u=o.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},h=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,a=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(a,d);n=a.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math),r)},98269:function(e,t,n){var r;e.exports=(r=n(78249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var a=[],i=0,o=0;o<n;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;a[i>>>2]|=s<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var a=[],i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)a.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,r=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<r.length;i++)a[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return n(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},55743:function(e,t,n){var r;e.exports=(r=n(78249),r.enc.Utf8)},90888:function(e,t,n){var r,a,i,o,s,c,l,u;e.exports=(u=n(78249),n(62783),n(89824),a=(r=u).lib,i=a.Base,o=a.WordArray,s=r.algo,c=s.MD5,l=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,a=r.hasher.create(),i=o.create(),s=i.words,c=r.keySize,l=r.iterations;s.length<c;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var u=1;u<l;u++)n=a.finalize(n),a.reset();i.concat(n)}return i.sigBytes=4*c,i}}),r.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},u.EvpKDF)},88010:function(e,t,n){var r;e.exports=(r=n(78249),n(52153),n(89824),r.HmacSHA256)},89824:function(e,t,n){var r,a,i,o;e.exports=(r=n(78249),i=(a=r).lib.Base,o=a.enc.Utf8,void(a.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),i=this._iKey=t.clone(),s=a.words,c=i.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},68214:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,a=n.WordArray,i=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,a=e[r];e[r]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,o=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],w=e[t+9],k=e[t+10],x=e[t+11],_=e[t+12],S=e[t+13],E=e[t+14],A=e[t+15],I=i[0],C=i[1],T=i[2],D=i[3];I=l(I,C,T,D,o,7,s[0]),D=l(D,I,C,T,c,12,s[1]),T=l(T,D,I,C,f,17,s[2]),C=l(C,T,D,I,p,22,s[3]),I=l(I,C,T,D,m,7,s[4]),D=l(D,I,C,T,g,12,s[5]),T=l(T,D,I,C,y,17,s[6]),C=l(C,T,D,I,b,22,s[7]),I=l(I,C,T,D,v,7,s[8]),D=l(D,I,C,T,w,12,s[9]),T=l(T,D,I,C,k,17,s[10]),C=l(C,T,D,I,x,22,s[11]),I=l(I,C,T,D,_,7,s[12]),D=l(D,I,C,T,S,12,s[13]),T=l(T,D,I,C,E,17,s[14]),I=u(I,C=l(C,T,D,I,A,22,s[15]),T,D,c,5,s[16]),D=u(D,I,C,T,y,9,s[17]),T=u(T,D,I,C,x,14,s[18]),C=u(C,T,D,I,o,20,s[19]),I=u(I,C,T,D,g,5,s[20]),D=u(D,I,C,T,k,9,s[21]),T=u(T,D,I,C,A,14,s[22]),C=u(C,T,D,I,m,20,s[23]),I=u(I,C,T,D,w,5,s[24]),D=u(D,I,C,T,E,9,s[25]),T=u(T,D,I,C,p,14,s[26]),C=u(C,T,D,I,v,20,s[27]),I=u(I,C,T,D,S,5,s[28]),D=u(D,I,C,T,f,9,s[29]),T=u(T,D,I,C,b,14,s[30]),I=d(I,C=u(C,T,D,I,_,20,s[31]),T,D,g,4,s[32]),D=d(D,I,C,T,v,11,s[33]),T=d(T,D,I,C,x,16,s[34]),C=d(C,T,D,I,E,23,s[35]),I=d(I,C,T,D,c,4,s[36]),D=d(D,I,C,T,m,11,s[37]),T=d(T,D,I,C,b,16,s[38]),C=d(C,T,D,I,k,23,s[39]),I=d(I,C,T,D,S,4,s[40]),D=d(D,I,C,T,o,11,s[41]),T=d(T,D,I,C,p,16,s[42]),C=d(C,T,D,I,y,23,s[43]),I=d(I,C,T,D,w,4,s[44]),D=d(D,I,C,T,_,11,s[45]),T=d(T,D,I,C,A,16,s[46]),I=h(I,C=d(C,T,D,I,f,23,s[47]),T,D,o,6,s[48]),D=h(D,I,C,T,b,10,s[49]),T=h(T,D,I,C,E,15,s[50]),C=h(C,T,D,I,g,21,s[51]),I=h(I,C,T,D,_,6,s[52]),D=h(D,I,C,T,p,10,s[53]),T=h(T,D,I,C,k,15,s[54]),C=h(C,T,D,I,c,21,s[55]),I=h(I,C,T,D,v,6,s[56]),D=h(D,I,C,T,A,10,s[57]),T=h(T,D,I,C,y,15,s[58]),C=h(C,T,D,I,S,21,s[59]),I=h(I,C,T,D,m,6,s[60]),D=h(D,I,C,T,x,10,s[61]),T=h(T,D,I,C,f,15,s[62]),C=h(C,T,D,I,w,21,s[63]),i[0]=i[0]+I|0,i[1]=i[1]+C|0,i[2]=i[2]+T|0,i[3]=i[3]+D|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,a=8*t.sigBytes;n[a>>>5]|=128<<24-a%32;var i=e.floor(r/4294967296),o=r;n[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,a,i,o){var s=e+(t&n|~t&r)+a+o;return(s<<i|s>>>32-i)+t}function u(e,t,n,r,a,i,o){var s=e+(t&r|n&~r)+a+o;return(s<<i|s>>>32-i)+t}function d(e,t,n,r,a,i,o){var s=e+(t^n^r)+a+o;return(s<<i|s>>>32-i)+t}function h(e,t,n,r,a,i,o){var s=e+(n^(t|~r))+a+o;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)},62783:function(e,t,n){var r,a,i,o,s,c,l,u;e.exports=(u=n(78249),a=(r=u).lib,i=a.WordArray,o=a.Hasher,s=r.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var d=(r<<5|r>>>27)+s+c[l];d+=l<20?1518500249+(a&i|~a&o):l<40?1859775393+(a^i^o):l<60?(a&i|a&o|i&o)-1894007588:(a^i^o)-899497514,s=o,o=i,i=a<<30|a>>>2,a=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l),u.SHA1)},52153:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,a=n.WordArray,i=n.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,a=0;a<64;)t(r)&&(a<8&&(s[a]=n(e.pow(r,.5))),c[a]=n(e.pow(r,1/3)),a++),r++}();var l=[],u=o.SHA256=i.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=n[5],d=n[6],h=n[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var p=l[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[f]=m+l[f-7]+y+l[f-16]}var b=r&a^r&i^a&i,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[f]+l[f];h=d,d=u,u=s,s=o+w|0,o=i,i=a,a=r,r=w+(v+b)|0}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,a=8*t.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=e.floor(r/4294967296),n[15+(a+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),r.SHA256)},27484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",i="minute",o="hour",s="day",c="week",l="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,l),i=n-a<0,o=t.clone().add(r+(i?-1:1),l);return+(-(r+(n-a)/(i?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:s,D:h,h:o,m:i,s:a,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",w={};w[v]=g;var k=function(e){return e instanceof E},x=function e(t,n,r){var a;if(!t)return v;if("string"==typeof t){var i=t.toLowerCase();w[i]&&(a=i),n&&(w[i]=n,a=i);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var s=t.name;w[s]=t,a=s}return!r&&a&&(v=a),a||!r&&v},_=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new E(n)},S=b;S.l=x,S.i=k,S.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return _(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<_(e)},y.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),f=function(e,t){var a=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(s)},p=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case l:return r?f(1,g):f(0,g+1);case c:var v=this.$locale().weekStart||0,w=(m<v?m+7:m)-v;return f(r?y-w:y+(6-w),g);case s:case h:return p(b+"Hours",0);case o:return p(b+"Minutes",1);case i:return p(b+"Seconds",2);case a:return p(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,c=S.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[s]=u+"Date",n[h]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[o]=u+"Hours",n[i]=u+"Minutes",n[a]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],p=c===s?this.$D+(t-this.$W):t;if(c===l||c===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[S.p(e)]()},y.add=function(r,u){var h,f=this;r=Number(r);var p=S.p(u),m=function(e){var t=_(f);return S.w(t.date(t.date()+Math.round(e*r)),f)};if(p===l)return this.set(l,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return m(1);if(p===c)return m(7);var g=(h={},h[i]=t,h[o]=n,h[a]=e,h)[p]||1,y=this.$d.getTime()+r*g;return S.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=S.z(this),i=this.$H,o=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].slice(0,i)},d=function(e){return S.s(i%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:u(n.monthsShort,s,l,3),MMMM:u(l,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:S.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,o,!0),A:h(i,o,!1),m:String(o),mm:S.s(o,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:a};return r.replace(m,(function(e,t){return t||p[e]||a.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,h,f){var p,m=S.p(h),g=_(r),y=(g.utcOffset()-this.utcOffset())*t,b=this-g,v=S.m(this,g);return v=(p={},p[d]=v/12,p[l]=v,p[u]=v/3,p[c]=(b-y)/6048e5,p[s]=(b-y)/864e5,p[o]=b/n,p[i]=b/t,p[a]=b/e,p)[m]||b,f?v:S.a(v)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return w[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),A=E.prototype;return _.prototype=A,[["$ms",r],["$s",a],["$m",i],["$H",o],["$W",s],["$M",l],["$y",d],["$D",h]].forEach((function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,E,_),e.$i=!0),_},_.locale=x,_.isDayjs=k,_.unix=function(e){return _(1e3*e)},_.en=w[v],_.Ls=w,_.p={},_}()},96023:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}(n(27484))},37553:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return n.default.locale(r,null,!0),r}(n(27484))},43901:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}};return n.default.locale(r,null,!0),r}(n(27484))},32009:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s后",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r}(n(27484))},84110:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,a){return r.fromToBase(e,t,n,a)}n.en.relativeTime=a,r.fromToBase=function(t,r,i,o,s){for(var c,l,u,d=i.$locale().relativeTime||a,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,p=0;p<f;p+=1){var m=h[p];m.d&&(c=o?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,g<=m.r||!m.r){g<=1&&p>0&&(m=h[p-1]);var y=d[m.l];s&&(g=s(""+g)),l="string"==typeof y?y.replace("%d",g):y(g,r,m.l,u);break}}if(r)return l;var b=u?d.future:d.past;return"function"==typeof b?b(l):b.replace("%s",l)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var o=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}}()},39832:(e,t,n)=>{
/*! jsonpath 1.1.1 */
var r;e.exports=function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return a(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var i=void 0,o=0;o<r.length;o++)a(r[o]);return a}({"./aesprim":[function(e,t,n){!function(e,t){"use strict";"function"==typeof r&&r.amd?r(["exports"],t):t(void 0!==n?n:e.esprima={})}(this,(function(e){"use strict";var t,n,r,a,i,o,s,c,l,u,d,h,f,p,m,g,y,b;function v(e,t){if(!e)throw new Error("ASSERT: "+t)}function w(e){return e>=48&&e<=57}function k(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function x(e){return"01234567".indexOf(e)>=0}function _(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function S(e){return 10===e||13===e||8232===e||8233===e}function E(e){return 64==e||36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&s.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function A(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&s.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function I(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function C(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function T(e){return"eval"===e||"arguments"===e}function D(e){if(u&&C(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function B(e,t,n,r,a){var i;v("number"==typeof n,"Comment must have valid position"),y.lastCommentStart>=n||(y.lastCommentStart=n,i={type:e,value:t},b.range&&(i.range=[n,r]),b.loc&&(i.loc=a),b.comments.push(i),b.attachComment&&(b.leadingComments.push(i),b.trailingComments.push(i)))}function O(e){var t,n,r,a;for(t=d-e,n={start:{line:h,column:d-f-e}};d<p;)if(r=l.charCodeAt(d),++d,S(r))return b.comments&&(a=l.slice(t+e,d-1),n.end={line:h,column:d-f-1},B("Line",a,t,d-1,n)),13===r&&10===l.charCodeAt(d)&&++d,++h,void(f=d);b.comments&&(a=l.slice(t+e,d),n.end={line:h,column:d-f},B("Line",a,t,d,n))}function L(){var e,t,n,r;for(b.comments&&(e=d-2,t={start:{line:h,column:d-f-2}});d<p;)if(S(n=l.charCodeAt(d)))13===n&&10===l.charCodeAt(d+1)&&++d,++h,++d,f=d,d>=p&&ae({},o.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===l.charCodeAt(d+1))return++d,++d,void(b.comments&&(r=l.slice(e+2,d-2),t.end={line:h,column:d-f},B("Block",r,e,d,t)));++d}else++d;ae({},o.UnexpectedToken,"ILLEGAL")}function P(){var e,t;for(t=0===d;d<p;)if(_(e=l.charCodeAt(d)))++d;else if(S(e))++d,13===e&&10===l.charCodeAt(d)&&++d,++h,f=d,t=!0;else if(47===e)if(47===(e=l.charCodeAt(d+1)))++d,++d,O(2),t=!0;else{if(42!==e)break;++d,++d,L()}else if(t&&45===e){if(45!==l.charCodeAt(d+1)||62!==l.charCodeAt(d+2))break;d+=3,O(3)}else{if(60!==e)break;if("!--"!==l.slice(d+1,d+4))break;++d,++d,++d,++d,O(4)}}function R(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(d<p&&k(l[d])))return"";r=l[d++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(a)}function N(){var e,t;for(e=l.charCodeAt(d++),t=String.fromCharCode(e),92===e&&(117!==l.charCodeAt(d)&&ae({},o.UnexpectedToken,"ILLEGAL"),++d,(e=R("u"))&&"\\"!==e&&E(e.charCodeAt(0))||ae({},o.UnexpectedToken,"ILLEGAL"),t=e);d<p&&A(e=l.charCodeAt(d));)++d,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==l.charCodeAt(d)&&ae({},o.UnexpectedToken,"ILLEGAL"),++d,(e=R("u"))&&"\\"!==e&&A(e.charCodeAt(0))||ae({},o.UnexpectedToken,"ILLEGAL"),t+=e);return t}function j(){var e,t;for(e=d++;d<p;){if(92===(t=l.charCodeAt(d)))return d=e,N();if(!A(t))break;++d}return l.slice(e,d)}function M(){var e,n;return e=d,{type:1===(n=92===l.charCodeAt(d)?N():j()).length?t.Identifier:D(n)?t.Keyword:"null"===n?t.NullLiteral:"true"===n||"false"===n?t.BooleanLiteral:t.Identifier,value:n,lineNumber:h,lineStart:f,start:e,end:d}}function z(){var e,n,r,a,i=d,s=l.charCodeAt(d),c=l[d];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++d,b.tokenize&&(40===s?b.openParenToken=b.tokens.length:123===s&&(b.openCurlyToken=b.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(s),lineNumber:h,lineStart:f,start:i,end:d};default:if(61===(e=l.charCodeAt(d+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return d+=2,{type:t.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(e),lineNumber:h,lineStart:f,start:i,end:d};case 33:case 61:return d+=2,61===l.charCodeAt(d)&&++d,{type:t.Punctuator,value:l.slice(i,d),lineNumber:h,lineStart:f,start:i,end:d}}}return">>>="===(a=l.substr(d,4))?(d+=4,{type:t.Punctuator,value:a,lineNumber:h,lineStart:f,start:i,end:d}):">>>"===(r=a.substr(0,3))||"<<="===r||">>="===r?(d+=3,{type:t.Punctuator,value:r,lineNumber:h,lineStart:f,start:i,end:d}):c===(n=r.substr(0,2))[1]&&"+-<>&|".indexOf(c)>=0||"=>"===n?(d+=2,{type:t.Punctuator,value:n,lineNumber:h,lineStart:f,start:i,end:d}):"<>=!+-*%&|^/".indexOf(c)>=0?(++d,{type:t.Punctuator,value:c,lineNumber:h,lineStart:f,start:i,end:d}):void ae({},o.UnexpectedToken,"ILLEGAL")}function $(e){for(var n="";d<p&&k(l[d]);)n+=l[d++];return 0===n.length&&ae({},o.UnexpectedToken,"ILLEGAL"),E(l.charCodeAt(d))&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:f,start:e,end:d}}function F(e){for(var n="0"+l[d++];d<p&&x(l[d]);)n+=l[d++];return(E(l.charCodeAt(d))||w(l.charCodeAt(d)))&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:f,start:e,end:d}}function U(){var e,n,r;if(v(w((r=l[d]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=d,e="","."!==r){if(e=l[d++],r=l[d],"0"===e){if("x"===r||"X"===r)return++d,$(n);if(x(r))return F(n);r&&w(r.charCodeAt(0))&&ae({},o.UnexpectedToken,"ILLEGAL")}for(;w(l.charCodeAt(d));)e+=l[d++];r=l[d]}if("."===r){for(e+=l[d++];w(l.charCodeAt(d));)e+=l[d++];r=l[d]}if("e"===r||"E"===r)if(e+=l[d++],"+"!==(r=l[d])&&"-"!==r||(e+=l[d++]),w(l.charCodeAt(d)))for(;w(l.charCodeAt(d));)e+=l[d++];else ae({},o.UnexpectedToken,"ILLEGAL");return E(l.charCodeAt(d))&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:h,lineStart:f,start:n,end:d}}function K(){var e,n,r,a,i,s,c,u,m="",g=!1;for(c=h,u=f,v("'"===(e=l[d])||'"'===e,"String literal must starts with a quote"),n=d,++d;d<p;){if((r=l[d++])===e){e="";break}if("\\"===r)if((r=l[d++])&&S(r.charCodeAt(0)))++h,"\r"===r&&"\n"===l[d]&&++d,f=d;else switch(r){case"u":case"x":s=d,(i=R(r))?m+=i:(d=s,m+=r);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:x(r)?(0!==(a="01234567".indexOf(r))&&(g=!0),d<p&&x(l[d])&&(g=!0,a=8*a+"01234567".indexOf(l[d++]),"0123".indexOf(r)>=0&&d<p&&x(l[d])&&(a=8*a+"01234567".indexOf(l[d++]))),m+=String.fromCharCode(a)):m+=r}else{if(S(r.charCodeAt(0)))break;m+=r}}return""!==e&&ae({},o.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:g,startLineNumber:c,startLineStart:u,lineNumber:h,lineStart:f,start:n,end:d}}function H(e,t){var n;try{n=new RegExp(e,t)}catch(e){ae({},o.InvalidRegExp)}return n}function W(){var e,t,n,r;for(v("/"===(e=l[d]),"Regular expression literal must start with a slash"),t=l[d++],n=!1,r=!1;d<p;)if(t+=e=l[d++],"\\"===e)S((e=l[d++]).charCodeAt(0))&&ae({},o.UnterminatedRegExp),t+=e;else if(S(e.charCodeAt(0)))ae({},o.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||ae({},o.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}function q(){var e,t,n,r;for(t="",n="";d<p&&A((e=l[d]).charCodeAt(0));)if(++d,"\\"===e&&d<p)if("u"===(e=l[d])){if(r=++d,e=R("u"))for(n+=e,t+="\\u";r<d;++r)t+=l[r];else d=r,n+="u",t+="\\u";ie({},o.UnexpectedToken,"ILLEGAL")}else t+="\\",ie({},o.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function V(){var e,n,r,a;return g=null,P(),e=d,n=W(),r=q(),a=H(n.value,r.value),b.tokenize?{type:t.RegularExpression,value:a,lineNumber:h,lineStart:f,start:e,end:d}:{literal:n.literal+r.literal,value:a,start:e,end:d}}function Y(){var e,t,n,r;return P(),e=d,t={start:{line:h,column:d-f}},n=V(),t.end={line:h,column:d-f},b.tokenize||(b.tokens.length>0&&(r=b.tokens[b.tokens.length-1]).range[0]===e&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||b.tokens.pop()),b.tokens.push({type:"RegularExpression",value:n.literal,range:[e,d],loc:t})),n}function G(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function Z(){var e,t;if(!(e=b.tokens[b.tokens.length-1]))return Y();if("Punctuator"===e.type){if("]"===e.value)return z();if(")"===e.value)return!(t=b.tokens[b.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?z():Y();if("}"===e.value){if(b.tokens[b.openCurlyToken-3]&&"Keyword"===b.tokens[b.openCurlyToken-3].type){if(!(t=b.tokens[b.openCurlyToken-4]))return z()}else{if(!b.tokens[b.openCurlyToken-4]||"Keyword"!==b.tokens[b.openCurlyToken-4].type)return z();if(!(t=b.tokens[b.openCurlyToken-5]))return Y()}return r.indexOf(t.value)>=0?z():Y()}return Y()}return"Keyword"===e.type?Y():z()}function X(){var e;return P(),d>=p?{type:t.EOF,lineNumber:h,lineStart:f,start:d,end:d}:E(e=l.charCodeAt(d))?M():40===e||41===e||59===e?z():39===e||34===e?K():46===e?w(l.charCodeAt(d+1))?U():z():w(e)?U():b.tokenize&&47===e?Z():z()}function J(){var e,r,a;return P(),e={start:{line:h,column:d-f}},r=X(),e.end={line:h,column:d-f},r.type!==t.EOF&&(a=l.slice(r.start,r.end),b.tokens.push({type:n[r.type],value:a,range:[r.start,r.end],loc:e})),r}function Q(){var e;return d=(e=g).end,h=e.lineNumber,f=e.lineStart,g=void 0!==b.tokens?J():X(),d=e.end,h=e.lineNumber,f=e.lineStart,e}function ee(){var e,t,n;e=d,t=h,n=f,g=void 0!==b.tokens?J():X(),d=e,h=t,f=n}function te(e,t){this.line=e,this.column=t}function ne(e,t,n,r){this.start=new te(e,t),this.end=new te(n,r)}function re(){var e,t,n,r;return e=d,t=h,n=f,P(),r=h!==t,d=e,h=t,f=n,r}function ae(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,(function(e,t){return v(t<r.length,"Message reference must be in range"),r[t]}));throw"number"==typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+a)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-f+1):((n=new Error("Line "+h+": "+a)).index=d,n.lineNumber=h,n.column=d-f+1),n.description=a,n}function ie(){try{ae.apply(null,arguments)}catch(e){if(!b.errors)throw e;b.errors.push(e)}}function oe(e){if(e.type===t.EOF&&ae(e,o.UnexpectedEOS),e.type===t.NumericLiteral&&ae(e,o.UnexpectedNumber),e.type===t.StringLiteral&&ae(e,o.UnexpectedString),e.type===t.Identifier&&ae(e,o.UnexpectedIdentifier),e.type===t.Keyword){if(I(e.value))ae(e,o.UnexpectedReserved);else if(u&&C(e.value))return void ie(e,o.StrictReservedWord);ae(e,o.UnexpectedToken,e.value)}ae(e,o.UnexpectedToken,e.value)}function se(e){var n=Q();n.type===t.Punctuator&&n.value===e||oe(n)}function ce(e){var n=Q();n.type===t.Keyword&&n.value===e||oe(n)}function le(e){return g.type===t.Punctuator&&g.value===e}function ue(e){return g.type===t.Keyword&&g.value===e}function de(){var e;return g.type===t.Punctuator&&("="===(e=g.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function he(){var e;59===l.charCodeAt(d)||le(";")?Q():(e=h,P(),h===e&&(g.type===t.EOF||le("}")||oe(g)))}function fe(e){return e.type===a.Identifier||e.type===a.MemberExpression}function pe(){var e,t=[];for(e=g,se("[");!le("]");)le(",")?(Q(),t.push(null)):(t.push(Le()),le("]")||se(","));return Q(),m.markEnd(m.createArrayExpression(t),e)}function me(e,t){var n,r,a;return n=u,a=g,r=ot(),t&&u&&T(e[0].name)&&ie(t,o.StrictParamName),u=n,m.markEnd(m.createFunctionExpression(null,e,[],r),a)}function ge(){var e,n;return n=g,(e=Q()).type===t.StringLiteral||e.type===t.NumericLiteral?(u&&e.octal&&ie(e,o.StrictOctalLiteral),m.markEnd(m.createLiteral(e),n)):m.markEnd(m.createIdentifier(e.value),n)}function ye(){var e,n,r,a,i,s;return s=g,(e=g).type===t.Identifier?(r=ge(),"get"!==e.value||le(":")?"set"!==e.value||le(":")?(se(":"),a=Le(),m.markEnd(m.createProperty("init",r,a),s)):(n=ge(),se("("),(e=g).type!==t.Identifier?(se(")"),ie(e,o.UnexpectedToken,e.value),a=me([])):(i=[je()],se(")"),a=me(i,e)),m.markEnd(m.createProperty("set",n,a),s)):(n=ge(),se("("),se(")"),a=me([]),m.markEnd(m.createProperty("get",n,a),s))):e.type!==t.EOF&&e.type!==t.Punctuator?(n=ge(),se(":"),a=Le(),m.markEnd(m.createProperty("init",n,a),s)):void oe(e)}function be(){var e,t,n,r,s,c=[],l={},d=String;for(s=g,se("{");!le("}");)t=(e=ye()).key.type===a.Identifier?e.key.name:d(e.key.value),r="init"===e.kind?i.Data:"get"===e.kind?i.Get:i.Set,n="$"+t,Object.prototype.hasOwnProperty.call(l,n)?(l[n]===i.Data?u&&r===i.Data?ie({},o.StrictDuplicateProperty):r!==i.Data&&ie({},o.AccessorDataProperty):r===i.Data?ie({},o.AccessorDataProperty):l[n]&r&&ie({},o.AccessorGetSet),l[n]|=r):l[n]=r,c.push(e),le("}")||se(",");return se("}"),m.markEnd(m.createObjectExpression(c),s)}function ve(){var e;return se("("),e=Pe(),se(")"),e}function we(){var e,n,r,a;if(le("("))return ve();if(le("["))return pe();if(le("{"))return be();if(e=g.type,a=g,e===t.Identifier)r=m.createIdentifier(Q().value);else if(e===t.StringLiteral||e===t.NumericLiteral)u&&g.octal&&ie(g,o.StrictOctalLiteral),r=m.createLiteral(Q());else if(e===t.Keyword){if(ue("function"))return lt();ue("this")?(Q(),r=m.createThisExpression()):oe(Q())}else e===t.BooleanLiteral?((n=Q()).value="true"===n.value,r=m.createLiteral(n)):e===t.NullLiteral?((n=Q()).value=null,r=m.createLiteral(n)):le("/")||le("/=")?(r=void 0!==b.tokens?m.createLiteral(Y()):m.createLiteral(V()),ee()):oe(Q());return m.markEnd(r,a)}function ke(){var e=[];if(se("("),!le(")"))for(;d<p&&(e.push(Le()),!le(")"));)se(",");return se(")"),e}function xe(){var e,t;return t=g,G(e=Q())||oe(e),m.markEnd(m.createIdentifier(e.value),t)}function _e(){return se("."),xe()}function Se(){var e;return se("["),e=Pe(),se("]"),e}function Ee(){var e,t,n;return n=g,ce("new"),e=Ie(),t=le("(")?ke():[],m.markEnd(m.createNewExpression(e,t),n)}function Ae(){var e,t,n,r,a;for(a=g,e=y.allowIn,y.allowIn=!0,t=ue("new")?Ee():we(),y.allowIn=e;;){if(le("."))r=_e(),t=m.createMemberExpression(".",t,r);else if(le("("))n=ke(),t=m.createCallExpression(t,n);else{if(!le("["))break;r=Se(),t=m.createMemberExpression("[",t,r)}m.markEnd(t,a)}return t}function Ie(){var e,t,n,r;for(r=g,e=y.allowIn,t=ue("new")?Ee():we(),y.allowIn=e;le(".")||le("[");)le("[")?(n=Se(),t=m.createMemberExpression("[",t,n)):(n=_e(),t=m.createMemberExpression(".",t,n)),m.markEnd(t,r);return t}function Ce(){var e,n,r=g;return e=Ae(),g.type===t.Punctuator&&(!le("++")&&!le("--")||re()||(u&&e.type===a.Identifier&&T(e.name)&&ie({},o.StrictLHSPostfix),fe(e)||ie({},o.InvalidLHSInAssignment),n=Q(),e=m.markEnd(m.createPostfixExpression(n.value,e),r))),e}function Te(){var e,n,r;return g.type!==t.Punctuator&&g.type!==t.Keyword?n=Ce():le("++")||le("--")?(r=g,e=Q(),n=Te(),u&&n.type===a.Identifier&&T(n.name)&&ie({},o.StrictLHSPrefix),fe(n)||ie({},o.InvalidLHSInAssignment),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):le("+")||le("-")||le("~")||le("!")?(r=g,e=Q(),n=Te(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):ue("delete")||ue("void")||ue("typeof")?(r=g,e=Q(),n=Te(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r),u&&"delete"===n.operator&&n.argument.type===a.Identifier&&ie({},o.StrictDelete)):n=Ce(),n}function De(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function Be(){var e,t,n,r,a,i,o,s,c,l;if(e=g,c=Te(),0===(a=De(r=g,y.allowIn)))return c;for(r.prec=a,Q(),t=[e,g],i=[c,r,o=Te()];(a=De(g,y.allowIn))>0;){for(;i.length>2&&a<=i[i.length-2].prec;)o=i.pop(),s=i.pop().value,c=i.pop(),n=m.createBinaryExpression(s,c,o),t.pop(),e=t[t.length-1],m.markEnd(n,e),i.push(n);(r=Q()).prec=a,i.push(r),t.push(g),n=Te(),i.push(n)}for(n=i[l=i.length-1],t.pop();l>1;)n=m.createBinaryExpression(i[l-1].value,i[l-2],n),l-=2,e=t.pop(),m.markEnd(n,e);return n}function Oe(){var e,t,n,r,a;return a=g,e=Be(),le("?")&&(Q(),t=y.allowIn,y.allowIn=!0,n=Le(),y.allowIn=t,se(":"),r=Le(),e=m.createConditionalExpression(e,n,r),m.markEnd(e,a)),e}function Le(){var e,t,n,r,i;return e=g,i=g,r=t=Oe(),de()&&(fe(t)||ie({},o.InvalidLHSInAssignment),u&&t.type===a.Identifier&&T(t.name)&&ie(e,o.StrictLHSAssignment),e=Q(),n=Le(),r=m.markEnd(m.createAssignmentExpression(e.value,t,n),i)),r}function Pe(){var e,t=g;if(e=Le(),le(",")){for(e=m.createSequenceExpression([e]);d<p&&le(",");)Q(),e.expressions.push(Le());m.markEnd(e,t)}return e}function Re(){for(var e,t=[];d<p&&!le("}")&&void 0!==(e=ut());)t.push(e);return t}function Ne(){var e,t;return t=g,se("{"),e=Re(),se("}"),m.markEnd(m.createBlockStatement(e),t)}function je(){var e,n;return n=g,(e=Q()).type!==t.Identifier&&oe(e),m.markEnd(m.createIdentifier(e.value),n)}function Me(e){var t,n,r=null;return n=g,t=je(),u&&T(t.name)&&ie({},o.StrictVarName),"const"===e?(se("="),r=Le()):le("=")&&(Q(),r=Le()),m.markEnd(m.createVariableDeclarator(t,r),n)}function ze(e){var t=[];do{if(t.push(Me(e)),!le(","))break;Q()}while(d<p);return t}function $e(){var e;return ce("var"),e=ze(),he(),m.createVariableDeclaration(e,"var")}function Fe(e){var t,n;return n=g,ce(e),t=ze(e),he(),m.markEnd(m.createVariableDeclaration(t,e),n)}function Ue(){return se(";"),m.createEmptyStatement()}function Ke(){var e=Pe();return he(),m.createExpressionStatement(e)}function He(){var e,t,n;return ce("if"),se("("),e=Pe(),se(")"),t=it(),ue("else")?(Q(),n=it()):n=null,m.createIfStatement(e,t,n)}function We(){var e,t,n;return ce("do"),n=y.inIteration,y.inIteration=!0,e=it(),y.inIteration=n,ce("while"),se("("),t=Pe(),se(")"),le(";")&&Q(),m.createDoWhileStatement(e,t)}function qe(){var e,t,n;return ce("while"),se("("),e=Pe(),se(")"),n=y.inIteration,y.inIteration=!0,t=it(),y.inIteration=n,m.createWhileStatement(e,t)}function Ve(){var e,t,n;return n=g,e=Q(),t=ze(),m.markEnd(m.createVariableDeclaration(t,e.value),n)}function Ye(){var e,t,n,r,a,i,s;return e=t=n=null,ce("for"),se("("),le(";")?Q():(ue("var")||ue("let")?(y.allowIn=!1,e=Ve(),y.allowIn=!0,1===e.declarations.length&&ue("in")&&(Q(),r=e,a=Pe(),e=null)):(y.allowIn=!1,e=Pe(),y.allowIn=!0,ue("in")&&(fe(e)||ie({},o.InvalidLHSInForIn),Q(),r=e,a=Pe(),e=null)),void 0===r&&se(";")),void 0===r&&(le(";")||(t=Pe()),se(";"),le(")")||(n=Pe())),se(")"),s=y.inIteration,y.inIteration=!0,i=it(),y.inIteration=s,void 0===r?m.createForStatement(e,t,n,i):m.createForInStatement(r,a,i)}function Ge(){var e,n=null;return ce("continue"),59===l.charCodeAt(d)?(Q(),y.inIteration||ae({},o.IllegalContinue),m.createContinueStatement(null)):re()?(y.inIteration||ae({},o.IllegalContinue),m.createContinueStatement(null)):(g.type===t.Identifier&&(e="$"+(n=je()).name,Object.prototype.hasOwnProperty.call(y.labelSet,e)||ae({},o.UnknownLabel,n.name)),he(),null!==n||y.inIteration||ae({},o.IllegalContinue),m.createContinueStatement(n))}function Ze(){var e,n=null;return ce("break"),59===l.charCodeAt(d)?(Q(),y.inIteration||y.inSwitch||ae({},o.IllegalBreak),m.createBreakStatement(null)):re()?(y.inIteration||y.inSwitch||ae({},o.IllegalBreak),m.createBreakStatement(null)):(g.type===t.Identifier&&(e="$"+(n=je()).name,Object.prototype.hasOwnProperty.call(y.labelSet,e)||ae({},o.UnknownLabel,n.name)),he(),null!==n||y.inIteration||y.inSwitch||ae({},o.IllegalBreak),m.createBreakStatement(n))}function Xe(){var e=null;return ce("return"),y.inFunctionBody||ie({},o.IllegalReturn),32===l.charCodeAt(d)&&E(l.charCodeAt(d+1))?(e=Pe(),he(),m.createReturnStatement(e)):re()?m.createReturnStatement(null):(le(";")||le("}")||g.type===t.EOF||(e=Pe()),he(),m.createReturnStatement(e))}function Je(){var e,t;return u&&(P(),ie({},o.StrictModeWith)),ce("with"),se("("),e=Pe(),se(")"),t=it(),m.createWithStatement(e,t)}function Qe(){var e,t,n,r=[];for(n=g,ue("default")?(Q(),e=null):(ce("case"),e=Pe()),se(":");d<p&&!(le("}")||ue("default")||ue("case"));)t=it(),r.push(t);return m.markEnd(m.createSwitchCase(e,r),n)}function et(){var e,t,n,r,a;if(ce("switch"),se("("),e=Pe(),se(")"),se("{"),t=[],le("}"))return Q(),m.createSwitchStatement(e,t);for(r=y.inSwitch,y.inSwitch=!0,a=!1;d<p&&!le("}");)null===(n=Qe()).test&&(a&&ae({},o.MultipleDefaultsInSwitch),a=!0),t.push(n);return y.inSwitch=r,se("}"),m.createSwitchStatement(e,t)}function tt(){var e;return ce("throw"),re()&&ae({},o.NewlineAfterThrow),e=Pe(),he(),m.createThrowStatement(e)}function nt(){var e,t,n;return n=g,ce("catch"),se("("),le(")")&&oe(g),e=je(),u&&T(e.name)&&ie({},o.StrictCatchVariable),se(")"),t=Ne(),m.markEnd(m.createCatchClause(e,t),n)}function rt(){var e,t=[],n=null;return ce("try"),e=Ne(),ue("catch")&&t.push(nt()),ue("finally")&&(Q(),n=Ne()),0!==t.length||n||ae({},o.NoCatchOrFinally),m.createTryStatement(e,[],t,n)}function at(){return ce("debugger"),he(),m.createDebuggerStatement()}function it(){var e,n,r,i,s=g.type;if(s===t.EOF&&oe(g),s===t.Punctuator&&"{"===g.value)return Ne();if(i=g,s===t.Punctuator)switch(g.value){case";":return m.markEnd(Ue(),i);case"(":return m.markEnd(Ke(),i)}if(s===t.Keyword)switch(g.value){case"break":return m.markEnd(Ze(),i);case"continue":return m.markEnd(Ge(),i);case"debugger":return m.markEnd(at(),i);case"do":return m.markEnd(We(),i);case"for":return m.markEnd(Ye(),i);case"function":return m.markEnd(ct(),i);case"if":return m.markEnd(He(),i);case"return":return m.markEnd(Xe(),i);case"switch":return m.markEnd(et(),i);case"throw":return m.markEnd(tt(),i);case"try":return m.markEnd(rt(),i);case"var":return m.markEnd($e(),i);case"while":return m.markEnd(qe(),i);case"with":return m.markEnd(Je(),i)}return(e=Pe()).type===a.Identifier&&le(":")?(Q(),r="$"+e.name,Object.prototype.hasOwnProperty.call(y.labelSet,r)&&ae({},o.Redeclaration,"Label",e.name),y.labelSet[r]=!0,n=it(),delete y.labelSet[r],m.markEnd(m.createLabeledStatement(e,n),i)):(he(),m.markEnd(m.createExpressionStatement(e),i))}function ot(){var e,n,r,i,s,c,h,f,b=[];for(f=g,se("{");d<p&&g.type===t.StringLiteral&&(n=g,e=ut(),b.push(e),e.expression.type===a.Literal);)"use strict"===l.slice(n.start+1,n.end-1)?(u=!0,r&&ie(r,o.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(i=y.labelSet,s=y.inIteration,c=y.inSwitch,h=y.inFunctionBody,y.labelSet={},y.inIteration=!1,y.inSwitch=!1,y.inFunctionBody=!0;d<p&&!le("}")&&void 0!==(e=ut());)b.push(e);return se("}"),y.labelSet=i,y.inIteration=s,y.inSwitch=c,y.inFunctionBody=h,m.markEnd(m.createBlockStatement(b),f)}function st(e){var t,n,r,a,i,s,c=[];if(se("("),!le(")"))for(a={};d<p&&(n=g,t=je(),i="$"+n.value,u?(T(n.value)&&(r=n,s=o.StrictParamName),Object.prototype.hasOwnProperty.call(a,i)&&(r=n,s=o.StrictParamDupe)):e||(T(n.value)?(e=n,s=o.StrictParamName):C(n.value)?(e=n,s=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(a,i)&&(e=n,s=o.StrictParamDupe)),c.push(t),a[i]=!0,!le(")"));)se(",");return se(")"),{params:c,stricted:r,firstRestricted:e,message:s}}function ct(){var e,t,n,r,a,i,s,c,l,d=[];return l=g,ce("function"),n=g,e=je(),u?T(n.value)&&ie(n,o.StrictFunctionName):T(n.value)?(i=n,s=o.StrictFunctionName):C(n.value)&&(i=n,s=o.StrictReservedWord),d=(a=st(i)).params,r=a.stricted,i=a.firstRestricted,a.message&&(s=a.message),c=u,t=ot(),u&&i&&ae(i,s),u&&r&&ie(r,s),u=c,m.markEnd(m.createFunctionDeclaration(e,d,[],t),l)}function lt(){var e,t,n,r,a,i,s,c,l=null,d=[];return c=g,ce("function"),le("(")||(e=g,l=je(),u?T(e.value)&&ie(e,o.StrictFunctionName):T(e.value)?(n=e,r=o.StrictFunctionName):C(e.value)&&(n=e,r=o.StrictReservedWord)),d=(a=st(n)).params,t=a.stricted,n=a.firstRestricted,a.message&&(r=a.message),s=u,i=ot(),u&&n&&ae(n,r),u&&t&&ie(t,r),u=s,m.markEnd(m.createFunctionExpression(l,d,[],i),c)}function ut(){if(g.type===t.Keyword)switch(g.value){case"const":case"let":return Fe(g.value);case"function":return ct();default:return it()}if(g.type!==t.EOF)return it()}function dt(){for(var e,n,r,i=[];d<p&&(n=g).type===t.StringLiteral&&(e=ut(),i.push(e),e.expression.type===a.Literal);)"use strict"===l.slice(n.start+1,n.end-1)?(u=!0,r&&ie(r,o.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;d<p&&void 0!==(e=ut());)i.push(e);return i}function ht(){var e,t;return P(),ee(),t=g,u=!1,e=dt(),m.markEnd(m.createProgram(e),t)}function ft(){var e,t,n,r=[];for(e=0;e<b.tokens.length;++e)n={type:(t=b.tokens[e]).type,value:t.value},b.range&&(n.range=t.range),b.loc&&(n.loc=t.loc),r.push(n);b.tokens=r}function pt(e,n){var r;"string"==typeof e||e instanceof String||(e=String(e)),m=c,d=0,h=(l=e).length>0?1:0,f=0,p=l.length,g=null,y={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},b={},(n=n||{}).tokens=!0,b.tokens=[],b.tokenize=!0,b.openParenToken=-1,b.openCurlyToken=-1,b.range="boolean"==typeof n.range&&n.range,b.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(b.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(b.errors=[]);try{if(ee(),g.type===t.EOF)return b.tokens;for(Q();g.type!==t.EOF;)try{Q()}catch(e){if(b.errors){b.errors.push(e);break}throw e}ft(),r=b.tokens,void 0!==b.comments&&(r.comments=b.comments),void 0!==b.errors&&(r.errors=b.errors)}catch(e){throw e}finally{b={}}return r}function mt(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),m=c,d=0,h=(l=e).length>0?1:0,f=0,p=l.length,g=null,y={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},b={},void 0!==t&&(b.range="boolean"==typeof t.range&&t.range,b.loc="boolean"==typeof t.loc&&t.loc,b.attachComment="boolean"==typeof t.attachComment&&t.attachComment,b.loc&&null!==t.source&&void 0!==t.source&&(b.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(b.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(b.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(b.errors=[]),b.attachComment&&(b.range=!0,b.comments=[],b.bottomRightStack=[],b.trailingComments=[],b.leadingComments=[]));try{n=ht(),void 0!==b.comments&&(n.comments=b.comments),void 0!==b.tokens&&(ft(),n.tokens=b.tokens),void 0!==b.errors&&(n.errors=b.errors)}catch(e){throw e}finally{b={}}return n}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],a={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},i={Data:1,Get:2,Set:4},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},s={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},c={name:"SyntaxTree",processComment:function(e){var t,n;if(!(e.type===a.Program&&e.body.length>0)){for(b.trailingComments.length>0?b.trailingComments[0].range[0]>=e.range[1]?(n=b.trailingComments,b.trailingComments=[]):b.trailingComments.length=0:b.bottomRightStack.length>0&&b.bottomRightStack[b.bottomRightStack.length-1].trailingComments&&b.bottomRightStack[b.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(n=b.bottomRightStack[b.bottomRightStack.length-1].trailingComments,delete b.bottomRightStack[b.bottomRightStack.length-1].trailingComments);b.bottomRightStack.length>0&&b.bottomRightStack[b.bottomRightStack.length-1].range[0]>=e.range[0];)t=b.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):b.leadingComments.length>0&&b.leadingComments[b.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=b.leadingComments,b.leadingComments=[]),n&&(e.trailingComments=n),b.bottomRightStack.push(e)}},markEnd:function(e,t){return b.range&&(e.range=[t.start,d]),b.loc&&(e.loc=new ne(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),h,d-f),this.postProcess(e)),b.attachComment&&this.processComment(e),e},postProcess:function(e){return b.source&&(e.loc.source=b.source),e},createArrayExpression:function(e){return{type:a.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,n){return{type:a.AssignmentExpression,operator:e,left:t,right:n}},createBinaryExpression:function(e,t,n){return{type:"||"===e||"&&"===e?a.LogicalExpression:a.BinaryExpression,operator:e,left:t,right:n}},createBlockStatement:function(e){return{type:a.BlockStatement,body:e}},createBreakStatement:function(e){return{type:a.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:a.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:a.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,n){return{type:a.ConditionalExpression,test:e,consequent:t,alternate:n}},createContinueStatement:function(e){return{type:a.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:a.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:a.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:a.EmptyStatement}},createExpressionStatement:function(e){return{type:a.ExpressionStatement,expression:e}},createForStatement:function(e,t,n,r){return{type:a.ForStatement,init:e,test:t,update:n,body:r}},createForInStatement:function(e,t,n){return{type:a.ForInStatement,left:e,right:t,body:n,each:!1}},createFunctionDeclaration:function(e,t,n,r){return{type:a.FunctionDeclaration,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,n,r){return{type:a.FunctionExpression,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:a.Identifier,name:e}},createIfStatement:function(e,t,n){return{type:a.IfStatement,test:e,consequent:t,alternate:n}},createLabeledStatement:function(e,t){return{type:a.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:a.Literal,value:e.value,raw:l.slice(e.start,e.end)}},createMemberExpression:function(e,t,n){return{type:a.MemberExpression,computed:"["===e,object:t,property:n}},createNewExpression:function(e,t){return{type:a.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:a.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:a.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:a.Program,body:e}},createProperty:function(e,t,n){return{type:a.Property,key:t,value:n,kind:e}},createReturnStatement:function(e){return{type:a.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:a.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:a.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:a.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:a.ThisExpression}},createThrowStatement:function(e){return{type:a.ThrowStatement,argument:e}},createTryStatement:function(e,t,n,r){return{type:a.TryStatement,block:e,guardedHandlers:t,handlers:n,finalizer:r}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:a.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:a.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:a.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:a.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:a.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:a.WithStatement,object:e,body:t}}},e.version="1.2.2",e.tokenize=pt,e.parse=mt,e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),a)a.hasOwnProperty(e)&&(t[e]=a[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}))},{}],1:[function(e,t,n){(function(r){var a=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(e,n,r,a,i,o,s){a.ast||(a.ast=t,t.initialize());var c=o.length-1;switch(i){case 1:return a.ast.set({expression:{type:"root",value:o[c]}}),a.ast.unshift(),a.ast.yield();case 2:return a.ast.set({expression:{type:"root",value:o[c-1]}}),a.ast.unshift(),a.ast.yield();case 3:return a.ast.unshift(),a.ast.yield();case 4:return a.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:o[c-1]}}),a.ast.unshift(),a.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:a.ast.set({operation:"member"}),a.ast.push();break;case 8:a.ast.set({operation:"subscript"}),a.ast.push();break;case 9:case 19:a.ast.set({scope:"child"});break;case 10:case 20:a.ast.set({scope:"descendant"});break;case 12:a.ast.set({scope:"child",operation:"member"});break;case 14:a.ast.set({expression:{type:"wildcard",value:o[c]}});break;case 15:a.ast.set({expression:{type:"identifier",value:o[c]}});break;case 16:a.ast.set({expression:{type:"script_expression",value:o[c]}});break;case 17:a.ast.set({expression:{type:"numeric_literal",value:parseInt(o[c])}});break;case 24:o[c].length>1?a.ast.set({expression:{type:"union",value:o[c]}}):this.$=o[c];break;case 25:this.$=[o[c]];break;case 26:this.$=o[c-2].concat(o[c]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(o[c])}},a.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:o[c]}},a.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:o[c]}},a.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:o[c]}},a.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:o[c]}},a.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:o[c]}},a.ast.set(this.$);break;case 33:case 34:this.$=o[c]}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],a=[],i=this.table,o="",s=0,c=0,l=0,u=2,d=1,h=a.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;a.push(f);var p=this.lexer.options&&this.lexer.options.ranges;function m(){var e;return"number"!=typeof(e=t.lexer.lex()||d)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,y,b,v,w,k,x,_,S,E={};;){if(b=n[n.length-1],this.defaultActions[b]?v=this.defaultActions[b]:(null==g&&(g=m()),v=i[b]&&i[b][g]),void 0===v||!v.length||!v[0]){var A="";for(k in S=[],i[b])this.terminals_[k]&&k>u&&S.push("'"+this.terminals_[k]+"'");A=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(s+1)+": Unexpected "+(g==d?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:f,expected:S})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(v[0]){case 1:n.push(g),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),n.push(v[1]),g=null,y?(g=y,y=null):(c=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,f=this.lexer.yylloc,l>0&&l--);break;case 2:if(x=this.productions_[v[1]][1],E.$=r[r.length-x],E._$={first_line:a[a.length-(x||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(x||1)].first_column,last_column:a[a.length-1].last_column},p&&(E._$.range=[a[a.length-(x||1)].range[0],a[a.length-1].range[1]]),void 0!==(w=this.performAction.apply(E,[o,c,s,this.yy,v[1],r,a].concat(h))))return w;x&&(n=n.slice(0,-1*x*2),r=r.slice(0,-1*x),a=a.slice(0,-1*x)),n.push(this.productions_[v[1]][0]),r.push(E.$),a.push(E._$),_=i[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},t={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(e){for(var t in e)this._node[t]=e[t];return this._node},node:function(e){return arguments.length&&(this._node=e),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var e=this._nodes;return this.initialize(),e}},n={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in a)this[i]=a[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length;i++)if((n=this._input.match(this.rules[a[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,a[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,a[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return t.yytext=t.yytext.substr(1,t.yyleng-2),32;case 11:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function r(){this.yy={}}return e.lexer=n,r.prototype=e,e.Parser=r,new r}();void 0!==e&&void 0!==n&&(n.parser=a,n.Parser=a.Parser,n.parse=function(){return a.parse.apply(a,arguments)},n.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),r.exit(1));var a=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(a)},void 0!==t&&e.main===t&&n.main(r.argv.slice(1)))}).call(this,e("_process"))},{_process:14,fs:12,path:13}],2:[function(e,t,n){t.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(e,t,n){var r=e("./dict"),a=e("fs"),i={lex:{macros:{esc:"\\\\",int:r.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[r.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[r.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[r.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};a.readFileSync&&(i.moduleInclude=a.readFileSync(e.resolve("../include/module.js")),i.actionInclude=a.readFileSync(e.resolve("../include/action.js"))),t.exports=i},{"./dict":2,fs:12}],4:[function(e,t,n){var r=e("./aesprim"),a=e("./slice"),i=e("static-eval"),o=e("underscore").uniq,s=function(){return this.initialize.apply(this,arguments)};function c(t,n,a){var i=e("./index"),o=p(r.parse(n).body[0].expression,{"@":t.value}),s=a.replace(/\{\{\s*value\s*\}\}/g,o),c=i.nodes(t.value,s);return c.forEach((function(e){e.path=t.path.concat(e.path.slice(1))})),c}function l(e){return Array.isArray(e)}function u(e){return e&&!(e instanceof Array)&&e instanceof Object}function d(e){return function(t,n,r,a){var i=t.value,o=t.path,s=[],c=function(t,i){l(t)?(t.forEach((function(e,t){s.length>=a||r(t,e,n)&&s.push({path:i.concat(t),value:e})})),t.forEach((function(t,n){s.length>=a||e&&c(t,i.concat(n))}))):u(t)&&(this.keys(t).forEach((function(e){s.length>=a||r(e,t[e],n)&&s.push({path:i.concat(e),value:t[e]})})),this.keys(t).forEach((function(n){s.length>=a||e&&c(t[n],i.concat(n))})))}.bind(this);return c(i,o),s}}function h(e){return function(t,n,r){return this.descend(n,t.expression.value,e,r)}}function f(e){return function(t,n,r){return this.traverse(n,t.expression.value,e,r)}}function p(){try{return i.apply(this,arguments)}catch(e){}}function m(e){return e=e.filter((function(e){return e})),o(e,(function(e){return e.path.map((function(e){return String(e).replace("-","--")})).join("-")}))}function g(e){var t=String(e);return t.match(/^-?[0-9]+$/)?parseInt(t):null}s.prototype.initialize=function(){this.traverse=d(!0),this.descend=d()},s.prototype.keys=Object.keys,s.prototype.resolve=function(e){var t=[e.operation,e.scope,e.expression.type].join("-"),n=this._fns[t];if(!n)throw new Error("couldn't resolve key: "+t);return n.bind(this)},s.prototype.register=function(e,t){if(!t instanceof Function)throw new Error("handler must be a function");this._fns[e]=t},s.prototype._fns={"member-child-identifier":function(e,t){var n=e.expression.value,r=t.value;if(r instanceof Object&&n in r)return[{value:r[n],path:t.path.concat(n)}]},"member-descendant-identifier":f((function(e,t,n){return e==n})),"subscript-child-numeric_literal":h((function(e,t,n){return e===n})),"member-child-numeric_literal":h((function(e,t,n){return String(e)===String(n)})),"subscript-descendant-numeric_literal":f((function(e,t,n){return e===n})),"member-child-wildcard":h((function(){return!0})),"member-descendant-wildcard":f((function(){return!0})),"subscript-descendant-wildcard":f((function(){return!0})),"subscript-child-wildcard":h((function(){return!0})),"subscript-child-slice":function(e,t){if(l(t.value)){var n=e.expression.value.split(":").map(g),r=t.value.map((function(e,n){return{value:e,path:t.path.concat(n)}}));return a.apply(null,[r].concat(n))}},"subscript-child-union":function(e,t){var n=[];return e.expression.value.forEach((function(e){var r={operation:"subscript",scope:"child",expression:e.expression},a=this.resolve(r)(r,t);a&&(n=n.concat(a))}),this),m(n)},"subscript-descendant-union":function(t,n,r){var a=e(".."),i=this,o=[];return a.nodes(n,"$..*").slice(1).forEach((function(e){o.length>=r||t.expression.value.forEach((function(t){var n={operation:"subscript",scope:"child",expression:t.expression},r=i.resolve(n)(n,e);o=o.concat(r)}))})),m(o)},"subscript-child-filter_expression":function(e,t,n){var a=e.expression.value.slice(2,-1),i=r.parse(a).body[0].expression,o=function(e,t){return p(i,{"@":t})};return this.descend(t,null,o,n)},"subscript-descendant-filter_expression":function(e,t,n){var a=e.expression.value.slice(2,-1),i=r.parse(a).body[0].expression,o=function(e,t){return p(i,{"@":t})};return this.traverse(t,null,o,n)},"subscript-child-script_expression":function(e,t){return c(t,e.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(e,t){return c(t,e.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(e,t){return c(t,e.expression.value.slice(1,-1),"$..value")}},s.prototype._fns["subscript-child-string_literal"]=s.prototype._fns["member-child-identifier"],s.prototype._fns["member-descendant-numeric_literal"]=s.prototype._fns["subscript-descendant-string_literal"]=s.prototype._fns["member-descendant-identifier"],t.exports=s},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(e,t,n){var r=e("assert"),a=e("./dict"),i=e("./parser"),o=e("./handlers"),s=function(){this.initialize.apply(this,arguments)};function c(e){return"[object String]"==Object.prototype.toString.call(e)}s.prototype.initialize=function(){this.parser=new i,this.handlers=new o},s.prototype.parse=function(e){return r.ok(c(e),"we need a path"),this.parser.parse(e)},s.prototype.parent=function(e,t){r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path");var n=this.nodes(e,t)[0];return n.path.pop(),this.value(e,n.path)},s.prototype.apply=function(e,t,n){r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),r.equal(typeof n,"function","fn needs to be function");var a=this.nodes(e,t).sort((function(e,t){return t.path.length-e.path.length}));return a.forEach((function(t){var r=t.path.pop(),a=this.value(e,this.stringify(t.path)),i=t.value=n.call(e,a[r]);a[r]=i}),this),a},s.prototype.value=function(e,t,n){if(r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),arguments.length>=3){var a=this.nodes(e,t).shift();if(!a)return this._vivify(e,t,n);var i=a.path.slice(-1).shift();this.parent(e,this.stringify(a.path))[i]=n}return this.query(e,this.stringify(t),1).shift()},s.prototype._vivify=function(e,t,n){var a=this;r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path");var i=this.parser.parse(t).map((function(e){return e.expression.value})),o=function(t,n){var r=t.pop(),i=a.value(e,t);i||(o(t.concat(),"string"==typeof r?{}:[]),i=a.value(e,t)),i[r]=n};return o(i,n),this.query(e,t)[0]},s.prototype.query=function(e,t,n){return r.ok(e instanceof Object,"obj needs to be an object"),r.ok(c(t),"we need a path"),this.nodes(e,t,n).map((function(e){return e.value}))},s.prototype.paths=function(e,t,n){return r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),this.nodes(e,t,n).map((function(e){return e.path}))},s.prototype.nodes=function(e,t,n){if(r.ok(e instanceof Object,"obj needs to be an object"),r.ok(t,"we need a path"),0===n)return[];var a=this.parser.parse(t),i=this.handlers,o=[{path:["$"],value:e}],s=[];return a.length&&"root"==a[0].expression.type&&a.shift(),a.length?(a.forEach((function(e,t){if(!(s.length>=n)){var r=i.resolve(e),c=[];o.forEach((function(i){if(!(s.length>=n)){var o=r(e,i,n);t==a.length-1?s=s.concat(o||[]):c=c.concat(o||[])}})),o=c}})),n?s.slice(0,n):s):o},s.prototype.stringify=function(e){r.ok(e,"we need a path");var t="$",n={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(e=this._normalize(e)).forEach((function(e){if("root"!=e.expression.type){var r,a=[e.scope,e.operation].join("-"),i=n[a];if(r="string_literal"==e.expression.type?JSON.stringify(e.expression.value):e.expression.value,!i)throw new Error("couldn't find template "+a);t+=i.replace(/{{value}}/,r)}})),t},s.prototype._normalize=function(e){if(r.ok(e,"we need a path"),"string"==typeof e)return this.parser.parse(e);if(Array.isArray(e)&&"string"==typeof e[0]){var t=[{expression:{type:"root",value:"$"}}];return e.forEach((function(e,n){if("$"!=e||0!==n)if("string"==typeof e&&e.match("^"+a.identifier+"$"))t.push({operation:"member",scope:"child",expression:{value:e,type:"identifier"}});else{var r="number"==typeof e?"numeric_literal":"string_literal";t.push({operation:"subscript",scope:"child",expression:{value:e,type:r}})}})),t}if(Array.isArray(e)&&"object"==typeof e[0])return e;throw new Error("couldn't understand path "+e)},s.Handlers=o,s.Parser=i;var l=new s;l.JSONPath=s,t.exports=l},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(e,t,n){var r=e("./grammar"),a=e("../generated/parser"),i=function(){var e=new a.Parser,t=e.parseError;return e.yy.parseError=function(){e.yy.ast&&e.yy.ast.initialize(),t.apply(e,arguments)},e};i.grammar=r,t.exports=i},{"../generated/parser":1,"./grammar":3}],7:[function(e,t,n){function r(e){return String(e).match(/^[0-9]+$/)?parseInt(e):Number.isFinite(e)?parseInt(e,10):0}t.exports=function(e,t,n,a){if("string"==typeof t)throw new Error("start cannot be a string");if("string"==typeof n)throw new Error("end cannot be a string");if("string"==typeof a)throw new Error("step cannot be a string");var i=e.length;if(0===a)throw new Error("step cannot be zero");if(a=a?r(a):1,n=n<0?i+n:n,t=r(0===(t=t<0?i+t:t)?0:t||(a>0?0:i-1)),n=r(0===n?0:n||(a>0?i:-1)),t=a>0?Math.max(0,t):Math.min(i,t),n=a>0?Math.min(n,i):Math.max(-1,n),a>0&&n<=t)return[];if(a<0&&t<=n)return[];for(var o=[],s=t;s!=n&&!(a<0&&s<=n||a>0&&s>=n);s+=a)o.push(e[s]);return o}},{}],8:[function(e,t,n){var r=e("util/"),a=Array.prototype.slice,i=Object.prototype.hasOwnProperty,o=t.exports=d;function s(e,t){return r.isUndefined(t)?""+t:r.isNumber(t)&&!isFinite(t)||r.isFunction(t)||r.isRegExp(t)?t.toString():t}function c(e,t){return r.isString(e)?e.length<t?e:e.slice(0,t):e}function l(e){return c(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+c(JSON.stringify(e.expected,s),128)}function u(e,t,n,r,a){throw new o.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:a})}function d(e,t){e||u(e,!0,t,"==",o.ok)}function h(e,t){if(e===t)return!0;if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return r.isDate(e)&&r.isDate(t)?e.getTime()===t.getTime():r.isRegExp(e)&&r.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:r.isObject(e)||r.isObject(t)?p(e,t):e==t}function f(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function p(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(r.isPrimitive(e)||r.isPrimitive(t))return e===t;var n=f(e),i=f(t);if(n&&!i||!n&&i)return!1;if(n)return h(e=a.call(e),t=a.call(t));var o,s,c=y(e),l=y(t);if(c.length!=l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!=l[s])return!1;for(s=c.length-1;s>=0;s--)if(!h(e[o=c[s]],t[o]))return!1;return!0}function m(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function g(e,t,n,a){var i;r.isString(n)&&(a=n,n=null);try{t()}catch(e){i=e}if(a=(n&&n.name?" ("+n.name+").":".")+(a?" "+a:"."),e&&!i&&u(i,n,"Missing expected exception"+a),!e&&m(i,n)&&u(i,n,"Got unwanted exception"+a),e&&i&&n&&!m(i,n)||!e&&i)throw i}o.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,a=t.name,i=r.indexOf("\n"+a);if(i>=0){var o=r.indexOf("\n",i+1);r=r.substring(o+1)}this.stack=r}}},r.inherits(o.AssertionError,Error),o.fail=u,o.ok=d,o.equal=function(e,t,n){e!=t&&u(e,t,n,"==",o.equal)},o.notEqual=function(e,t,n){e==t&&u(e,t,n,"!=",o.notEqual)},o.deepEqual=function(e,t,n){h(e,t)||u(e,t,n,"deepEqual",o.deepEqual)},o.notDeepEqual=function(e,t,n){h(e,t)&&u(e,t,n,"notDeepEqual",o.notDeepEqual)},o.strictEqual=function(e,t,n){e!==t&&u(e,t,n,"===",o.strictEqual)},o.notStrictEqual=function(e,t,n){e===t&&u(e,t,n,"!==",o.notStrictEqual)},o.throws=function(e,t,n){g.apply(this,[!0].concat(a.call(arguments)))},o.doesNotThrow=function(e,t){g.apply(this,[!1].concat(a.call(arguments)))},o.ifError=function(e){if(e)throw e};var y=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t}},{"util/":11}],9:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],10:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],11:[function(e,t,r){(function(t,n){var a=/%[sdj%]/g;r.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])v(c)||!A(c)?o+=" "+c:o+=" "+s(c);return o},r.deprecate=function(e,a){if(S(n.process))return function(){return r.deprecate(e,a).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;function o(){if(!i){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),i=!0}return e.apply(this,arguments)}return o};var i,o={};function s(e,t){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(t)?n.showHidden=t:t&&r._extend(n,t),S(n.showHidden)&&(n.showHidden=!1),S(n.depth)&&(n.depth=2),S(n.colors)&&(n.colors=!1),S(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,e,n.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function d(e,t,n){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(n,e);return x(a)||(a=d(e,a,n)),a}var i=h(e,t);if(i)return i;var o=Object.keys(t),s=u(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),C(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(t);if(0===o.length){if(T(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(E(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(I(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return f(t)}var l,b="",v=!1,w=["{","}"];return y(t)&&(v=!0,w=["[","]"]),T(t)&&(b=" [Function"+(t.name?": "+t.name:"")+"]"),E(t)&&(b=" "+RegExp.prototype.toString.call(t)),I(t)&&(b=" "+Date.prototype.toUTCString.call(t)),C(t)&&(b=" "+f(t)),0!==o.length||v&&0!=t.length?n<0?E(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=v?p(e,t,n,s,o):o.map((function(r){return m(e,t,n,s,r,v)})),e.seen.pop(),g(l,b,w)):w[0]+b+w[1]}function h(e,t){if(S(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return k(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,a){for(var i=[],o=0,s=t.length;o<s;++o)R(t,String(o))?i.push(m(e,t,n,r,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(m(e,t,n,r,a,!0))})),i}function m(e,t,n,r,a,i){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),R(r,a)||(o="["+a+"]"),s||(e.seen.indexOf(c.value)<0?(s=v(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),S(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function g(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function v(e){return null===e}function w(e){return null==e}function k(e){return"number"==typeof e}function x(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function S(e){return void 0===e}function E(e){return A(e)&&"[object RegExp]"===B(e)}function A(e){return"object"==typeof e&&null!==e}function I(e){return A(e)&&"[object Date]"===B(e)}function C(e){return A(e)&&("[object Error]"===B(e)||e instanceof Error)}function T(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function B(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(S(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=y,r.isBoolean=b,r.isNull=v,r.isNullOrUndefined=w,r.isNumber=k,r.isString=x,r.isSymbol=_,r.isUndefined=S,r.isRegExp=E,r.isObject=A,r.isDate=I,r.isError=C,r.isFunction=T,r.isPrimitive=D,r.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",P(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(e,t,n){},{}],13:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){n=t+1;break}}else-1===r&&(a=!1,r=t+1);return-1===r?"":e.slice(n,r)}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,r="/"===o.charAt(0))}return(r?"/":"")+(n=t(a(n.split("/"),(function(e){return!!e})),!r).join("/"))||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===i(e,-1);return(e=t(a(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var a=r(e.split("/")),i=r(t.split("/")),o=Math.min(a.length,i.length),s=o,c=0;c<o;c++)if(a[c]!==i[c]){s=c;break}var l=[];for(c=s;c<a.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){r=i;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(a=!1,r=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){n=o+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i=function(e,t,n){return e.substr(t,n)}}).call(this,e("_process"))},{_process:14}],14:[function(e,t,n){var r,a,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function l(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var u,d=[],h=!1,f=-1;function p(){h&&u&&(h=!1,u.length?d=u.concat(d):f=-1,d.length&&m())}function m(){if(!h){var e=c(p);h=!0;for(var t=d.length;t;){for(u=d,d=[];++f<t;)u&&u[f].run();f=-1,t=d.length}u=null,h=!1,l(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||h||c(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],15:[function(e,t,n){var r=e("escodegen").generate;t.exports=function(e,t){t||(t={});var n={},a=function e(a,i){if("Literal"===a.type)return a.value;if("UnaryExpression"===a.type){var o=e(a.argument);return"+"===a.operator?+o:"-"===a.operator?-o:"~"===a.operator?~o:"!"===a.operator?!o:n}if("ArrayExpression"===a.type){for(var s=[],c=0,l=a.elements.length;c<l;c++){if((y=e(a.elements[c]))===n)return n;s.push(y)}return s}if("ObjectExpression"===a.type){var u={};for(c=0;c<a.properties.length;c++){var d=null===(b=a.properties[c]).value?b.value:e(b.value);if(d===n)return n;u[b.key.value||b.key.name]=d}return u}if("BinaryExpression"===a.type||"LogicalExpression"===a.type){if((l=e(a.left))===n)return n;var h=e(a.right);if(h===n)return n;var f=a.operator;return"=="===f?l==h:"==="===f?l===h:"!="===f?l!=h:"!=="===f?l!==h:"+"===f?l+h:"-"===f?l-h:"*"===f?l*h:"/"===f?l/h:"%"===f?l%h:"<"===f?l<h:"<="===f?l<=h:">"===f?l>h:">="===f?l>=h:"|"===f?l|h:"&"===f?l&h:"^"===f?l^h:"&&"===f?l&&h:"||"===f?l||h:n}if("Identifier"===a.type)return{}.hasOwnProperty.call(t,a.name)?t[a.name]:n;if("ThisExpression"===a.type)return{}.hasOwnProperty.call(t,"this")?t.this:n;if("CallExpression"===a.type){var p=e(a.callee);if(p===n)return n;if("function"!=typeof p)return n;var m=a.callee.object?e(a.callee.object):n;m===n&&(m=null);var g=[];for(c=0,l=a.arguments.length;c<l;c++){var y;if((y=e(a.arguments[c]))===n)return n;g.push(y)}return p.apply(m,g)}var b;if("MemberExpression"===a.type)return(u=e(a.object))===n||"function"==typeof u?n:"Identifier"===a.property.type?u[a.property.name]:(b=e(a.property))===n?n:u[b];if("ConditionalExpression"===a.type)return(o=e(a.test))===n?n:e(o?a.consequent:a.alternate);if("ExpressionStatement"===a.type)return(o=e(a.expression))===n?n:o;if("ReturnStatement"===a.type)return e(a.argument);if("FunctionExpression"===a.type){var v=a.body.body,w={};for(Object.keys(t).forEach((function(e){w[e]=t[e]})),c=0;c<a.params.length;c++){var k=a.params[c];if("Identifier"!=k.type)return n;t[k.name]=null}for(var c in v)if(e(v[c])===n)return n;t=w;var x=Object.keys(t),_=x.map((function(e){return t[e]}));return Function(x.join(", "),"return "+r(a)).apply(null,_)}if("TemplateLiteral"===a.type){var S="";for(c=0;c<a.expressions.length;c++)S+=e(a.quasis[c]),S+=e(a.expressions[c]);return S+=e(a.quasis[c])}if("TaggedTemplateExpression"===a.type){var E=e(a.tag),A=a.quasi,I=A.quasis.map(e),C=A.expressions.map(e);return E.apply(null,[I].concat(C))}return"TemplateElement"===a.type?a.value.cooked:n}(e);return a===n?void 0:a}},{escodegen:12}],jsonpath:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")},83465:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",d="[object Number]",h="[object Object]",f="[object Promise]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object Symbol]",b="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",D=/\w*$/,B=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,L={};L[i]=L["[object Array]"]=L[v]=L[w]=L[o]=L[s]=L[k]=L[x]=L[_]=L[S]=L[E]=L[u]=L[d]=L[h]=L[p]=L[m]=L[g]=L[y]=L[A]=L[I]=L[C]=L[T]=!0,L["[object Error]"]=L[c]=L[b]=!1;var P="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,R="object"==typeof self&&self&&self.Object===Object&&self,N=P||R||Function("return this")(),j=t&&!t.nodeType&&t,M=j&&e&&!e.nodeType&&e,z=M&&M.exports===j;function $(e,t){return e.set(t[0],t[1]),e}function F(e,t){return e.add(t),e}function U(e,t,n,r){var a=-1,i=e?e.length:0;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var V,Y=Array.prototype,G=Function.prototype,Z=Object.prototype,X=N["__core-js_shared__"],J=(V=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",Q=G.toString,ee=Z.hasOwnProperty,te=Z.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=z?N.Buffer:void 0,ae=N.Symbol,ie=N.Uint8Array,oe=W(Object.getPrototypeOf,Object),se=Object.create,ce=Z.propertyIsEnumerable,le=Y.splice,ue=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,he=W(Object.keys,Object),fe=Me(N,"DataView"),pe=Me(N,"Map"),me=Me(N,"Promise"),ge=Me(N,"Set"),ye=Me(N,"WeakMap"),be=Me(Object,"create"),ve=Ke(fe),we=Ke(pe),ke=Ke(me),xe=Ke(ge),_e=Ke(ye),Se=ae?ae.prototype:void 0,Ee=Se?Se.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){this.__data__=new Ie(e)}function De(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&qe(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var o in e)!t&&!ee.call(e,o)||a&&("length"==o||Fe(o,r))||n.push(o);return n}function Be(e,t,n){var r=e[t];ee.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Oe(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function Le(e,t,n,r,a,f,b){var B;if(r&&(B=f?r(e,a,f,b):r(e)),void 0!==B)return B;if(!Ge(e))return e;var O=We(e);if(O){if(B=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,B)}else{var P=$e(e),R=P==c||P==l;if(Ve(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(P==h||P==i||R&&!f){if(K(e))return f?e:{};if(B=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:(t=oe(e),Ge(t)?se(t):{});var t}(R?{}:e),!t)return function(e,t){return Ne(e,ze(e),t)}(e,function(e,t){return e&&Ne(t,Ze(t),e)}(B,e))}else{if(!L[P])return f?e:{};B=function(e,t,n,r){var a=e.constructor;switch(t){case v:return Re(e);case o:case s:return new a(+e);case w:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case k:case x:case _:case S:case E:case A:case I:case C:case T:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return U(t?n(H(e),!0):H(e),$,new e.constructor)}(e,r,n);case d:case g:return new a(e);case p:return function(e){var t=new e.constructor(e.source,D.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return U(t?n(q(e),!0):q(e),F,new e.constructor)}(e,r,n);case y:return i=e,Ee?Object(Ee.call(i)):{}}var i}(e,P,Le,t)}}b||(b=new Te);var N=b.get(e);if(N)return N;if(b.set(e,B),!O)var j=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Ze,ze)}(e):Ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(a,i){j&&(a=e[i=a]),Be(B,i,Le(a,t,n,r,i,e,b))})),B}function Pe(e){return!(!Ge(e)||(t=e,J&&J in t))&&(Ye(e)||K(e)?ne:B).test(Ke(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Ne(e,t,n,r){n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],s=r?r(n[o],e[o],o,n,e):void 0;Be(n,o,void 0===s?e[o]:s)}return n}function je(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=be?be(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?r:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Oe(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=Oe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ae,map:new(pe||Ie),string:new Ae}},Ce.prototype.delete=function(e){return je(this,e).delete(e)},Ce.prototype.get=function(e){return je(this,e).get(e)},Ce.prototype.has=function(e){return je(this,e).has(e)},Ce.prototype.set=function(e,t){return je(this,e).set(e,t),this},Te.prototype.clear=function(){this.__data__=new Ie},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var ze=ue?W(ue,Object):function(){return[]},$e=function(e){return te.call(e)};function Fe(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Ke(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(fe&&$e(new fe(new ArrayBuffer(1)))!=w||pe&&$e(new pe)!=u||me&&$e(me.resolve())!=f||ge&&$e(new ge)!=m||ye&&$e(new ye)!=b)&&($e=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ke(n):void 0;if(r)switch(r){case ve:return w;case we:return u;case ke:return f;case xe:return m;case _e:return b}return t});var We=Array.isArray;function qe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!Ye(e)}var Ve=de||function(){return!1};function Ye(e){var t=Ge(e)?te.call(e):"";return t==c||t==l}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){return qe(e)?De(e):function(e){if(!Ue(e))return he(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Le(e,!0,!0)}},31528:function(e,t){var n,r,a;!function(i,o){"use strict";"object"==typeof e.exports?e.exports=o():(r=[],void 0===(a="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=a))}(0,(function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(a(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function r(t){return e.call(t)}var a=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){var t=parseInt(e);return t.toString()===e?t:e}function o(e){var o,s,c=function(e){return Object.keys(c).reduce((function(t,n){return"create"===n||"function"==typeof c[n]&&(t[n]=c[n].bind(c,e)),t}),{})};function l(e,t){if(o(e,t))return e[t]}function u(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return u(e,t.split(".").map(i),n,r);var a=t[0],o=s(e,a);return 1===t.length?(void 0!==o&&r||(e[a]=n),o):(void 0===o&&("number"==typeof t[1]?e[a]=[]:e[a]={}),u(e[a],t.slice(1),n,r))}return o=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,n){return"number"==typeof n&&Array.isArray(e)||t(e,n)},s=e.includeInheritedProps?function(e,t){"string"!=typeof t&&"number"!=typeof t&&(t=String(t));var n=l(e,t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof n)throw new Error("For security reasons, object's magic properties cannot be set");return n}:function(e,t){return l(e,t)},c.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var o=0;o<r.length;o++){var s=i(r[o]);if(!("number"==typeof s&&a(n)&&s<n.length||(e.includeInheritedProps?s in Object(n):t(n,s))))return!1;n=n[s]}return!0},c.ensureExists=function(e,t,n){return u(e,t,n,!0)},c.set=function(e,t,n,r){return u(e,t,n,r)},c.insert=function(e,t,n,r){var i=c.get(e,t);r=~~r,a(i)||(i=[],c.set(e,t,i)),i.splice(r,0,n)},c.empty=function(e,t){var i,s;if(!n(t)&&(null!=e&&(i=c.get(e,t)))){if("string"==typeof i)return c.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}(i))return c.set(e,t,!1);if("number"==typeof i)return c.set(e,t,0);if(a(i))i.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===r(e)}(i))return c.set(e,t,null);for(s in i)o(i,s)&&delete i[s]}}},c.push=function(e,t){var n=c.get(e,t);a(n)||(n=[],c.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},c.coalesce=function(e,t,n){for(var r,a=0,i=t.length;a<i;a++)if(void 0!==(r=c.get(e,t[a])))return r;return n},c.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return c.get(e,t.split("."),n);var r=i(t[0]),a=s(e,r);return void 0===a?n:1===t.length?a:c.get(e[r],t.slice(1),n)},c.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return c.del(e,t.split("."));var r=i(t[0]);return s(e,r),o(e,r)?1!==t.length?c.del(e[r],t.slice(1)):(a(e)?e.splice(r,1):delete e[r],e):e},c}var s=o();return s.create=o,s.withInheritedProps=o({includeInheritedProps:!0}),s}))},57460:function(e,t){var n,r,a;
/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/r=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),a={},i=0,o={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(k(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!k(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var c=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),c=new t.Worker(s);return c.onmessage=g,c.id=i++,a[c.id]=c}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=k(r.step),r.chunk=k(r.chunk),r.complete=k(r.complete),r.error=k(r.error),delete r.worker,void c.postMessage({input:n,config:r,workerId:c.id})}var f=null;return o.NODE_STREAM_INPUT,"string"==typeof n?f=r.download?new l(r):new d(r):!0===n.readable&&k(n.read)&&k(n.on)?f=new h(r):(t.File&&n instanceof File||n instanceof Object)&&(f=new u(r)),f.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",i="\r\n",s='"',c=s+s,l=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,l);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,l)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(s&&r){for(var l=0;l<e.length;l++)0<l&&(o+=a),o+=m(e[l],l);0<t.length&&(o+=i)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,h=!1,f=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var p=[],g=0;g<d;g++){var y=c?e[g]:g;p.push(t[u][y])}h=""===p.join("").trim()}if(!h){for(var b=0;b<d;b++){0<b&&!f&&(o+=a);var v=s&&c?e[b]:b;o+=m(t[u][v],b)}u<t.length-1&&(!n||0<d&&!f)&&(o+=i)}}return o}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var i=e.toString().replace(h,c);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(i,o.BAD_DELIMITERS)||-1<i.indexOf(a)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?s+i+s:i}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=f,o.NetworkStreamer=l,o.FileStreamer=u,o.StringStreamer=d,o.ReadableStreamStreamer=h,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:s.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,c,l=r[0];if(k(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=l.file,a=l.inputElem,c=u.reason,void(k(e.error)&&e.error({name:t},n,a,c));if("skip"===u.action)return void i();"object"==typeof u.config&&(l.instanceConfig=s.extend(l.instanceConfig,u.config))}else if("skip"===u)return void i()}var d=l.instanceConfig.complete;l.instanceConfig.complete=function(e){k(d)&&d(e,l.file,l.inputElem),i()},o.parse(l.file,l.instanceConfig)}else k(e.complete)&&e.complete()}function i(){r.splice(0,1),a()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var s=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=s.meta.cursor;this._finished||(this._partialLine=i.substring(c-this._baseIndex),this._baseIndex=c),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:o.WORKER_ID,finished:l});else if(k(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!k(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){k(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),c.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){c.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,a=Math.pow(2,53),i=-a,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,l=this,u=0,d=0,h=!1,f=!1,g=[],y={data:[],errors:[],meta:{}};if(k(e.step)){var b=e.step;e.step=function(t){if(y=t,_())x();else{if(x(),0===y.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(y.data=y.data[0],b(y,l))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function x(){return y&&r&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(y.data=y.data.filter((function(e){return!w(e)}))),_()&&function(){if(y)if(Array.isArray(y.data[0])){for(var t=0;_()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){k(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!y||!e.header&&!e.dynamicTyping&&!e.transform)return y;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var i=r,o=t[r];e.header&&(i=r>=g.length?"__parsed_extra":g[r]),e.transform&&(o=e.transform(o,i)),o=S(i,o),"__parsed_extra"===i?(a[i]=a[i]||[],a[i].push(o)):a[i]=o}return e.header&&(r>g.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),a}var n=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(t),n=y.data.length):y.data=t(y.data,0),e.header&&y.meta&&(y.meta.fields=g),d+=n,y}()}function _(){return e.header&&0===g.length}function S(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(i<t&&t<a)return!0}return!1}(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var r}function E(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),y.errors.push(a)}this.parse=function(a,i,s){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),i=1<a.length&&a[0].length<r[0].length;if(1===r.length||i)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(a,c)),r=!1,e.delimiter)k(e.delimiter)&&(e.delimiter=e.delimiter(a),y.meta.delimiter=e.delimiter);else{var l=function(t,n,r,a,i){var s,c,l,u;i=i||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<i.length;d++){var h=i[d],f=0,p=0,g=0;l=void 0;for(var y=new m({comments:a,delimiter:h,newline:n,preview:10}).parse(t),b=0;b<y.data.length;b++)if(r&&w(y.data[b]))g++;else{var v=y.data[b].length;p+=v,void 0!==l?0<v&&(f+=Math.abs(v-l),l=v):l=v}0<y.data.length&&(p/=y.data.length-g),(void 0===c||f<=c)&&(void 0===u||u<p)&&1.99<p&&(c=f,s=h,u=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);l.successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),y.meta.delimiter=e.delimiter}var u=v(e);return e.preview&&e.header&&u.preview++,t=a,n=new m(u),y=n.parse(t,i,s),x(),h?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=k(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(h=!1,l.streamer.parseChunk(t,!0)):setTimeout(l.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),y.meta.aborted=!0,k(e.complete)&&e.complete(y),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,i=e.step,s=e.preview,c=e.fastMode,l=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(l=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<o.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(e,o,h){if("string"!=typeof e)throw new Error("Input must be a string");var f=e.length,m=n.length,g=r.length,y=a.length,b=k(i),v=[],w=[],x=[],_=u=0;if(!e)return N();if(c||!1!==c&&-1===e.indexOf(t)){for(var S=e.split(r),E=0;E<S.length;E++){if(x=S[E],u+=x.length,E!==S.length-1)u+=r.length;else if(h)return N();if(!a||x.substring(0,y)!==a){if(b){if(v=[],O(x.split(n)),j(),d)return N()}else O(x.split(n));if(s&&s<=E)return v=v.slice(0,s),N(!0)}}return N()}for(var A=e.indexOf(n,u),I=e.indexOf(r,u),C=new RegExp(p(l)+p(t),"g"),T=e.indexOf(t,u);;)if(e[u]!==t)if(a&&0===x.length&&e.substring(u,u+y)===a){if(-1===I)return N();u=I+g,I=e.indexOf(r,u),A=e.indexOf(n,u)}else if(-1!==A&&(A<I||-1===I))x.push(e.substring(u,A)),u=A+m,A=e.indexOf(n,u);else{if(-1===I)break;if(x.push(e.substring(u,I)),R(I+g),b&&(j(),d))return N();if(s&&v.length>=s)return N(!0)}else for(T=u,u++;;){if(-1===(T=e.indexOf(t,T+1)))return h||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:u}),P();if(T===f-1)return P(e.substring(u,T).replace(C,t));if(t!==l||e[T+1]!==l){if(t===l||0===T||e[T-1]!==l){-1!==A&&A<T+1&&(A=e.indexOf(n,T+1)),-1!==I&&I<T+1&&(I=e.indexOf(r,T+1));var D=L(-1===I?A:Math.min(A,I));if(e.substr(T+1+D,m)===n){x.push(e.substring(u,T).replace(C,t)),e[u=T+1+D+m]!==t&&(T=e.indexOf(t,u)),A=e.indexOf(n,u),I=e.indexOf(r,u);break}var B=L(I);if(e.substring(T+1+B,T+1+B+g)===r){if(x.push(e.substring(u,T).replace(C,t)),R(T+1+B+g),A=e.indexOf(n,u),T=e.indexOf(t,u),b&&(j(),d))return N();if(s&&v.length>=s)return N(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:u}),T++}}else T++}return P();function O(e){v.push(e),_=u}function L(t){var n=0;if(-1!==t){var r=e.substring(T+1,t);r&&""===r.trim()&&(n=r.length)}return n}function P(t){return h||(void 0===t&&(t=e.substring(u)),x.push(t),u=f,O(x),b&&j()),N()}function R(t){u=t,O(x),x=[],I=e.indexOf(r,u)}function N(e){return{data:v,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:_+(o||0)}}}function j(){i(N()),v=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(k(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else k(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=a[e];k(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function b(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=v(e[n]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function k(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(c.prototype)).constructor=l,(u.prototype=Object.create(c.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(c.prototype)).constructor=h,o},void 0===(a="function"==typeof n?n.apply(t,r):n)||(e.exports=a)},32957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={webOrigin:["https://www.automa.site","https://www.automa.vercel.app","http://localhost:3000"],baseApiUrl:"https://api.automa.site/v1"}},98101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(93150),a=n.n(r),i=n(92732);const o=async function(e){try{const t={data:"",nextBlockId:this.getBlockConnections(e.id)};if(this.activeTab.id)return await a().tabs.update(this.activeTab.id,{active:!0}),t;const[n]=await a().tabs.query({active:!0,currentWindow:!0});if(!n?.url.startsWith("http")){const e=new Error("invalid-active-tab");throw e.data={url:n.url},e}if(this.activeTab={...this.activeTab,frameId:0,id:n.id,url:n.url},this.windowId=n.windowId,this.settings.debugMode&&(await(0,i.xq)(n.id,this.activeTab.id),this.debugAttached=!0),this.preloadScripts.length>0){const e=this.preloadScripts.map((e=>this._sendMessageToTab(e)));await Promise.allSettled(e)}return t}catch(e){throw console.error(e),e.data=e.data||{},e}}},22757:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function({data:e,id:t},{prevBlockData:n}){return new Promise((r=>{const a=this.getBlockConnections(t);if(0===e.blocks.length)return void r({nextBlockId:a,data:n});const{blocks:i,connections:o}=e.blocks.reduce(((n,r,a)=>{const i=e.blocks[a+1]?.itemId;if(n.blocks[r.itemId]={label:r.id,data:r.data,id:i?r.itemId:t},i){const e=`${r.itemId}-output-1`;n.connections[e]||(n.connections[e]=[]),n.connections[e].push(i)}return n}),{blocks:{},connections:{}});Object.assign(this.engine.blocks,i),Object.assign(this.engine.connectionsMap,o),r({data:n,nextBlockId:[e.blocks[0].itemId]})}))}},1373:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(93150),a=n.n(r),i=n(31263);function o(e,t){return(n,r)=>new Promise((a=>{let i=!1;const o=s=>{i||t&&!t(s,{data:n,activeTab:r})||(e.removeListener(o),a(s))};setTimeout((()=>{i=!0,e.removeListener(o),a("")}),n.timeout||1e4),e.addListener(o)}))}const s=({url:e},{data:t})=>{if(!(0,i.cb)(t.tabUrl)){if(!new RegExp(t.tabUrl,"gi").test(e))return!1}return!0},c={"tab:loaded":function({tabLoadedUrl:e,activeTabLoaded:t,timeout:n},{id:r}){return new Promise(((o,s)=>{let c=!1;const l=()=>{c||(r?a().tabs.get(r).then((e=>{"complete"!==e.status?setTimeout(l,1e3):o()})).catch(s):s(new Error("no-tab")))},u=(0,i.cb)(e)?"<all_urls>":e.replace(/\s/g,"").split(","),d=()=>{a().tabs.query({url:u,status:"loading"}).then((e=>{c||(0!==e.length?setTimeout(d,1e3):o())})).catch(s)};t?l():d(),setTimeout((()=>{c=!0,s(new Error("timeout"))}),n||1e4)}))},"tab:close":o(a().tabs.onRemoved),"tab:create":o(a().webNavigation.onCreatedNavigationTarget,s),"window:create":o(a().webNavigation.onCreatedNavigationTarget,s),"window:close":o(a().windows.onRemoved)};async function l({data:e,id:t}){const n=c[e.eventName];if(!n)throw new Error(`Can't find ${e.eventName} event`);const r=await n(e,this.activeTab);return"tab:create"===e.eventName&&e.setAsActiveTab&&(this.activeTab.id=r.tabId,this.activeTab.url=r.url),{data:r||"",nextBlockId:this.getBlockConnections(t)}}},34348:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(93150),a=n.n(r);function i(e,t){const n=document.createElement("textarea");return document.body.appendChild(n),"paste"===e?(n.focus(),document.execCommand("paste"),t=n.value):"copy"===e&&(n.value=t,n.select(),document.execCommand("copy"),n.blur()),n.remove(),t}async function o({data:e,id:t,label:n}){if(!await a().permissions.contains({permissions:["clipboardRead"]}))throw new Error("no-clipboard-acces");let r="";if(e.type&&"get"!==e.type){if("insert"===e.type){let a="";if(e.copySelectedText){if(!this.activeTab.id)throw new Error("no-tab");a=await this._sendMessageToTab({id:t,label:n})}else a=e.dataToCopy;r=a,i("copy",a)}}else{const t=i("paste");r=t,e.assignVariable&&this.setVariable(e.variableName,t),e.saveData&&this.addDataToColumn(e.dataColumn,t)}return{data:r,nextBlockId:this.getBlockConnections(t)}}},9912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(93150),a=n.n(r);async function i({data:e,id:t}){return"window"===e.closeType?(await async function(e,t){const n=[];if(e.allWindows)(await a().windows.getAll()).forEach((({id:e})=>{n.push(e)}));else{let e;e=t&&"number"==typeof t?t:(await a().windows.getCurrent()).id,n.push(e)}await Promise.allSettled(n.map((e=>a().windows.remove(e))))}(e,this.windowId),this.windowId=null):(await async function(e,t){let n;e.activeTab&&t?n=t:e.url&&(n=(await a().tabs.query({url:e.url})).map((e=>e.id))),n&&await a().tabs.remove(n)}(e,this.activeTab.id),e.activeTab&&(this.activeTab.id=null)),{data:"",nextBlockId:this.getBlockConnections(t)}}},75624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const r={"==":(e,t)=>e===t,"!=":(e,t)=>e!==t,">":(e,t)=>e>t,">=":(e,t)=>e>=t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,"()":(e,t)=>e?.includes(t)??!1};var a=n(7335),i=n(93325);const o=async function({data:e,id:t},{prevBlockData:n,refData:o}){if(0===e.conditions.length)throw new Error("conditions-empty");let s="",c=!1,l="fallback";const u={},d=e.conditions[0],h=Array.isArray(n)?n[0]:n;if(d&&d.conditions){const n={refData:o,activeTab:this.activeTab.id,sendMessage:e=>this._sendMessageToTab({...e.data,label:"conditions",id:t})},r=await function(e,t){return new Promise(((n,r)=>{let a=1;const o={},s=async()=>{try{for(let r=0;r<e.conditions.length;r+=1){const a=await(0,i.Z)(e.conditions[r].conditions,t);if(Object.assign(o,a?.replacedValue||{}),a.isMatch)return void n({match:!0,index:r,replacedValue:o})}e.retryConditions&&a<=e.retryCount?(a+=1,setTimeout((()=>{s()}),e.retryTimeout)):n({match:!1,replacedValue:o})}catch(e){r(e)}};s()}))}(e,n);r.replacedValue&&Object.assign(u,r.replacedValue),r.match&&(c=!0,l=e.conditions[r.index].id)}else e.conditions.forEach((({type:e,value:t,compareValue:n,id:i})=>{if(c)return;const d=(0,a.ZP)(n??h,o).value,f=(0,a.ZP)(t,o).value;Object.assign(u,d.list,f.list);const p=function(e,t,n){const a=r[e];return!!a&&a(t,n)}(e,d.value,f.value);p&&(l=i,s=t,c=!0)}));return{replacedValue:u,data:s,nextBlockId:this.getBlockConnections(t,l)}}},72267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(93150),a=n.n(r);const i={get:["name","url"],remove:["name","url"],getAll:["domain","name","path","secure","url"],set:["name","url","expirationDate","domain","path","sameSite","secure","url","value","httpOnly"]};const o=async function({data:e,id:t}){if(!await a().permissions.contains({permissions:["cookies"]})){const e=new Error("no-permission");throw e.data={permission:"cookies"},e}let n=e.type;"get"===n&&e.getAll&&(n="getAll");const r=function(e,t){const n={};return t.forEach((t=>{const r=e[t];r&&(n[t]=r)})),n}(e,i[n]);r.expirationDate&&(r.expirationDate=Date.now()/1e3+ +r.expirationDate);const o=await a().cookies[n](r);return"get"===e.type&&(e.assignVariable&&this.setVariable(e.variableName,o),e.saveData&&this.addDataToColumn(e.dataColumn,o)),{data:o,nextBlockId:this.getBlockConnections(t)}}},29541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=async function(e,{refData:t}){if(!this.activeTab.id)throw new Error("no-tab");const{data:n}=e,r=(await Promise.allSettled(n.preloadScripts.map((e=>e.src.startsWith("http")?fetch(e.src).then((e=>e.text())).then((t=>({type:e.type,script:t}))):Promise.reject(new Error("Invalid URL")))))).reduce(((e,t)=>("rejected"===t.status||e.push(t.value),e)),[]);n.preloadScripts=r;const a={...e,data:n,refData:{variables:{}}};return n.javascript.includes("automaRefData")&&(a.refData={...t,secrets:{}}),await this._sendMessageToTab(a,{},n.runBeforeLoad??!1),{data:"",nextBlockId:this.getBlockConnections(e.id)}}},36821:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dataMapping:()=>s,default:()=>c});var r=n(31528),a=n.n(r),i=n(31263);function o(e,t){const n={};return t.forEach((t=>{if(!a().has(e,t.name))return;const r=a().get(e,t.name);t.destinations.forEach((({name:e})=>{a().set(n,e,r)}))})),n}async function s({id:e,data:t}){let n=null;if("table"===t.dataSource)n=this.engine.referenceData.table;else if("variable"===t.dataSource){const{variables:e}=this.engine.referenceData;if(!(0,i.aX)(e,t.varSourceName))throw new Error(`Cant find "${t.varSourceName}" variable`);n=e[t.varSourceName]}if(!(0,i.Kn)(n)&&!Array.isArray(n)){throw new Error(`Can't map data with "${null===n?"null":typeof n}" data type`)}return n=(0,i.Kn)(n)?o(n,t.sources):n.map((e=>o(e,t.sources))),t.assignVariable&&this.setVariable(t.variableName,n),t.saveData&&this.addDataToColumn(t.dataColumn,n),{data:n,nextBlockId:this.getBlockConnections(e)}}const c=s},90320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){return new Promise((t=>{const n=+e.data.time||500;setTimeout((()=>{t({data:"",nextBlockId:this.getBlockConnections(e.id)})}),n)}))}},6724:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function({data:e,id:t}){return new Promise((n=>{e.deleteList.forEach((e=>{if("table"===e.type)if("[all]"===e.columnId)this.engine.referenceData.table=[],Object.keys(this.engine.columns).forEach((e=>{this.engine.columns[e].index=0}));else{const t=this.engine.columns[e.columnId].name;this.engine.referenceData.table.forEach(((e,n)=>{const r=this.engine.referenceData.table[n];delete r[t],r&&0!==Object.keys(r).length||(this.engine.referenceData.table[n]={})})),this.engine.columns[e.columnId].index=0}else e.variableName&&delete this.engine.referenceData.variables[e.variableName]})),n({data:"",nextBlockId:this.getBlockConnections(t)})}))}},38625:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){return new Promise(((t,n)=>{this._sendMessageToTab(e).then((r=>{if(!r&&e.data.throwError){const t=new Error("element-not-found");return t.data={selector:e.data.selector},void n(t)}t({data:r,nextBlockId:this.getBlockConnections(e.id,r?1:2)})})).catch((e=>{n(e)}))}))}},79715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(93150),a=n.n(r),i=n(31263),o=n(82070),s=n(77881),c=n(19356);const l=async function({id:e,data:t}){if(""===t.workflowId)throw new Error("empty-workflow");const{workflows:n}=await a().storage.local.get("workflows");let r=Array.isArray(n)?n.find((({id:e})=>e===t.workflowId)):n[t.workflowId];if(!r){const e=new Error("no-workflow");throw e.data={workflowId:t.workflowId},e}r=(0,s.Z)(r);const l={variables:{}};if((0,i.cb)(t.globalData)||(l.globalData=t.globalData),t.insertAllVars)l.variables=JSON.parse(JSON.stringify(this.engine.referenceData.variables));else if(t.insertVars){t.insertVars.split(",").forEach((e=>{const t=e.trim(),n=this.engine.referenceData.variables[t];(n||"boolean"==typeof n)&&(l.variables[t]=n)}))}const u={options:{data:l,parentWorkflow:{id:this.engine.id,name:this.engine.workflow.name}},events:{onInit:e=>{this.childWorkflowId=e.id},onDestroyed:e=>{if(t.executeId){const{dataColumns:n,globalData:r,googleSheets:a,table:i}=e.referenceData;this.engine.referenceData.workflow[t.executeId]={globalData:r,dataColumns:n,googleSheets:a,table:i||n}}}},states:this.engine.states,logger:this.engine.logger,blocksHandler:this.engine.blocksHandler};if(r.drawflow.nodes.some((e=>"execute-workflow"===e.label&&e.data.workflowId===this.engine.workflow.id)))throw new Error("workflow-infinite-loop");const d=await function(e,t){return new Promise(((n,r)=>{if(e.isProtected&&!(0,i.Rx)(e.drawflow,null)){const t=(0,o.c)(e.pass);e.drawflow=(0,o.Z)(e,t)}const a=new c.Z(e,t);a.init(),a.on("destroyed",(({id:e,status:i,message:o})=>{if(t.events.onDestroyed(a),"error"===i){const t=new Error(o);return t.data={logId:e},void r(t)}n({id:e,status:i,message:o})})),t.events.onInit(a)}))}(r,u);return{data:"",logId:d.id,nextBlockId:this.getBlockConnections(e)}}},20613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(93150),a=n.n(r),i=n(57460),o=n.n(i),s=n(31263);const c={"plain-text":{mime:"text/plain",ext:".txt"},json:{mime:"application/json",ext:".json"},csv:{mime:"text/csv",ext:".csv"}};function l(e,{name:t,type:n,addBOMHeader:r,csvOptions:a,returnUrl:i},l){let u=e;if("csv"===n||"json"===n){const t=l?e:function(e,t){if(Array.isArray(t))return t;const n=[];return e.forEach((e=>{for(let r=0;r<t[e].length;r+=1){const a=t[e][r];void 0===n[r]?n.push({[e]:a}):n[r][e]=a}})),n}(Object.keys(e),e);u="csv"===n?o().unparse(t,a||{}):JSON.stringify(t,null,2)}else if("plain-text"===n){const t=e=>"object"!=typeof e?[e]:Object.values(e);u=(Array.isArray(e)?e.flatMap((e=>t(e))):t(e)).join(" ")}const d=[u];"csv"===n&&r&&d.unshift(new Uint8Array([239,187,191]));const{mime:h,ext:f}=c[n],p=URL.createObjectURL(new Blob(d,{type:h}));return i||(0,s.AG)(`${t||"unnamed"}${f}`,p),p}const u=async function({data:e,id:t},{refData:n}){const r=e.dataToExport||"data-columns";let i=n.table;"google-sheets"===r?i=n.googleSheets[e.refKey]||[]:"variable"===r&&(i=n.variables[e.variableName]||[],Array.isArray(i)||(i=[i],"csv"===e.type&&"object"!=typeof i[0]&&(i=[i])));const o=await a().permissions.contains({permissions:["downloads"]}),s=l(i,{...e,csvOptions:{delimiter:e.csvDelimiter||","},returnUrl:o});if(o){const t={filename:`${e.name||"unnamed"}${c[e.type].ext}`,conflictAction:e.onConflict||"uniquify"};await a().downloads.download({...t,url:s})}return{data:"",nextBlockId:this.getBlockConnections(t)}}},71354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,goBack:()=>i});var r=n(93150),a=n.n(r);async function i({id:e}){if(!this.activeTab.id)throw new Error("no-tab");return await a().tabs.goForward(this.activeTab.id),{data:"",nextBlockId:this.getBlockConnections(e)}}const o=i},79309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,goBack:()=>i});var r=n(93150),a=n.n(r);async function i({id:e}){if(!this.activeTab.id)throw new Error("no-tab");return await a().tabs.goBack(this.activeTab.id),{data:"",nextBlockId:this.getBlockConnections(e)}}const o=i},98620:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(9924),a=n(31263);async function i({data:e,id:t},{refData:n}){if((0,a.cb)(e.spreadsheetId))throw new Error("empty-spreadsheet-id");if((0,a.cb)(e.range))throw new Error("empty-spreadsheet-range");let i=[];if("get"===e.type){const t=await async function({spreadsheetId:e,range:t,firstRowAsKey:n}){const i=await r.qH.getValues({spreadsheetId:e,range:t}),o=await i.json();if(!i.ok)throw new Error(o.message);return n?(0,a.Ac)(o.values):o.values}(e);i=t,e.refKey&&!(0,a.cb)(e.refKey)&&(n.googleSheets[e.refKey]=t)}else"getRange"===e.type?(i=await async function({spreadsheetId:e,range:t}){const n=await r.qH.getRange({spreadsheetId:e,range:t}),a=await n.json();if(!n.ok)throw new Error(a.message);return{tableRange:a.tableRange||null,lastRange:a.updates.updatedRange}}(e),e.assignVariable&&this.setVariable(e.variableName,i),e.saveData&&this.addDataToColumn(e.dataColumn,i)):["update","append"].includes(e.type)&&(i=await async function({range:e,append:t,dataFrom:n,customData:i,spreadsheetId:o,keysAsFirstRow:s,insertDataOption:c,valueInputOption:l},u){let d=[];["data-columns","table"].includes(n)?d=s?(0,a.ex)(u):u.map((e=>Object.values(e).map((e=>"object"==typeof e?JSON.stringify(e):e)))):"custom"===n&&(d=(0,a.Rx)(i,i));const h={valueInputOption:l||"RAW"};t&&Object.assign(h,{includeValuesInResponse:!1,insertDataOption:c||"INSERT_ROWS"});const f=await r.qH.updateValues({range:e,append:t,spreadsheetId:o,options:{queries:h,body:JSON.stringify({values:d})}});if(!f.ok){const e=await f.json();throw new Error(e.message)}}({...e,append:"append"===e.type},n.table));return{data:i,nextBlockId:this.getBlockConnections(t)}}},92934:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(92732);const a=async function({data:e,id:t}){if(this.settings.debugMode){this.dialogParams={accept:e.accept,promptText:e.promptText};const t="Page.javascriptDialogOpening";this.engine.eventListeners[t]||this.engine.on(t,(()=>{(0,r.k)(this.activeTab.id,"Page.handleJavaScriptDialog",this.dialogParams)}))}else{if(!this.preloadScripts.some((({id:e})=>e===t))){const r={id:t,isBlock:!0,name:"javascript-code",data:{everyNewTab:!0,code:(n=e.accept,a=e.promptText,`\n  const realConfirm = window.confirm;\n  window.confirm = function() {\n    return ${n};\n  };\n\n  const realAlert = window.alert;\n  window.alert = function() {\n    return ${n};\n  };\n\n  const realPrompt = window.prompt;\n  window.prompt = function() {\n    return ${n} ? "${a}" : null;\n  }\n`)}};this.preloadScripts.push(r),await this._sendMessageToTab(r,{},!0)}}var n,a;return{data:"",nextBlockId:this.getBlockConnections(t)}}},90297:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(93150),a=n.n(r);const i=e=>/(?:\.([^.]+))?$/.exec(e)[1];function o(e,t){const n=JSON.parse(sessionStorage.getItem("rename-downloaded-files"))||{},r=n[e.id];if(!r)return!0;if(!i(r.filename)){const t=i(e.filename);r.filename+=`.${t}`}return r.waitForDownload||delete n[e.id],sessionStorage.setItem("rename-downloaded-files",JSON.stringify(n)),t({filename:r.filename,conflictAction:r.onConflict}),!1}const s=function({data:e,id:t}){const n=this.getBlockConnections(t),r=()=>JSON.parse(sessionStorage.getItem("rename-downloaded-files"))||{};return new Promise((t=>{if(!this.activeTab.id)throw new Error("no-tab");chrome.downloads.onDeterminingFilename.hasListeners((()=>{}))||chrome.downloads.onDeterminingFilename.addListener(o);let i=null;const s=({id:t})=>{if(i)return;const n=r();i=t,n[t]=e,sessionStorage.setItem("rename-downloaded-files",JSON.stringify(n)),a().downloads.onCreated.removeListener(s)};if(a().downloads.onCreated.addListener(s),!e.waitForDownload)return void t({nextBlockId:n,data:e.filename});let c=!1,l=e.filename;const u=setTimeout((()=>{c||(c=!0,t({nextBlockId:n,data:l}))}),e.timeout),d=a=>{e.saveData&&this.addDataToColumn(e.dataColumn,l),e.assignVariable&&this.setVariable(e.variableName,l),clearTimeout(u),c=!0;const i=r();delete i[a],sessionStorage.setItem("rename-downloaded-files",JSON.stringify(i)),chrome.downloads.onDeterminingFilename.removeListener(o),t({nextBlockId:n,data:l})},h=({state:e,id:t,filename:n})=>{this.engine.isDestroyed||c?a().downloads.onChanged.removeListener(h):i===t&&(n&&(l=n.current),e&&"complete"===e.current?d(t):a().downloads.search({id:t}).then((([e])=>{e&&e.endTime&&d(t)})))};a().downloads.onChanged.addListener(h)}))}},31375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,hoverElement:()=>a});var r=n(92732);async function a(e){if(!this.activeTab.id)throw new Error("no-tab");const{debugMode:t,executedBlockOnWeb:n}=this.settings;return t||await(0,r.xq)(this.activeTab.id),await this._sendMessageToTab({...e,debugMode:t,executedBlockOnWeb:n,activeTabId:this.activeTab.id,frameSelector:this.frameSelector}),t||chrome.debugger.detach({tabId:this.activeTab.id}),{data:"",nextBlockId:this.getBlockConnections(e.id)}}const i=a},71203:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,increaseVariable:()=>i});var r=n(31528),a=n.n(r);async function i({id:e,data:t}){const n=this.engine.referenceData.variables;if(!a().has(n,t.variableName))throw new Error(`Cant find "${t.variableName}" variable`);const r=+a().get(n,t.variableName);if(Number.isNaN(r))throw new Error(`The "${t.variableName}" variable value is not a number`);return a().set(this.engine.referenceData.variables,t.variableName,r+t.increaseBy),{data:n[t.variableName],nextBlockId:this.getBlockConnections(e)}}const o=i},51523:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(31263),a=n(7335);const i=function({id:e,data:t},{refData:n}){return new Promise((i=>{const o={};t.dataList.forEach((({name:e,value:t,type:i})=>{const s=(0,a.ZP)(t,n),c=(0,r.Rx)(s.value,s.value);Object.assign(o,s.list),"table"===i?this.addDataToColumn(e,c):this.setVariable(e,c)})),i({data:"",replacedValue:o,nextBlockId:this.getBlockConnections(e)})}))}},1050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(93150),a=n.n(r),i=n(31263),o=n(92732);const s=async function(e){await async function(e){if("upload-file"===e){if(await a().extension.isAllowedFileSchemeAccess())return!0;throw new Error("no-file-access")}if("clipboard"===e&&!await a().permissions.contains({permissions:["clipboardRead"]}))throw new Error("no-clipboard-acces");return!0}(e.label);const t=(e.data.settings?.debugMode??!1)&&!this.settings.debugMode;try{t&&(await(0,o.xq)(this.activeTab.id),e.debugMode=!0);const n=await this._sendMessageToTab(e,{frameId:this.activeTab.frameId||0});if(e.data.saveData&&"forms"!==e.label||e.data.getValue&&e.data.saveData){const t=this.engine.columns[e.data.dataColumn]?.type||"any",r=t=>{this.addDataToColumn(e.data.dataColumn,t);(0,i.aX)(e.data,"extraRowDataColumn")&&e.data.addExtraRow&&this.addDataToColumn(e.data.extraRowDataColumn,e.data.extraRowValue)};Array.isArray(n)&&"array"!==t?n.forEach((e=>{r(e)})):r(n)}return e.data.assignVariable&&this.setVariable(e.data.variableName,n),t&&chrome.debugger.detach({tabId:this.activeTab.id}),{data:n,nextBlockId:this.getBlockConnections(e.id)}}catch(n){throw t&&chrome.debugger.detach({tabId:this.activeTab.id}),n.data={name:e.label,selector:e.data.selector},n}}},17340:(e,t,n)=>{"use strict";async function r({outputs:e,data:t,...n},{refData:r}){const a=this.getBlockConnections(n.id);if(t.everyNewTab){this.preloadScripts.find((({id:e})=>e===n.id))||this.preloadScripts.push({...n,data:t})}if(!this.activeTab.id){if(t.everyNewTab)return{data:"",nextBlockId:a};throw new Error("no-tab")}const i={...n,data:t,refData:{variables:{}}};t.code.includes("automaRefData")&&(i.refData={...r,secrets:{}}),t.code.includes("automaNextBlock")||(i.data.code+="\nautomaNextBlock()");const o=await this._sendMessageToTab(i,{},t.runBeforeLoad??!1);if(o){if(o.columns.data?.$error)throw new Error(o.columns.data.message);if(o.variables&&Object.keys(o.variables).forEach((e=>{this.setVariable(e,o.variables[e])})),o.columns.insert&&o.columns.data){const e=Array.isArray(o.columns.data)?o.columns.data:[o.columns.data];this.addDataToColumn(e)}}return{nextBlockId:a,data:o?.columns.data||{}}}n.r(t),n.d(t,{default:()=>a,javascriptCode:()=>r});const a=r},56147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,logData:()=>a});var r=n(57023);async function a({id:e,data:t}){if(!t.workflowId)throw new Error("No workflow is selected");const[n]=await r.Z.items.where("workflowId").equals(t.workflowId).reverse().sortBy("endedAt");let a=null;return n&&(a=(await r.Z.logsData.where("logId").equals(n.id).first()).data,t.assignVariable&&this.setVariable(t.variableName,a),t.saveData&&this.addDataToColumn(t.dataColumn,a)),{data:a,nextBlockId:this.getBlockConnections(e)}}const i=a},89232:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e,{prevBlockData:t}){const n=this.loopList[e.data.loopId];return new Promise((r=>{let a=!1;if(n&&(a="numbers"===n.type||n.index<=n.data.length-1),n&&n.index<n.maxLoop-1&&a)r({data:"",nextBlockId:[n.blockId]});else{if("elements"===n.type){const e=this.loopEls.findIndex((({blockId:e})=>e===n.blockId));-1!==e&&this.loopEls.splice(e,1)}delete this.loopList[e.data.loopId],delete this.engine.referenceData.loopData[e.data.loopId],r({data:t,nextBlockId:this.getBlockConnections(e.id)})}}))}},7822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(31263);const a=async function({data:e,id:t},{refData:n}){try{if(this.loopList[e.loopId]){const t=this.loopList[e.loopId].index+1;let r;this.loopList[e.loopId].index=t,r="numbers"===e.loopThrough?n.loopData[e.loopId].data+1:this.loopList[e.loopId].data[t],n.loopData[e.loopId]={data:r,$index:t}}else{const a=+e.maxLoop||0,i={numbers:()=>e.fromNumber,table:()=>n.table,"custom-data":()=>JSON.parse(e.loopData),"data-columns":()=>n.table,"google-sheets":()=>n.googleSheets[e.referenceKey],variable:()=>{const t=n.variables[e.variableName];return Array.isArray(t)?t:(0,r.Rx)(t,t)},elements:async()=>{const n=(0,r.mq)(e.elementSelector)?"xpath":"cssSelector",{elements:i,url:o,loopId:s}=await this._sendMessageToTab({id:t,label:"loop-data",data:{findBy:n,max:a,multiple:!0,selector:e.elementSelector,waitForSelector:e.waitForSelector??!1,waitSelectorTimeout:e.waitSelectorTimeout??5e3}});return this.loopEls.push({url:o,loopId:s,findBy:n,max:a,blockId:t,selector:e.elementSelector}),i}},o=await i[e.loopThrough]();let s=0;if("numbers"!==e.loopThrough){if(!Array.isArray(o))throw new Error("invalid-loop-data");e.resumeLastWorkflow?s=JSON.parse(localStorage.getItem(`index:${t}`))||0:e.startIndex>0&&(s=e.startIndex)}const c=a>=o.length?o.length:a||o.length;this.loopList[e.loopId]={index:s,blockId:t,id:e.loopId,data:o,type:e.loopThrough,maxLoop:"numbers"===e.loopThrough?e.toNumber+1-e.fromNumber:c},n.loopData[e.loopId]={data:"numbers"===e.loopThrough?e.fromNumber:o[s],$index:s}}return localStorage.setItem(`index:${t}`,this.loopList[e.loopId].index),{data:n.loopData[e.loopId],nextBlockId:this.getBlockConnections(t)}}catch(t){throw"elements"===e.loopThrough&&(t.data={selector:e.elementSelector}),t}}},52297:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(93150),a=n.n(r),i=n(31263),o=n(92732);const s=async function({id:e,data:t}){if(this.windowId)try{await a().windows.get(this.windowId)}catch(e){this.windowId=null}if(!/^https?/.test(t.url)){const e=new Error((0,i.cb)(t.url)?"url-empty":"invalid-active-tab");throw e.data={url:t.url},e}let n=null;if(n=t.updatePrevTab&&this.activeTab.id?await a().tabs.update(this.activeTab.id,{url:t.url,active:t.active}):await a().tabs.create({url:t.url,active:t.active,windowId:this.windowId}),this.activeTab.url=t.url,n&&((this.settings.debugMode||t.customUserAgent)&&(await(0,o.xq)(n.id,this.activeTab.id),this.debugAttached=!0,t.customUserAgent&&(await(0,o.k)(n.id,"Network.setUserAgentOverride",{userAgent:t.userAgent}),await a().tabs.reload(n.id),await(0,i._v)(1e3))),this.activeTab.id=n.id,this.windowId=n.windowId),t.inGroup&&!t.updatePrevTab){const e={groupId:this.activeTab.groupId,tabIds:this.activeTab.id};this.activeTab.groupId||(e.createProperties={windowId:this.windowId}),chrome.tabs.group(e,(e=>{this.activeTab.groupId=e}))}if(this.activeTab.frameId=0,!this.settings.debugMode&&t.customUserAgent&&chrome.debugger.detach({tabId:n.id}),this.preloadScripts.length>0){const e=this.preloadScripts.map((e=>this._sendMessageToTab(e,{},!0)));await Promise.allSettled(e)}return t.waitTabLoaded&&await(0,o.Hh)({listenError:!0,tabId:this.activeTab.id,ms:this.settings?.tabLoadTimeout??3e4}),{data:t.url,nextBlockId:this.getBlockConnections(e)}}},63439:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,newWindow:()=>o});var r=n(93150),a=n.n(r),i=n(92732);async function o({data:e,id:t}){const n={state:e.windowState,incognito:e.incognito,type:e.type||"normal"};"normal"===e.windowState&&["top","left","height","width"].forEach((t=>{e[t]<=0||(n[t]=e[t])})),e.url&&(n.url=e.url);const r=await a().windows.create(n);if(this.windowId=r.id,e.url){const[e]=r.tabs;this.settings.debugMode&&await(0,i.xq)(e.id,this.activeTab.id),this.activeTab.id=e.id,this.activeTab.url=e.url}return{data:r.id,nextBlockId:this.getBlockConnections(t)}}const s=o},31250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(53416),a=n(93150),i=n.n(a);async function o({data:e,id:t}){if(!await i().permissions.contains({permissions:["notifications"]})){const e=new Error("no-permission");throw e.data={permission:"notifications"},e}const n={title:e.title,message:e.message,iconUrl:i().runtime.getURL("icon-128.png")};return["iconUrl","imageUrl"].forEach((t=>{const r=e[t];r&&r.startsWith("http")&&(n[t]=r)})),await i().notifications.create((0,r.x0)(),{...n,type:n.imageUrl?"image":"basic"}),{data:"",nextBlockId:this.getBlockConnections(t)}}},31833:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(93150),a=n.n(r),i=n(31263);const o=function({data:e,id:t}){const n=this.getBlockConnections(t);return new Promise(((t,r)=>{e.clearProxy&&a().proxy.settings.clear({});const o={mode:"fixed_servers",rules:{singleProxy:{scheme:e.scheme},bypassList:(0,i.cb)(e.bypassList)?[]:e.bypassList.split(",")}};if((0,i.cb)(e.host)){if(e.clearProxy)return this.engine.isUsingProxy=!1,void t({data:"",nextBlockId:n});const a=new Error("invalid-proxy-host");return a.nextBlockId=n,void r(a)}{let t=e.host;if(/^https?|socks4|socks5/i.test(e.host)){const[n,r]=e.host.split(/:\/\/(.*)/);t=r,o.rules.singleProxy.scheme=n}o.rules.singleProxy.host=t}e.port&&!Number.isNaN(+e.port)&&(o.rules.singleProxy.port=+e.port),chrome.proxy.settings.set({value:o,scope:"regular"},(()=>{this.engine.isUsingProxy=!0,t({data:e.host,nextBlockId:n})}))}))}},42590:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,regexVariable:()=>i});var r=n(31528),a=n.n(r);async function i({id:e,data:t}){const n=this.engine.referenceData.variables;if(!a().has(n,t.variableName))throw new Error(`Cant find "${t.variableName}" variable`);const r=a().get(n,t.variableName);if("string"!=typeof r)throw new Error(`The value of the "${t.variableName}" variable is not a string/text`);const i=t.method||"match",o=new RegExp(t.expression,t.flag.join(""));let s="";if("match"===i){const e=r.match(o);s=e&&!t.flag.includes("g")?e[0]:e}else"replace"===i&&(s=r.replace(o,t.replaceVal??""));return a().set(this.engine.referenceData.variables,t.variableName,s),{data:s,nextBlockId:this.getBlockConnections(e)}}const o=i},67546:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,reloadTab:()=>i});var r=n(93150),a=n.n(r);async function i({id:e}){if(!this.activeTab.id)throw new Error("no-tab");return await a().tabs.reload(this.activeTab.id),{data:"",nextBlockId:this.getBlockConnections(e)}}const o=i},61701:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function({data:e,id:t}){return new Promise((n=>{this.repeatedTasks[t]>=e.repeatFor?(delete this.repeatedTasks[t],n({data:e.repeatFor,nextBlockId:this.getBlockConnections(t)})):(this.repeatedTasks[t]=(this.repeatedTasks[t]||1)+1,n({data:e.repeatFor,nextBlockId:this.getBlockConnections(t,2)}))}))}},85506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(93150),a=n.n(r);async function i({data:e,id:t,label:n}){if(!await a().permissions.contains({permissions:["downloads"]})){const e=new Error("no-permission");throw e.data={permission:"downloads"},e}let r=[e.url],i=0;const o=t=>{const n={url:t,conflictAction:e.onConflict};let r=e.filename||function(e){try{const t=new URL(e).pathname.split("/").pop();return/\.[0-9a-z]+$/i.test(t)?t:null}catch(e){return null}}(t);return r&&("overwrite"===e.onConflict&&0!==i&&(r=`(${i}) ${r}`),n.filename=r,i+=1),a().downloads.download(n)};return"element"===e.type?(r=await this._sendMessageToTab({id:t,data:e,label:n,tabId:this.activeTab.id}),await Promise.all(r.map((e=>o(e))))):"url"===e.type&&await o(e.url),{data:r,nextBlockId:this.getBlockConnections(t)}}},55932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,sliceData:()=>i});var r=n(31528),a=n.n(r);async function i({id:e,data:t}){const n=a().get(this.engine.referenceData.variables,t.variableName),r={data:n,nextBlockId:this.getBlockConnections(e)};if(!n||!n?.slice)return r;let i=0,o=n.length;t.startIdxEnabled&&(i=t.startIndex),t.endIdxEnabled&&(o=t.endIndex);const s=n.slice(i,o);return r.data=s,a().set(this.engine.referenceData.variables,t.variableName,s),r}const o=i},35852:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,sliceData:()=>a});var r=n(31263);async function a({id:e,data:t}){let n=null;if("table"===t.dataSource)n=this.engine.referenceData.table;else if("variable"===t.dataSource){const{variables:e}=this.engine.referenceData;if(!(0,r.aX)(e,t.varSourceName))throw new Error(`Cant find "${t.varSourceName}" variable`);n=e[t.varSourceName]}if(!Array.isArray(n)){throw new Error(`Can't sort data with "${null===n?"null":typeof n}" data type`)}const a=({itemA:e,itemB:t,order:n="asc"})=>{let r=0;return e>t?r=1:e<t&&(r=-1),"desc"===n?-1*r:r},i=n.sort(((e,n)=>{let r=0;return t.sortByProperty?t.itemProperties.forEach((({name:t,order:i})=>{r=a({order:i,itemA:e[t]??e,itemB:n[t]??n})})):r=a({itemA:e,itemB:n}),r}));return t.assignVariable&&this.setVariable(t.variableName,i),t.saveData&&this.addDataToColumn(t.dataColumn,i),{data:i,nextBlockId:this.getBlockConnections(e)}}const i=a},94839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(93150),a=n.n(r),i=n(92732);async function o({data:e,id:t}){const n=this.getBlockConnections(t),r=(e,t)=>{const r=new Error(e);return r.nextBlockId=n,t&&(r.data=t),r};this.windowId=null;let o=null;const s=e.activeTab??!0,c=e.findTabBy||"match-patterns",l=["next-tab","prev-tab"].includes(c);if(!this.activeTab.id&&l)throw new Error("no-tab");const u="match-patterns"!==c?await a().tabs.query({}):[];if("match-patterns"===c){if([o]=await a().tabs.query({url:e.matchPattern}),!o){if(!e.createIfNoMatch)throw r("no-match-tab",{pattern:e.matchPattern});if(!e.url.startsWith("http"))throw r("invalid-active-tab",{url:e.url});o=await a().tabs.create({active:s,url:e.url,windowId:this.windowId})}}else if(l){const e=c.includes("next")?1:-1;let t=u.findIndex((e=>e.id===this.activeTab.id));t+=e,t<0?t=u.length-1:t>u.length-1&&(t=0),o=u[t]}else if("tab-index"===c&&(o=u[e.tabIndex],!o))throw r(`Can't find a tab with ${e.tabIndex} index`);if(await a().tabs.update(o.id,{active:s}),this.activeTab.id=o.id,this.activeTab.frameId=0,this.activeTab.url=o.url,this.windowId=o.windowId,this.settings.debugMode&&(await(0,i.xq)(o.id,this.activeTab.id),this.debugAttached=!0),this.preloadScripts.length>0){const e=this.preloadScripts.map((e=>this._sendMessageToTab(e,{},!0)));await Promise.allSettled(e)}return{nextBlockId:n,data:o.url}}},67734:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(31263),a=n(92732);const i=async function(e){const t=this.getBlockConnections(e.id);try{if("main-window"===e.data.windowType)return this.activeTab.frameId=0,delete this.frameSelector,{data:"",nextBlockId:t};const{url:n,isSameOrigin:i}=await this._sendMessageToTab(e,{frameId:0});if(i)return this.frameSelector=e.data.selector,{data:e.data.selector,nextBlockId:t};const o=await(0,a.Xs)(this.activeTab.id);if((0,r.aX)(o,n))return this.activeTab.frameId=o[n],await(0,r._v)(1e3),{data:this.activeTab.frameId,nextBlockId:t};throw new Error("no-iframe-id")}catch(n){throw n.data={selector:e.data.selector},n.nextBlockId=t,n}}},68691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,logData:()=>i});var r=n(93150),a=n.n(r);async function i({id:e,data:t}){let n=[];if("active-tab"===t.type){if(!this.activeTab.id)throw new Error("no-tab");const e=await a().tabs.get(this.activeTab.id);n=e.url||e.pendingUrl||""}else{n=(await a().tabs.query({})).map((e=>e.url))}return t.assignVariable&&this.setVariable(t.variableName,n),t.saveData&&this.addDataToColumn(t.dataColumn,n),{data:n,nextBlockId:this.getBlockConnections(e)}}const o=i},62630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(93150),a=n.n(r),i=n(31263),o=n(92732);const s=async function({data:e,id:t,label:n}){const r=void 0===e.saveToComputer||e.saveToComputer;try{let s=null;const c={quality:e.quality,format:e.ext||"png"},l=async t=>{e.saveToColumn&&this.addDataToColumn(e.dataColumn,t),r&&await async function({filename:e,uri:t,ext:n}){const r=await a().permissions.contains({permissions:["downloads"]}),o=`${e||"Screenshot"}.${n||"png"}`;if(r)return void await a().downloads.download({url:t,filename:o});const s=new Image;s.onload=()=>{const e=document.createElement("canvas");e.width=s.width,e.height=s.height,e.getContext("2d").drawImage(s,0,0),(0,i.AG)(o,e.toDataURL())},s.src=t}({filename:e.fileName,uri:t,ext:e.ext}),e.assignVariable&&this.setVariable(e.variableName,t)};if(e.captureActiveTab){if(!this.activeTab.id)throw new Error("no-tab");let t=null;const r=!0,i=()=>r?a().tabs.captureVisibleTab(c):a().tabs.captureTab(this.activeTab.id,c);r&&([t]=await a().tabs.query({active:!0,currentWindow:!0}),this.windowId&&await a().windows.update(this.windowId,{focused:!0})),await a().tabs.update(this.activeTab.id,{active:!0}),await(0,o.Hh)({tabId:this.activeTab.id,listenError:!0}),s=await(e.fullPage||["element","fullpage"].includes(e.type)?this._sendMessageToTab({label:n,options:c,data:{type:e.type,selector:e.selector},tabId:this.activeTab.id}):i()),t&&(await a().windows.update(t.windowId,{focused:!0}),await a().tabs.update(t.id,{active:!0})),await l(s)}else s=await a().tabs.captureVisibleTab(c),await l(s);return{data:s,nextBlockId:this.getBlockConnections(t)}}catch(t){throw"element"===e.type&&(t.data={selector:e.selector}),t}}},6457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=async function(e){return new Promise((t=>{t({data:"",nextBlockId:this.getBlockConnections(e.id)})}))}},34748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=async function({data:e,id:t},{prevBlock:n}){return new Promise((r=>{let a,i=!1;const o=this.getBlockConnections(t),s=e.specificFlow&&n?.id!==e.flowBlockId,c=()=>{const e=this.engine.connectionsMap;Object.keys(e).forEach((n=>{if(!e[n].includes(t))return;const r=n.slice(0,n.indexOf("-output"));this.engine.waitConnections[t][r]={isHere:!1,isContinue:!1}}))},l=()=>{if(i)return;const e=Object.values(this.engine.waitConnections[t]);if(e.every((e=>e.isHere))){this.engine.waitConnections[t][n.id].isContinue=!0;e.every((e=>e.isContinue))&&c(),clearTimeout(a),r({data:"",nextBlockId:o,destroyWorker:s})}else setTimeout((()=>{l()}),1e3)};this.engine.waitConnections[t]||(this.engine.waitConnections[t]={},c()),this.engine.waitConnections[t][n.id].isHere=!0,a=setTimeout((()=>{i=!0,r({data:"",nextBlockId:o,destroyWorker:s})}),e.timeout),l()}))}},29586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d,webhook:()=>u});var r=n(31528),a=n.n(r),i=n(31263);const o={json:"application/json",form:"application/x-www-form-urlencoded"},s=["GET","DELETE"];async function c({url:e,contentType:t,headers:n,timeout:r,body:a,method:c}){const l=new AbortController,u=setTimeout((()=>{l.abort()}),r);try{const r=(e=>{const t={};return e?(e.forEach((e=>{e.name&&e.value&&(t[e.name]=e.value)})),t):t})(n),d={method:c||"POST",headers:{"Content-Type":o[t||"json"],...r},signal:l.signal};s.includes(c||"POST")||(0,i.cb)(a)||(d.body=((e,t)=>{const n=(0,i.Rx)(e,new Error("invalid-body"));if(n instanceof Error)throw n;return"application/x-www-form-urlencoded"===t?new URLSearchParams(n):JSON.stringify(n)})(a,d.headers["Content-Type"]));const h=await fetch(e,d);return clearTimeout(u),h}catch(e){throw clearTimeout(u),e}}var l=n(7335);async function u({data:e,id:t},{refData:n}){const r=this.getBlockConnections(t),o=this.getBlockConnections(t,"fallback");try{if((0,i.cb)(e.url))throw new Error("url-empty");if(!e.url.startsWith("http"))throw new Error("invalid-url");const t=[];e.headers.forEach((({value:e,name:r})=>{const a=(0,l.ZP)(e,n).value;t.push({name:r,value:a})}));const s=await c({...e,headers:t});if(!s.ok){if(o&&o.length>0)return{data:"",nextBlockId:o};throw new Error(`(${s.status}) ${s.statusText}`)}if(!e.assignVariable&&!e.saveData)return{data:"",nextBlockId:r};let u="";if("json"===e.responseType){const t=await s.json();u=a().get(t,e.dataPath)}else u=await s.text();return e.assignVariable&&this.setVariable(e.variableName,u),e.saveData&&("$assignColumns"===e.dataColumn&&Array.isArray(u)?this.addDataToColumn(u):this.addDataToColumn(e.dataColumn,u)),{nextBlockId:r,data:u}}catch(e){if(o&&"Failed to fetch"===e.message)return{data:"",nextBlockId:o};throw e.nextBlockId=r,e}}const d=u},81146:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(93325);const a=async function({data:e,id:t},{refData:n}){const a={refData:n,activeTab:this.activeTab.id,sendMessage:e=>this._sendMessageToTab({...e.data,label:"conditions",id:t})},i=await(0,r.Z)(e.conditions,a);return{data:"",nextBlockId:this.getBlockConnections(t,i.isMatch?1:"fallback"),replacedValue:i?.replacedValue||{}}}},19356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(93150),a=n.n(r),i=n(53416),o=n(64989),s=n(31263);const c=new(n(49520).ZP)("storage");c.version(2).stores({tablesData:"++id, tableId",tablesItems:"++id, name, createdAt, modifiedAt",variables:"++id, &name",credentials:"++id, &name"});const l=c;var u=n(31528),d=n.n(u),h=n(83465),f=n.n(h),p=n(7335);function m(e,t=0){return new Promise((n=>{const r="number"!=typeof t?0:t;let i=0;!async function t(){try{if(i>3)return void n(!1);i+=1,await a().tabs.executeScript(e,{allFrames:!0,runAt:"document_start",file:"./contentScript.bundle.js"});const o=await async function(e,t=0){try{return await a().tabs.sendMessage(e,{type:"content-script-exists"},{frameId:t}),!0}catch(e){return!1}}(e,r);o?n(!0):setTimeout(t,1e3)}catch(e){console.error(e),setTimeout(t,1e3)}}()}))}var g=n(92732);const y=class{constructor(e,t){this.id=e,this.engine=t,this.settings=t.workflow.settings,this.loopEls=[],this.loopList={},this.repeatedTasks={},this.preloadScripts=[],this.windowId=null,this.currentBlock=null,this.childWorkflowId=null,this.debugAttached=!1,this.activeTab={url:"",frameId:0,frames:{},groupId:null,id:t.options?.tabId}}init({blockId:e,prevBlockData:t,state:n}){n&&Object.keys(n).forEach((e=>{this[e]=n[e]}));const r=this.engine.blocks[e];this.executeBlock(r,t)}addDataToColumn(e,t){if(Array.isArray(e))return void e.forEach((e=>{(0,s.Kn)(e)&&Object.entries(e).forEach((([e,t])=>{this.addDataToColumn(e,t)}))}));const n=this.settings.insertDefaultColumn??!0,r=(this.engine.columns[e]?e:this.engine.columnsId[e])||"column";if("column"===r&&!n)return;const a=this.engine.columns[r],i=a.name||"column",o=(0,g.fs)(t,a.type);(0,s.aX)(this.engine.referenceData.table,a.index)?this.engine.referenceData.table[a.index][i]=o:this.engine.referenceData.table.push({[i]:o}),a.index+=1}setVariable(e,t){this.engine.referenceData.variables[e]=t}getBlockConnections(e,t=1){const n=`${e}-output-${t}`;return this.engine.connectionsMap[n]||null}executeNextBlocks(e,t){e.forEach(((e,n)=>{if(0===n)this.executeBlock(this.engine.blocks[e],t);else{const n=structuredClone({windowId:this.windowId,loopList:this.loopList,activeTab:this.activeTab,currentBlock:this.currentBlock,repeatedTasks:this.repeatedTasks,preloadScripts:this.preloadScripts});this.engine.addWorker({state:n,prevBlockData:t,blockId:e})}}))}async executeBlock(e,t,n){const r=await this.engine.states.get(this.engine.id);if(!r||r.isDestroyed){if(this.engine.isDestroyed)return;return void await this.engine.destroy("stopped")}const a=Date.now(),i=this.currentBlock;this.currentBlock={...e,startedAt:a},n||await this.engine.updateState({activeTabUrl:this.activeTab.url,childWorkflowId:this.childWorkflowId});const c=this.engine.blocksHandler[(0,s.zW)(e.label)],l=c||"interaction"!==o.wq[e.label].category?c:this.engine.blocksHandler.interactionBlock;if(!l)return void this.engine.destroy("stopped");const u={prevBlockData:t,...this.engine.referenceData,activeTabUrl:this.activeTab.url},h=function({block:e,refKeys:t,data:n}){if(!t||0===t.length)return e;const r=f()(e),a=e=>{r.replacedValue||(r.replacedValue={}),r.replacedValue={...r.replacedValue,...e}};return t.forEach((t=>{const i={stringify:"webhook"===e.label&&"body"===t},o=d().get(r.data,t);if(o)if(Array.isArray(o))o.forEach(((e,o)=>{const s=(0,p.ZP)(e,n,i);a(s.list),d().set(r.data,`${t}.${o}`,s.value)}));else if("string"==typeof o){const e=(0,p.ZP)(o,n,i);a(e.list),d().set(r.data,t,e.value)}})),r}({block:e,data:u,refKeys:n||e.data.disableBlock?null:o.wq[e.label].refDataKeys}),m=this.settings?.blockDelay||0,g=(n,r={})=>{this.engine.addLogHistory({prevBlockData:t,type:n,name:e.label,blockId:e.id,workerId:this.id,description:e.data.description,replacedValue:h.replacedValue,duration:Math.round(Date.now()-a),...r})};try{let n;e.data.disableBlock?n={data:"",nextBlockId:this.getBlockConnections(e.id)}:(n=await l.call(this,h,{refData:u,prevBlock:i,prevBlockData:t}),n.replacedValue&&(h.replacedValue=n.replacedValue),g(n.status||"success",{logId:n.logId})),n.nextBlockId&&!n.destroyWorker?setTimeout((()=>{this.executeNextBlocks(n.nextBlockId,n.data)}),m):this.engine.destroyWorker(this.id)}catch(n){console.error(n);const{onError:r}=h.data;if(r&&r.enable){if(r.retry&&r.retryTimes)return await(0,s._v)(1e3*r.retryInterval),r.retryTimes-=1,void await this.executeBlock(h,t,!0);r.insertData&&r.dataToInsert.forEach((e=>{let t=(0,p.ZP)(e.value,u)?.value;t=(0,s.Rx)(t,t),"variable"===e.type?this.setVariable(e.name,t):this.addDataToColumn(e.name,t)}));const a=this.getBlockConnections(e.id,"continue"===r.toDo?1:"fallback");if("error"!==r.toDo&&a)return g("error",{message:n.message,...n.data||{}}),void this.executeNextBlocks(a,t)}const a={message:n.message,...n.data||{}};g("error",a),a.blockId=e.id;const{onError:i}=this.settings,o=this.getBlockConnections(e.id);if("keep-running"===i&&o)setTimeout((()=>{this.executeNextBlocks(o,n.data||"")}),m);else if("restart-workflow"!==i||this.parentWorkflow)this.engine.destroy("error",n.message,a);else{const e=`restart-count:${this.id}`,t=+localStorage.getItem(e)||0;if(t>=(this.settings.restartTimes??3))return localStorage.removeItem(e),void this.engine.destroy("error",n.message,a);this.reset();const r=this.engine.blocks[this.engine.triggerBlockId];this.executeBlock(r),localStorage.setItem(e,t+1)}}}reset(){this.loopList={},this.repeatedTasks={},this.windowId=null,this.currentBlock=null,this.childWorkflowId=null,this.engine.history=[],this.engine.preloadScripts=[],this.engine.columns={column:{index:0,type:"any",name:this.settings?.defaultColumnName||"column"}},this.activeTab={url:"",frameId:0,frames:{},groupId:null,id:this.options?.tabId},this.engine.referenceData={table:[],loopData:{},workflow:{},googleSheets:{},variables:this.engine.options?.variables||{},globalData:this.engine.referenceData.globalData}}async _sendMessageToTab(e,t={},n=!1){try{if(!this.activeTab.id){const e=new Error("no-tab");throw e.workflowId=this.id,e}n||await(0,g.Hh)({tabId:this.activeTab.id,ms:this.settings?.tabLoadTimeout??3e4});const{executedBlockOnWeb:r,debugMode:i}=this.settings,o={isBlock:!0,debugMode:i,executedBlockOnWeb:r,loopEls:this.loopEls,activeTabId:this.activeTab.id,frameSelector:this.frameSelector,...e};return await a().tabs.sendMessage(this.activeTab.id,o,{frameId:this.activeTab.frameId,...t})}catch(r){console.error(r);const a=r.message?.includes("Could not establish connection"),i=r.message?.includes("message channel closed");if(a||i){if(await m(this.activeTab.id,this.activeTab.frameId)){return await this._sendMessageToTab(e,t,n)}r.message="Could not establish connection to the active tab"}else r.message?.startsWith("No tab")&&(r.message="active-tab-removed");throw r}}};class b{constructor(e,{states:t,logger:n,blocksHandler:r,options:a}){this.id=(0,i.x0)(),this.states=t,this.logger=n,this.workflow=e,this.blocksHandler=r,this.parentWorkflow=a?.parentWorkflow,this.saveLog=e.settings?.saveLog??!0,this.workerId=0,this.workers=new Map,this.extractedGroup={},this.connectionsMap={},this.waitConnections={},this.isDestroyed=!1,this.isUsingProxy=!1,this.triggerBlockId=null,this.blocks={},this.history=[],this.columnsId={},this.historyCtxData={},this.eventListeners={},this.preloadScripts=[],this.columns={column:{index:0,type:"any",name:this.workflow.settings?.defaultColumnName||"column"}},this.rowData={},this.logHistoryId=0;let o={},{globalData:c}=e;a&&a?.data&&(c=a.data.globalData,o=(0,s.Kn)(a.data.variables)?a?.data.variables:{},a.data={globalData:c,variables:o}),this.options=a,this.referenceData={variables:o,table:[],secrets:{},loopData:{},workflow:{},googleSheets:{},globalData:(0,s.Rx)(c,c)},this.onDebugEvent=({tabId:e},t,n)=>{let r=!1;this.workers.forEach((t=>{r||(r=t.activeTab.id===e)})),r&&(this.eventListeners[t]||[]).forEach((e=>{e(n)}))},this.onWorkflowStopped=e=>{this.id!==e||this.isDestroyed||this.stop()}}async init(){try{if(this.workflow.isDisabled)return;if(!this.states)return console.error(`"${this.workflow.name}" workflow doesn't have states`),void this.destroy("error");const{nodes:e,edges:t}=this.workflow.drawflow;if(!e||0===e.length)return void console.error(`${this.workflow.name} doesn't have blocks`);const n=e.find((e=>"trigger"===e.label));if(!n)return void console.error(`${this.workflow.name} doesn't have a trigger block`);const r=this.options?.checkParams??!0,i=n.data.parameters?.length>0;if(r&&i){this.eventListeners={};const e=a().runtime.getURL("params.html"),t=(await a().tabs.query({})).find((t=>t.url?.includes(e)));return void(t?(a().tabs.sendMessage(t.id,{name:"workflow:params",data:this.workflow}),a().windows.update(t.windowId,{focused:!0})):a().windows.create({type:"popup",width:480,height:window.screen.availHeight,url:a().runtime.getURL(`/params.html?workflowId=${this.workflow.id}`)}))}this.triggerBlockId=n.id,this.blocks=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),this.connectionsMap=t.reduce(((e,{sourceHandle:t,target:n})=>(e[t]||(e[t]=[]),e[t].push(n),e)),{});const o=this.workflow.table||this.workflow.dataColumns;let s=Array.isArray(o)?o:Object.values(o);if(this.workflow.connectedTable){const e=await l.tablesItems.where("id").equals(this.workflow.connectedTable).first(),t=await l.tablesData.where("tableId").equals(e?.id).first();e&&t?(s=Object.values(e.columns),Object.assign(this.columns,t.columnsIndex),this.referenceData.table=t.items||[]):this.workflow.connectedTable=null}if(s.forEach((({name:e,type:t,id:n})=>{const r=n||e;this.rowData[e]=null,this.columnsId[e]=r,this.columns[r]||(this.columns[r]={index:0,name:e,type:t})})),this.workflow.settings.debugMode&&chrome.debugger.onEvent.addListener(this.onDebugEvent),this.workflow.settings.reuseLastState&&!this.workflow.connectedTable){const e=`state:${this.workflow.id}`,t=(await a().storage.local.get(e))[e];t&&(Object.assign(this.columns,t.columns),Object.assign(this.referenceData,t.referenceData))}this.workflow.table=s,this.startedTimestamp=Date.now(),this.states.on("stop",this.onWorkflowStopped);(await l.credentials.toArray()).forEach((({name:e,value:t})=>{this.referenceData.secrets[e]=t}));(await l.variables.toArray()).forEach((({name:e,value:t})=>{this.referenceData.variables[`$$${e}`]=t})),await this.states.add(this.id,{id:this.id,state:this.state,workflowId:this.workflow.id,parentState:this.parentWorkflow,teamId:this.workflow.teamId||null}),this.addWorker({blockId:n.id})}catch(e){console.error(e)}}addWorker(e){this.workerId+=1;const t=`worker-${this.workerId}`,n=new y(t,this);n.init(e),this.workers.set(n.id,n)}addLogHistory(e){if("blocks-group"===e.name)return;const t=this.history.length>=1001,n="error"!==e.type;if(!t&&this.saveLog||!n){if(this.logHistoryId+=1,e.id=this.logHistoryId,"delay"!==e.name||e.replacedValue||"javascript-code"===e.name||o.wq[e.name]?.refDataKeys&&this.saveLog){const{activeTabUrl:t,variables:n,loopData:r}=JSON.parse(JSON.stringify(this.referenceData));this.historyCtxData[this.logHistoryId]={referenceData:{loopData:r,variables:n,activeTabUrl:t,prevBlockData:e.prevBlockData||""},replacedValue:e.replacedValue},delete e.replacedValue}this.history.push(e)}}async stop(){try{this.childWorkflowId&&await this.states.stop(this.childWorkflowId),await this.destroy("stopped")}catch(e){console.error(e)}}async executeQueue(){const{workflowQueue:e}=await a().storage.local.get("workflowQueue"),t=(e||[]).indexOf(this.workflow.id);if(!e||-1===t)return;new b(this.workflow,{logger:this.logger,states:this.states,blocksHandler:this.blocksHandler}).init(),e.splice(t,1),await a().storage.local.set({workflowQueue:e})}destroyWorker(e){this.workers.delete(e),0===this.workers.size&&(this.addLogHistory({type:"finish",name:"finish"}),this.dispatchEvent("finish"),this.destroy("success"))}async destroy(e,t,n){try{if(this.isDestroyed)return;this.isUsingProxy&&a().proxy.settings.clear({}),this.workflow.settings.debugMode&&(chrome.debugger.onEvent.removeListener(this.onDebugEvent),await(0,s._v)(1e3),this.workers.forEach((e=>{e.debugAttached&&chrome.debugger.detach({tabId:e.activeTab.id})})));const r=Date.now();if(this.workers.clear(),this.executeQueue(),!this.workflow.isTesting){const{name:n,id:a,teamId:i}=this.workflow;await this.logger.add({detail:{name:n,status:e,teamId:i,message:t,id:this.id,workflowId:a,endedAt:r,parentLog:this.parentWorkflow,startedAt:this.startedTimestamp},history:{logId:this.id,data:this.saveLog?this.history:[]},ctxData:{logId:this.id,data:this.historyCtxData},data:{logId:this.id,data:{table:this.referenceData.table,variables:this.referenceData.variables}}})}if(this.states.off("stop",this.onWorkflowStopped),await this.states.delete(this.id),this.dispatchEvent("destroyed",{status:e,message:t,blockDetail:n,id:this.id,endedTimestamp:r,history:this.history,startedTimestamp:this.startedTimestamp}),this.workflow.settings.reuseLastState){const e={[`state:${this.workflow.id}`]:{columns:this.columns,referenceData:{table:this.referenceData.table,variables:this.referenceData.variables}}};a().storage.local.set(e)}else"success"===e&&(0,s.LK)(this.workflow);const{table:i,variables:o}=this.referenceData,c=this.workflow.connectedTable;await l.transaction("rw",l.tablesItems,l.tablesData,l.variables,(async()=>{c&&(await l.tablesItems.update(c,{modifiedAt:Date.now(),rowsCount:i.length}),await l.tablesData.where("tableId").equals(c).modify({items:i,columnsIndex:this.columns}));for(const e in o)if(e.startsWith("$$")){const t=e.slice(2),n=o[e],r=await l.variables.where("name").equals(t).first()||{};r.name=t,r.value=n,await l.variables.put(r)}})),this.isDestroyed=!0,this.referenceData={},this.eventListeners={}}catch(e){console.error(e)}}async updateState(e){const t={...e,tabIds:[],currentBlock:[],name:this.workflow.name,logs:this.history.slice(-5),startedTimestamp:this.startedTimestamp};this.workers.forEach((e=>{const{id:n,label:r,startedAt:a}=e.currentBlock;t.currentBlock.push({id:n,name:r,startedAt:a}),t.tabIds.push(e.activeTab.id)})),await this.states.update(this.id,{state:t}),this.dispatchEvent("update",{state:t})}dispatchEvent(e,t){const n=this.eventListeners[e];n&&n.forEach((e=>{e(t)}))}on(e,t){(this.eventListeners[e]=this.eventListeners[e]||[]).push(t)}}const v=b},92732:(e,t,n)=>{"use strict";n.d(t,{Hh:()=>c,Xs:()=>i,fs:()=>l,k:()=>o,xq:()=>s});var r=n(93150),a=n.n(r);async function i(e){try{const t=await a().webNavigation.getAllFrames({tabId:e});return t.reduce(((e,{frameId:t,url:n})=>(e["about:blank"===n?"":n]=t,e)),{})}catch(e){return console.error(e),{}}}function o(e,t,n={}){return new Promise((r=>{chrome.debugger.sendCommand({tabId:e},t,n,r)}))}function s(e,t){return new Promise((n=>{t&&e!==t&&chrome.debugger.detach({tabId:t}),chrome.debugger.getTargets((t=>{t.forEach((t=>{t.attached||t.tabId!==e?n():chrome.debugger.attach({tabId:e},"1.3",(()=>{chrome.debugger.sendCommand({tabId:e},"Page.enable",n)}))}))}))}))}function c({tabId:e,listenError:t=!1,ms:n=1e4}){return new Promise(((r,i)=>{let o=null;const s=["net::ERR_BLOCKED_BY_CLIENT","net::ERR_ABORTED"],c=t=>{t.tabId!==e||0!==t.frameId||s.includes(t.error)||(clearTimeout(o),a().webNavigation.onErrorOccurred.removeListener(c),i(new Error(t.error)))};n>0&&(o=setTimeout((()=>{a().webNavigation.onErrorOccurred.removeListener(c),i(new Error("Timeout"))}),n)),t&&a().webNavigation.onErrorOccurred.addListener(c);const l=()=>{a().tabs.get(e).then((e=>{e?"loading"!==e.status?(clearTimeout(o),a().webNavigation.onErrorOccurred.removeListener(c),r()):setTimeout((()=>{l()}),1e3):i(new Error("no-tab"))}))};l()}))}function l(e,t){if("any"===t)return e;let n=e;switch(t){case"integer":n="number"!=typeof e?+e?.replace(/\D+/g,""):e;break;case"boolean":n=Boolean(e);break;case"array":n=Array.from(e);break;case"string":n=String(e)}return n}},57023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,g:()=>a});const r=new(n(49520).ZP)("logs");r.version(1).stores({ctxData:"++id, logId",logsData:"++id, logId",histories:"++id, logId",items:"++id, name, endedAt, workflowId, status, collectionId"});const a={name:"",endedAt:0,message:"",startedAt:0,parentLog:null,workflowId:null,status:"success",collectionId:null},i=r},80841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(27484),a=n.n(r),i=n(84110),o=n.n(i);n(32009),n(43901),n(37553),n(96023);a().extend(o());const s=a()},9924:(e,t,n)=>{"use strict";n.d(t,{a8:()=>a,qH:()=>i});var r=n(32957);n(93150),n(31263);async function a(e,t){const n=e.startsWith("/")?e:`/${e}`;return fetch(`${r.Z.baseApiUrl}${n}`,{headers:{"Content-Type":"application/json"},...t})}const i={getUrl:(e,t)=>`/services/google-sheets?spreadsheetId=${e}&range=${t}`,getValues({spreadsheetId:e,range:t}){return a(this.getUrl(e,t))},getRange:({spreadsheetId:e,range:t})=>i.updateValues({range:t,append:!0,spreadsheetId:e,options:{body:JSON.stringify({values:[]}),queries:{valueInputOption:"RAW",includeValuesInResponse:!1,insertDataOption:"INSERT_ROWS"}}}),updateValues({spreadsheetId:e,range:t,options:n={},append:r}){return a(`${this.getUrl(e,t)}&${function(e){let t="";return Object.entries(e).forEach((([e,n],r)=>{0!==r&&(t+="&"),t+=`${e}=${n}`})),t}(n?.queries||{})}`,{...n,method:r?"POST":"PUT"})}}},77881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(31263);function a(e){const t="string"==typeof e.drawflow?(0,r.Rx)(e.drawflow,{}):e.drawflow;if(!t?.drawflow)return e;const n=(0,r.No)(t);if(!n)return e;const a=t.drawflow.Home.data,i=new Set,o=[],s=[];return function e(t){if(i.has(t))return;const n=a[t];o.push({id:n.id,type:n.html,label:n.name,position:{x:n.pos_x,y:n.pos_y},data:n.data});const r=[],c=Object.values(n.outputs);c.forEach((({connections:e},t)=>{let a=t+1;const i=c.length-1===t,o="conditions"===n.name,l="BlockBasicWithFallback"===n.html,u="BlockBasic"===n.html&&a>=2;(o||l||u)&&i&&(a="fallback"),o&&!i&&(a=n.data.conditions[t].id),e.forEach((({node:e,output:t})=>{const i=`${n.id}-output-${a}`,o=`${e}-${t.replace("_","-")}`;s.push({sourceHandle:i,targetHandle:o,source:n.id,target:e,updatable:!0,selectable:!0,id:`vueflow__edge-${i}-${o}`,class:`source-${i} target-${o}`}),r.push(e)}))})),i.add(t),r.forEach((t=>{e(t)}))}(n.id),e.drawflow={edges:s,nodes:o,x:0,y:0,zoom:0},e}},86143:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(52153),a=n.n(r),i=n(88010),o=n.n(i),s=n(40452),c=n.n(s),l=n(55743),u=n.n(l),d=n(927),h=n(31263);const f={encrypt:function(e){const t=(0,d.Z)("credential"),n=c().encrypt(e,t).toString();return o()(n,a()(t)).toString()+n},decrypt:function(e){const t=(0,d.Z)("credential"),n=e.substring(0,64),r=e.substring(64);if(n!==o()(r,a()(t)).toString())return"";const i=c().decrypt(r,t).toString(u());return(0,h.Rx)(i,i)}}},82070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f,c:()=>h});var r=n(53416),a=n(88010),i=n.n(a),o=n(40452),s=n.n(o),c=n(55743),l=n.n(c),u=n(31263),d=n(927);function h(e){const t=(0,d.Z)((0,r.x0)());return s().decrypt(e.substring(64),t).toString(l())}function f({pass:e,drawflow:t},n){if(e.substring(0,64)!==i()(e.substring(64),n).toString())return{isError:!0,message:"incorrect-password"};const r=(0,u.Rx)(t,null);return r||s().decrypt(t,n).toString(l())}},927:(e,t,n)=>{"use strict";function r(e,t){let n="";return[18,35,-5,47,-4,45,-18,20,-21,48,-1,42,36,41,34,-6].forEach((e=>{n+=String.fromCharCode(e+69)})),n}n.d(t,{Z:()=>r})},31263:(e,t,n)=>{"use strict";n.d(t,{AG:()=>d,Ac:()=>l,Kn:()=>f,LK:()=>g,No:()=>s,Rx:()=>u,_v:()=>o,aX:()=>p,cb:()=>m,ex:()=>c,mq:()=>i,zW:()=>h});var r=n(93150),a=n.n(r);function i(e){return/^[(/@]/.test(e)}function o(e=500){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function s(e={}){if(!e)return null;if(e.drawflow){const t=Object.values(e.drawflow?.Home?.data);return t?t.find((({name:e})=>"trigger"===e)):null}return e.nodes?e.nodes.find((e=>"trigger"===e.label)):null}function c(e){const t=new Map,n=[[]];return e.forEach((e=>{const r=Object.keys(e),a=[];r.forEach((r=>{t.has(r)||(t.set(r,t.size),n[0].push(r));const i=e[r],o=t.get(r);a[o]="object"==typeof i?JSON.stringify(i):i})),n.push([...a])})),n}function l(e){let t=0;const n=e.shift(),r=[];for(let a=0;a<e.length;a+=1){const i={};for(let r=0;r<e[a].length;r+=1){let o=n[r];o||(t+=1,o=`_row${t}`,n.push(o)),i[o]=e[a][r]}r.push(i)}return r}function u(e,t){try{return JSON.parse(e)}catch(e){return t}}function d(e,t){const n=document.createElement("a");n.download=e,n.href=t,n.dispatchEvent(new MouseEvent("click")),n.remove()}function h(e,t=!1){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,n)=>0!==n||t?e.toUpperCase():e.toLowerCase())).replace(/\s+|[-]/g,"")}function f(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){return!/\S/.test(e)}async function g(e){try{await a().storage.local.remove(`state:${e.id}`);const t=u(e.drawflow,null),n=t&&t.drawflow.Home.data;return n&&Object.values(n).forEach((({name:e,id:t})=>{"loop-data"===e&&localStorage.removeItem(`index:${t}`)})),!0}catch(e){return console.error(e),!1}}},7335:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p});var r=n(31528),a=n.n(r),i=n(39832),o=n.n(i),s=n(80841),c=n(86143),l=n(31263);const u={table:"table",dataColumn:"table",dataColumns:"table"},d=(...e)=>e.every((e=>!Number.isNaN(+e))),h={date(...e){let t=new Date,n="DD-MM-YYYY";1===e.length?n=e[0]:e.length>=2&&(t=new Date(e[0]),n=e[1]);const r=t instanceof Date&&!isNaN(t),a=(0,s.Z)(r?t:Date.now());let i=a.format(n);return"relative"===n?i=a.fromNow():"timestamp"===n&&(i=a.valueOf()),i},randint:(e=0,t=100)=>Math.round(Math.random()*(+t-+e)+ +e),getLength(e){const t=(0,l.Rx)(e,e);return t.length??t},slice(e,t,n){if(!e||!e.slice)return e;const r=Number.isNaN(+t)?0:+t,a=Number.isNaN(+n)?e.length:+n;return e.slice(r,a)},multiply:(e,t)=>d(e,t)?+e*+t:e,increment:(e,t)=>d(e,t)?+e+ +t:e,divide:(e,t)=>d(e,t)?+e/+t:e,subtract:(e,t)=>d(e,t)?+e-+t:e,randData(e){if(Array.isArray(e)){return e[Math.floor(Math.random()*e.length)]}const t=e=>e[Math.floor(Math.random()*e.length)],n="abcdefghijklmnopqrstuvwxyz",r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=[0,1,2,3,4,5,6,7,8,9],i='!@#$%^&*()-_+={}[]|;:\'"<>,./?"',o={l:()=>t(n),u:()=>t(r),d:()=>t(a),s:()=>t(i),f(){return this.l()+this.u()},n(){return this.l()+this.d()},m(){return this.u()+this.d()},i(){return this.l()+this.u()+this.d()},a:()=>t(n+r+a.join("")+i)};return`${e}`.replace(/\?[a-zA-Z]/g,(e=>o[e.at(-1)]?.()??e))},filter:(e,t)=>(0,l.Kn)(e)||Array.isArray(e)?o().query(e,t):e};function f(e,{regex:t,tagLen:n,modifyPath:r,data:i,stringify:o}){const s={list:{},value:e};return s.value=e.replace(t,((t,d,h)=>{let p=t.slice(n,-n).trim();if(!p)return"";let m="";const g=function(e){const t=/^\$\s*(\w+)\s*\((.*)\)/.exec(e.trim().replace(/\r?\n|\r/g,""));if(!t)return null;const{1:n,2:r}=t;return{name:n,params:r.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/).map((e=>e?.trim().replace(/^['"]|['"]$/g,"")||""))}}(p),y=g&&i.functions[g.name];if(r&&!y&&(p=r(p)),y){const e=g.params.map((e=>{const{value:t,list:n}=f(e,{data:i,tagLen:1,regex:/\[(.*?)\]/});return Object.assign(s.list,n),(0,l.Rx)(t,t)}));m=y.apply({refData:i},e)}else{const{dataKey:e,path:n}=function(e,t){let[n,r]=e.split(/@(.+)/);if(n=u[n]??n,!r)return{dataKey:n,path:""};if("table"!==n){if("loopData"===n&&!r.endsWith(".$index")){const e=r.split(".");e.splice(1,0,"data"),r=e.join(".")}return{dataKey:n,path:r}}const[a,i]=r.split(/\.(.+)/);"$last"===a?r=`${t.table.length-1}.${i||""}`:i?("number"!=typeof+a||Number.isNaN(+a))&&(r=`0.${a}.${i}`):r=`0.${a}`;return r=r.replace(/\.$/,""),{dataKey:"table",path:r}}(p,i);m=a().get(i[e],n)??t,"secrets"===e&&(m="string"!=typeof m?{}:c.Z.decrypt(m))}let b="string"!=typeof m||o?JSON.stringify(m):m;if(o&&"string"==typeof m){const n=e=>'"'===e;n(e[h-1])&&n(e[t.length+h])&&(b=b.slice(1,-1))}return s.list[t]=b?.slice(0,512)??b,b})),s}function p(e,t,{stringify:n=!1}={}){if(!e||"string"!=typeof e)return"";const r={...t,functions:h},a={},i=f(`${e}`,{data:r,tagLen:2,stringify:n,regex:/\{\{(.*?)\}\}/g,modifyPath:e=>{const{value:t,list:n}=f(e,{data:r,tagLen:1,regex:/\[(.*?)\]/g});return Object.assign(a,n),t}});return Object.assign(i.list,a),i}},64989:(e,t,n)=>{"use strict";n.d(t,{YK:()=>a,wq:()=>r});const r={trigger:{name:"Trigger",description:"Block where workflow will start executing",icon:"riFlashlightLine",component:"BlockBasic",editComponent:"EditTrigger",category:"general",inputs:0,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url"],data:{disableBlock:!1,description:"",type:"manual",interval:60,delay:5,date:"",time:"00:00",url:"",shortcut:"",activeInInput:!1,isUrlRegex:!1,days:[],contextMenuName:"",contextTypes:[],parameters:[],observeElement:{selector:"",baseSelector:"",matchPattern:"",targetOptions:{subtree:!1,childList:!0,attributes:!1,attributeFilter:[],characterData:!1},baseElOptions:{subtree:!1,childList:!0,attributes:!1,attributeFilter:[],characterData:!1}}}},"execute-workflow":{name:"Execute workflow",description:"",icon:"riFlowChart",component:"BlockBasic",category:"general",editComponent:"EditExecuteWorkflow",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["globalData"],data:{disableBlock:!1,executeId:"",workflowId:"",globalData:"",description:"",insertAllVars:!1}},"active-tab":{name:"Active tab",description:"Set current tab that you're in as an active tab",icon:"riWindowLine",component:"BlockBasic",category:"browser",disableEdit:!0,inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1}},"new-tab":{name:"New tab",description:"Create a new tab",icon:"riGlobalLine",component:"BlockBasic",editComponent:"EditNewTab",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url","userAgent"],data:{disableBlock:!1,description:"",url:"",userAgent:"",active:!0,inGroup:!1,waitTabLoaded:!1,updatePrevTab:!1,customUserAgent:!1}},"switch-tab":{name:"Switch tab",description:"Switch active tab",icon:"riArrowLeftRightLine",component:"BlockBasic",editComponent:"EditSwitchTab",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url","matchPattern"],data:{disableBlock:!1,description:"",url:"",tabIndex:0,matchPattern:"",activeTab:!0,createIfNoMatch:!1,findTabBy:"match-patterns"}},"new-window":{name:"New window",description:"Create a new window",icon:"riWindow2Line",component:"BlockBasic",editComponent:"EditNewWindow",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["url"],data:{disableBlock:!1,description:"",top:0,left:0,width:0,url:"",height:0,type:"normal",incognito:!1,windowState:"normal"}},proxy:{name:"Proxy",description:"Set the proxy of the browser",icon:"riShieldKeyholeLine",component:"BlockBasic",category:"browser",editComponent:"EditProxy",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,refDataKeys:["host","port","scheme"],data:{description:"",disableBlock:!1,scheme:"https",host:"",port:443,bypassList:"",clearProxy:!1}},"go-back":{name:"Go back",description:"Go back to the previous page",icon:"riArrowGoBackLine",component:"BlockBasic",category:"browser",inputs:1,outputs:1,maxConnection:1,disableEdit:!0,allowedInputs:!0,data:{disableBlock:!1}},"forward-page":{name:"Go forward",description:"Go forward to the next page",icon:"riArrowGoForwardLine",component:"BlockBasic",category:"browser",inputs:1,outputs:1,maxConnection:1,disableEdit:!0,allowedInputs:!0,data:{disableBlock:!1}},"close-tab":{name:"Close tab/window",icon:"riCloseCircleLine",component:"BlockBasic",category:"browser",editComponent:"EditCloseTab",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,refDataKeys:["url"],data:{disableBlock:!1,url:"",description:"",activeTab:!0,closeType:"tab",allWindows:!1}},"take-screenshot":{name:"Take screenshot",description:"Take a screenshot of current active tab",icon:"riImageLine",component:"BlockBasic",category:"browser",editComponent:"EditTakeScreenshot",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,refDataKeys:["fileName"],autocomplete:["variableName"],data:{description:"",disableBlock:!1,fileName:"",ext:"png",quality:100,dataColumn:"",variableName:"",selector:"",fullPage:!1,saveToColumn:!1,saveToComputer:!0,assignVariable:!1,captureActiveTab:!0}},"browser-event":{name:"Browser event",description:"Wait until the selected event is triggered",icon:"riLightbulbLine",component:"BlockBasic",category:"browser",editComponent:"EditBrowserEvent",inputs:1,outputs:1,maxConnection:1,allowedInputs:!0,data:{disableBlock:!1,description:"",timeout:1e4,eventName:"tab:loaded",setAsActiveTab:!0,activeTabLoaded:!0,tabLoadedUrl:"",tabUrl:"",fileQuery:""}},"event-click":{name:"Click element",icon:"riCursorLine",component:"BlockBasic",editComponent:"EditInteractionBase",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1}},delay:{name:"Delay",description:"Add delay before executing the next block",icon:"riTimerLine",component:"BlockDelay",editComponent:"EditDelay",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["time"],data:{disableBlock:!1,time:500}},"get-text":{name:"Get text",description:"Get text from an element",icon:"riParagraph",component:"BlockBasic",editComponent:"EditGetText",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","prefixText","suffixText","extraRowValue"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,regex:"",prefixText:"",suffixText:"",regexExp:["g"],dataColumn:"",saveData:!0,includeTags:!1,addExtraRow:!1,assignVariable:!1,useTextContent:!1,variableName:"",extraRowValue:"",extraRowDataColumn:""}},"export-data":{name:"Export data",icon:"riDownloadLine",component:"BlockBasic",editComponent:"EditExportData",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["name"],data:{disableBlock:!1,name:"",refKey:"",type:"json",description:"",variableName:"",csvDelimiter:",",addBOMHeader:!0,onConflict:"uniquify",dataToExport:"data-columns"}},"element-scroll":{name:"Scroll element",icon:"riMouseLine",component:"BlockBasic",editComponent:"EditScrollElement",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"html",markEl:!1,multiple:!1,scrollY:0,scrollX:0,incX:!1,incY:!1,smooth:!1,scrollIntoView:!1}},link:{name:"Link",description:"Open link element",icon:"riLink",component:"BlockBasic",editComponent:"EditInteractionBase",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,disableMultiple:!0}},"attribute-value":{name:"Attribute value",description:"Get attribute value of an element",icon:"riBracketsLine",component:"BlockBasic",editComponent:"EditAttributeValue",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","attributeName","extraRowValue"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,attributeName:"",assignVariable:!1,variableName:"",dataColumn:"",saveData:!0,addExtraRow:!1,extraRowValue:"",extraRowDataColumn:""}},forms:{name:"Forms",icon:"riInputCursorMove",description:"Manipulate form(input, select, checkbox, and radio) element",component:"BlockBasic",editComponent:"EditForms",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","value","optionPosition"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,selected:!0,clearValue:!0,getValue:!1,saveData:!1,dataColumn:"",selectOptionBy:"value",optionPosition:"1",assignVariable:!1,variableName:"",type:"text-field",value:"",delay:0,events:[]}},"repeat-task":{name:"Repeat task",icon:"riRepeat2Line",component:"BlockRepeatTask",category:"general",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,repeatFor:1}},"javascript-code":{name:"JavaScript code",description:"Execute your custom javascript code in a webpage",icon:"riCodeSSlashLine",component:"BlockBasic",editComponent:"EditJavascriptCode",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",timeout:2e4,code:'console.log("Hello world!");\nautomaNextBlock()',preloadScripts:[],everyNewTab:!1,runBeforeLoad:!1}},"trigger-event":{name:"Trigger event",description:"Trigger event",icon:"riLightbulbFlashLine",component:"BlockBasic",editComponent:"EditTriggerEvent",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","eventParams.clientX","eventParams.clientY"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"html",markEl:!1,multiple:!1,eventName:"",eventType:"",eventParams:{bubbles:!0,cancelable:!1}}},"google-sheets":{name:"Google sheets",description:"Read Google Sheets data",icon:"mdiGoogleSheet",component:"BlockBasic",editComponent:"EditGoogleSheets",category:"onlineServices",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["customData","range","spreadsheetId"],autocomplete:["refKey"],data:{disableBlock:!1,range:"",refKey:"",type:"get",customData:"",description:"",spreadsheetId:"",dataColumn:"",saveData:!0,assignVariable:!1,variableName:"",firstRowAsKey:!1,keysAsFirstRow:!0,valueInputOption:"RAW",InsertDataOption:"INSERT_ROWS",dataFrom:"data-columns"}},conditions:{name:"Conditions",description:"Conditional block",icon:"riAB",component:"BlockConditions",editComponent:"EditConditions",category:"conditions",inputs:1,outputs:0,allowedInputs:!0,maxConnection:1,data:{description:"",disableBlock:!1,conditions:[],retryConditions:!1,retryCount:10,retryTimeout:1e3}},"element-exists":{name:"Element exists",description:"Check if an element is exists",icon:"riFocus3Line",component:"BlockElementExists",editComponent:"EditElementExists",category:"conditions",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",selector:"",tryCount:1,timeout:500,markEl:!1,throwError:!1}},webhook:{name:"HTTP Request",description:"make an HTTP request",icon:"riEarthLine",component:"BlockBasicWithFallback",editComponent:"EditWebhook",category:"general",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,refDataKeys:["body","url"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",url:"",body:"{}",headers:[],method:"POST",timeout:1e4,dataPath:"",contentType:"json",variableName:"",assignVariable:!1,saveData:!1,dataColumn:"",responseType:"json"}},"while-loop":{name:"While loop",description:"Execute blocks while the condition is met",icon:"riRefreshFill",component:"BlockBasicWithFallback",editComponent:"EditWhileLoop",category:"general",inputs:1,outputs:2,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",conditions:null}},"loop-data":{name:"Loop data",icon:"riRefreshLine",component:"BlockBasic",editComponent:"EditLoopData",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["maxLoop","loopData","variableName","referenceKey","elementSelector"],autocomplete:["variableName","loopId"],data:{disableBlock:!1,loopId:"",maxLoop:0,toNumber:10,fromNumber:1,startIndex:0,loopData:"[]",description:"",variableName:"",referenceKey:"",elementSelector:"",waitForSelector:!1,waitSelectorTimeout:5e3,resumeLastWorkflow:!1,loopThrough:"data-columns"}},"loop-breakpoint":{name:"Loop breakpoint",description:"To tell where loop data must stop",icon:"riStopLine",component:"BlockLoopBreakpoint",category:"general",disableEdit:!0,inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,loopId:""}},"blocks-group":{name:"Blocks group",description:"Grouping blocks",icon:"riFolderZipLine",component:"BlockGroup",category:"general",disableEdit:!0,inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,name:"",blocks:[]}},clipboard:{name:"Clipboard",description:"Get the copied text from the clipboard",icon:"riClipboardLine",component:"BlockBasic",category:"general",editComponent:"EditClipboard",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,autocomplete:["variableName"],refDataKeys:["dataToCopy"],data:{disableBlock:!1,description:"",type:"get",assignVariable:!1,variableName:"",saveData:!0,dataColumn:"",dataToCopy:"",copySelectedText:!1}},"insert-data":{name:"Insert data",description:"Insert data into table or variable",icon:"riDatabase2Line",component:"BlockBasic",category:"data",editComponent:"EditInsertData",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",dataList:[]}},"switch-to":{name:"Switch frame",description:"Switch between main window and iframe",icon:"riArrowUpDownLine",component:"BlockBasic",editComponent:"EditSwitchTo",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,findBy:"cssSelector",selector:"",windowType:"main-window"}},"upload-file":{name:"Upload file",description:'Upload file into <input type="file"> element',icon:"riFileUploadLine",component:"BlockBasic",editComponent:"EditUploadFile",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","filePaths"],data:{disableBlock:!1,findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",filePaths:[]}},"hover-element":{name:"Hover element",description:"Hover over an element",icon:"mdiCursorDefaultClickOutline",component:"BlockBasic",editComponent:"EditInteractionBase",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1}},"save-assets":{name:"Save assets",description:"Save assets (image, video, audio, or file) from an element or URL",icon:"riImageLine",component:"BlockBasic",editComponent:"EditSaveAssets",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","url","filename"],data:{disableBlock:!1,description:"",findBy:"cssSelector",waitForSelector:!1,waitSelectorTimeout:5e3,selector:"",markEl:!1,multiple:!1,type:"element",url:"",filename:"",onConflict:"uniquify"}},"press-key":{name:"Press key",description:"Press a key or a combination",icon:"riKeyboardLine",component:"BlockBasic",editComponent:"EditPressKey",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["selector","keys"],data:{disableBlock:!1,keys:"",selector:"",description:""}},"handle-dialog":{name:"Handle dialog",description:"Accepts or dismisses a JavaScript initiated dialog (alert, confirm, prompt, or onbeforeunload).",icon:"riChat3Line",component:"BlockBasic",editComponent:"EditHandleDialog",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["promptText"],data:{disableBlock:!1,description:"",accept:!0,promptText:""}},"handle-download":{name:"Handle download",description:"Handle downloaded file",icon:"riFileDownloadLine",component:"BlockBasic",editComponent:"EditHandleDownload",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["filename"],autocomplete:["variableName"],data:{disableBlock:!1,description:"",filename:"",timeout:2e4,onConflict:"uniquify",waitForDownload:!0,dataColumn:"",saveData:!0,assignVariable:!1,variableName:""}},"reload-tab":{name:"Reload tab",description:"Reload the active tab",icon:"riRestartLine",component:"BlockBasic",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,disableEdit:!0,data:{disableBlock:!1}},"delete-data":{name:"Delete data",description:"Delete table or variable data",icon:"riDeleteBin7Line",editComponent:"EditDeleteData",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",deleteList:[]}},"wait-connections":{name:"Wait connections",description:"Wait for all connections before continuing to the next block",icon:"riTimerFlashLine",editComponent:"EditWaitConnections",component:"BlockBasic",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",timeout:1e4,specificFlow:!1,flowBlockId:""}},notification:{name:"Notification",description:"Display a notification",icon:"riNotification3Line",editComponent:"EditNotification",component:"BlockBasic",category:"general",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["message","title","iconUrl","imageUrl"],data:{disableBlock:!1,description:"",message:"",iconUrl:"",imageUrl:"",title:"Hello world!"}},"log-data":{name:"Get log data",description:"Get the latest log data of a workflow",icon:"riFileHistoryLine",editComponent:"EditLogData",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",workflowId:"",dataColumn:"",saveData:!0,assignVariable:!1,variableName:""}},"tab-url":{name:"Get tab URL",description:"Get the tab URL",icon:"riLinksLine",editComponent:"EditTabURL",component:"BlockBasic",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",type:"active-tab",dataColumn:"",saveData:!0,assignVariable:!1,variableName:""}},"slice-variable":{name:"Slice variable",description:"Extracts a section of a variable value",icon:"riSliceLine",editComponent:"EditSliceVariable",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",endIdxEnabled:!1,startIdxEnabled:!0,endIndex:0,startIndex:0,variableName:""}},"increase-variable":{name:"Increase variable",description:"Increase the value of a variable by specific amount",icon:"riIncreaseDecreaseLine",editComponent:"EditIncreaseVariable",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",increaseBy:1,variableName:""}},"regex-variable":{name:"RegEx variable",description:"Matching a variable value against a regular expression",icon:"mdiRegex",editComponent:"EditRegexVariable",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["replaceVal"],data:{disableBlock:!1,method:"match",replaceVal:"",description:"",expression:"",flag:[]}},"data-mapping":{name:"Data mapping",description:"Map data of a variable or table",icon:"riMindMap",editComponent:"EditDataMapping",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",dataSource:"table",sources:[],varSourceName:"",dataColumn:"",saveData:!1,assignVariable:!1,variableName:""}},"sort-data":{name:"Sort data",description:"Sort the items of data",icon:"riSortAsc",editComponent:"EditSortData",component:"BlockBasic",category:"data",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,data:{disableBlock:!1,description:"",sortByProperty:!1,itemProperties:[],dataSource:"table",varSourceName:"",dataColumn:"",saveData:!1,assignVariable:!1,variableName:""}},"create-element":{name:"Create element",description:"Create an element and insert it into the page",icon:"riHtml5Line",editComponent:"EditCreateElement",component:"BlockBasic",category:"interaction",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["html","css"],data:{disableBlock:!1,description:"",javascript:"",html:"",css:"",preloadScripts:[],findBy:"cssSelector",insertAt:"after",runBeforeLoad:!1,waitForSelector:!1,waitSelectorTimeout:5e3,selector:"body"}},cookie:{name:"Cookie",description:"Get, set, or remove cookies",icon:"mdiCookieOutline",editComponent:"EditCookie",component:"BlockBasic",category:"browser",inputs:1,outputs:1,allowedInputs:!0,maxConnection:1,refDataKeys:["domain","expirationDate","path","sameSite","name","url","value"],data:{disableBlock:!1,description:"",type:"get",getAll:!1,domain:"",expirationDate:"",path:"",sameSite:"",name:"",url:"",value:"",httpOnly:!1,secure:!1,session:!1,assignVariable:!1,variableName:"",saveData:!0,dataColumn:""}}},a={valueTypes:[{id:"value",category:"value",name:"Value",compareable:!0,data:{value:""}},{id:"code",category:"value",name:"Code",compareable:!1,data:{code:"\nreturn true;"}},{id:"element#text",category:"element",name:"Element text",compareable:!0,data:{selector:""}},{id:"element#exists",category:"element",name:"Element exists",compareable:!1,data:{selector:""}},{id:"element#notExists",category:"element",name:"Element not exists",compareable:!1,data:{selector:""}},{id:"element#visible",category:"element",name:"Element visible",compareable:!1,data:{selector:""}},{id:"element#visibleScreen",category:"element",name:"Element visible in screen",compareable:!1,data:{selector:""}},{id:"element#invisible",category:"element",name:"Element hidden in screen",compareable:!1,data:{selector:""}},{id:"element#attribute",category:"element",name:"Element attribute value",compareable:!0,data:{selector:"",attrName:""}}],compareTypes:[{id:"eq",name:"Equals",needValue:!0,category:"basic"},{id:"eqi",name:"Equals (case insensitive)",needValue:!0,category:"basic"},{id:"nq",name:"Not equals",needValue:!0,category:"basic"},{id:"gt",name:"Greater than",needValue:!0,category:"number"},{id:"gte",name:"Greater than or equal",needValue:!0,category:"number"},{id:"lt",name:"Less than",needValue:!0,category:"number"},{id:"lte",name:"Less than or equal",needValue:!0,category:"number"},{id:"cnt",name:"Contains",needValue:!0,category:"text"},{id:"cni",name:"Contains (case insensitive)",needValue:!0,category:"text"},{id:"nct",name:"Not contains",needValue:!0,category:"text"},{id:"nci",name:"Not contains (case insensitive)",needValue:!0,category:"text"},{id:"stw",name:"Starts with",needValue:!0,category:"text"},{id:"enw",name:"Ends with",needValue:!0,category:"text"},{id:"rgx",name:"Match with RegEx",needValue:!0,category:"text"},{id:"itr",name:"Is truthy",needValue:!1,category:"boolean"},{id:"ifl",name:"Is falsy",needValue:!1,category:"boolean"}],inputTypes:{selector:{placeholder:".class",label:"CSS selector or XPath"},value:{label:"Value",placeholder:"abc123"},attrName:{label:"Attribute name",placeholder:"name"}}}},93325:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(83465),a=n.n(r),i=n(7335),o=n(64989);const s=e=>"true"===e||"false"!==e&&e,c=e=>Number.isNaN(+e)?e:+e,l={eq:(e,t)=>e===t,eqi:(e,t)=>e?.toLocaleLowerCase()===t?.toLocaleLowerCase(),nq:(e,t)=>e!==t,gt:(e,t)=>c(e)>c(t),gte:(e,t)=>c(e)>=c(t),lt:(e,t)=>c(e)<c(t),lte:(e,t)=>c(e)<=c(t),cnt:(e,t)=>e?.includes(t)??!1,cni:(e,t)=>e?.toLocaleLowerCase().includes(t?.toLocaleLowerCase())??!1,nct:(e,t)=>!l.cnt(e,t),nci:(e,t)=>!l.cni(e,t),stw:(e,t)=>e?.startsWith(t)??!1,enw:(e,t)=>e?.endsWith(t)??!1,rgx:(e,t)=>{const n=t.match(/^\/(.*?)\/([gimy]*)$/);return new RegExp(n[1],n[2]).test(e)},itr:e=>Boolean(s(e)),ifl:e=>!s(e)};async function u(e,t){const n={isMatch:!1,replacedValue:{}};async function r({type:e,data:r}){const o=a()(r);if(Object.keys(r).forEach((e=>{const{value:r,list:a}=(0,i.ZP)(o[e],t.refData);o[e]=r??"",Object.assign(n.replacedValue,a)})),"value"===e)return o.value;if(e.startsWith("element")||e.startsWith("code")){return await t.sendMessage({type:"condition-builder",data:{type:e,data:o,refData:t.refData}})}return""}async function s(e){let t=!0;const n={value:"",operator:""};for(const{category:a,data:i,type:s}of e){if(!t)return t;if("compare"===a){const{needValue:e}=o.YK.compareTypes.find((({id:e})=>e===s));if(!e)return t=l[s](n.value),t;n.operator=s}else if("value"===a){const e=await r({data:i,type:s}),{compareable:a}=o.YK.valueTypes.find((({id:e})=>e===s));a?n.operator&&(t=l[n.operator](n.value,e),n.operator=""):t=e,n.value=e}}return t}for(const{conditions:t}of e){if(n.isMatch)return n;let e=!1;for(const{items:n}of t)if(e=await s(n),!e)break;n.isMatch=e}return n}},93150:function(e,t){var n,r,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if("object"!=typeof globalThis||"object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",c=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((a,i)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:a,reject:i},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(n[e](...r),a()):n[e](...r,o({resolve:a,reject:i},t))}))},l=(e,t,n)=>new Proxy(t,{apply:(t,r,a)=>n.call(r,e,...a)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const d=(e,t={},n={})=>{let r=Object.create(null),a={has:(t,n)=>n in e||n in r,get(a,i,o){if(i in r)return r[i];if(!(i in e))return;let s=e[i];if("function"==typeof s)if("function"==typeof t[i])s=l(e,e[i],t[i]);else if(u(n,i)){let t=c(i,n[i]);s=l(e,e[i],t)}else s=s.bind(e);else if("object"==typeof s&&null!==s&&(u(t,i)||u(n,i)))s=d(s,t[i],n[i]);else{if(!u(n,"*"))return Object.defineProperty(r,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),s;s=d(s,t[i],n["*"])}return r[i]=s,s},set:(t,n,a,i)=>(n in r?r[n]=a:e[n]=a,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},i=Object.create(e);return new Proxy(i,a)},h=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),f=new a((e=>"function"!=typeof e?e:function(t){const n=d(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)}));let p=!1;const m=new a((e=>"function"!=typeof e?e:function(t,r,a){let o,s,c=!1,l=new Promise((e=>{o=function(t){p||(console.warn(n,(new Error).stack),p=!0),c=!0,e(t)}}));try{s=e(t,r,o)}catch(e){s=Promise.reject(e)}const u=!0!==s&&i(s);if(!0!==s&&!u&&!c)return!1;const d=e=>{e.then((e=>{a(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",a({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return d(u?s:l),!0})),g=({reject:n,resolve:r},a)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):a&&a.__mozWebExtensionPolyfillReject__?n(new Error(a.message)):r(a)},y=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const a=g.bind(null,{resolve:e,reject:t});r.push(a),n.sendMessage(...r)}))},b={devtools:{network:{onRequestFinished:h(f)}},runtime:{onMessage:h(m),onMessageExternal:h(m),sendMessage:y.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:y.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},d(e,b,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(a="function"==typeof n?n.apply(t,r):n)||(e.exports=a)},11483:(e,t,n)=>{var r={"./handlerActiveTab.js":98101,"./handlerBlocksGroup.js":22757,"./handlerBrowserEvent.js":1373,"./handlerClipboard.js":34348,"./handlerCloseTab.js":9912,"./handlerConditions.js":75624,"./handlerCookie.js":72267,"./handlerCreateElement.js":29541,"./handlerDataMapping.js":36821,"./handlerDelay.js":90320,"./handlerDeleteData.js":6724,"./handlerElementExists.js":38625,"./handlerExecuteWorkflow.js":79715,"./handlerExportData.js":20613,"./handlerForwardPage.js":71354,"./handlerGoBack.js":79309,"./handlerGoogleSheets.js":98620,"./handlerHandleDialog.js":92934,"./handlerHandleDownload.js":90297,"./handlerHoverElement.js":31375,"./handlerIncreaseVariable.js":71203,"./handlerInsertData.js":51523,"./handlerInteractionBlock.js":1050,"./handlerJavascriptCode.js":17340,"./handlerLogData.js":56147,"./handlerLoopBreakpoint.js":89232,"./handlerLoopData.js":7822,"./handlerNewTab.js":52297,"./handlerNewWindow.js":63439,"./handlerNotification.js":31250,"./handlerProxy.js":31833,"./handlerRegexVariable.js":42590,"./handlerReloadTab.js":67546,"./handlerRepeatTask.js":61701,"./handlerSaveAssets.js":85506,"./handlerSliceVariable.js":55932,"./handlerSortData.js":35852,"./handlerSwitchTab.js":94839,"./handlerSwitchTo.js":67734,"./handlerTabUrl.js":68691,"./handlerTakeScreenshot.js":62630,"./handlerTrigger.js":6457,"./handlerWaitConnections.js":34748,"./handlerWebhook.js":29586,"./handlerWhileLoop.js":81146};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=11483},42480:()=>{},49520:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Un});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,a=Object.keys,i=Array.isArray;function o(e,t){return"object"!=typeof t||a(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);const s=Object.getPrototypeOf,c={}.hasOwnProperty;function l(e,t){return c.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(s(e))),("undefined"==typeof Reflect?a:Reflect.ownKeys)(t).forEach((n=>{h(e,n,t[n])}))}const d=Object.defineProperty;function h(e,t,n,r){d(e,t,o(n&&l(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function f(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}const p=Object.getOwnPropertyDescriptor;function m(e,t){let n;return p(e,t)||(n=s(e))&&m(n,t)}const g=[].slice;function y(e,t,n){return g.call(e,t,n)}function b(e,t){return t(e)}function v(e){if(!e)throw new Error("Assertion Failed")}function w(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function k(e,t){return e.reduce(((e,n,r)=>{var a=t(n,r);return a&&(e[a[0]]=a[1]),e}),{})}function x(e,t){if(l(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,a=t.length;r<a;++r){var i=x(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(-1!==o){var s=e[t.substr(0,o)];return void 0===s?void 0:x(s,t.substr(o+1))}}function _(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){v("string"!=typeof n&&"length"in n);for(var r=0,a=t.length;r<a;++r)_(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),c=t.substr(o+1);if(""===c)void 0===n?i(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var u=e[s];u&&l(e,s)||(u=e[s]={}),_(u,c,n)}}else void 0===n?i(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function S(e){var t={};for(var n in e)l(e,n)&&(t[n]=e[n]);return t}const E=[].concat;function A(e){return E.apply([],e)}const I="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(A([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>r[e])),C=I.map((e=>r[e]));k(I,(e=>[e,!0]));let T=null;function D(e){T="undefined"!=typeof WeakMap&&new WeakMap;const t=B(e);return T=null,t}function B(e){if(!e||"object"!=typeof e)return e;let t=T&&T.get(e);if(t)return t;if(i(e)){t=[],T&&T.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(B(e[n]))}else if(C.indexOf(e.constructor)>=0)t=e;else{const n=s(e);for(var a in t=n===Object.prototype?{}:Object.create(n),T&&T.set(e,t),e)l(e,a)&&(t[a]=B(e[a]))}return t}const{toString:O}={};function L(e){return O.call(e).slice(8,-1)}const P="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",R="symbol"==typeof P?function(e){var t;return null!=e&&(t=e[P])&&t.apply(e)}:function(){return null},N={};function j(e){var t,n,r,a;if(1===arguments.length){if(i(e))return e.slice();if(this===N&&"string"==typeof e)return[e];if(a=R(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const M="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var z="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $(e,t){z=e,F=t}var F=()=>!0;const U=!new Error("").stack;function K(){if(U)try{throw K.arguments,new Error}catch(e){return e}return new Error}function H(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(F).map((e=>"\n"+e)).join("")):""}var W=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],q=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(W),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Y(e,t){this._e=K(),this.name=e,this.message=t}function G(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Z(e,t,n,r){this._e=K(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=G(e,t)}function X(e,t){this._e=K(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=G(e,t)}f(Y).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+H(this._e,2))}},toString:function(){return this.name+": "+this.message}}),f(Z).from(Y),f(X).from(Y);var J=q.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Q=Y;var ee=q.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=K(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=V[t]||n,this.inner=null)}return f(r).from(Q),e[t]=r,e}),{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var te=W.reduce(((e,t)=>(e[t+"Error"]=ee[t],e)),{}),ne=q.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ee[t]),e)),{});function re(){}function ae(e){return e}function ie(e,t){return null==e||e===ae?t:function(n){return t(e(n))}}function oe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function se(e,t){return e===re?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?oe(r,this.onsuccess):r),a&&(this.onerror=this.onerror?oe(a,this.onerror):a),void 0!==i?i:n}}function ce(e,t){return e===re?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?oe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?oe(r,this.onerror):r)}}function le(e,t){return e===re?t:function(n){var r=e.apply(this,arguments);o(n,r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?oe(a,this.onsuccess):a),i&&(this.onerror=this.onerror?oe(i,this.onerror):i),void 0===r?void 0===s?void 0:s:o(r,s)}}function ue(e,t){return e===re?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function de(e,t){return e===re?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}ne.ModifyError=Z,ne.DexieError=Y,ne.BulkError=X;var he={};const[fe,pe,me]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,s(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,s(t),e]})(),ge=pe&&pe.then,ye=fe&&fe.constructor,be=!!me;var ve=!1,we=me?()=>{me.then(Ke)}:r.setImmediate?setImmediate.bind(null,Ke):r.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Ke(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ke,0)},ke=function(e,t){De.push([e,t]),_e&&(we(),_e=!1)},xe=!0,_e=!0,Se=[],Ee=[],Ae=null,Ie=ae,Ce={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ft,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{ft(e[0],e[1])}catch(e){}}))}},Te=Ce,De=[],Be=0,Oe=[];function Le(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=re,this._lib=!1;var t=this._PSD=Te;if(z&&(this._stackHolder=K(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==he)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&je(this,this._value))}this._state=null,this._value=null,++t.ref,Ne(this,e)}const Pe={get:function(){var e=Te,t=Qe;function n(n,r){var a=!e.global&&(e!==Te||t!==Qe);const i=a&&!rt();var o=new Le(((t,o)=>{ze(this,new Re(dt(n,e,a,i),dt(r,e,a,i),t,o,e))}));return z&&Ue(o,this),o}return n.prototype=he,n},set:function(e){h(this,"then",e&&e.prototype===he?Pe:{get:function(){return e},set:Pe.set})}};function Re(e,t,n,r,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=a}function Ne(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&He();t&&"function"==typeof t.then?Ne(e,((e,n)=>{t instanceof Le?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Me(e)),n&&We()}}),je.bind(null,e))}catch(t){je(e,t)}}function je(e,t){if(Ee.push(t),null===e._state){var n=e._lib&&He();t=Ie(t),e._state=!1,e._value=t,z&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=m(t,"stack");t._promise=e,h(t,"stack",{get:()=>ve?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){Se.some((t=>t._value===e._value))||Se.push(e)}(e),Me(e),n&&We()}}function Me(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ze(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),0===Be&&(++Be,ke((()=>{0==--Be&&qe()}),[]))}function ze(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Be,ke($e,[n,e,t])}else e._listeners.push(t)}function $e(e,t,n){try{Ae=t;var r,a=t._value;t._state?r=e(a):(Ee.length&&(Ee=[]),r=e(a),-1===Ee.indexOf(a)&&function(e){for(var t=Se.length;t;)if(Se[--t]._value===e._value)return void Se.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ae=null,0==--Be&&qe(),--n.psd.ref||n.psd.finalize()}}function Fe(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var a,i,o=e._value;null!=o?(a=o.name||"Error",i=o.message||o,r=H(o,0)):(a=o,i=""),t.push(a+(i?": "+i:"")+r)}return z&&((r=H(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Fe(e._prev,t,n)),t}function Ue(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ke(){He()&&We()}function He(){var e=xe;return xe=!1,_e=!1,e}function We(){var e,t,n;do{for(;De.length>0;)for(e=De,De=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(De.length>0);xe=!0,_e=!0}function qe(){var e=Se;Se=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Oe.slice(0),n=t.length;n;)t[--n]()}function Ve(e){return new Le(he,!1,e)}function Ye(e,t){var n=Te;return function(){var r=He(),a=Te;try{return st(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{st(a,!1),r&&We()}}}u(Le.prototype,{then:Pe,_then:function(e,t){ze(this,new Re(null,null,e,t,Te))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Ve(e))):this.then(null,(e=>e&&e.name===t?n(e):Ve(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ve(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var e=Fe(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ve=!1}}},timeout:function(e,t){return e<1/0?new Le(((n,r)=>{var a=setTimeout((()=>r(new ee.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,a))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Le.prototype,Symbol.toStringTag,"Dexie.Promise"),Ce.env=ct(),u(Le,{all:function(){var e=j.apply(null,arguments).map(at);return new Le((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((a,i)=>Le.resolve(a).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Le)return e;if(e&&"function"==typeof e.then)return new Le(((t,n)=>{e.then(t,n)}));var t=new Le(he,!0,e);return Ue(t,Ae),t},reject:Ve,race:function(){var e=j.apply(null,arguments).map(at);return new Le(((t,n)=>{e.map((e=>Le.resolve(e).then(t,n)))}))},PSD:{get:()=>Te,set:e=>Te=e},totalEchoes:{get:()=>Qe},newPSD:tt,usePSD:lt,scheduler:{get:()=>ke,set:e=>{ke=e}},rejectionMapper:{get:()=>Ie,set:e=>{Ie=e}},follow:(e,t)=>new Le(((n,r)=>tt(((t,n)=>{var r=Te;r.unhandleds=[],r.onunhandled=n,r.finalize=oe((function(){!function(e){Oe.push((function t(){e(),Oe.splice(Oe.indexOf(t),1)})),++Be,ke((()=>{0==--Be&&qe()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),ye&&(ye.allSettled&&h(Le,"allSettled",(function(){const e=j.apply(null,arguments).map(at);return new Le((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,a)=>Le.resolve(e).then((e=>r[a]={status:"fulfilled",value:e}),(e=>r[a]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),ye.any&&"undefined"!=typeof AggregateError&&h(Le,"any",(function(){const e=j.apply(null,arguments).map(at);return new Le(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const a=new Array(r);e.forEach(((e,i)=>Le.resolve(e).then((e=>t(e)),(e=>{a[i]=e,--r||n(new AggregateError(a))}))))}))})));const Ge={awaits:0,echoes:0,id:0};var Ze=0,Xe=[],Je=0,Qe=0,et=0;function tt(e,t,n,r){var a=Te,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++et;var s=Ce.env;i.env=be?{Promise:Le,PromiseProp:{value:Le,configurable:!0,writable:!0},all:Le.all,race:Le.race,allSettled:Le.allSettled,any:Le.any,resolve:Le.resolve,reject:Le.reject,nthen:ht(s.nthen,i),gthen:ht(s.gthen,i)}:{},t&&o(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=lt(i,e,n,r);return 0===i.ref&&i.finalize(),c}function nt(){return Ge.id||(Ge.id=++Ze),++Ge.awaits,Ge.echoes+=100,Ge.id}function rt(){return!!Ge.awaits&&(0==--Ge.awaits&&(Ge.id=0),Ge.echoes=100*Ge.awaits,!0)}function at(e){return Ge.echoes&&e&&e.constructor===ye?(nt(),e.then((e=>(rt(),e)),(e=>(rt(),pt(e))))):e}function it(e){++Qe,Ge.echoes&&0!=--Ge.echoes||(Ge.echoes=Ge.id=0),Xe.push(Te),st(e,!0)}function ot(){var e=Xe[Xe.length-1];Xe.pop(),st(e,!1)}function st(e,t){var n=Te;if((t?!Ge.echoes||Je++&&e===Te:!Je||--Je&&e===Te)||ut(t?it.bind(null,e):ot),e!==Te&&(Te=e,n===Ce&&(Ce.env=ct()),be)){var a=Ce.env.Promise,i=e.env;pe.then=i.nthen,a.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(r,"Promise",i.PromiseProp),a.all=i.all,a.race=i.race,a.resolve=i.resolve,a.reject=i.reject,i.allSettled&&(a.allSettled=i.allSettled),i.any&&(a.any=i.any))}}function ct(){var e=r.Promise;return be?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:pe.then,gthen:e.prototype.then}:{}}function lt(e,t,n,r,a){var i=Te;try{return st(e,!0),t(n,r,a)}finally{st(i,!1)}}function ut(e){ge.call(fe,e)}function dt(e,t,n,r){return"function"!=typeof e?e:function(){var a=Te;n&&nt(),st(t,!0);try{return e.apply(this,arguments)}finally{st(a,!1),r&&ut(rt)}}}function ht(e,t){return function(n,r){return e.call(this,dt(n,t),dt(r,t))}}function ft(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var a,i={promise:t,reason:e};if(r.document&&document.createEvent?((a=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),o(a,i)):r.CustomEvent&&o(a=new CustomEvent("unhandledrejection",{detail:i}),i),a&&r.dispatchEvent&&(dispatchEvent(a),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(a)}catch(e){}z&&a&&!a.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+ge).indexOf("[native code]")&&(nt=rt=re);var pt=Le.reject;function mt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Te.letThrough||e._vip)){var a=e._createTransaction(t,n,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===J.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>mt(e,t,n,r)))):pt(a)}return a._promise(t,((e,t)=>tt((()=>(Te.trans=a,r(e,t,a)))))).then((e=>a._completion.then((()=>e))))}if(e._state.openComplete)return pt(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return pt(new ee.DatabaseClosed);e.open().catch(re)}return e._state.dbReadyPromise.then((()=>mt(e,t,n,r)))}const gt=String.fromCharCode(65535),yt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt=[],vt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),wt=vt,kt=vt,xt=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function _t(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const St={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Et(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=D(t))[e],t)}class At{_trans(e,t,n){const r=this._tx||Te.trans,a=this.name;function i(e,n,r){if(!r.schema[a])throw new ee.NotFound("Table "+a+" not part of transaction");return t(r.idbtrans,r)}const o=He();try{return r&&r.db===this.db?r===Te.trans?r._promise(e,i,n):tt((()=>r._promise(e,i,n)),{trans:r,transless:Te.transless||Te}):mt(this.db,e,[this.name],i)}finally{o&&We()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(i(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=a(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==gt)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&z&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,o=this.db._deps.indexedDB;function s(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[c,l]=t.reduce((([t,n],a)=>{const o=r[a],c=e[a];return[t||o,t||!o?_t(n,o&&o.multi?e=>{const t=x(e,a);return i(t)&&t.some((e=>s(c,e)))}:e=>s(c,x(e,a))):n]}),[null,null]);return c?this.where(c.name).equals(e[c.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,i(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(l(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){o(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let a=e;return r&&n&&(a=Et(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]}))).then((e=>e.numFailures?Le.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);{const n=x(e,this.schema.primKey.keyPath);if(void 0===n)return pt(new ee.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?a(t).forEach((n=>{_(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let a=e;return r&&n&&(a=Et(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Le.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Le.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:St}))).then((e=>e.numFailures?Le.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let s=i&&n?e.map(Et(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:a}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return a?t:n;throw new X(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let s=i&&n?e.map(Et(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:a}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return a?t:n;throw new X(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new X(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function It(e){var t={},n=function(n,r){if(r){for(var a=arguments.length,i=new Array(a-1);--a;)i[a-1]=arguments[a];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var r=1,o=arguments.length;r<o;++r)s(arguments[r]);return n;function s(e,r,a){if("object"==typeof e)return c(e);r||(r=ue),a||(a=re);var i={subscribers:[],fire:a,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,a)}};return t[e]=n[e]=i,i}function c(e){a(e).forEach((function(t){var n=e[t];if(i(n))s(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new ee.InvalidArgument("Invalid event config");var r=s(t,ae,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){w((function(){e.apply(null,t)}))}))}))}}))}}function Ct(e,t){return f(t).from({prototype:e}),t}function Tt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Dt(e,t){e.filter=_t(e.filter,t)}function Bt(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>_t(r(),t()):t,e.justLimit=n&&!r}function Ot(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Lt(e,t,n){const r=Ot(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Pt(e,t,n,r){const a=e.replayFilter?_t(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},o=(e,n,r)=>{if(!a||a(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var o=n.primaryKey,s=""+o;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(o)),l(i,s)||(i[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),Rt(Lt(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Rt(Lt(e,r,n),_t(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function Rt(e,t,n,r){var a=Ye(r?(e,t,a)=>n(r(e),t,a):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=re}),(t=>{e.fail(t),n=re}))||a(e.value,e,(e=>n=e)),n()}))}))}function Nt(e,t){try{const n=jt(e),r=jt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,a=n<r?n:r;for(let n=0;n<a;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Mt(e),Mt(t));case"Array":return function(e,t){const n=e.length,r=t.length,a=n<r?n:r;for(let n=0;n<a;++n){const r=Nt(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function jt(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=L(e);return"ArrayBuffer"===n?"binary":n}function Mt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class zt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,pt.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,pt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=_t(t.algorithm,e)}_iterate(e,t){return Pt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&o(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Pt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Tt(t,!0))return n.count({trans:e,query:{index:Ot(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Pt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],a=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function s(e,t){var n=i(e,a),r=i(t,a);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(s)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Tt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Ot(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Pt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Tt(t)?Bt(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Bt(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Bt(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Dt(this._ctx,(function(n,r,a){return!e(n.value)||(r(a),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Dt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=_t(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Tt(t,!0)&&t.limit>0)return this._read((e=>{var n=Ot(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Dt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=l(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var i=a(e),o=i.length;r=function(t){for(var n=!1,r=0;r<o;++r){var a=i[r],s=e[a];x(t,a)!==s&&(_(t,a,s),n=!0)}return n}}const s=t.table.core,{outbound:c,extractKey:l}=s.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[];let h=0;const f=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;h+=e-r;for(let e of a(n))d.push(n[e])};return this.clone().primaryKeys().then((a=>{const i=o=>{const d=Math.min(u,a.length-o);return s.getMany({trans:n,keys:a.slice(o,o+d),cache:"immutable"}).then((h=>{const f=[],m=[],g=c?[]:null,y=[];for(let e=0;e<d;++e){const t=h[e],n={value:D(t),primKey:a[o+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(a[o+e]):c||0===Nt(l(t),l(n.value))?(m.push(n.value),c&&g.push(a[o+e])):(y.push(a[o+e]),f.push(n.value)))}const b=Tt(t)&&t.limit===1/0&&("function"!=typeof e||e===$t)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&s.mutate({trans:n,type:"add",values:f}).then((e=>{for(let t in e.failures)y.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||b&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:g,values:m,criteria:b,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(y.length>0||b&&e===$t)&&s.mutate({trans:n,type:"delete",keys:y,criteria:b}).then((e=>p(y.length,e))))).then((()=>a.length>o+d&&i(o+u)))}))};return i(0).then((()=>{if(d.length>0)throw new Z("Error modifying one or more objects",d,h,f);return a.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Tt(e)&&(e.isPrimKey&&!kt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,a=t;return e.table.core.count({trans:n,query:{index:r,range:a}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then((({failures:e,lastResult:n,results:r,numFailures:a})=>{if(a)throw new Z("Could not delete some values",Object.keys(e).map((t=>e[t])),t-a);return t-a}))))})):this.modify($t)}}const $t=(e,t)=>t.value=null;function Ft(e,t){return e<t?-1:e===t?0:1}function Ut(e,t){return e>t?-1:e===t?0:1}function Kt(e,t,n){var r=e instanceof Gt?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ht(e){return new e.Collection(e,(()=>Yt(""))).limit(0)}function Wt(e,t,n,r,a,i){for(var o=Math.min(e.length,r.length),s=-1,c=0;c<o;++c){var l=t[c];if(l!==r[c])return a(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):a(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;a(e[c],l)<0&&(s=c)}return o<r.length&&"next"===i?e+n.substr(e.length):o<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function qt(e,t,n,r){var a,i,o,s,c,l,u,d=n.length;if(!n.every((e=>"string"==typeof e)))return Kt(e,"String expected.");function h(e){a=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o="next"===e?Ft:Ut;var t=n.map((function(e){return{lower:i(e),upper:a(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),l=e,u="next"===e?"":r}h("next");var f=new e.Collection(e,(()=>Vt(s[0],c[d-1]+r)));f._ondirectionchange=function(e){h(e)};var p=0;return f._addAlgorithm((function(e,n,r){var a=e.key;if("string"!=typeof a)return!1;var h=i(a);if(t(h,c,p))return!0;for(var f=null,m=p;m<d;++m){var g=Wt(a,h,s[m],c[m],o,l);null===g&&null===f?p=m+1:(null===f||o(f,g)>0)&&(f=g)}return n(null!==f?function(){e.continue(f+u)}:r),!1})),f}function Vt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Yt(e){return{type:1,lower:e,upper:e}}class Gt{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Ht(this):new this.Collection(this,(()=>Vt(e,t,!n,!r)))}catch(e){return Kt(this,yt)}}equals(e){return null==e?Kt(this,yt):new this.Collection(this,(()=>Yt(e)))}above(e){return null==e?Kt(this,yt):new this.Collection(this,(()=>Vt(e,void 0,!0)))}aboveOrEqual(e){return null==e?Kt(this,yt):new this.Collection(this,(()=>Vt(e,void 0,!1)))}below(e){return null==e?Kt(this,yt):new this.Collection(this,(()=>Vt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Kt(this,yt):new this.Collection(this,(()=>Vt(void 0,e)))}startsWith(e){return"string"!=typeof e?Kt(this,"String expected."):this.between(e,e+gt,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):qt(this,((e,t)=>0===e.indexOf(t[0])),[e],gt)}equalsIgnoreCase(e){return qt(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=j.apply(N,arguments);return 0===e.length?Ht(this):qt(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=j.apply(N,arguments);return 0===e.length?Ht(this):qt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,gt)}anyOf(){const e=j.apply(N,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Kt(this,yt)}if(0===e.length)return Ht(this);const n=new this.Collection(this,(()=>Vt(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,a,i)=>{const o=n.key;for(;t(o,e[r])>0;)if(++r,r===e.length)return a(i),!1;return 0===t(o,e[r])||(a((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=j.apply(N,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Kt(this,yt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,a=this._descending,i=this._min,o=this._max;if(0===e.length)return Ht(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Kt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);const s=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;let l,u=r;function d(e,t){return u(e[0],t[0])}try{l=e.reduce((function(e,t){let r=0,a=e.length;for(;r<a;++r){const a=e[r];if(n(t[0],a[1])<0&&n(t[1],a[0])>0){a[0]=i(a[0],t[0]),a[1]=o(a[1],t[1]);break}}return r===a&&e.push(t),e}),[]),l.sort(d)}catch(e){return Kt(this,yt)}let h=0;const f=c?e=>r(e,l[h][1])>0:e=>r(e,l[h][1])>=0,p=s?e=>a(e,l[h][0])>0:e=>a(e,l[h][0])>=0;let m=f;const g=new this.Collection(this,(()=>Vt(l[0][0],l[l.length-1][1],!s,!c)));return g._ondirectionchange=e=>{"next"===e?(m=f,u=r):(m=p,u=a),l.sort(d)},g._addAlgorithm(((e,t,n)=>{for(var a=e.key;m(a);)if(++h,h===l.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(a)||(0===this._cmp(a,l[h][1])||0===this._cmp(a,l[h][0])||t((()=>{u===r?e.continue(l[h][0]):e.continue(l[h][1])})),!1)})),g}startsWithAnyOf(){const e=j.apply(N,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Ht(this):this.inAnyRange(e.map((e=>[e,e+gt]))):Kt(this,"startsWithAnyOf() only works with strings")}}function Zt(e){return Ye((function(t){return Xt(t),e(t.target.error),!1}))}function Xt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Jt=It(null,"storagemutated");class Qt{_lock(){return v(!Te.global),++this._reculock,1!==this._reculock||Te.global||(Te.lockOwnerFor=this),this}_unlock(){if(v(!Te.global),0==--this._reculock)for(Te.global||(Te.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{lt(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Te.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(v(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(n);case"MissingAPIError":throw new ee.MissingAPI(n.message,n);default:throw new ee.OpenFailed(n)}if(!this.active)throw new ee.TransactionInactive;return v(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye((t=>{Xt(t),this._reject(e.error)})),e.onabort=Ye((t=>{Xt(t),this.active&&this._reject(new ee.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Ye((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Jt.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return pt(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return pt(new ee.TransactionInactive);if(this._locked())return new Le(((r,a)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,a)},Te])}));if(n)return tt((()=>{var e=new Le(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Le(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Le.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var a=t._waitingFor;return new Le(((e,r)=>{n.then((n=>t._waitingQueue.push(Ye(e.bind(null,n)))),(e=>t._waitingQueue.push(Ye(r.bind(null,e))))).finally((()=>{t._waitingFor===a&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(l(t,e))return t[e];const n=this.schema[e];if(!n)throw new ee.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function en(e,t,n,r,a,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(a?"++":"")+tn(t)}}function tn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function nn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:k(n,(e=>[e.name,e]))}}let rn=e=>{try{return e.only([[]]),rn=()=>[[]],[[]]}catch(e){return rn=()=>gt,gt}};function an(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>x(t,e)}(e):t=>x(t,e)}function on(e){return[].slice.call(e)}let sn=0;function cn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function ln(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:a,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!a):t.bound(n,r,!!a,!!i)}const{schema:a,hasGetAll:o}=function(e,t){const n=on(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=i(t),a=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:a,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:an(t)},indexes:on(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:a}=e,s={name:t,compound:i(a),keyPath:a,unique:n,multiEntry:r,extractKey:an(a)};return o[cn(a)]=s,s})),getIndexByKeyPath:e=>o[cn(e)]};return o[":id"]=s.primaryKey,null!=t&&(o[cn(t)]=s.primaryKey),s}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=a.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:a,values:i,range:o}){return new Promise(((s,c)=>{s=Ye(s);const l=e.objectStore(t),u=null==l.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=a||i||{length:1};if(a&&i&&a.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const y=e=>{++g,Xt(e)};if("deleteRange"===n){if(4===o.type)return s({numFailures:g,failures:m,results:[],lastResult:void 0});3===o.type?p.push(f=l.clear()):p.push(f=l.delete(r(o)))}else{const[e,t]=d?u?[i,a]:[i,null]:[a,null];if(d)for(let r=0;r<h;++r)p.push(f=t&&void 0!==t[r]?l[n](e[r],t[r]):l[n](e[r])),f.onerror=y;else for(let t=0;t<h;++t)p.push(f=l[n](e[t])),f.onerror=y}const b=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),s({numFailures:g,failures:m,results:"delete"===n?a:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{y(e),b(e)},f.onsuccess=b}))},getMany:({trans:e,keys:n})=>new Promise(((r,a)=>{r=Ye(r);const i=e.objectStore(t),o=n.length,s=new Array(o);let c,l=0,u=0;const d=e=>{const t=e.target;s[t._pos]=t.result,++u===l&&r(s)},h=Zt(a);for(let e=0;e<o;++e)null!=n[e]&&(c=i.get(n[e]),c._pos=e,c.onsuccess=d,c.onerror=h,++l);0===l&&r(s)})),get:({trans:e,key:n})=>new Promise(((r,a)=>{r=Ye(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=Zt(a)})),query:function(e){return n=>new Promise(((a,i)=>{a=Ye(a);const{trans:o,values:s,limit:c,query:l}=n,u=c===1/0?void 0:c,{index:d,range:h}=l,f=o.objectStore(t),p=d.isPrimaryKey?f:f.index(d.name),m=r(h);if(0===c)return a({result:[]});if(e){const e=s?p.getAll(m,u):p.getAllKeys(m,u);e.onsuccess=e=>a({result:e.target.result}),e.onerror=Zt(i)}else{let e=0;const t=s||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),n=[];t.onsuccess=r=>{const i=t.result;return i?(n.push(s?i.value:i.primaryKey),++e===c?a({result:n}):void i.continue()):a({result:n})},t.onerror=Zt(i)}}))}(o),openCursor:function({trans:e,values:n,query:a,reverse:i,unique:o}){return new Promise(((s,c)=>{s=Ye(s);const{index:l,range:u}=a,d=e.objectStore(t),h=l.isPrimaryKey?d:d.index(l.name),f=i?o?"prevunique":"prev":o?"nextunique":"next",p=n||!("openKeyCursor"in h)?h.openCursor(r(u),f):h.openKeyCursor(r(u),f);p.onerror=Zt(c),p.onsuccess=Ye((t=>{const n=p.result;if(!n)return void s(null);n.___id=++sn,n.done=!1;const r=n.continue.bind(n);let a=n.continuePrimaryKey;a&&(a=a.bind(n));const i=n.advance.bind(n),o=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Ye(c),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Ye(e),p.onerror=Zt(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}})),s=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=Ye((e=>{p.onsuccess=s,s()})),n.continue=r,n.continuePrimaryKey=a,n.advance=i,s(),t},s(n)}),c)}))},count({query:e,trans:n}){const{index:a,range:i}=e;return new Promise(((e,o)=>{const s=n.objectStore(t),c=a.isPrimaryKey?s:s.index(a.name),l=r(i),u=l?c.count(l):c.count();u.onsuccess=Ye((t=>e(t.target.result))),u.onerror=Zt(o)}))}}}(e))),c={};return s.forEach((e=>c[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!c[e])throw new Error(`Table '${e}' not found`);return c[e]},MIN_KEY:-1/0,MAX_KEY:rn(t),schema:a}}function un({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},a){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(ln(t,n,a),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function dn({_novip:e},t,n,r){n.forEach((n=>{const a=r[n];t.forEach((t=>{const r=m(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h(t,n,{get(){return this.table(n)},set(e){d(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,a))}))}))}function hn({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function fn(e,t){return e._cfg.version-t._cfg.version}function pn(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const s=o._reject.bind(o),c=Te.transless||Te;tt((()=>{Te.trans=o,Te.transless=c,0===t?(a(i).forEach((e=>{gn(n,e,i[e].primKey,i[e].indexes)})),un(e,n),Le.follow((()=>e.on.populate.fire(o))).catch(s)):function({_novip:e},t,n,r){const i=[],o=e._versions;let s=e._dbSchema=bn(e,e.idbdb,r),c=!1;return o.filter((e=>e._cfg.version>=t)).forEach((o=>{i.push((()=>{const i=s,l=o._cfg.dbschema;vn(e,i,r),vn(e,l,r),s=e._dbSchema=l;const u=mn(i,l);u.add.forEach((e=>{gn(r,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new ee.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>yn(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),yn(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const d=o._cfg.contentUpgrade;if(d&&o._cfg.version>t){un(e,r),n._memoizedTables={},c=!0;let t=S(l);u.del.forEach((e=>{t[e]=i[e]})),hn(e,[e.Transaction.prototype]),dn(e,[e.Transaction.prototype],a(t),t),n.schema=t;const o=M(d);let s;o&&nt();const h=Le.follow((()=>{if(s=d(n),s&&o){var e=rt.bind(null,null);s.then(e,e)}}));return s&&"function"==typeof s.then?Le.resolve(s):h.then((()=>s))}})),i.push((t=>{c&&wt||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t),hn(e,[e.Transaction.prototype]),dn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return i.length?Le.resolve(i.shift()(n.idbtrans)).then(e):Le.resolve()}().then((()=>{var e,t;t=r,a(e=s).forEach((n=>{t.db.objectStoreNames.contains(n)||gn(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(s)}))}function mn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const a=e[r],i=t[r];if(a){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!vt)e.recreate=!0,n.change.push(e);else{const t=a.idxByName,r=i.idxByName;let o;for(o in t)r[o]||e.del.push(o);for(o in r){const n=t[o],a=r[o];n?n.src!==a.src&&e.change.push(a):e.add.push(a)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function gn(e,t,n,r){const a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>yn(a,e))),a}function yn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function bn(e,t,n){const r={};return y(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let a=t.keyPath;const i=en(tn(a),a||"",!1,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);a=n.keyPath;var s=en(n.name,a,!!n.unique,!!n.multiEntry,!1,a&&"string"!=typeof a,!1);o.push(s)}r[e]=nn(e,i,o)})),r}function vn({_novip:e},t,n){const a=n.db.objectStoreNames;for(let r=0;r<a.length;++r){const i=a[r],o=n.objectStore(i);e._hasGetAll="getAll"in o;for(let e=0;e<o.indexNames.length;++e){const n=o.indexNames[e],r=o.index(n).keyPath,a="string"==typeof r?r:"["+y(r).join("+")+"]";if(t[i]){const e=t[i].idxByName[a];e&&(e.name=n,delete t[i].idxByName[a],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class wn{_parseStoresSpec(e,t){a(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return en(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(r),0===t)})),a=r.shift();if(a.multi)throw new ee.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")})),t[n]=nn(n,a,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?o(this._cfg.storesSource,e):e;const n=t._versions,r={};let i={};return n.forEach((e=>{o(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,hn(t,[t._allTables,t,t.Transaction.prototype]),dn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],a(i),i),t._storeNames=a(i),this}upgrade(e){return this._cfg.contentUpgrade=de(this._cfg.contentUpgrade||re,e),this}}function kn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Un("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function xn(e){return e&&"function"==typeof e.databases}function _n(e){return tt((function(){return Te.letThrough=!0,e()}))}function Sn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function En(e){var t=t=>e.next(t),n=a(t),r=a((t=>e.throw(t)));function a(e){return t=>{var a=e(t),o=a.value;return a.done?o:o&&"function"==typeof o.then?o.then(n,r):i(o)?Promise.all(o).then(n,r):n(o)}}return a(t)()}function An(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];n=a.pop();var i=A(a);return[e,i,n]}function In(e,t,n,r,a){return Le.resolve().then((()=>{const i=Te.transless||Te,o=e._createTransaction(t,n,e._dbSchema,r),s={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===J.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>In(e,t,n,null,a)))):pt(r)}const c=M(a);let l;c&&nt();const u=Le.follow((()=>{if(l=a.call(o,o),l)if(c){var e=rt.bind(null,null);l.then(e,e)}else"function"==typeof l.next&&"function"==typeof l.throw&&(l=En(l))}),s);return(l&&"function"==typeof l.then?Le.resolve(l).then((e=>o.active?e:pt(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>l))).then((e=>(r&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),pt(e))))}))}function Cn(e,t,n){const r=i(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const Tn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,a={},i=[];function o(e,t,n){const r=cn(e),s=a[r]=a[r]||[],c=null==e?0:"string"==typeof e?1:e.length,l=t>0,u={...n,isVirtual:l,keyTail:t,keyLength:c,extractKey:an(e),unique:!l&&n.unique};return s.push(u),u.isPrimaryKey||i.push(u),c>1&&o(2===c?e[0]:e.slice(0,c-1),t+1,n),s.sort(((e,t)=>e.keyTail-t.keyTail)),u}const s=o(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[s];for(const e of r.indexes)o(e.keyPath,0,e);function c(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,a=n.keyTail,{type:1===r.type?2:r.type,lower:Cn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,a),lowerOpen:!0,upper:Cn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,a),upperOpen:!0})}}:t;var r,a}const l={...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(e){const t=a[cn(e)];return t&&t[0]}},count:e=>n.count(c(e)),query:e=>n.query(c(e)),openCursor(t){const{keyTail:r,isVirtual:a,keyLength:i}=t.query.index;return a?n.openCursor(c(t)).then((n=>n&&function(n){const a=Object.create(n,{continue:{value:function(a){null!=a?n.continue(Cn(a,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,a){n.continuePrimaryKey(Cn(t,e.MAX_KEY,r),a)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return a}(n))):n.openCursor(t)}};return l}}}};function Dn(e,t,n,r){return n=n||{},r=r||"",a(e).forEach((a=>{if(l(t,a)){var i=e[a],o=t[a];if("object"==typeof i&&"object"==typeof o&&i&&o){const e=L(i);e!==L(o)?n[r+a]=t[a]:"Object"===e?Dn(i,o,n,r+a+"."):i!==o&&(n[r+a]=t[a])}else i!==o&&(n[r+a]=t[a])}else n[r+a]=void 0})),a(t).forEach((a=>{l(e,a)||(n[r+a]=t[a])})),n}const Bn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,a={...n,mutate(e){const a=Te.trans,{deleting:i,creating:o,updating:s}=a.table(t).hook;switch(e.type){case"add":if(o.fire===re)break;return a._promise("readwrite",(()=>c(e)),!0);case"put":if(o.fire===re&&s.fire===re)break;return a._promise("readwrite",(()=>c(e)),!0);case"delete":if(i.fire===re)break;return a._promise("readwrite",(()=>c(e)),!0);case"deleteRange":if(i.fire===re)break;return a._promise("readwrite",(()=>function(e){return u(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function c(e){const t=Te.trans,a=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!a)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:a}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,a).then((c=>{const u=a.map(((n,a)=>{const u=c[a],d={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(d,n,u,t);else if("add"===e.type||void 0===u){const i=o.fire.call(d,n,e.values[a],t);null==n&&null!=i&&(n=i,e.keys[a]=n,r.outbound||_(e.values[a],r.keyPath,n))}else{const r=Dn(u,e.values[a]),i=s.fire.call(d,r,n,u,t);if(i){const t=e.values[a];Object.keys(i).forEach((e=>{l(t,e)?t[e]=i[e]:_(t,e,i[e])}))}}return d}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<a.length;++r){const i=n?n[r]:a[r],o=u[r];null==i?o.onerror&&o.onerror(t[r]):o.onsuccess&&o.onsuccess("put"===e.type&&c[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(u.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function u(e,t,a){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:a}).then((({result:n})=>c({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<a?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:n[n.length-1],lowerOpen:!0},a)))))}}};return a}})};function On(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let a=0,i=0;a<t.keys.length&&i<e.length;++a)0===Nt(t.keys[a],e[i])&&(r.push(n?D(t.values[a]):t.values[a]),++i);return r.length===e.length?r:null}catch(e){return null}}const Ln={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=On(e.keys,e.trans._cache,"clone"===e.cache);return t?Le.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?D(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Pn(e){return!("from"in e)}const Rn=function(e,t){if(!this){const t=new Rn;return e&&"d"in e&&o(t,e),t}o(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Nn(e,t,n){const r=Nt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Pn(e))return o(e,{from:t,to:n,d:1});const a=e.l,i=e.r;if(Nt(n,e.from)<0)return a?Nn(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},zn(e);if(Nt(t,e.to)>0)return i?Nn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},zn(e);Nt(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Nt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;a&&!e.l&&jn(e,a),i&&s&&jn(e,i)}function jn(e,t){Pn(t)||function e(t,{from:n,to:r,l:a,r:i}){Nn(t,n,r),a&&e(t,a),i&&e(t,i)}(e,t)}function Mn(e){let t=Pn(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Nt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Nt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function zn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){const t="r"===a?"l":"r",n={...e},r=e[a];e.from=r.from,e.to=r.to,e[a]=r[a],n[a]=r[t],e[t]=n,n.d=$n(n)}e.d=$n(e)}function $n({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}u(Rn.prototype,{add(e){return jn(this,e),this},addKey(e){return Nn(this,e,e),this},addKeys(e){return e.forEach((e=>Nn(this,e,e))),this},[P](){return Mn(this)}});const Fn={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Rn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:s}=o,{primaryKey:c}=s,{extractKey:l,outbound:u}=c,d={...o,mutate:e=>{const a=e.trans,c=a.mutatedParts||(a.mutatedParts={}),l=e=>{const n=`idb://${t}/${r}/${e}`;return c[n]||(c[n]=new Rn)},u=l(""),d=l(":dels"),{type:h}=e;let[f,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans._cache;return o.mutate(e).then((e=>{if(i(f)){"delete"!==h&&(f=e.results),u.addKeys(f);const t=On(f,m);t||"add"===h||d.addKeys(f),(t||p)&&function(e,t,n,r){t.indexes.forEach((function(t){const a=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const s=e=>t.multiEntry&&i(e)?e.forEach((e=>a.addKey(e))):a.addKey(e);(n||r).forEach(((e,t)=>{const a=n&&o(n[t]),i=r&&o(r[t]);0!==Nt(a,i)&&(null!=a&&s(a),null!=i&&s(i))}))}))}(l,s,t,p)}else if(f){const e={from:f.lower,to:f.upper};d.add(e),u.add(e)}else u.add(n),d.add(n),s.indexes.forEach((e=>l(e.name).add(n)));return e}))}},h=({query:{index:t,range:n}})=>{var r,a;return[t,new Rn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(a=n.upper)&&void 0!==a?a:e.MAX_KEY)]},f={get:e=>[c,new Rn(e.key)],getMany:e=>[c,(new Rn).addKeys(e.keys)],count:h,query:h,openCursor:h};return a(f).forEach((e=>{d[e]=function(a){const{subscr:i}=Te;if(i){const s=e=>{const n=`idb://${t}/${r}/${e}`;return i[n]||(i[n]=new Rn)},c=s(""),d=s(":dels"),[h,p]=f[e](a);if(s(h.name||"").add(p),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&u&&a.values&&o.query({...a,values:!1});return o[e].apply(this,arguments).then((n=>{if("query"===e){if(u&&a.values)return t.then((({result:e})=>(c.addKeys(e),n)));const e=a.values?n.result.map(l):n.result;a.values?c.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=n,t=a.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return n}))}d.add(n)}}return o[e].apply(this,arguments)}})),d}}}};class Un{constructor(e,t){this._middlewares={},this.verno=0;const n=Un.dependencies;this._options=t={addons:Un.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;a.dbReadyPromise=new Le((e=>{a.dbReadyResolve=e})),a.openCanceller=new Le(((e,t)=>{a.cancelOpen=t})),this._state=a,this.name=e,this.on=It(this,"populate","blocked","versionchange","close",{ready:[de,re]}),this.on.ready.subscribe=b(this.on.ready.subscribe,(e=>(t,n)=>{Un.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Le.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,Ct(zt.prototype,(function(e,t){this.db=i;let n=St,r=null;if(t)try{n=t()}catch(e){r=e}const a=e._ctx,o=a.table,s=o.hook.reading.fire;this._ctx={table:o,index:a.index,isPrimKey:!a.index||o.schema.primKey.keyPath&&a.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:a.or,valueMapper:s!==ae?s:null}}))),this.Table=function(e){return Ct(At.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:It(null,{creating:[se,re],reading:[ie,ae],updating:[le,re],deleting:[ce,re]})}))}(this),this.Transaction=function(e){return Ct(Qt.prototype,(function(t,n,r,a,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=It(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Le(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),pt(e)}))}))}(this),this.Version=function(e){return Ct(wn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Ct(Gt.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const a=e._deps.indexedDB;if(!a)throw new ee.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=(e,t)=>a.cmp(t,e),this._max=(e,t)=>a.cmp(e,t)>0?e:t,this._min=(e,t)=>a.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=rn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),bt.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Tn),this.use(Bn),this.use(Fn),this.use(Ln),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new ee.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(fn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Te.letThrough||this._vip)?e():new Le(((e,t)=>{if(this._state.openComplete)return t(new ee.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new ee.DatabaseClosed);this.open().catch(re)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:t,level:null==n?10:n,name:r}),a.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?pt(t.dbOpenError):e));z&&(t.openCanceller._stackHolder=K()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,c=!1;return Le.race([r,("undefined"==typeof navigator?Le.resolve():Sn()).then((()=>new Le(((r,o)=>{if(i(),!n)throw new ee.MissingAPI;const l=e.name,u=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!u)throw new ee.MissingAPI;u.onerror=Zt(o),u.onblocked=Ye(e._fireOnBlocked),u.onupgradeneeded=Ye((r=>{if(s=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=Xt,s.abort(),u.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=Ye((()=>{o(new ee.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{s.onerror=Zt(o);var a=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;c=a<1,e._novip.idbdb=u.result,pn(e,a/10,s,o)}}),o),u.onsuccess=Ye((()=>{s=null;const n=e._novip.idbdb=u.result,i=y(n.objectStoreNames);if(i.length>0)try{const r=n.transaction(1===(o=i).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=bn(0,t,n);e._storeNames=y(t.objectStoreNames,0),dn(e,[e._allTables],a(r),r)}(e,n,r):(vn(e,e._dbSchema,r),function(e,t){const n=mn(bn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),un(e,r)}catch(e){}var o;bt.push(e),n.onversionchange=Ye((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Ye((t=>{e.on("close").fire(t)})),c&&function({indexedDB:e,IDBKeyRange:t},n){!xn(e)&&"__dbnames"!==n&&kn(e,t).put({name:n}).catch(re)}(e._deps,l),r()}),o)}))))]).then((()=>(i(),t.onReadyBeingFired=[],Le.resolve(_n((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(de,re);return t.onReadyBeingFired=[],Le.resolve(_n((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{s&&s.abort()}catch(e){}return r===t.openCanceller&&e._close(),pt(n)})).finally((()=>{t.openComplete=!0,o()}))}(this)}_close(){const e=this._state,t=bt.indexOf(this);if(t>=0&&bt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Le((t=>{e.dbReadyResolve=t})),e.openCanceller=new Le(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ee.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Le(((n,r)=>{const a=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Ye((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!xn(e)&&"__dbnames"!==n&&kn(e,t).delete(n).catch(re)}(this._deps,this.name),n()})),e.onerror=Zt(r),e.onblocked=this._fireOnBlocked};if(e)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(a):a()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return a(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=An.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Te.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const a=-1!==e.indexOf("?");let i,o;e=e.replace("!","").replace("?","");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new ee.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===i){if(!a)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!a)throw new ee.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),a&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):pt(e)}const s=In.bind(null,this,i,o,r,n);return r?r._promise(i,s,"lock"):Te.trans?lt(Te.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(e){if(!l(this._allTables,e))throw new ee.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Kn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Hn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Kn](){return this}}function Wn(e,t){return a(t).forEach((n=>{jn(e[n]||(e[n]=new Rn),t[n])})),e}let qn;try{qn={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(r){qn={indexedDB:null,IDBKeyRange:null}}const Vn=Un;function Yn(e){let t=Gn;try{Gn=!0,Jt.storagemutated.fire(e)}finally{Gn=t}}u(Vn,{...ne,delete:e=>new Vn(e,{addons:[]}).delete(),exists:e=>new Vn(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return xn(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):kn(e,t).toCollection().primaryKeys()}(Vn.dependencies).then(e)}catch(e){return pt(new ee.MissingAPI)}},defineClass:()=>function(e){o(this,e)},ignoreTransaction:e=>Te.trans?lt(Te.transless,e):e(),vip:_n,async:function(e){return function(){try{var t=En(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Le.resolve(t)}catch(e){return pt(e)}}},spawn:function(e,t,n){try{var r=En(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Le.resolve(r)}catch(e){return pt(e)}},currentTransaction:{get:()=>Te.trans||null},waitFor:function(e,t){const n=Le.resolve("function"==typeof e?Vn.ignoreTransaction(e):e).timeout(t||6e4);return Te.trans?Te.trans.waitFor(n):n},Promise:Le,debug:{get:()=>z,set:e=>{$(e,"dexie"===e?()=>!0:xt)}},derive:f,extend:o,props:u,override:b,Events:It,on:Jt,liveQuery:function(e){return new Hn((t=>{const n=M(e);let r=!1,i={},o={};const s={get closed(){return r},unsubscribe:()=>{r=!0,Jt.storagemutated.unsubscribe(d)}};t.start&&t.start(s);let c=!1,l=!1;function u(){return a(o).some((e=>i[e]&&function(e,t){const n=Mn(t);let r=n.next();if(r.done)return!1;let a=r.value;const i=Mn(e);let o=i.next(a.from),s=o.value;for(;!r.done&&!o.done;){if(Nt(s.from,a.to)<=0&&Nt(s.to,a.from)>=0)return!0;Nt(a.from,s.from)<0?a=(r=n.next(s.from)).value:s=(o=i.next(a.from)).value}return!1}(i[e],o[e])))}const d=e=>{Wn(i,e),u()&&h()},h=()=>{if(c||r)return;i={};const a={},f=function(t){n&&nt();const r=()=>tt(e,{subscr:t,trans:null}),a=Te.trans?lt(Te.transless,r):r();return n&&a.then(rt,rt),a}(a);l||(Jt("storagemutated",d),l=!0),c=!0,Promise.resolve(f).then((e=>{c=!1,r||(u()?h():(i={},o=a,t.next&&t.next(e)))}),(e=>{c=!1,t.error&&t.error(e),s.unsubscribe()}))};return h(),s}))},extendObservabilitySet:Wn,getByKeyPath:x,setByKeyPath:_,delByKeyPath:function(e,t){"string"==typeof t?_(e,t,void 0):"length"in t&&[].map.call(t,(function(t){_(e,t,void 0)}))},shallowClone:S,deepClone:D,getObjectDiff:Dn,cmp:Nt,asap:w,minKey:-1/0,addons:[],connections:bt,errnames:J,dependencies:qn,semVer:"3.2.2",version:"3.2.2".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Vn.maxKey=rn(Vn.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Jt("storagemutated",(e=>{if(!Gn){let t;vt?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Gn=!0,dispatchEvent(t),Gn=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Gn||Yn(e)})));let Gn=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");Jt("storagemutated",(t=>{Gn||e.postMessage(t)})),e.onmessage=e=>{e.data&&Yn(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Jt("storagemutated",(e=>{try{Gn||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Yn(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Yn(e.changedParts)}))}Le.rejectionMapper=function(e,t){if(!e||e instanceof Y||e instanceof TypeError||e instanceof SyntaxError||!e.name||!te[e.name])return e;var n=new te[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},$(z,xt)},53416:(e,t,n)=>{"use strict";n.d(t,{x0:()=>r});let r=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(93150),t=n.n(e),r=n(80841),a=n(31263);const i=(e,t)=>e?`${e}--${t}`:t;var o=n(9924);function s(e){return e.startsWith("http")?async function(e){const t=await fetch(e),n=await t.blob();return{objUrl:URL.createObjectURL(n),path:e,type:n.type}}(e):function(e){return new Promise(((t,n)=>{if(!/\.(.*)/.test(e))return void n(new Error(`"${e}" is invalid file path.`));const r=e?.startsWith("file://")?e:`file://${e}`,a=new XMLHttpRequest;a.responseType="blob",a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE)if(0===a.status||200===a.status){const n=URL.createObjectURL(a.response);t({path:e,objUrl:n,type:a.response.type})}else n(new Error(a.statusText))},a.onerror=function(){n(new Error(a.statusText||`Can't find a file with "${e}" path`))},a.open("GET",r),a.send()}))}(e)}var c=n(82070),l=n(77881);const u={home:{viewAll:e=>{const{normalize:t}=e;return t(["View all"])},communities:e=>{const{normalize:t}=e;return t(["Communities"])}},welcome:{title:e=>{const{normalize:t}=e;return t(["Welcome to Automa! 🎉"])},text:e=>{const{normalize:t}=e;return t(["Get started by reading the documentation or browsing workflows in the Automa Marketplace."])},marketplace:e=>{const{normalize:t}=e;return t(["Marketplace"])}},scheduledWorkflow:{title:e=>{const{normalize:t}=e;return t(["Scheduled workflows"])},nextRun:e=>{const{normalize:t}=e;return t(["Next run"])},active:e=>{const{normalize:t}=e;return t(["Active"])},refresh:e=>{const{normalize:t}=e;return t(["Refresh"])},schedule:{title:e=>{const{normalize:t}=e;return t(["Schedule"])},types:{everyDay:e=>{const{normalize:t}=e;return t(["Every day"])},general:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Every ",n(r("time"))])},interval:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Every ",n(r("time"))," minutes"])}}}},storage:{title:e=>{const{normalize:t}=e;return t(["Storage"])},table:{add:e=>{const{normalize:t}=e;return t(["Add table"])},createdAt:e=>{const{normalize:t}=e;return t(["Created at"])},modifiedAt:e=>{const{normalize:t}=e;return t(["Modified at"])},rowsCount:e=>{const{normalize:t}=e;return t(["Rows count"])},delete:e=>{const{normalize:t}=e;return t(["Delete table"])}}},credential:{title:e=>{const{normalize:t,plural:n}=e;return n([t(["Credential"]),t(["Credentials"])])},add:e=>{const{normalize:t}=e;return t(["Add credential"])},use:{title:e=>{const{normalize:t}=e;return t(["Used credentials"])},description:e=>{const{normalize:t}=e;return t(["This workflow using these credentials"])}}},workflowPermissions:{title:e=>{const{normalize:t}=e;return t(["Workflow permissions"])},description:e=>{const{normalize:t}=e;return t(["This workflow requires these permissions to run properly"])},contextMenus:{title:e=>{const{normalize:t}=e;return t(["Context menu"])},description:e=>{const{normalize:t}=e;return t(["To execute the workflow via the context menu"])}},clipboardRead:{title:e=>{const{normalize:t}=e;return t(["Clipboard"])},description:e=>{const{normalize:t}=e;return t(["For accessing the clipboard data"])}},notifications:{title:e=>{const{normalize:t}=e;return t(["Notification"])},description:e=>{const{normalize:t}=e;return t(["For displaying a notification"])}},downloads:{title:e=>{const{normalize:t}=e;return t(["Download"])},description:e=>{const{normalize:t}=e;return t(["Saving the page assets and renaming the downloaded file"])}},cookies:{title:e=>{const{normalize:t}=e;return t(["Cookies"])},description:e=>{const{normalize:t}=e;return t(["Read, set, or remove cookies"])}}},updateMessage:{text1:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Automa has been updated to v",n(r("version")),","])},text2:e=>{const{normalize:t}=e;return t(["see what's new."])}},workflows:{folder:{new:e=>{const{normalize:t}=e;return t(["New folder"])},name:e=>{const{normalize:t}=e;return t(["Folder name"])},delete:e=>{const{normalize:t}=e;return t(["Delete folder"])},rename:e=>{const{normalize:t}=e;return t(["Rename folder"])}}},auth:{title:e=>{const{normalize:t}=e;return t(["Auth"])},signIn:e=>{const{normalize:t}=e;return t(["Sign in"])},username:e=>{const{normalize:t}=e;return t(["You need to set your username first"])},clickHere:e=>{const{normalize:t}=e;return t(["Click here"])},text:e=>{const{normalize:t}=e;return t(["You need to be signed in before you can do that"])}},running:{start:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Started on ",n(r("date"))])},message:e=>{const{normalize:t}=e;return t(["This only display the last 5 logs"])}},settings:{theme:e=>{const{normalize:t}=e;return t(["Theme"])},shortcuts:{duplicate:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Shortcut already use by "',n(r("name")),'"'])}},editor:{title:e=>{const{normalize:t}=e;return t(["Title"])},curvature:{title:e=>{const{normalize:t}=e;return t(["Line Curvature"])},line:e=>{const{normalize:t}=e;return t(["Line"])},reroute:e=>{const{normalize:t}=e;return t(["Reroute"])},rerouteFirstLast:e=>{const{normalize:t}=e;return t(["Reroute first & last point"])}},arrow:{title:e=>{const{normalize:t}=e;return t(["Line arrow"])},description:e=>{const{normalize:t}=e;return t(["Add an arrow at the end of the line"])}},snapGrid:{title:e=>{const{normalize:t}=e;return t(["Snap to the grid"])},description:e=>{const{normalize:t}=e;return t(["Snap to the grid when moving a block"])}}},deleteLog:{title:e=>{const{normalize:t}=e;return t(["Auto delete workflow logs"])},after:e=>{const{normalize:t}=e;return t(["Delete after"])},deleteAfter:{never:e=>{const{normalize:t}=e;return t(["Never"])},days:e=>{const{normalize:t,interpolate:n,named:r}=e;return t([n(r("day"))," days"])}}},language:{label:e=>{const{normalize:t}=e;return t(["Language"])},helpTranslate:e=>{const{normalize:t}=e;return t(["Can't find your language? Help translate."])},reloadPage:e=>{const{normalize:t}=e;return t(["Reload the page to take effect"])}},menu:{backup:e=>{const{normalize:t}=e;return t(["Backup Workflows"])},editor:e=>{const{normalize:t}=e;return t(["Editor"])},general:e=>{const{normalize:t}=e;return t(["General"])},shortcuts:e=>{const{normalize:t}=e;return t(["Shortcuts"])},about:e=>{const{normalize:t}=e;return t(["About"])}},backupWorkflows:{title:e=>{const{normalize:t}=e;return t(["Local Backup"])},invalidPassword:e=>{const{normalize:t}=e;return t(["Invalid password"])},workflowsAdded:e=>{const{normalize:t,interpolate:n,named:r}=e;return t([n(r("count"))," workflows have been added"])},name:e=>{const{normalize:t}=e;return t(["Backup workflows"])},needSignin:e=>{const{normalize:t}=e;return t(["You need to sign in to your account first"])},backup:{button:e=>{const{normalize:t}=e;return t(["Backup"])},encrypt:e=>{const{normalize:t}=e;return t(["Encrypt with password"])}},restore:{title:e=>{const{normalize:t}=e;return t(["Restore workflows"])},button:e=>{const{normalize:t}=e;return t(["Restore"])},update:e=>{const{normalize:t}=e;return t(["Update if the workflow exists"])}},cloud:{buttons:{local:e=>{const{normalize:t}=e;return t(["Local"])},cloud:e=>{const{normalize:t}=e;return t(["Cloud"])}},location:e=>{const{normalize:t}=e;return t(["Location"])},delete:e=>{const{normalize:t}=e;return t(["Delete backup"])},title:e=>{const{normalize:t}=e;return t(["Cloud Backup"])},sync:e=>{const{normalize:t}=e;return t(["Sync"])},lastSync:e=>{const{normalize:t}=e;return t(["Last sync"])},lastBackup:e=>{const{normalize:t}=e;return t(["Last backup"])},select:e=>{const{normalize:t}=e;return t(["Select workflows"])},storedWorkflows:e=>{const{normalize:t}=e;return t(["Workflows that are stored in the cloud"])},selected:e=>{const{normalize:t}=e;return t(["Selected"])},selectText:e=>{const{normalize:t}=e;return t(["Select workflows that you want to backup"])},selectAll:e=>{const{normalize:t}=e;return t(["Select all"])},deselectAll:e=>{const{normalize:t}=e;return t(["Deselect all"])},needSelectWorkflow:e=>{const{normalize:t}=e;return t(["You need to select workflows that you want to backup"])}}}},workflow:{my:e=>{const{normalize:t}=e;return t(["My workflows"])},import:e=>{const{normalize:t}=e;return t(["Import workflow"])},new:e=>{const{normalize:t}=e;return t(["New workflow"])},delete:e=>{const{normalize:t}=e;return t(["Delete workflow"])},browse:e=>{const{normalize:t}=e;return t(["Browse workflows"])},name:e=>{const{normalize:t}=e;return t(["Workflow name"])},rename:e=>{const{normalize:t}=e;return t(["Rename workflow"])},backupCloud:e=>{const{normalize:t}=e;return t(["Backup workflow to cloud"])},add:e=>{const{normalize:t}=e;return t(["Add workflow"])},clickToEnable:e=>{const{normalize:t}=e;return t(["Click to enable"])},toggleSidebar:e=>{const{normalize:t}=e;return t(["Toggle sidebar"])},cantEdit:e=>{const{normalize:t}=e;return t(["Can't edit shared workflow"])},undo:e=>{const{normalize:t}=e;return t(["Undo"])},redo:e=>{const{normalize:t}=e;return t(["Redo"])},autoAlign:{title:e=>{const{normalize:t}=e;return t(["Auto-align"])}},searchBlocks:{title:e=>{const{normalize:t}=e;return t(["Search blocks in the editor"])}},conditionBuilder:{title:e=>{const{normalize:t}=e;return t(["Condition builder"])},add:e=>{const{normalize:t}=e;return t(["Add condition"])},and:e=>{const{normalize:t}=e;return t(["AND"])},or:e=>{const{normalize:t}=e;return t(["OR"])},topAwait:e=>{const{normalize:t}=e;return t(['Support top-level await and "automaRefData" function'])}},host:{title:e=>{const{normalize:t}=e;return t(["Host workflow"])},set:e=>{const{normalize:t}=e;return t(["Set as host workflow"])},id:e=>{const{normalize:t}=e;return t(["Host Id"])},add:e=>{const{normalize:t}=e;return t(["Add hosted workflow"])},sync:{title:e=>{const{normalize:t}=e;return t(["Sync"])},description:e=>{const{normalize:t}=e;return t(["Sync with host workflow"])}},messages:{hostExist:e=>{const{normalize:t}=e;return t(["You already add this host"])},notFound:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Can't find hosted workflow with \"",n(r("id")),'" id'])}}},type:{local:e=>{const{normalize:t}=e;return t(["Local"])},shared:e=>{const{normalize:t}=e;return t(["Shared"])},host:e=>{const{normalize:t}=e;return t(["Host"])}},unpublish:{title:e=>{const{normalize:t}=e;return t(["Unpublish workflow"])},button:e=>{const{normalize:t}=e;return t(["Unpublish"])},body:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Are you sure want to unpublish "',n(r("name")),'" workflow?'])}},share:{url:e=>{const{normalize:t}=e;return t(["Share URL"])},publish:e=>{const{normalize:t}=e;return t(["Publish"])},sharedAs:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Shared as "',n(r("name")),'"'])},title:e=>{const{normalize:t}=e;return t(["Share workflow"])},download:e=>{const{normalize:t}=e;return t(["Add workflow to local"])},edit:e=>{const{normalize:t}=e;return t(["Edit description"])},fetchLocal:e=>{const{normalize:t}=e;return t(["Fetch local workflow"])},update:e=>{const{normalize:t}=e;return t(["Update"])},unpublish:e=>{const{normalize:t}=e;return t(["Unpublish"])}},variables:{title:e=>{const{normalize:t,plural:n}=e;return n([t(["Variable"]),t(["Variables"])])},name:e=>{const{normalize:t}=e;return t(["Variable name"])},assign:e=>{const{normalize:t}=e;return t(["Assign to variable"])}},protect:{title:e=>{const{normalize:t}=e;return t(["Protect workflow"])},remove:e=>{const{normalize:t}=e;return t(["Remove protection"])},button:e=>{const{normalize:t}=e;return t(["Protect"])},note:e=>{const{normalize:t}=e;return t(["Note: you must remember this password, this password will be required to edit and delete the workflow later on."])}},locked:{title:e=>{const{normalize:t}=e;return t(["This Workflow is Protected"])},body:e=>{const{normalize:t}=e;return t(["Input the password to unlock it"])},unlock:e=>{const{normalize:t}=e;return t(["Unlock"])},messages:{"incorrect-password":e=>{const{normalize:t}=e;return t(["Incorrect password"])}}},state:{executeBy:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Executed by: "',n(r("name")),'"'])}},table:{title:e=>{const{normalize:t,plural:n}=e;return n([t(["Table"]),t(["Tables"])])},placeholder:e=>{const{normalize:t}=e;return t(["Search or add column"])},select:e=>{const{normalize:t}=e;return t(["Select column"])},column:{name:e=>{const{normalize:t}=e;return t(["Column name"])},type:e=>{const{normalize:t}=e;return t(["Data type"])}}},sidebar:{workflowIcon:e=>{const{normalize:t}=e;return t(["Workflow icon"])}},editor:{zoomIn:e=>{const{normalize:t}=e;return t(["Zoom in"])},zoomOut:e=>{const{normalize:t}=e;return t(["Zoom out"])},resetZoom:e=>{const{normalize:t}=e;return t(["Reset zoom"])},duplicate:e=>{const{normalize:t}=e;return t(["Duplicate"])},copy:e=>{const{normalize:t}=e;return t(["Copy"])},paste:e=>{const{normalize:t}=e;return t(["Paste"])}},settings:{saveLog:e=>{const{normalize:t}=e;return t(["Save workflow log"])},executedBlockOnWeb:e=>{const{normalize:t}=e;return t(["Show executed block on web page"])},notification:{title:e=>{const{normalize:t}=e;return t(["Workflow notification"])},description:e=>{const{normalize:t}=e;return t(["Show workflow status(success or failed) after it executed"])},noPermission:e=>{const{normalize:t}=e;return t(['Automa requires "notifications" permission to make this work'])}},publicId:{title:e=>{const{normalize:t}=e;return t(["Workflow public Id"])},description:e=>{const{normalize:t}=e;return t(["Use this public id to execute workflow using JS custom event"])}},defaultColumn:{title:e=>{const{normalize:t}=e;return t(["Insert into the default column"])},description:e=>{const{normalize:t}=e;return t(["Insert data to the default column if there's no column selected in the block"])},name:e=>{const{normalize:t}=e;return t(["Default column name"])}},autocomplete:{title:e=>{const{normalize:t}=e;return t(["Autocomplete"])},description:e=>{const{normalize:t}=e;return t(["Enable autocomplete in the input block (disable if it makes Automa unstable)"])}},clearCache:{title:e=>{const{normalize:t}=e;return t(["Clear cache"])},description:e=>{const{normalize:t}=e;return t(["Clear cache (state and loop index) of the workflow"])},info:e=>{const{normalize:t}=e;return t(["Successful clear workflow cache"])},btn:e=>{const{normalize:t}=e;return t(["Clear"])}},reuseLastState:{title:e=>{const{normalize:t}=e;return t(["Reuse last workflow state"])},description:e=>{const{normalize:t}=e;return t(["Use the state data (table, variables, and global data) from the last executed workflow"])}},debugMode:{title:e=>{const{normalize:t}=e;return t(["Debug mode"])},description:e=>{const{normalize:t}=e;return t(["Execute the workflow using the Chrome DevTools Protocol"])}},restartWorkflow:{for:e=>{const{normalize:t}=e;return t(["Restart for"])},times:e=>{const{normalize:t}=e;return t(["Times"])},description:e=>{const{normalize:t}=e;return t(["Max how many times the workflow will restart"])}},onError:{title:e=>{const{normalize:t}=e;return t(["On workflow error"])},description:e=>{const{normalize:t}=e;return t(["Set what to do when an error occurs in the workflow"])},items:{keepRunning:e=>{const{normalize:t}=e;return t(["Keep running"])},stopWorkflow:e=>{const{normalize:t}=e;return t(["Stop workflow"])},restartWorkflow:e=>{const{normalize:t}=e;return t(["Restart workflow"])}}},timeout:{title:e=>{const{normalize:t}=e;return t(["Workflow timeout (milliseconds)"])}},blockDelay:{title:e=>{const{normalize:t}=e;return t(["Block delay (milliseconds)"])},description:e=>{const{normalize:t}=e;return t(["Add delay before executing each of the blocks"])}},tabLoadTimeout:{title:e=>{const{normalize:t}=e;return t(["Tab load timeout"])},description:e=>{const{normalize:t}=e;return t(["Maximum time to load tab in milliseconds, pass 0 to disable the timeout."])}}}},collection:{description:e=>{const{normalize:t}=e;return t(["Execute your workflows in sequence"])},new:e=>{const{normalize:t}=e;return t(["New collection"])},delete:e=>{const{normalize:t}=e;return t(["Delete collection"])},add:e=>{const{normalize:t}=e;return t(["Add collection"])},rename:e=>{const{normalize:t}=e;return t(["Rename collection"])},flow:e=>{const{normalize:t}=e;return t(["Flow"])},dragDropText:e=>{const{normalize:t}=e;return t(["Drop a workflow or block in here"])},options:{atOnce:{title:e=>{const{normalize:t}=e;return t(["Execute all workflows in the collection at once"])},description:e=>{const{normalize:t}=e;return t(["Block not gonna executed when using this option"])}}},globalData:{note:e=>{const{normalize:t}=e;return t(["This will overwrite the global data of the workflow"])}}},log:{flowId:e=>{const{normalize:t}=e;return t(["Flow Id"])},goBack:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Go back to "',n(r("name")),'" log'])},goWorkflow:e=>{const{normalize:t}=e;return t(["Go to workflow"])},startedDate:e=>{const{normalize:t}=e;return t(["Started date"])},duration:e=>{const{normalize:t}=e;return t(["Duration"])},selectAll:e=>{const{normalize:t}=e;return t(["Select all"])},deselectAll:e=>{const{normalize:t}=e;return t(["Deselect all"])},deleteSelected:e=>{const{normalize:t}=e;return t(["Delete selected logs"])},clearLogs:{title:e=>{const{normalize:t}=e;return t(["Clear logs"])},description:e=>{const{normalize:t}=e;return t(["Are you sure to clear all logs?"])}},types:{stop:e=>{const{normalize:t}=e;return t(["Workflow is stopped"])},finish:e=>{const{normalize:t}=e;return t(["Finish"])}},messages:{"url-empty":e=>{const{normalize:t}=e;return t(["URL is empty"])},"invalid-url":e=>{const{normalize:t}=e;return t(["URL is not valid"])},"conditions-empty":e=>{const{normalize:t}=e;return t(["Conditions is empty"])},"invalid-proxy-host":e=>{const{normalize:t}=e;return t(["Invalid proxy host"])},"workflow-disabled":e=>{const{normalize:t}=e;return t(["Workflow is disabled"])},"selector-empty":e=>{const{normalize:t}=e;return t(["Element selector is empty"])},"invalid-body":e=>{const{normalize:t}=e;return t(["Content body is not valid JSON"])},"invalid-active-tab":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['"',n(r("url")),'" is invalid URL'])},"empty-spreadsheet-id":e=>{const{normalize:t}=e;return t(["Spreadsheet Id is empty"])},"invalid-loop-data":e=>{const{normalize:t}=e;return t(["Invalid data to loop through"])},"empty-workflow":e=>{const{normalize:t}=e;return t(["You must select a workflow first"])},"active-tab-removed":e=>{const{normalize:t}=e;return t(["Workflow active tab is removed"])},"empty-spreadsheet-range":e=>{const{normalize:t}=e;return t(["Spreadsheet range is empty"])},"stop-timeout":e=>{const{normalize:t}=e;return t(["Workflow is stopped because of timeout"])},"no-file-access":e=>{const{normalize:t}=e;return t(["Automa doesn't have access to the file"])},"no-workflow":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Can't find workflow with \"",n(r("workflowId")),'" ID'])},"no-match-tab":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Can't find a tab with \"",n(r("pattern")),'" patterns'])},"no-clipboard-acces":e=>{const{normalize:t}=e;return t(["Don't have permission to access clipboard"])},"browser-not-supported":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["This feature not supported in ",n(r("browser"))," browser"])},"element-not-found":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Can't find an element with \"",n(r("selector")),'" selector.'])},"no-permission":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Don't have \"",n(r("permission")),'" permission to do this action'])},"not-iframe":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Element with "',n(r("selector")),'" selector is not an Iframe element'])},"iframe-not-found":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Can't find an Iframe element with \"",n(r("selector")),'" selector.'])},"workflow-infinite-loop":e=>{const{normalize:t}=e;return t(["Can't execute the workflow to prevent an infinite loop"])},"not-debug-mode":e=>{const{normalize:t}=e;return t(["The workflow must run in debug mode for this block to work properly"])},"no-iframe-id":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["Can't find Frame ID for the iframe element with \"",n(r("selector")),'" selector'])},"no-tab":e=>{const{normalize:t,interpolate:n,named:r}=e;return t(['Can\'t connect to a tab, use "New tab" or "Active tab" block before using the "',n(r("name")),'" block.'])}},description:{text:e=>{const{normalize:t,interpolate:n,named:r}=e;return t([n(r("status"))," on ",n(r("date"))," in ",n(r("duration"))])},status:{success:e=>{const{normalize:t}=e;return t(["Succeeded"])},error:e=>{const{normalize:t}=e;return t(["Failed"])},stopped:e=>{const{normalize:t}=e;return t(["Stopped"])}}},delete:{title:e=>{const{normalize:t}=e;return t(["Delete log"])},description:e=>{const{normalize:t}=e;return t(["Are you sure want to delete all the selected logs?"])}},exportData:{title:e=>{const{normalize:t}=e;return t(["Export data"])},types:{json:e=>{const{normalize:t}=e;return t(["JSON"])},csv:e=>{const{normalize:t}=e;return t(["CSV"])},"plain-text":e=>{const{normalize:t}=e;return t(["Plain text"])}}},filter:{title:e=>{const{normalize:t}=e;return t(["Filter"])},byStatus:e=>{const{normalize:t}=e;return t(["By status"])},byDate:{title:e=>{const{normalize:t}=e;return t(["By date"])},items:{lastDay:e=>{const{normalize:t}=e;return t(["Last day"])},last7Days:e=>{const{normalize:t}=e;return t(["Last seven days"])},last30Days:e=>{const{normalize:t}=e;return t(["Last thirty days"])}}}}},components:{pagination:{text1:e=>{const{normalize:t}=e;return t(["Showing"])},text2:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["items out of ",n(r("count"))])},nextPage:e=>{const{normalize:t}=e;return t(["Next page"])},currentPage:e=>{const{normalize:t}=e;return t(["Current page"])},prevPage:e=>{const{normalize:t}=e;return t(["Previous page"])},of:e=>{const{normalize:t,interpolate:n,named:r}=e;return t(["of ",n(r("page"))])}}}};var d=n(27484),h=n.n(d);function f(e,n){return new Promise(((r,a)=>{const i=["https://*/*","http://*/*"],o=n.contextTypes&&0!==n.contextTypes.length?n.contextTypes:["all"],s=t().contextMenus;s?s.create({id:e,documentUrlPatterns:i,contexts:o,title:n.contextMenuName,parentId:"automaContextMenu"},(()=>{const o=t().runtime.lastError;if(o){if(o.message.includes("automaContextMenu"))return void s.create({documentUrlPatterns:i,contexts:["all"],id:"automaContextMenu",title:"Run Automa workflow"},(()=>{f(e,n).then(r).catch(a)}));a(o.message)}else s.refresh&&s.refresh(),r()})):a(new Error("Don't have context menu permission"))}))}async function p(e){try{await t().alarms.clear(e);const{visitWebTriggers:n,onStartupTriggers:r,shortcuts:a}=await t().storage.local.get(["shortcuts","visitWebTriggers","onStartupTriggers"]),i=Array.isArray(a)?{}:a||{};delete i[e];const o=r||[],s=o.indexOf(e);-1!==s&&o.splice(s,1);const c=n.findIndex((t=>t.id===e));-1!==c&&n.splice(c,1),await async function(e){const{workflowQueue:n}=await t().storage.local.get("workflowQueue"),r=(n||[]).indexOf(e);n&&-1!==r&&(n.splice(r,1),await t().storage.local.set({workflowQueue:n}))}(),await t().storage.local.set({visitWebTriggers:n,shortcuts:i,onStartupTriggers:o});const l=async()=>{try{await(t().contextMenus?.remove(e))}catch(e){}};await l()}catch(e){console.error(e)}}function m(e,n){if(0===n.days.length)return null;const r=(e,t)=>{const[n,r]=t.split(":");return h()().day(e).hour(n).minute(r).second(0).valueOf()},i=n.days.reduce(((e,t)=>((0,a.Kn)(t)?t.times.forEach((n=>{e.push(r(t.id,n))})):e.push(r(t,n.time)),e)),[]).sort(),o=i.find((e=>e>Date.now()))||h()(i[0]).add(7,"day").valueOf();return t().alarms.create(e,{when:o})}function g(e,n){const r={periodInMinutes:n.interval};return n.delay>0&&!n.fixedDelay&&(r.delayInMinutes=n.delay),t().alarms.create(e,r)}function y(e,n){let r=Date.now()+6e4;if(n.date){const[e,t]=n.time.split(":");r=h()(n.date).hour(e).minute(t).second(0).valueOf()}return t().alarms.create(e,{when:r})}async function b(e,n){try{if(""===n.url.trim())return;const r=(await t().storage.local.get("visitWebTriggers"))?.visitWebTriggers||[],a=r.findIndex((t=>t.id===e)),i={id:e,url:n.url,isRegex:n.isUrlRegex};-1===a?r.unshift(i):r[a]=i,await t().storage.local.set({visitWebTriggers:r})}catch(e){console.error(e)}}async function v(e,n){try{const{shortcuts:r}=await t().storage.local.get("shortcuts"),a=Array.isArray(r)?{}:r||{};a[e]=n.shortcut,await t().storage.local.set({shortcuts:a})}catch(e){console.error(e)}}async function w(){}async function k(e,{data:t}){try{await p(e);const n={interval:g,date:y,"visit-web":b,"on-startup":w,"specific-day":m,"context-menu":f,"keyboard-shortcut":v};n[t.type]&&await n[t.type](e,t)}catch(e){throw console.error(e),e}}const x=class{constructor({storage:e,key:t="workflowState"}){this.key=t,this.storage=e,this.states=new Map,this.eventListeners={}}_saveToStorage(){const e=Object.fromEntries(this.states);return this.storage.set(this.key,e)}dispatchEvent(e,t){const n=this.eventListeners[e];n&&n.forEach((e=>{e(t)}))}on(e,t){(this.eventListeners[e]=this.eventListeners[e]||[]).push(t)}off(e,t){const n=this.eventListeners[e];if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}async get(e){let{states:t}=this;return"function"==typeof e?t=Array.from(t.entries()).find((({1:t})=>e(t))):e&&(t=this.states.get(e)),t}async add(e,t={}){this.states.set(e,t),await this._saveToStorage(this.key)}async stop(e){return await this.get(e)?(await this.update(e,{isDestroyed:!0}),this.dispatchEvent("stop",e),e):(await this.delete(e),this.dispatchEvent("stop",e),e)}async update(e,t={}){const n=this.states.get(e);this.states.set(e,{...n,...t}),this.dispatchEvent("update",{id:e,data:t}),await this._saveToStorage()}async delete(e){this.states.delete(e),this.dispatchEvent("delete",e),await this._saveToStorage()}};var _=n(19356);const S=n(11483),E=S.keys().reduce(((e,t)=>{const n=t.replace(/^\.\/handler|\.js/g,"");return e[(0,a.zW)(n)]=S(t).default,e}),{});var A=n(57023);const I=class{constructor({key:e="logs"}){this.key=e}async add({detail:e,history:t,ctxData:n,data:r}){const a={...A.g,...e};await Promise.all([A.Z.logsData.add(r),A.Z.ctxData.add(n),A.Z.items.add(a),A.Z.histories.add(t)])}},C=e=>e?.startsWith("http"),T=e=>Object.values(Object.values(e)[0]),D={async get(e){try{return(await t().storage.local.get(e))[e]}catch(e){return console.error(e),[]}},async set(e,n){await t().storage.local.set({[e]:n}),"workflowState"===e&&sessionStorage.setItem(e,JSON.stringify(n))}},B={states:new x({storage:{get:e=>(0,a.Rx)(localStorage.getItem(e),null),set(e,t){const n="object"==typeof t?JSON.stringify(t):t;return localStorage.setItem(e,n)}}}),logger:new I({storage:D}),async get(e){if(!e)return null;if(e.startsWith("team")){const{teamWorkflows:n}=await t().storage.local.get("teamWorkflows");if(!n)return null;return T(n).find((t=>t.id===e))}const{workflows:n,workflowHosts:r}=await t().storage.local.get(["workflows","workflowHosts"]);let a=Array.isArray(n)?n.find((({id:t})=>t===e)):n[e];return a||(a=Object.values(r||{}).find((({hostId:t})=>t===e)),a&&(a.id=a.hostId)),a},execute(e,n){if(e.isDisabled)return null;if(e.isProtected){if(!(0,a.Rx)(e.drawflow,null)){const t=(0,c.c)(e.pass);e.drawflow=(0,c.Z)(e,t)}}const i=(0,l.Z)(e),s=new _.Z(i,{options:n,blocksHandler:E,logger:this.logger,states:this.states});s.init(),s.on("destroyed",(({id:n,status:r,history:a,startedTimestamp:i,endedTimestamp:s,blockDetail:c})=>{if(e.id.startsWith("team")&&e.teamId){const t={status:r,workflowId:e.id,workflowLog:{status:r,endedTimestamp:s,startedTimestamp:i}};if("error"===r){const e=function({message:e,...t}){const n=u.log.messages[e];return n?n({normalize:e=>e.join(""),interpolate:e=>t[e],named:e=>e}):e}(c),n=a.map((e=>(delete e.logId,delete e.prevBlockData,delete e.workerId,e.description=e.description||"",e)));t.workflowLog={status:r,message:e,endedTimestamp:s,startedTimestamp:i,history:n,blockId:c.blockId}}(0,o.a8)(`/teams/${e.teamId}/workflows/logs`,{method:"POST",body:JSON.stringify(t)}).catch((e=>{console.error(e)}))}"stopped"!==r&&t().permissions.contains({permissions:["notifications"]}).then((a=>{if(!a||!e.settings.notification)return;const i=e.name.slice(0,32);t().notifications.create(`logs:${n}`,{type:"basic",iconUrl:t().runtime.getURL("icon-128.png"),title:"success"===r?"Success":"Error",message:`${"success"===r?"Successfully":"Failed"} to run the "${i}" workflow`})}))}));const d=localStorage.getItem("check-status");return(0,r.Z)().isSame(d,"day")||(0,o.a8)("/status").then((e=>e.json())).then((()=>{localStorage.setItem("check-status",new Date)})),s}};async function O(e){const{isRecording:n,recording:r}=await t().storage.local.get(["isRecording","recording"]);n&&r&&(e(r),await t().storage.local.set({recording:r}))}async function L(e){const n={active:!0,url:t().runtime.getURL(`/newtab.html#${"string"==typeof e?e:""}`)};try{const[e]=await t().tabs.query({url:t().runtime.getURL("/newtab.html")});e?(await t().tabs.update(e.id,n),n.url.includes("workflows/")&&await t().tabs.reload(e.id)):t().tabs.create(n)}catch(e){console.error(e)}}t().webNavigation.onCompleted.addListener((async({tabId:e,url:n,frameId:r})=>{r>0||(async function(e,n){if(!C(n))return;await D.get("isRecording")&&await t().tabs.executeScript(e,{allFrames:!0,file:"recordWorkflow.bundle.js"})}(e,n),async function(e,t){const n=await B.states.get((({state:t})=>t.tabIds.includes(e))),r=(await D.get("visitWebTriggers"))?.find((({url:e,isRegex:r,id:a})=>""!==e.trim()&&(t.match(r?new RegExp(e,"g"):e)&&a!==n?.workflowId)));if(r){const t=await B.get(r.id);t&&B.execute(t,{tabId:e})}}(e,n))})),t().commands.onCommand.addListener((e=>{"open-dashboard"===e&&L()})),t().webNavigation.onCommitted.addListener((({frameId:e,tabId:t,url:n,transitionType:r})=>{0===e&&["link","typed"].includes(r)&&O((e=>{if(t!==e.activeTab.id)return;const r=e.flows.at(-1)??{};r&&"new-tab"===r.id&&!C(r.data.url)?(r.data.url=n,r.description=n):C(n)&&("link"===r?.id&&r.isClickLink||e.flows.push({id:"new-tab",description:n,data:{url:n,updatePrevTab:e.activeTab.id===t}}),e.activeTab.id=t,e.activeTab.url=n)}))})),t().tabs.onActivated.addListener((async({tabId:e})=>{const{url:n,id:r,title:a}=await t().tabs.get(e);C(n)&&O((e=>{e.activeTab={id:r,url:n},e.flows.push({id:"switch-tab",description:a,data:{url:n,matchPattern:n,createIfNoMatch:!0}})}))})),t().tabs.onCreated.addListener((async e=>{const{isRecording:n,recording:r}=await t().storage.local.get(["isRecording","recording"]);if(!n||!r)return;const a=e.url||e.pendingUrl,i=r.flows[r.flows.length-1];if(!(i&&"new-tab"===i.id&&!C(i.data.url))){const t=C(a)?a:"";r.flows.push({id:"new-tab",data:{url:t,description:e.title||t}})}r.activeTab={url:a,id:e.id},await t().storage.local.set({recording:r})})),t().alarms.onAlarm.addListener((async({name:e})=>{const n=await B.get(e);if(!n)return;const i="string"==typeof n.drawflow?(0,a.Rx)(n.drawflow,{}):n.drawflow,{data:o}=(0,a.No)(i)||{};if(o&&"interval"===o.type&&o.fixedDelay){if(await B.states.get((({workflowId:t})=>e===t))){let{workflowQueue:n}=await t().storage.local.get("workflowQueue");return n=n||[],void(n.includes(e)||((n=n||[]).push(e),await t().storage.local.set({workflowQueue:n})))}}else if(o&&"date"===o.type){const[e,t]=o.time.split(":"),n=(0,r.Z)(o.date).hour(e).minute(t).second(0);if((0,r.Z)(Date.now()-6e4).isAfter(n))return}B.execute(n),o&&"specific-day"===o.type&&m(n.id,o)}));const P=t().contextMenus;P&&P.onClicked&&P.onClicked.addListener((async({parentMenuItemId:e,menuItemId:n},r)=>{try{if("automaContextMenu"!==e)return;const a=await t().tabs.sendMessage(r.id,{frameId:0,type:"context-element"}),i=await B.get(n);B.execute(i,{data:{variables:a}})}catch(e){console.error(e)}})),t().notifications&&t().notifications.onClicked&&t().notifications.onClicked.addListener((e=>{if(e.startsWith("logs")){const{1:t}=e.split(":");L(`/logs/${t}`)}})),t().runtime.onInstalled.addListener((async({reason:e})=>{try{if("install"===e)return await t().storage.local.set({logs:[],shortcuts:{},workflows:[],collections:[],workflowState:{},isFirstTime:!0,visitWebTriggers:[]}),void await t().tabs.create({active:!0,url:t().runtime.getURL("newtab.html#/welcome")});if("update"===e){let{workflows:e}=await t().storage.local.get("workflows");const n=["specific-day","date","interval"];e=Array.isArray(e)?e:Object.values(e),e.forEach((({trigger:e,drawflow:t,id:r})=>{let i=e?.data||e;if(!e){const e=(0,a.Rx)(t,t);i=(0,a.No)(e)?.data}const o=i?.type;n.includes(o)?k(r,{data:i}):"context-menu"===o&&f(r,i)}))}}catch(e){console.error(e)}})),t().runtime.onStartup.addListener((async()=>{const{workflows:e,workflowHosts:n,teamWorkflows:i}=await t().storage.local.get(["workflows","workflowHosts","teamWorkflows"]),o=e=>Array.isArray(e)?e:Object.values(e),s=o(e);n&&s.push(...o(n)),i&&s.push(...T(i));for(const e of s){let n=e.trigger;if(!n){const t="string"==typeof e.drawflow?(0,a.Rx)(e.drawflow,{}):e.drawflow;n=(0,a.No)(t)?.data}if(n)if("specific-day"===n.type){await t().alarms.get(e.id)||await m(e.id,n)}else if("date"===n.type&&n.date){const[a,i]=n.time.split(":"),o=(0,r.Z)(n.date).hour(a).minute(i).second(0);(0,r.Z)().isBefore(o)&&await t().alarms.create(e.id,{when:o.valueOf()})}else"on-startup"===n.type&&B.execute(e)}}));const R=new class{constructor(e=""){this.listeners={},this.prefix=e}on(e,t){return(0,a.aX)(this.listeners,"name")?(console.error(`You already added ${e}`),this.on):(this.listeners[i(this.prefix,e)]=t,this.on)}listener(){return this.listen.bind(this)}listen(e,t){try{false;const n=this.listeners[e.name],r=n&&n.call({message:e,sender:t},e.data,t);return r?r instanceof Promise?r:Promise.resolve(r):Promise.resolve()}catch(e){return Promise.reject(new Error(`Unhandled Background Error: ${String(e)}`))}}}("background");R.on("fetch:text",(e=>fetch(e).then((e=>e.text())))),R.on("open:dashboard",(async e=>(await L(e),Promise.resolve(!0)))),R.on("set:active-tab",(e=>t().tabs.update(e,{active:!0}))),R.on("debugger:send-command",(({tabId:e,method:t,params:n})=>new Promise((r=>{chrome.debugger.sendCommand({tabId:e},t,n,r)})))),R.on("debugger:type",(({tabId:e,commands:t,delay:n})=>new Promise((r=>{let i=0;!async function o(){const s=t[i];s?chrome.debugger.sendCommand({tabId:e},"Input.dispatchKeyEvent",s,(async()=>{n>0&&await(0,a._v)(n),i+=1,o()})):r()}()})))),R.on("get:sender",((e,t)=>t)),R.on("get:file",(e=>s(e))),R.on("get:tab-screenshot",(e=>t().tabs.captureVisibleTab(e))),R.on("workflow:execute",((e,t)=>{e.includeTabId&&(e.options||(e.options={}),e.options.tabId=t.tab.id),B.execute(e,e?.options||{})})),R.on("workflow:stop",(e=>B.states.stop(e))),R.on("workflow:added",(({workflowId:e,teamId:n,source:r="community"})=>{let a=`/workflows/${e}`;if("team"===r){if(!n)return;a=`/teams/${n}/workflows/${e}`}t().tabs.query({url:t().runtime.getURL("/newtab.html")}).then((i=>{if(i.length>=1){const a=i.at(-1);i.forEach((a=>{t().tabs.sendMessage(a.id,{data:{workflowId:e,teamId:n,source:r},type:"workflow:added"})})),t().tabs.update(a.id,{active:!0})}else L(`${a}?permission=true`)}))})),R.on("workflow:register",(({triggerBlock:e,workflowId:t})=>{k(t,e)})),t().runtime.onMessage.addListener(R.listener())})()})();
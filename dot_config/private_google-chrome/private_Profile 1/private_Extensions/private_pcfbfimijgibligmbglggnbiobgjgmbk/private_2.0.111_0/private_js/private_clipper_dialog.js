/* Copyright (c) 2022 Synology Inc. All rights reserved. */

Ext.ns("SYNO.SDS.NoteStationClipper");var MainDialog;var messageHandler=function(c,b,a){if(c.action==="select_clip_type"){MainDialog.setClipType(c.type)}else{if(c.action==="unmask_clipper"){MainDialog.unmaskPanel()}}return true};Ext.onReady(function(){Ext.QuickTips.init();chrome.storage.sync.get("SYNO_NoteStationClipper",function(a){if(a.SYNO_NoteStationClipper&&a.SYNO_NoteStationClipper.HOST!==""){chrome.runtime.sendMessage({action:"get_appinfo"},function(f){var b=0,c=0;try{b=parseInt(f.version.build,10);c=f.uid}catch(d){}MainDialog=new SYNO.SDS.NoteStationClipper.ClipperDialog({uid:c,ns_version:b,serverInfo:a.SYNO_NoteStationClipper,settingMode:false}).show();chrome.runtime.onMessage.addListener(messageHandler)})}})});
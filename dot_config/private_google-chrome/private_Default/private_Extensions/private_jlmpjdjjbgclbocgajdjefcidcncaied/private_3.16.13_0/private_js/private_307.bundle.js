"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[307],{6469:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M6.091 8.625a.844.844 0 01.115 1.68l-.115.008c-.727 0-1.324.552-1.396 1.26l-.008.143v6.19c0 .728.554 1.327 1.263 1.4l.144.006h6.185c.728 0 1.327-.553 1.399-1.262l.007-.144a.844.844 0 111.687 0 3.094 3.094 0 01-2.905 3.088L12.28 21H6.094a3.094 3.094 0 01-3.088-2.905L3 17.906v-6.19a3.091 3.091 0 013.091-3.091zM17.906 3a3.094 3.094 0 013.088 2.905l.005.189v6.187a3.094 3.094 0 01-2.905 3.088l-.188.006h-6.189A3.094 3.094 0 018.63 12.47l-.005-.189V6.094a3.094 3.094 0 012.905-3.088L11.717 3h6.189z",fill:"currentcolor",fillRule:"evenodd"})))}},8524:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M6.091 8.625a.844.844 0 01.115 1.68l-.115.008c-.727 0-1.324.552-1.396 1.26l-.008.143v6.19c0 .728.554 1.327 1.263 1.4l.144.006h6.185c.728 0 1.327-.553 1.399-1.262l.007-.144a.844.844 0 111.687 0 3.094 3.094 0 01-2.905 3.088L12.28 21H6.094a3.094 3.094 0 01-3.088-2.905L3 17.906v-6.19a3.091 3.091 0 013.091-3.091zM17.906 3a3.094 3.094 0 013.088 2.905l.005.189v6.187a3.094 3.094 0 01-2.905 3.088l-.188.006h-6.189A3.094 3.094 0 018.63 12.47l-.005-.189V6.094a3.094 3.094 0 012.905-3.088L11.717 3h6.189zm0 1.688h-6.189c-.728 0-1.327.553-1.399 1.262l-.007.144v6.187c0 .728.554 1.327 1.263 1.4l.143.007h6.189c.728 0 1.327-.554 1.399-1.263l.007-.144V6.094c0-.728-.554-1.327-1.263-1.4l-.143-.006z",fill:"currentcolor",fillRule:"evenodd"})))}},8351:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M14.077 3c-2.64 0-4.345 1.739-4.345 4.43v2.042H7.369A.368.368 0 007 9.84v2.96c0 .203.165.367.37.367h2.362v7.467c0 .203.165.367.369.367h3.082c.204 0 .37-.164.37-.367v-7.467h2.761c.204 0 .37-.164.37-.367v-2.96a.366.366 0 00-.369-.367h-2.763V7.741c0-.832.2-1.255 1.29-1.255h1.583c.204 0 .37-.165.37-.367V3.37a.368.368 0 00-.37-.367z",fill:"#3b5998",fillRule:"evenodd"})))}},7733:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M14.863 2c-2.933 0-4.828 1.932-4.828 4.922v2.27H7.41a.41.41 0 00-.41.407v3.289a.41.41 0 00.41.407h2.625v8.297c0 .226.184.408.41.408h3.425a.41.41 0 00.41-.408v-8.297h3.069c.227 0 .41-.182.41-.407l.002-3.289a.407.407 0 00-.411-.408h-3.07V7.268c0-.925.222-1.394 1.434-1.394l1.759-.001a.41.41 0 00.41-.408V2.412a.41.41 0 00-.41-.408z",fill:"currentcolor",fillRule:"evenodd"})))}},6160:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M19.453 7.745c-.14 6.502-4.219 11.025-10.406 11.308-2.531.141-4.36-.707-6.047-1.696 1.828.282 4.219-.424 5.484-1.555-1.828-.142-2.953-1.131-3.515-2.686.562.141 1.125 0 1.547 0-1.688-.565-2.813-1.555-2.954-3.816.422.282.985.424 1.547.424C3.844 9.017 3 6.33 3.984 4.635 5.812 6.614 8.062 8.31 11.72 8.593c-.985-3.958 4.36-6.078 6.469-3.392.984-.142 1.687-.566 2.39-.849-.281.99-.844 1.555-1.547 2.12.703-.14 1.407-.282 1.969-.565-.14.707-.844 1.272-1.547 1.838z",fill:"#1da1f2",fillRule:"evenodd"})))}},244:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M20.281 8.16c-.156 7.225-4.687 12.251-11.562 12.565-2.813.157-4.844-.785-6.719-1.884 2.031.314 4.687-.471 6.094-1.728-2.032-.157-3.282-1.256-3.907-2.984.625.157 1.25 0 1.72 0-1.876-.628-3.126-1.728-3.282-4.24.469.314 1.094.47 1.719.47C2.937 9.575 2 6.59 3.094 4.707c2.031 2.198 4.531 4.083 8.593 4.397-1.093-4.397 4.844-6.753 7.188-3.77 1.094-.156 1.875-.627 2.656-.941-.312 1.099-.937 1.727-1.718 2.355.78-.157 1.562-.314 2.187-.628-.156.785-.938 1.414-1.719 2.042z",fill:"currentcolor",fillRule:"evenodd"})))}},1953:(e,t,n)=>{n.d(t,{Z:()=>i});var r,a,o,l=n(5776);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=function(e){return l.createElement("svg",c({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=l.createElement("linearGradient",{id:"color_svg__a",x1:"50.001%",x2:"50.001%",y1:"99.99%",y2:"-.011%"},l.createElement("stop",{offset:0,stopColor:"#20b038"}),l.createElement("stop",{offset:1,stopColor:"#60d66a"}))),a||(a=l.createElement("linearGradient",{id:"color_svg__b",x1:"50.001%",x2:"50.001%",y1:"100.003%",y2:".003%"},l.createElement("stop",{offset:0,stopColor:"#f9f9f9"}),l.createElement("stop",{offset:1,stopColor:"currentcolor"}))),o||(o=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{fillRule:"nonzero"},l.createElement("path",{d:"M7.39 18.497l.296.175a8.067 8.067 0 004.111 1.125h.004c4.452 0 8.075-3.622 8.077-8.075a8.026 8.026 0 00-2.364-5.713 8.025 8.025 0 00-5.71-2.368c-4.456 0-8.08 3.622-8.082 8.074 0 1.526.427 3.012 1.235 4.298l.193.305-.817 2.98zM2 21.607l1.379-5.035a9.697 9.697 0 01-1.297-4.857C2.084 6.358 6.443 2 11.8 2a9.657 9.657 0 016.874 2.85 9.657 9.657 0 012.844 6.873c-.002 5.356-4.362 9.715-9.718 9.715h-.004a9.71 9.71 0 01-4.645-1.182z",fill:"currentcolor"}),l.createElement("path",{d:"M2.417 11.72c0 1.653.431 3.267 1.252 4.69l-1.331 4.86 4.974-1.305a9.38 9.38 0 004.483 1.142h.004c5.171 0 9.38-4.208 9.382-9.38a9.321 9.321 0 00-2.745-6.635 9.323 9.323 0 00-6.637-2.75c-5.171 0-9.38 4.206-9.383 9.378",fill:"url(#color_svg__a)"}),l.createElement("path",{d:"M2.082 11.717c-.001 1.712.446 3.384 1.297 4.857L2 21.61l5.152-1.351a9.713 9.713 0 004.644 1.182h.004c5.356 0 9.717-4.359 9.72-9.715a9.657 9.657 0 00-2.845-6.874 9.658 9.658 0 00-6.875-2.85c-5.357 0-9.716 4.36-9.719 9.716m3.069 4.604l-.193-.306a8.053 8.053 0 01-1.235-4.297c.002-4.453 3.626-8.075 8.081-8.075 2.158 0 4.186.842 5.711 2.368a8.026 8.026 0 012.364 5.713c-.002 4.453-3.625 8.075-8.078 8.075h-.003c-1.45 0-2.871-.39-4.111-1.125l-.295-.175-3.058.801z",fill:"url(#color_svg__b)"})),l.createElement("path",{d:"M9.371 7.655c-.181-.404-.373-.412-.546-.42-.142-.005-.304-.005-.465-.005a.892.892 0 00-.648.304c-.222.243-.85.83-.85 2.025 0 1.195.87 2.35.992 2.511.121.162 1.68 2.693 4.148 3.666 2.051.809 2.469.648 2.914.607.445-.04 1.437-.587 1.639-1.154.202-.567.202-1.053.142-1.154-.061-.102-.223-.162-.466-.284-.243-.121-1.437-.709-1.66-.79-.222-.08-.384-.121-.546.122-.162.243-.627.79-.768.952-.142.162-.284.182-.527.06-.243-.121-1.025-.377-1.952-1.205-.722-.643-1.21-1.438-1.351-1.681-.142-.243-.016-.375.106-.496.11-.109.243-.283.365-.425.12-.142.161-.243.242-.405.081-.162.04-.304-.02-.425-.06-.122-.533-1.323-.749-1.803",fill:"currentcolor"}))))}},173:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(5776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M2.081 11.717a9.7 9.7 0 001.298 4.857L2 21.61l5.152-1.351a9.71 9.71 0 004.27 1.175l.378.007c5.356 0 9.717-4.359 9.72-9.715a9.657 9.657 0 00-2.845-6.874 9.658 9.658 0 00-6.875-2.85c-5.357 0-9.716 4.36-9.719 9.716zm9.722-8.074c2.158 0 4.186.842 5.711 2.368a8.026 8.026 0 012.364 5.713c-.002 4.37-3.493 7.94-7.831 8.072l-.25.003c-1.45 0-2.871-.39-4.111-1.125l-.295-.175-3.058.801.817-2.98-.193-.305a8.053 8.053 0 01-1.235-4.297c.002-4.453 3.626-8.075 8.081-8.075zM8.36 7.23a.892.892 0 00-.648.304l-.16.175c-.276.31-.69.88-.69 1.85 0 .93.527 1.834.818 2.267l.217.307c.29.43 1.801 2.694 4.105 3.603l.445.17c1.67.615 2.058.475 2.469.437.445-.04 1.437-.587 1.639-1.154.202-.567.202-1.053.142-1.154a.415.415 0 00-.165-.135l-1.056-.52a17.562 17.562 0 00-.904-.419c-.223-.08-.385-.121-.547.122-.162.243-.627.79-.768.952-.124.142-.248.175-.44.1l-.46-.206a6.224 6.224 0 01-1.58-1.039c-.721-.643-1.209-1.438-1.35-1.681-.142-.243-.016-.375.106-.496.11-.109.243-.283.365-.425.12-.142.161-.243.242-.405a.42.42 0 00.008-.363l-.109-.25c-.158-.385-.495-1.23-.668-1.615-.181-.404-.373-.412-.546-.42-.142-.005-.304-.005-.465-.005z",fill:"currentcolor"})))}},2546:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(5776),a=n(7856),o=n(3830),l=n(7877),c=n(6114),i=n(7291);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t;let n=e.content,s=e.appendTooltipTo;const m=(0,r.useRef)(),d=u((0,r.useState)(""),2),f=d[0],p=d[1],h=u((0,r.useState)([0,0]),2),v=h[0],y=h[1],b=(0,c.k)({userId:f,requestUserInfo:!0}),g=b.fetchInfo,E=b.data,w=u((0,i.Z)((()=>p("")),200),2),x=w[0],k=w[1];return(0,r.useEffect)((()=>{if(!n||null==m||!m.current)return;const e=Array.from(m.current.getElementsByTagName("a")).filter((e=>!!e.getAttribute("data-mention-id")));if(0===e.length)return;const t=e=>{const t=e.target,n=t.getAttribute("data-mention-id");if(n&&n===f)return;const r=t.parentElement.offsetTop+t.offsetTop,a=140-t.getBoundingClientRect().width/2,o=[t.offsetLeft-a,-1*r+8];k(),y(o),p(n)};return e.forEach((e=>{e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",x)})),()=>{e.forEach((e=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",x)}))}}),[n,f]),(0,r.useEffect)((()=>{!E&&f&&g()}),[f]),r.default.createElement(l.R,{user:{id:f},tooltip:{placement:"top-start",offset:v,visible:!!f,onShow:k,appendTo:s||(null===(t=document)||void 0===t?void 0:t.body)||"parent"},onMouseEnter:k,onMouseLeave:x},r.default.createElement("div",{ref:m,className:o.Z.markdown,dangerouslySetInnerHTML:{__html:(0,a.sanitize)(n,{ADD_ATTR:["target"]})}}))}},2198:(e,t,n)=>{n.d(t,{G9:()=>i,gO:()=>u,q5:()=>m});var r=n(5776),a=n(2256),o=n(435);const l=["children"];function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e){let t=e.comment;const n=!!t.lastUpdatedAt,a=n?t.lastUpdatedAt:t.createdAt;return r.default.createElement("time",{dateTime:a,className:"text-theme-label-tertiary typo-callout"},`${n?"Modified ":""}${(0,o.Pe)(a)}`)}const u="py-3 px-4 bg-theme-bg-secondary rounded-lg break-words-overflow typo-callout",s=(0,a.Z)("div",u),m=e=>{let t=e.children,n=c(e,l);return r.default.createElement(s,n,t)}},4651:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(5776),a=n(6548),o=n(8524),l=n(6469);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},6024:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(5776),a=n(6548),o=n(7733),l=n(8351);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},7487:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(5776),a=n(6548),o=n(244),l=n(6160);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},4362:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(5776),a=n(6548),o=n(173),l=n(1953);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},3307:(e,t,n)=>{n.r(t),n.d(t,{default:()=>zr});var r=n(5776),a=n(3253),o=n.n(a),l=n(4184),c=n.n(l),i=n(8767),u=n(8687),s=n.n(u),m=n(9661),d=n(1891),f=n(6484),p=n.n(f),h=n(5152),v=n.n(h),y=n(8e3),b=n(2835),g=n(2809),E=n(3308),w=n(8677),x=n(104),k=n(2250),O=n(3833);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){let t=e.content,n=e.charactersLimit,a=void 0===n?150:n,o=e.threshold,l=void 0===o?50:o,c=e.contentPrefix,i=e.className;const u=N((0,r.useState)(!1),2),s=u[0],m=u[1],d=s?"Show less":"Show more",f=()=>t&&(null==t?void 0:t.length)>a+l;return r.default.createElement("div",{className:i},r.default.createElement("p",{className:"break-words typo-body"},c,s||!f()?t:(()=>{const e=null==t?void 0:t.slice(0,a);return e.slice(0,Math.min(e.length,e.lastIndexOf(" ")))})()," ",f()&&r.default.createElement(O.D,{className:"inline-flex text-theme-label-link",onClick:()=>m(!s)},d)))}function P(e){let t=e.summary;return r.default.createElement(k.FT,null,r.default.createElement(C,{content:t,charactersLimit:300,threshold:50,contentPrefix:r.default.createElement(k.Ni,null,"TLDR")}))}var j=n(1542),A=n(5782),I=n(6990),Z=n(5200);const R="_1eRph9pbDjHJAjOhZwQQ9P",M="_3-JT1RXXr6M3S741C21-kg";function T(e){let t=e.onSignUp;return r.default.createElement("section",{className:c()("p-6 bg-theme-bg-secondary rounded-2xl mb-6",R)},r.default.createElement("div",{className:c()("grid items-center gap-x-3",M),style:{gridTemplateColumns:"repeat(2, max-content)"}},r.default.createElement(Z.Z,{size:"xxlarge",className:"text-theme-status-help icon"}),r.default.createElement("h3",null,"Author"),r.default.createElement("h2",null,"Is this article yours?")),r.default.createElement("p",null,"Claim ownership and get the following perks:"),r.default.createElement("ol",null,r.default.createElement("li",null,"Get notified when your articles are picked by daily.dev feed"),r.default.createElement("li",null,"Exclusive author badge on your comments"),r.default.createElement("li",null,"Analytics report for every post you wrote"),r.default.createElement("li",null,"Gain reputation points by earning upvotes on articles you wrote")),r.default.createElement("div",{className:"grid grid-flow-col gap-x-4 mt-6 max-w-[18.5rem]",style:{gridTemplateColumns:"1fr max-content"}},t&&r.default.createElement(I.z,{className:"btn-primary",onClick:t},"Sign up"),r.default.createElement(I.z,{className:"btn-secondary",tag:"a",href:A.zM,target:"_blank",rel:"noopener"},"Learn more")))}var z=n(8050);const L="_3P0daJOLsooMWwJRNEICEC";function D(e){let t=e.responsive,n=void 0===t||t,a=e.user,o=e.className,l=e.onNewComment;return r.default.createElement(k.dd,{className:c()(o,n&&"fixed right-0 py-3 px-4 bottom-0 left-0 z-2 laptop:relative laptop:p-0 laptop:bg-none")},r.default.createElement("button",{type:"button",className:c()("flex w-full h-10 items-center px-4 bg-theme-bg-secondary text-theme-label-secondary rounded-2xl typo-callout focus-outline",L),onClick:l},a&&r.default.createElement(z.Y,{user:a,size:"small",className:"mr-3 -ml-2",nativeLazyLoading:!0}),"Start the discussion..."))}var B=n(5733),U=n(588),$=n(6217),Q=n(7521),q=n(5545),F=n(6360);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Y(o,r,a,l,c,"next",e)}function c(e){Y(o,r,a,l,c,"throw",e)}l(void 0)}))}}function J(){const e=(0,i.useQueryClient)();return{updatePost:t=>G(p().mark((function n(){var r,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=["post",t.id],n.next=3,e.cancelQueries(r);case 3:return a=e.getQueryData(r),e.setQueryData(r,{post:H(H({},a.post),t.update)}),n.abrupt("return",(()=>{e.setQueryData(r,a)}));case 6:case"end":return n.stop()}}),n)})))}}var W=n(1144),K=n(5098);function X(e){let t=e.additionalInteractionButtonFeature,n=e.onShare,a=e.onBookmark,o=e.post,l=e.actionsClassName,c=void 0===l?"hidden mobileL:flex":l,i=e.onComment,u=e.origin,s=void 0===u?K.a.ArticlePage:u;const m=(0,r.useContext)(y.Z).trackEvent,d=(0,r.useContext)(b.ZP),f=d.user,p=d.showLogin,h=J().updatePost,v=(0,q.Z)({onUpvotePostMutate:h({id:o.id,update:{upvoted:!0,numUpvotes:o.numUpvotes+1}}),onCancelPostUpvoteMutate:h({id:o.id,update:{upvoted:!1,numUpvotes:o.numUpvotes+-1}})}),g=v.upvotePost,E=v.cancelPostUpvote;return r.default.createElement("div",{className:"flex justify-between py-2 border-t border-b border-theme-divider-tertiary"},r.default.createElement(Q.s,{id:"upvote-post-btn",pressed:o.upvoted,onClick:()=>{if(f){if(o.upvoted)return m((0,w.gR)((0,k.Rt)({upvoted:!1}),o,{extra:{origin:s}})),E({id:o.id});if(o)return m((0,w.gR)((0,k.Rt)({upvoted:!0}),o,{extra:{origin:s}})),g({id:o.id})}else p("upvote")},icon:r.default.createElement(B.Z,{secondary:o.upvoted}),"aria-label":"Upvote",responsiveLabelClass:c,className:"btn-tertiary-avocado"},"Upvote"),r.default.createElement(Q.s,{id:"comment-post-btn",pressed:o.commented,onClick:i,icon:r.default.createElement(U.Z,{secondary:o.commented}),"aria-label":"Comment",responsiveLabelClass:c,className:"btn-tertiary-avocado"},"Comment"),t===W.t.Bookmark?r.default.createElement(Q.s,{id:"bookmark-post-btn",pressed:o.bookmarked,onClick:a,icon:r.default.createElement($.Z,{secondary:o.bookmarked}),responsiveLabelClass:c,className:"btn-tertiary-bun"},"Bookmark"):r.default.createElement(Q.s,{id:"share-post-btn",onClick:n,icon:r.default.createElement(F.default,null),responsiveLabelClass:c,className:"btn-tertiary-cabbage"},"Share"))}var ee,te=n(562),ne=n(5909),re=n(2198),ae=n(8214),oe=n(6548);function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}const ce=function(e){return r.createElement("svg",le({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ee||(ee=r.createElement("path",{d:"M13.637 4.213c1.607-1.605 4.206-1.604 5.9-.076l.166.157.158.167c1.479 1.639 1.53 4.121.081 5.737l-.155.164-8.831 8.83a6.197 6.197 0 01-4.27 1.806H6.4l-3.325-.074-.073-3.324a6.216 6.216 0 011.61-4.352l.195-.205 8.83-8.83zM11.93 8.041l-6.063 6.063a4.694 4.694 0 00-1.365 3.2v.263l.04 1.89 1.89.041.263-.001a4.7 4.7 0 003.015-1.19l.187-.177 6.061-6.06L11.93 8.04zm4.724-3.54a2.682 2.682 0 00-1.808.635l-.15.138L13.274 6.7l4.028 4.028L18.726 9.3c1.063-1.064 1.027-2.835-.083-3.945a2.908 2.908 0 00-1.81-.846l-.18-.01z",fill:"currentcolor",fillRule:"evenodd"})))};var ie;function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}const se=function(e){return r.createElement("svg",ue({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ie||(ie=r.createElement("path",{d:"M11.916 7.25L4.64 14.526A5.633 5.633 0 003 18.366L3 18.683l.05 2.268 2.268.05.315-.001a5.641 5.641 0 003.619-1.429l.224-.211 7.274-7.275-4.834-4.834zM17.586 3a3.218 3.218 0 00-2.17.763l-.18.166-1.709 1.71 4.834 4.834 1.712-1.711c1.275-1.277 1.231-3.402-.1-4.735A3.49 3.49 0 0017.8 3.012l-.215-.011z",fill:"currentcolor",fillRule:"evenodd"})))};function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}const de=e=>r.default.createElement(oe.Z,me({},e,{IconPrimary:ce,IconSecondary:se}));var fe=n(5910),pe=n(6583),he=n(7803);function ve(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){ve(o,r,a,l,c,"next",e)}function c(e){ve(o,r,a,l,c,"throw",e)}l(void 0)}))}}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e){var t;let n=e.post,a=e.comment,o=e.origin,l=e.parentId,c=e.onComment,u=e.onShare,s=e.onDelete,m=e.onEdit,d=e.onShowUpvotes;const f=(0,r.useContext)(y.Z).trackEvent,h=(0,r.useContext)(b.ZP),v=h.user,g=h.showLogin,E=be((0,r.useState)(a.upvoted),2),x=E[0],N=E[1],S=be((0,r.useState)(a.numUpvotes),2),C=S[0],P=S[1],j=(0,i.useQueryClient)();(0,r.useEffect)((()=>{N(a.upvoted),P(a.numUpvotes)}),[a]);const A=(0,he.Y)().requestMethod,Z=(0,i.useMutation)((()=>A(`${te.J}/graphql`,ne.NA,{id:a.id})),{onMutate:(M=ye(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.cancelQueries("post_comments");case 2:return N(!0),P(C+1),e.abrupt("return",(()=>{N(x),P(C)}));case 5:case"end":return e.stop()}}),e)}))),function(){return M.apply(this,arguments)}),onError:(e,t,n)=>n()}),R=Z.mutateAsync;var M;const T=(0,i.useMutation)((()=>A(`${te.J}/graphql`,ne.C5,{id:a.id})),{onMutate:(L=ye(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.cancelQueries("post_comments");case 2:return N(!1),P(C-1),e.abrupt("return",(()=>{N(x),P(C)}));case 5:case"end":return e.stop()}}),e)}))),function(){return L.apply(this,arguments)}),onError:(e,t,n)=>n()}),z=T.mutateAsync;var L;return r.default.createElement("div",{className:"flex flex-row items-center"},r.default.createElement(pe.SimpleTooltip,{content:"Upvote"},r.default.createElement(I.z,{id:`comment-${a.id}-upvote-btn`,buttonSize:"small",pressed:x,onClick:()=>{if(v)return x?(f((0,w.gR)((0,k.sP)(!1),n,{extra:{origin:o,commentId:a.id}})),z()):(f((0,w.gR)((0,k.sP)(!0),n,{extra:{origin:o,commentId:a.id}})),R());g("comment upvote")},icon:r.default.createElement(B.Z,{secondary:x}),className:"mr-3 btn-tertiary-avocado"})),r.default.createElement(pe.SimpleTooltip,{content:"Comment"},r.default.createElement(I.z,{buttonSize:"small",onClick:()=>c(a,l),icon:r.default.createElement(U.Z,null),className:"mr-3 btn-tertiary-avocado"})),(null==v?void 0:v.id)===a.author.id&&r.default.createElement(pe.SimpleTooltip,{content:"Edit"},r.default.createElement(I.z,{buttonSize:"small",onClick:()=>m(a),icon:r.default.createElement(de,null),className:"mr-3 btn-tertiary"})),((null==v?void 0:v.id)===a.author.id||(null==v||null===(t=v.roles)||void 0===t?void 0:t.indexOf(fe.G7.Moderator))>-1)&&r.default.createElement(pe.SimpleTooltip,{content:"Delete"},r.default.createElement(I.z,{buttonSize:"small",onClick:()=>s(a,l),icon:r.default.createElement(ae.Z,null),className:"mr-3 btn-tertiary"})),r.default.createElement(pe.SimpleTooltip,{content:"Share comment"},r.default.createElement(I.z,{buttonSize:"small",onClick:()=>u(a),icon:r.default.createElement(F.default,null),className:"mr-3 btn-tertiary-cabbage"})),C>0&&r.default.createElement(pe.SimpleTooltip,{content:"See who upvoted"},r.default.createElement(O.D,{className:"ml-auto",onClick:()=>d(a.id,C)},C," upvote",1===C?"":"s")))}var we=n(2693),xe=n(6015),ke=n(7877);function Oe(e){let t=e.postAuthorId,n=e.author,a=e.appendTooltipTo;return r.default.createElement(ke.R,{user:n,tooltip:{appendTo:a}},r.default.createElement(xe.x,{user:n,className:"overflow-hidden font-bold whitespace-nowrap w-fit commentAuthor text-theme-label-primary typo-callout"},n.name,n.id===t&&r.default.createElement("span",{className:"flex items-center ml-2 text-theme-status-help typo-footnote"},r.default.createElement(Z.Z,{className:"mx-0.5",size:"small"}),"Author")))}var Ne,Se=n(2256),Ce=n(2546);function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}const je=function(e){return r.createElement("svg",Pe({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Ne||(Ne=r.createElement("path",{d:"M12 3a1 1 0 011 1l.001.566A7.504 7.504 0 0119.434 11H20a1 1 0 010 2l-.566.001A7.504 7.504 0 0113 19.434L13 20a1 1 0 01-2 0v-.566A7.504 7.504 0 014.566 13L4 13a1 1 0 010-2h.566A7.504 7.504 0 0111 4.566V4a1 1 0 011-1zm1 3.083V6.5a1 1 0 01-2 0v-.417A6.005 6.005 0 006.083 11H6.5a1 1 0 010 2h-.417A6.005 6.005 0 0011 17.918V17.5a1 1 0 012 0v.417A6.005 6.005 0 0017.918 13L17.5 13a1 1 0 010-2h.417a6.005 6.005 0 00-4.916-4.917zM12 9a3 3 0 110 6 3 3 0 010-6zm0 1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",fill:"currentcolor",fillRule:"evenodd"})))};var Ae;function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}const Ze=function(e){return r.createElement("svg",Ie({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Ae||(Ae=r.createElement("path",{d:"M12 3a1 1 0 011 1l.001 1.071A7.005 7.005 0 0118.929 11H20a1 1 0 010 2l-1.071.001a7.005 7.005 0 01-5.928 5.928L13 20a1 1 0 01-2 0v-1.07A7.005 7.005 0 015.071 13L4 13a1 1 0 010-2h1.07A7.005 7.005 0 0111 5.07V4a1 1 0 011-1zm1.001 4.1L13 8a1 1 0 01-2 0v-.9A5.006 5.006 0 007.1 11H8a1 1 0 010 2l-.9.001A5.006 5.006 0 0011 16.9V16a1 1 0 012 0l.001.9A5.006 5.006 0 0016.9 13L16 13a1 1 0 010-2h.9A5.006 5.006 0 0013 7.1zM12 10.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",fill:"currentcolor",fillRule:"evenodd"})))};function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}const Me=e=>r.default.createElement(oe.Z,Re({},e,{IconPrimary:je,IconSecondary:Ze}));function Te(){return r.default.createElement("span",{className:"flex items-center ml-2 font-bold text-theme-color-bun typo-footnote"},r.default.createElement(Me,{className:"mr-0.5",size:"small"}),"Scout")}const ze=(0,Se.Z)(re.q5,"mb-1");function Le(e){var t;let n=e.post,a=e.comment,o=e.origin,l=e.firstComment,i=e.lastComment,u=e.parentId,s=e.commentHash,m=e.commentRef,d=e.onComment,f=e.onShare,p=e.onDelete,h=e.onEdit,v=e.onShowUpvotes,y=e.appendTooltipTo,b=e.postAuthorId,g=e.postScoutId;return r.default.createElement("article",{className:"flex items-stretch mt-4 scroll-mt-16",ref:s===(0,ne.$7)(a.id)?m:null},r.default.createElement("div",{className:"relative"},r.default.createElement("div",{className:c()("absolute inset-x-0 w-px mx-auto bg-theme-divider-tertiary",l?"top-0":"-top-4",i?"h-4":"bottom-0")}),r.default.createElement(ke.R,{user:a.author,tooltip:{appendTo:y}},r.default.createElement(we.a,{user:a.author,picture:{size:"medium"}}))),r.default.createElement("div",{className:"flex flex-col flex-1 items-stretch ml-2"},r.default.createElement(ze,null,r.default.createElement("div",{className:"flex"},r.default.createElement(Oe,{postAuthorId:b,author:a.author,appendTooltipTo:y}),(null===(t=a.author)||void 0===t?void 0:t.id)===g&&r.default.createElement(Te,null)),r.default.createElement(re.G9,{comment:a}),r.default.createElement("div",{className:"mt-2"},r.default.createElement(Ce.Z,{content:a.contentHtml}))),r.default.createElement(Ee,{post:n,origin:o,comment:a,parentId:u,onComment:d,onShare:f,onDelete:p,onEdit:h,onShowUpvotes:v})))}const De=(0,Se.Z)(re.q5,"my-2");function Be(e){var t,n;let a=e.post,o=e.comment,l=e.origin,i=e.commentHash,u=e.commentRef,s=e.onComment,m=e.onShare,d=e.onDelete,f=e.onEdit,p=e.onShowUpvotes,h=e.appendTooltipTo,v=e.className,y=e.postAuthorId,b=e.postScoutId;return r.default.createElement("article",{className:c()("flex flex-col items-stretch mt-4 scroll-mt-16",v),ref:i===(0,ne.$7)(o.id)?u:null},r.default.createElement("div",{className:"flex items-center"},r.default.createElement(ke.R,{user:o.author,tooltip:{appendTo:h}},r.default.createElement(we.a,{user:o.author})),r.default.createElement("div",{className:"flex flex-col ml-2"},r.default.createElement("div",{className:"flex"},r.default.createElement(Oe,{postAuthorId:y,author:o.author,appendTooltipTo:h}),(null===(t=o.author)||void 0===t?void 0:t.id)===b&&r.default.createElement(Te,null)),r.default.createElement(re.G9,{comment:o}))),r.default.createElement(De,null,r.default.createElement(Ce.Z,{content:o.contentHtml})),r.default.createElement(Ee,{post:a,comment:o,origin:l,parentId:o.id,onShare:m,onComment:s,onDelete:d,onEdit:f,onShowUpvotes:p}),null===(n=o.children)||void 0===n?void 0:n.edges.map(((e,t)=>r.default.createElement(Le,{post:a,origin:l,commentHash:i,commentRef:u,comment:e.node,key:e.node.id,firstComment:0===t,lastComment:t===o.children.edges.length-1,parentId:o.id,onComment:s,onShare:m,onDelete:d,onEdit:e=>f(e,o),onShowUpvotes:p,postAuthorId:y,postScoutId:b,appendTooltipTo:h}))))}var Ue=n(4051);function $e(){return r.default.createElement("article",{"aria-busy":!0,className:"flex flex-col items-stretch mt-4"},r.default.createElement("div",{className:"flex items-center mb-2"},r.default.createElement(Ue.f,{className:"w-10 h-10 rounded-10"}),r.default.createElement("div",{className:"flex flex-col flex-1 justify-between ml-2 h-8"},r.default.createElement(Ue.f,{className:"w-2/5 h-3 rounded-xl"}),r.default.createElement(Ue.f,{className:"w-1/5 h-3 rounded-xl"}))),r.default.createElement(Ue.f,{className:"my-2 w-full h-8 rounded-full"}))}function Qe(e){let t=e.placeholderAmount;const n=t<=5?t:5;return r.default.createElement(r.default.Fragment,null,Object.keys([...Array(n)]).map((e=>r.default.createElement($e,{key:e}))))}var qe=n(236),Fe=n(1038),_e=n.n(Fe),He=n(7291);function Ve(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Ve(o,r,a,l,c,"next",e)}function c(e){Ve(o,r,a,l,c,"throw",e)}l(void 0)}))}}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const et=(e,t,n)=>{const r=e.findIndex((e=>e.node.id===t));return[r,e[r].node.children.edges.findIndex((e=>e.node.id===n))]},tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enableShowShareNewComment;const a=(0,i.useQueryClient)(),o=(0,r.useContext)(y.Z),l=o.trackEvent,c=(0,r.useContext)(b.ZP),u=c.user,s=c.showLogin,m=["post_comments",null==e?void 0:e.id],d=["post_comments_num",null==e?void 0:e.id],f=a.getQueryData(d)||(null==e?void 0:e.numComments),h=a.getQueryData(m),v=(0,r.useState)(0),g=Ke(v,2),E=g[0],x=g[1],k=(0,r.useState)(null),O=Ke(k,2),N=O[0],S=O[1],C=(0,r.useState)(null),P=Ke(C,2),j=P[0],A=P[1],I=(0,He.Z)((e=>A(e)),700),Z=Ke(I,1),R=Z[0],M=()=>{S(null),document.documentElement.scrollTop=E},T=(e,t)=>{t||R(e.id)},z=e=>{x(window.scrollY),S(e)},L=t=>{u?(l((0,w.gR)("open comment modal",e,{extra:{origin:t}})),x(window.scrollY),S({authorName:e.source.name,authorImage:e.source.image,content:e.title,contentHtml:e.title,publishDate:e.createdAt,commentId:null,post:e})):s("comment")},D=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t)return{node:Je(Je({},e),{},{children:{edges:[],pageInfo:null}})};if(!N.commentId){const t=h.postComments.edges.find((t=>t.node.id===e.id));return Je(Je({},t),{},{node:Je(Je({},t.node),e)})}const n=h.postComments.edges.find((e=>e.node.id===N.commentId)),r=n.node.children.edges.find((t=>t.node.id===e.id));return Je(Je({},r),{},{node:Je(Je({},r.node),e)})},B=function(){var t=Ye(p().mark((function t(n,r){var o,l,c,i,u,s,v,y,b,g,E;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=["post_comments",e.id],t.next=3,a.cancelQueries(o);case 3:if(l=_e()(h),c=l.postComments.edges,l){t.next=7;break}return t.abrupt("return",null);case 7:if(r!==n){t.next=13;break}return s=c.findIndex((e=>e.node.id===n)),v=(null===(i=c[s].node.children)||void 0===i||null===(u=i.edges)||void 0===u?void 0:u.length)||0,a.setQueryData(d,f-(v+1)),c.splice(s,1),t.abrupt("return",a.setQueryData(m,l));case 13:return y=et(l.postComments.edges,r,n),b=Ke(y,2),g=b[0],E=b[1],l.postComments.edges[g].node.children.edges.splice(E,1),a.setQueryData(d,f-1),t.abrupt("return",a.setQueryData(m,l));case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),U=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=_e()(h);if(!n)return null;const r=D(e,t),o=h.postComments.edges,l=N.commentId;if(t){if(!l)return n.postComments.edges.push(r),a.setQueryData(m,n);const e=o.findIndex((e=>e.node.id===l));return n.postComments.edges[e].node.children.edges.push(r),a.setQueryData(m,n)}if(!l){const e=o.findIndex((e=>e.node.id===r.node.id));return n.postComments.edges[e]=r,a.setQueryData(m,n)}const c=et(o,l,r.node.id),i=Ke(c,2),u=i[0],s=i[1];return n.postComments.edges[u].node.children.edges[s]=r,a.setQueryData(m,n)},$=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(U(t,n),n&&(l((0,w.gR)("comment post",e,{extra:{commentId:t.id,origin:"comment modal"}})),a.setQueryData(d,f+1),T(t,N.commentId)),M())};return(0,r.useEffect)((()=>{n&&R()}),[n]),(0,r.useMemo)((()=>({commentsNum:f,closeNewComment:M,openNewComment:L,onCommentClick:z,onShowShareNewComment:A,updatePostComments:$,deleteCommentCache:B,parentComment:N,showShareNewComment:j})),[f,M,L,z,A,$,B,N,j])},nt=["commentId","parentId","post"];function rt(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e){let t=e.commentId,n=e.parentId,a=e.post,o=lt(e,nt);const l=at((0,r.useState)(!1),2),c=l[0],u=l[1],s=tt(a).deleteCommentCache,m=(0,he.Y)().requestMethod,d=(0,i.useMutation)((()=>m(`${te.J}/graphql`,ne.DO,{id:t})),{onSuccess:()=>s(t,n)}).mutateAsync,f=function(){var e,t=(e=p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.prev=3,e.next=6,d();case 6:o.onRequestClose(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),u(!1);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){rt(o,r,a,l,c,"next",e)}function c(e){rt(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return r.default.createElement(qe.cV,o,r.default.createElement(qe.G6,null,"Delete comment"),r.default.createElement(qe.P5,null,"Are you sure you want to delete your comment? This action cannot be undone."),r.default.createElement(qe.oP,null,r.default.createElement(I.z,{className:"btn-secondary",onClick:o.onRequestClose},"Cancel"),r.default.createElement(I.z,{className:"btn-primary-ketchup",loading:c,onClick:f},"Delete")))}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ft=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return mt(t?{authorName:t.author.name,authorImage:t.author.image,content:t.content,contentHtml:t.contentHtml,publishDate:t.lastUpdatedAt||t.createdAt,commentId:t.id,post:e}:{authorName:e.source.name,authorImage:e.source.image,content:e.title,contentHtml:e.title,publishDate:e.createdAt,commentId:null,post:e},n)};function pt(e){var t,n;let a=e.post,o=e.origin,l=e.onClick,c=e.onShare,u=e.onClickUpvote,s=e.modalParentSelector,m=e.applyBottomMargin,d=void 0===m||m;const f=a.id,p=(0,r.useContext)(b.ZP),h=p.user,v=p.showLogin,y=p.tokenRefreshed,g=it((0,r.useState)(null),2),E=g[0],w=g[1],x=(0,he.Y)().requestMethod,k=["post_comments",f],O=(0,i.useQuery)(k,(()=>x(`${te.J}/graphql`,ne.nW,{postId:f,[A.UK]:N,first:500},{requestKey:JSON.stringify(k)})),{enabled:!!f&&y,refetchInterval:6e4}),N=O.data,S=O.isLoading,C=window.location.hash,P=(null==N||null===(t=N.postComments)||void 0===t||null===(n=t.edges)||void 0===n?void 0:n.length)||0,j=(0,r.useRef)(null),I=it((0,r.useState)(!!C),2),Z=I[0],R=I[1];if((0,r.useEffect)((()=>{P>0&&Z&&j.current&&(j.current.scrollIntoView(),R(!1))}),[P,Z]),S||null===N)return r.default.createElement(Qe,{placeholderAmount:a.numComments});if(0===P)return r.default.createElement("div",{className:"my-8 text-center text-theme-label-quaternary typo-subhead"},"Be the first to comment.");const M=(e,t)=>{if(h){const n=ft(a,e);n.commentId=t,l(n)}else v("comment")},T=(e,t)=>{const n={editContent:e.content,editId:e.id};l(ft(a,t,n))};return r.default.createElement(r.default.Fragment,null,N.postComments.edges.map(((e,t)=>{var n,l;return r.default.createElement(Be,{post:a,origin:o,commentHash:C,commentRef:j,className:t===P-1&&d&&"mb-12",comment:e.node,key:e.node.id,onComment:M,onShare:c,onDelete:(e,t)=>w({comment:e,parentId:t}),onEdit:T,onShowUpvotes:u,postAuthorId:null===(n=a.author)||void 0===n?void 0:n.id,postScoutId:null===(l=a.scout)||void 0===l?void 0:l.id,appendTooltipTo:s})})),E&&r.default.createElement(ct,{isOpen:!!E,onRequestClose:()=>w(null),commentId:E.comment.id,parentId:E.parentId,parentSelector:s,post:a}))}function ht(e){let t=e.post,n=e.onUpvotesClick;const a=t.numUpvotes||0,o=t.numComments||0;return r.default.createElement("div",{className:"flex gap-x-4 items-center my-4 text-theme-label-tertiary typo-callout"},t.views>0&&r.default.createElement("span",null,t.views.toLocaleString()," Views"),a>0&&r.default.createElement(O.D,{onClick:()=>n(a)},a," Upvote",a>1?"s":""),o>0&&r.default.createElement("span",null,o.toLocaleString()," Comment"+(1===o?"":"s")))}var vt=n(4651),yt=n(5750);function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e){const t=bt((0,yt.y)((()=>e)),2);return[t[0],t[1]]}const wt=(0,Se.Z)("div","border border-theme-divider-tertiary rounded-16"),xt=(0,Se.Z)(Ue.f,"h-3 rounded-xl my-0.5"),kt=(0,Se.Z)("div","h-px bg-theme-divider-tertiary");function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e){let t=e.share;const n=Ot(Et(e.link),2),a=n[0],o=n[1];return r.default.createElement(wt,{className:"flex laptop:hidden flex-col gap-2 items-start py-3 px-1"},r.default.createElement(I.z,{buttonSize:"small",onClick:()=>o(),pressed:a,icon:r.default.createElement(vt.Z,null),className:"btn-tertiary-avocado"},a?"Copied!":"Copy link"),r.default.createElement(I.z,{buttonSize:"small",onClick:t,icon:r.default.createElement(F.default,null),className:"btn-tertiary"},"Share with your friends"))}var Ct=n(4362),Pt=n(7487),jt=n(6024),At=n(7298);function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Rt=(0,Se.Z)(I.z,"my-1"),Mt=(0,Se.Z)(Rt,"text-white");function Tt(e){let t=e.post;const n=t.commentsPermalink,a=It(Et(n),2),o=a[0],l=a[1],c=(0,r.useContext)(y.Z).trackEvent,i=e=>c((0,w.gR)("share post",t,{extra:{provider:e,origin:K.a.ShareBar}}));return r.default.createElement(wt,{className:"hidden laptop:flex flex-col p-3"},r.default.createElement("p",{className:"typo-callout text-theme-label-tertiary"},"Would you recommend this article?"),r.default.createElement("div",{className:"inline-flex relative flex-row items-center mt-3"},r.default.createElement(pe.SimpleTooltip,{content:"Copy link"},r.default.createElement(Rt,{onClick:()=>{l(),i(At.YE.CopyLink)},pressed:o,icon:r.default.createElement(vt.Z,null),className:"btn-tertiary-avocado"})),r.default.createElement(pe.SimpleTooltip,{content:"Share on WhatsApp"},r.default.createElement(Mt,{tag:"a",href:(0,At.iD)(n),target:"_blank",rel:"noopener",onClick:()=>i(At.YE.WhatsApp),icon:r.default.createElement(Ct.Z,{secondary:!0}),className:"btn-tertiary"})),r.default.createElement(pe.SimpleTooltip,{content:"Share on Twitter"},r.default.createElement(Mt,{tag:"a",href:(0,At.nO)(n,t.title),target:"_blank",rel:"noopener",onClick:()=>i(At.YE.Twitter),icon:r.default.createElement(Pt.Z,{secondary:!0}),className:"btn-tertiary"})),r.default.createElement(pe.SimpleTooltip,{content:"Share on Facebook"},r.default.createElement(Mt,{tag:"a",href:(0,At.Qk)(n),target:"_blank",rel:"noopener",onClick:()=>i(At.YE.Facebook),icon:r.default.createElement(jt.Z,{secondary:!0}),className:"btn-tertiary"}))))}const zt=u.gql`
  query SimilarPosts(
    $post: ID!
    $loggedIn: Boolean! = false
    $trendingFirst: Int
    $similarFirst: Int
    $discussedFirst: Int
    $tags: [String]!
  ) {
    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {
      id
      title
      permalink
      commentsPermalink
      bookmarked @include(if: $loggedIn)
      source {
        id
        name
        image
      }
      scout {
        id
        username
      }
      author {
        id
        username
      }
      trending
      tags
    }
    similarPosts: randomSimilarPostsByTags(
      tags: $tags
      post: $post
      first: $similarFirst
    ) {
      id
      title
      permalink
      commentsPermalink
      bookmarked @include(if: $loggedIn)
      source {
        id
        name
        image
      }
      scout {
        id
        username
      }
      author {
        id
        username
      }
      numComments
      numUpvotes
      tags
    }
    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst) {
      id
      title
      permalink
      commentsPermalink
      numComments
      source {
        id
      }
      tags
      scout {
        id
        username
      }
      author {
        id
        username
      }
      featuredComments {
        author {
          id
          image
          name
          username
        }
      }
    }
  }
`;var Lt=n(6491),Dt=n(1664),Bt=n.n(Dt),Ut=n(8311),$t=n(4295),Qt=n(3536);function qt(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}const Ft=r.default.createElement("div",{className:"h-px bg-theme-divider-tertiary"}),_t="w-7 h-7 rounded-full mt-1",Ht="flex flex-col ml-3 mr-2 flex-1",Vt=e=>{let t=e.post,n=e.onLinkClick,a=e.onBookmark;return r.default.createElement("article",{className:c()("relative flex py-2 pl-4 pr-2 group items-start hover:bg-theme-hover",$t.Z.card)},r.default.createElement(Qt.YS,{href:t.commentsPermalink,title:t.title,onClick:()=>n(t),onMouseUp:e=>1===e.button&&n(t)}),r.default.createElement(j.w,{imgSrc:t.source.image,imgAlt:t.source.name,className:_t}),r.default.createElement("div",{className:Ht},r.default.createElement("h5",{className:c()("typo-callout text-theme-label-primary mb-0.5 multi-truncate break-words text-ellipsis",$t.Z.title)},t.title),r.default.createElement("div",{className:"flex items-center typo-footnote text-theme-label-tertiary"},t.trending?r.default.createElement(r.default.Fragment,null,r.default.createElement(k.nJ,null),r.default.createElement("div",{className:"ml-2"},t.trending," devs read it last hour")):r.default.createElement(r.default.Fragment,null,t.numUpvotes>0&&r.default.createElement("div",null,t.numUpvotes," Upvotes"),t.numComments>0&&r.default.createElement("div",{className:t.numUpvotes>0&&"ml-2"},t.numComments," Comments")))),r.default.createElement(pe.SimpleTooltip,{content:t.bookmarked?"Remove bookmark":"Bookmark"},r.default.createElement(I.z,{className:"group-hover:visible mouse:invisible mt-1 btn-tertiary-bun",pressed:t.bookmarked,buttonSize:"small",icon:r.default.createElement($.Z,{secondary:t.bookmarked}),onClick:()=>a(t)})))},Yt=(0,Se.Z)(Ue.f,"h-3 rounded-xl my-0.5"),Gt=()=>r.default.createElement("article",{"aria-busy":!0,className:"flex relative items-start py-2 pr-2 pl-4"},r.default.createElement(Ue.f,{className:_t}),r.default.createElement("div",{className:Ht},r.default.createElement(Yt,{style:{width:"80%"}}),r.default.createElement(Yt,{style:{width:"80%"}}),r.default.createElement(Yt,{style:{width:"40%"}})));function Jt(e){let t=e.posts,n=e.isLoading,a=e.onBookmark,o=e.className;const l=(0,r.useContext)(y.Z).trackEvent,i=function(){var e,t=(e=p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((0,w.gR)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){qt(o,r,a,l,c,"next",e)}function c(e){qt(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return r.default.createElement("section",{className:c()("flex flex-col rounded-2xl bg-theme-bg-primary border-theme-divider-quaternary border",o)},r.default.createElement("h4",{className:"py-3 pr-4 pl-6 typo-body text-theme-label-tertiary"},"You might like"),Ft,n?r.default.createElement(r.default.Fragment,null,r.default.createElement(Gt,null),r.default.createElement(Gt,null),r.default.createElement(Gt,null)):r.default.createElement(r.default.Fragment,null,t.map((e=>r.default.createElement(Vt,{key:e.id,post:e,onLinkClick:i,onBookmark:a})))),Ft,r.default.createElement(Bt(),{href:"/",passHref:!0},r.default.createElement(I.z,{className:"self-start my-2 ml-2 btn-tertiary",buttonSize:"small",tag:"a",rightIcon:r.default.createElement(Ut.Z,{className:"rotate-90"})},"View all")))}const Wt=r.default.createElement("div",{className:"h-px bg-theme-divider-tertiary"}),Kt=e=>{var t;let n=e.post,a=e.onLinkClick;return r.default.createElement("article",{className:c()("relative flex flex-col py-3 px-4 group items-start hover:bg-theme-hover",$t.Z.card)},r.default.createElement(Bt(),{href:n.commentsPermalink,prefetch:!1,passHref:!0},r.default.createElement(Qt.YS,{title:n.title,onClick:()=>a(n),onMouseUp:e=>1===e.button&&a(n)})),r.default.createElement("h5",{className:c()("typo-callout text-theme-label-primary mb-2 multi-truncate",$t.Z.title)},n.title),r.default.createElement("div",{className:"flex items-center typo-footnote text-theme-label-tertiary"},(null===(t=n.featuredComments)||void 0===t?void 0:t.length)>0&&r.default.createElement("div",{className:"relative mr-2 h-6",style:{width:`${n.featuredComments.length+.5}rem`}},n.featuredComments.map(((e,t)=>r.default.createElement(z.Y,{key:e.author.username,user:e.author,size:"small",className:"top-0",style:{left:`${t}rem`,position:"absolute"}})))),r.default.createElement("div",null,n.numComments," Comments")))},Xt=(0,Se.Z)(Ue.f,"h-3 rounded-xl my-0.5"),en=()=>r.default.createElement("article",{"aria-busy":!0,className:"flex relative flex-col items-start py-3 px-4"},r.default.createElement(Xt,{style:{width:"80%"}}),r.default.createElement(Xt,{style:{width:"80%"}}),r.default.createElement(Xt,{style:{width:"40%"}})),tn=(0,Se.Z)(wt,"flex flex-col");function nn(e){var t,n;let a=e.posts,o=e.isLoading,l=e.className;const c=(0,r.useContext)(y.Z).trackEvent,i=e=>{c((0,w.gR)("click",e,{extra:{origin:"best discussions"}}))},u=()=>{};return r.default.createElement(tn,{className:l},r.default.createElement("h4",{className:"py-3 pr-4 pl-6 typo-body text-theme-label-tertiary"},"Best discussions"),Wt,o?r.default.createElement(r.default.Fragment,null,r.default.createElement(en,null),r.default.createElement(en,null),r.default.createElement(en,null)):r.default.createElement(r.default.Fragment,null,null==a?void 0:a.slice(1).map((e=>r.default.createElement(Kt,{key:e.id,post:e,onLinkClick:i})))),Wt,r.default.createElement(Bt(),{href:null!==(t=null==a||null===(n=a[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},r.default.createElement(I.z,{className:"self-start my-2 ml-2 btn-tertiary",buttonSize:"small",tag:"a",rightIcon:r.default.createElement(Ut.Z,{className:"rotate-90"}),onClick:u,onMouseUp:e=>1===e.button&&void 0},"I'm feeling lucky")))}var rn;function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}const on=function(e){return r.createElement("svg",an({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),rn||(rn=r.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var ln;function cn(){return cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(this,arguments)}const un=function(e){return r.createElement("svg",cn({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ln||(ln=r.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};function sn(){return sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}const mn=e=>r.default.createElement(oe.Z,sn({},e,{IconPrimary:on,IconSecondary:un})),dn="_1cnuD8VLP6jS7RRe0yMI9l";function fn(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}const pn=r.default.createElement("div",{className:"mb-3 h-px bg-theme-divider-tertiary"}),hn=(e,t)=>t.id?`${e.permalink}?a=${t.id}`:e.permalink;function vn(e){let t=e.post,n=e.className,a=e.collapsible;const o=(0,r.useContext)(y.Z).trackEvent,l=function(){var e,n=(e=p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o((0,w.gR)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){fn(o,r,a,l,c,"next",e)}function c(e){fn(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}(),i=r.default.createElement(r.default.Fragment,null,t.toc.map((e=>r.default.createElement("a",{key:e.text,href:hn(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:l,className:"flex-1 py-2 px-4 truncate hover:bg-theme-hover typo-callout"},e.text)))),u="flex items-center py-3 px-4 typo-body text-theme-label-tertiary";return a?r.default.createElement("details",{className:c()("flex-col rounded-2xl bg-theme-bg-secondary overflow-hidden select-none",dn,n)},r.default.createElement(k.ER,{className:"hover:bg-theme-hover"},r.default.createElement("div",{className:u},r.default.createElement(mn,{className:"mr-2 text-2xl"}),"Table of contents",r.default.createElement(k.vd,null))),pn,i):r.default.createElement("section",{className:c()("flex-col rounded-2xl pb-3 bg-theme-bg-secondary overflow-hidden",n)},r.default.createElement("h4",{className:u},r.default.createElement(mn,{className:"mr-2 text-2xl"}),"Table of contents"),pn,i)}function yn(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){yn(o,r,a,l,c,"next",e)}function c(e){yn(o,r,a,l,c,"throw",e)}l(void 0)}))}}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xn=(e,t,n)=>e.map((e=>e.id===t?En(En({},e),n(e)):e)),kn=(e,t,n)=>function(){var r=bn(p().mark((function r(a){var o,l;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=a.id,r.next=3,e.cancelQueries(t);case 3:return l=e.getQueryData(t),e.setQueryData(t,En(En({},l),{},{trendingPosts:xn(l.trendingPosts,o,n),similarPosts:xn(l.similarPosts,o,n)})),r.abrupt("return",(()=>{e.setQueryData(t,l)}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();function On(e){var t,n;let a=e.currentPost,o=e.className;const l=a.id,u=a.tags,m=["furtherReading",l],d=(0,r.useContext)(b.ZP),f=d.user,h=d.showLogin,v=(0,r.useContext)(y.Z).trackEvent,g=(0,i.useQueryClient)(),E=(0,i.useQuery)(m,(()=>s()(`${te.J}/graphql`,zt,{loggedIn:!!f,post:l,trendingFirst:1,similarFirst:3,discussedFirst:4,tags:u})),{refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,refetchOnReconnect:!1,refetchInterval:!1,refetchOnMount:!1}),x=E.data,O=E.isLoading,N=(0,Lt.Z)({onBookmarkMutate:kn(g,m,(()=>({bookmarked:!0}))),onRemoveBookmarkMutate:kn(g,m,(()=>({bookmarked:!1})))}),S=N.bookmark,C=N.removeBookmark;if(!(null!=x&&x.similarPosts||O))return r.default.createElement(r.default.Fragment,null);const P=null!=x&&x.similarPosts?[...x.trendingPosts,...x.similarPosts.slice(0,Math.min(x.similarPosts.length,3-x.trendingPosts.length))]:[],j=function(){var e=bn(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=3;break}return h("bookmark"),e.abrupt("return");case 3:if(n=!t.bookmarked,v((0,w.gR)((0,k.Rt)({bookmarked:n}),t,{extra:{origin:"recommendation"}})),!n){e.next=10;break}return e.next=8,S({id:t.id});case 8:e.next=12;break;case 10:return e.next=12,C({id:t.id});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=(null===(t=a.toc)||void 0===t?void 0:t.length)>0;return r.default.createElement("div",{className:c()(o,"flex flex-col gap-6")},A&&r.default.createElement(vn,{post:a,className:"hidden laptop:flex"}),(O||(null==P?void 0:P.length)>0)&&r.default.createElement(Jt,{posts:P,isLoading:O,onBookmark:j}),(O||(null==x||null===(n=x.discussedPosts)||void 0===n?void 0:n.length)>0)&&r.default.createElement(nn,{posts:null==x?void 0:x.discussedPosts,isLoading:O}))}var Nn=n(6003),Sn=n(7393);function Cn(){return Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(this,arguments)}const Pn=(0,Se.Z)(j.w,"w-10 h-10"),jn=e=>{const t=e.userType,n=e.name,a=e.permalink,o=e.image;if("source"===t)return r.default.createElement(Nn.t,{href:a,passHref:!0,prefetch:!1,tooltip:{placement:"bottom",content:n}},r.default.createElement(Pn,{className:"rounded-full cursor-pointer",imgSrc:o,imgAlt:n,background:"var(--theme-background-secondary)"}));const l=e;return r.default.createElement(xe.x,{user:l},r.default.createElement(Pn,{className:"rounded-12",imgSrc:o,imgAlt:n,background:"var(--theme-background-secondary)"}))},An=e=>{const t=e.id,n=e.name,a=e.username,o=e.userType,l=void 0===o?"source":o,i=(e=>"source"===e?null:"author"===e?Z.Z:Me)(l),u="source"===l?r.default.Fragment:ke.R;return r.default.createElement("div",{className:"flex relative flex-row p-3"},r.default.createElement(u,{user:{id:t}},r.default.createElement(xe.x,{user:e},r.default.createElement(jn,e))),i&&r.default.createElement(i,{secondary:!0,className:c()("absolute w-5 h-5 top-10 left-10","author"===l?"text-theme-color-cheese":"text-theme-color-bun")}),r.default.createElement(u,{user:{id:t}},r.default.createElement("div",{className:"flex flex-col ml-4"},r.default.createElement(xe.x,{className:"font-bold typo-callout",user:e},n),(a||t)&&r.default.createElement(xe.x,{className:"mt-0.5 typo-footnote text-theme-label-tertiary",user:e},"@",a||t))))};function In(e){let t=e.post;const n=t.author,a=t.scout,o=t.source;return r.default.createElement(wt,{className:"flex flex-col"},r.default.createElement(An,Cn({},o,{permalink:(0,Sn.N)(o.id),userType:"source"})),n&&r.default.createElement(An,Cn({},n,{userType:"author"})),a&&r.default.createElement(An,Cn({},a,{userType:"scout"})))}var Zn=n(5708),Rn=n(262),Mn=n(1343),Tn=n(1639),zn=n(332);const Ln=["additionalInteractionButtonFeature","onReadArticle","onShare","onBookmark","post","onClose","inlineActions","className","notificactionClassName","contextMenuId"];function Dn(){return Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn.apply(this,arguments)}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Qn=(0,Se.Z)("div","flex flex-row items-center"),qn=v()((()=>n.e(546).then(n.bind(n,6546)))),Fn=v()((()=>n.e(512).then(n.bind(n,4512))));function _n(e){var t;let n=e.additionalInteractionButtonFeature,a=e.onReadArticle,o=e.onShare,l=e.onBookmark,i=e.post,u=e.onClose,s=e.inlineActions,m=e.className,d=(e.notificactionClassName,e.contextMenuId),f=$n(e,Ln);const p=(0,r.useContext)(b.ZP).user,h=(0,Tn.Z)(d).showReportMenu,v=Bn((0,r.useState)(!1),2),y=v[0],g=v[1],E=Bn((0,r.useState)(!1),2),w=E[0],x=E[1],k=(null==p||null===(t=p.roles)||void 0===t?void 0:t.indexOf(fe.G7.Moderator))>-1;return r.default.createElement(Qn,Dn({},f,{className:c()("gap-2",m)}),r.default.createElement(pe.SimpleTooltip,{placement:"bottom",content:"Read article",disabled:!s},r.default.createElement(I.z,{className:s?"btn-tertiary":"btn-secondary",tag:"a",href:i.permalink,target:"_blank",icon:r.default.createElement(Mn.Z,null),onClick:a},!s&&"Read article")),r.default.createElement(pe.SimpleTooltip,{placement:"bottom",content:"Options"},r.default.createElement(I.z,{className:c()("btn-tertiary",!s&&"ml-auto"),icon:r.default.createElement(Zn.Z,null),onClick:e=>(e=>{const t=e.currentTarget.getBoundingClientRect(),n=t.right,r=t.bottom;h(e,{position:{x:n,y:r+4}})})(e)})),u&&r.default.createElement(pe.SimpleTooltip,{placement:"bottom",content:"Close"},r.default.createElement(I.z,{className:"btn-tertiary",icon:r.default.createElement(Rn.Z,null),onClick:e=>u(e)})),r.default.createElement(zn.Z,{additionalInteractionButtonFeature:n,onBookmark:l,onShare:o,post:i,setShowBanPost:k?()=>g(!0):null,setShowDeletePost:k?()=>x(!0):null,contextId:d}),y&&r.default.createElement(qn,{postId:i.id,isOpen:y,onRequestClose:()=>g(!1)}),w&&r.default.createElement(Fn,{postId:i.id,isOpen:w,onRequestClose:()=>x(!1)}))}function Hn(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function Vn(e){let t=e.additionalInteractionButtonFeature,n=e.onShare,a=e.onBookmark,o=e.onReadArticle,l=e.post,i=e.className,u=e.isNavigationFixed,s=e.onClose,m=e.origin,d=void 0===m?K.a.ArticlePage:m;const f=(0,r.useContext)(b.ZP).tokenRefreshed,h=(0,r.useContext)(y.Z).trackEvent,v=function(){var e,t=(e=p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("share"in navigator)){e.next=9;break}return e.prev=1,e.next=4,navigator.share({text:`${l.title}\n${l.commentsPermalink}`});case 4:h((0,w.gR)("share post",l,{extra:{origin:d,provider:At.YE.Native}})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Hn(o,r,a,l,c,"next",e)}function c(e){Hn(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.default.createElement(k.ry,{className:c()(i,u&&"tablet:pt-[5.5rem]")},!u&&r.default.createElement(_n,{additionalInteractionButtonFeature:t,onBookmark:a,onShare:n,onReadArticle:o,inlineActions:u,post:l,onClose:s,className:"hidden tablet:flex pt-6",contextMenuId:"post-widgets-context"}),r.default.createElement(In,{post:l}),r.default.createElement(Tt,{post:l}),r.default.createElement(St,{share:v,link:l.commentsPermalink}),f&&r.default.createElement(On,{currentPost:l,className:"laptopL:w-[19.5rem]"}))}var Yn=n(3091);const Gn=v()((()=>Promise.resolve().then(n.bind(n,6583))));function Jn(e){let t=e.onPreviousPost,n=e.onNextPost,a=e.shouldDisplayTitle,o=e.className,l=e.isModal,i=e.post,u=e.onReadArticle,s=e.onClose,m=e.onShare,d=e.onBookmark,f=e.additionalInteractionButtonFeature;const p=`Published on ${null==i?void 0:i.source.name}`,h=null!=i&&i.author?`${p} by ${null==i?void 0:i.author.name}`:p,v={title:null==i?void 0:i.title,subtitle:h},y=!t&&!n;return r.default.createElement("div",{className:c()("flex flex-row gap-2 items-center",o),role:"navigation"},t&&r.default.createElement(Gn,{content:"Previous"},r.default.createElement(I.z,{className:"-rotate-90 btn-secondary",icon:r.default.createElement(Ut.Z,null),onClick:t})),n&&r.default.createElement(Gn,{content:"Next"},r.default.createElement(I.z,{className:"rotate-90 btn-secondary",icon:r.default.createElement(Ut.Z,null),onClick:n})),a&&r.default.createElement("div",{className:"overflow-hidden flex-col flex-1 ml-2"},r.default.createElement("span",{className:"overflow-hidden whitespace-nowrap typo-footnote text-ellipsis text-theme-label-tertiary"},v.subtitle),r.default.createElement("h3",{className:"overflow-hidden font-bold whitespace-nowrap text-ellipsis typo-headline"},v.title)),r.default.createElement(_n,{onShare:m,onBookmark:d,onReadArticle:u,additionalInteractionButtonFeature:f,post:i,onClose:s,inlineActions:a||l,className:a?c()("flex"):y?"flex grow tablet:hidden":"flex tablet:hidden ml-auto",notificactionClassName:"ml-4",contextMenuId:"post-navigation-context"}))}const Wn=()=>r.default.createElement("article",{"aria-busy":!0,className:"flex relative items-start py-2 pr-2 pl-4"},r.default.createElement(Ue.f,{className:"w-7 h-7 rounded-full mt-1"}),r.default.createElement("div",{className:"flex flex-col ml-3 mr-2 flex-1"},r.default.createElement(xt,{className:"w-4/5"}),r.default.createElement(xt,{className:"w-4/5"}),r.default.createElement(xt,{className:"w-2/5"}))),Kn=e=>{let t=e.padding,n=void 0===t?"py-3 px-4":t,a=e.textClassName;return r.default.createElement("article",{"aria-busy":!0,className:c()("flex relative flex-col items-start",n)},r.default.createElement(xt,{className:c()("w-4/5",a)}),r.default.createElement(xt,{className:c()("w-4/5",a)}),r.default.createElement(xt,{className:c()("w-2/5",a)}))},Xn=(0,Se.Z)("div","flex flex-col flex-1 p-8 tablet:border-r tablet:border-theme-divider-tertiary"),er=e=>{let t=e.children;return r.default.createElement(wt,null,r.default.createElement(xt,{className:"my-4 ml-6 w-2/5"}),r.default.createElement(kt,null),t,r.default.createElement(kt,null),r.default.createElement(xt,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},tr=()=>r.default.createElement(r.default.Fragment,null,r.default.createElement(Xn,null,r.default.createElement(Ue.f,{className:"my-2 mb-8 w-3/5 h-8 rounded-full"}),r.default.createElement(Kn,{padding:"p-0 gap-2",textClassName:"h-4"}),r.default.createElement("div",{className:"flex flex-row gap-2 my-8"},r.default.createElement(Ue.f,{className:"w-20 h-6 rounded-full"}),r.default.createElement(Ue.f,{className:"w-20 h-6 rounded-full"})),r.default.createElement(Ue.f,{className:"w-4/5 h-52 rounded-16"}),r.default.createElement(Ue.f,{className:"my-8 w-2/5 h-8 rounded-full"}),r.default.createElement(kt,null),r.default.createElement(Qe,null)),r.default.createElement(k.ry,{className:"flex-1 p-8"},r.default.createElement(er,null,r.default.createElement(Wn,null),r.default.createElement(Wn,null),r.default.createElement(Wn,null)),r.default.createElement(er,null,r.default.createElement(Kn,null),r.default.createElement(Kn,null),r.default.createElement(Kn,null))));var nr=n(1206);function rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const or=()=>({upvotes:0,modal:!1,requestQuery:null});var lr=n(2713),cr=n(3864),ir=n(6346);function ur(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dr(e){const t=(0,r.useContext)(y.Z).trackEvent,n=sr((0,r.useState)(null),2),a=n[0],o=n[1];return(0,r.useMemo)((()=>{return{shareComment:a,openShareComment:(n=p().mark((function n(r,a){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("share"in navigator)){n.next=11;break}return n.prev=1,n.next=4,navigator.share({text:`${a.title}\n${a.commentsPermalink}${(0,ne.$7)(r.id)}`});case 4:t((0,w.gR)("share post",a,{extra:{origin:e,provider:At.YE.Native,commentId:r.id}})),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:n.next=12;break;case 11:o(r);case 12:case"end":return n.stop()}}),n,null,[[1,7]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function l(e){ur(o,r,a,l,c,"next",e)}function c(e){ur(o,r,a,l,c,"throw",e)}l(void 0)}))},function(e,t){return r.apply(this,arguments)}),closeShareComment:()=>o(null)};var n,r}),[a])}var fr=n(9924);function pr(){return pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}function hr(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const wr=v()((()=>n.e(23).then(n.bind(n,8023)))),xr=v()((()=>n.e(195).then(n.bind(n,5195)))),kr=v()((()=>n.e(484).then(n.bind(n,2484))),{ssr:!1}),Or=v()((()=>n.e(253).then(n.bind(n,8858)))),Nr=v()((()=>n.e(639).then(n.bind(n,5639)))),Sr=(0,Se.Z)("div","flex flex-col tablet:flex-row max-w-[100vw] pb-6 tablet:pb-0"),Cr=(0,Se.Z)(Sr,"m-auto w-full max-w-[63.75rem] laptop:border-l laptop:border-theme-divider-tertiary"),Pr=(0,Se.Z)("main","flex flex-col flex-1 px-8 tablet:pb-20 tablet:border-r tablet:border-theme-divider-tertiary");function jr(e){var t,n;let a=e.postById,o=e.className,l=e.isFallback,u=e.enableAuthorOnboarding,s=e.enableShowShareNewComment,m=e.isLoading,d=e.isModal,f=e.position,h=e.onPreviousPost,v=e.onNextPost,O=e.onClose;const N=((null==a?void 0:a.post)||{}).id;if(!N&&!l&&!m)return r.default.createElement(Nr,null);const S=tt(null==a?void 0:a.post,{enableShowShareNewComment:s}),C=S.closeNewComment,A=S.openNewComment,I=S.onCommentClick,Z=S.updatePostComments,R=S.onShowShareNewComment,M=S.parentComment,z=S.showShareNewComment,L=(()=>{const e=rr((0,r.useState)(or),2),t=e[0],n=e[1],a=(e,t)=>{n({modal:!0,upvotes:t,requestQuery:{queryKey:["postUpvotes",e],query:g.c3,params:{id:e,first:50}}})},o=(e,t)=>{n({modal:!0,upvotes:t,requestQuery:{queryKey:["commentUpvotes",e],query:ne.U2,params:{id:e,first:50}}})};return(0,r.useMemo)((()=>({requestQuery:t,onShowUpvotedPost:a,onShowUpvotedComment:o,resetUpvoteQuery:()=>n({upvotes:0,modal:!1,requestQuery:null})})),[t,a,o])})(),B=L.requestQuery,U=L.resetUpvoteQuery,$=L.onShowUpvotedPost,Q=L.onShowUpvotedComment,q=(0,r.useContext)(b.ZP),F=q.user,_=q.showLogin,H=(0,r.useContext)(ir.Z).additionalInteractionButtonFeature,V=(0,r.useContext)(y.Z).trackEvent,Y=gr((0,r.useState)(!1),2),G=Y[0],W=Y[1],ee=(0,i.useQueryClient)(),te=["post",N],re=d?K.a.ArticleModal:K.a.ArticlePage,ae=(0,lr.sW)().subject,oe=(0,cr.h)(re),le=oe.sharePost,ce=oe.openSharePost,ie=oe.closeSharePost,ue=dr(re),se=ue.shareComment,me=ue.openShareComment,de=ue.closeShareComment,fe=J().updatePost,pe=(0,fr.Z)({origin:re}),he=(0,Lt.Z)({onBookmarkMutate:fe({id:N,update:{bookmarked:!0}}),onRemoveBookmarkMutate:fe({id:N,update:{bookmarked:!1}})}),ve=he.bookmark,ye=he.removeBookmark;(0,E.Z)((()=>({query:g.uw,variables:{ids:[N]}})),{next:e=>{e.postsEngaged.id===N&&ee.setQueryData(te,(t=>({post:yr(yr({},t.post),e.postsEngaged)})))}}),(0,r.useEffect)((()=>{null!=a&&a.post&&V((0,w.gR)(`${re} view`,a.post))}),[a]),(0,r.useEffect)((()=>{u&&W(!0)}),[u]);const be=!!h||!!v,ge=be?Sr:Cr;if(m)return r.default.createElement(ge,{className:o},r.default.createElement(tr,null));if(null==a||!a.post)return r.default.createElement(Nr,null);const Ee=()=>pe({post:a.post}),we={href:null==a?void 0:a.post.permalink,title:"Go to article",target:"_blank",rel:"noopener",onClick:Ee,onMouseUp:e=>1===e.button&&Ee()},xe="fixed"===f,ke=xe?"py-4":"pt-6",Oe=()=>ce(a.post),Ne=function(){var e,t=(e=p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=3;break}return _("bookmark"),e.abrupt("return");case 3:if(V((0,w.gR)((0,k.Rt)({bookmarked:!(null!=a&&a.post.bookmarked)}),null==a?void 0:a.post,{extra:{origin}})),null!=a&&a.post.bookmarked){e.next=9;break}return e.next=7,ve({id:null==a?void 0:a.post.id});case 7:e.next=11;break;case 9:return e.next=11,ye({id:null==a?void 0:a.post.id});case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){hr(o,r,a,l,c,"next",e)}function c(e){hr(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.default.createElement(ge,{className:o,"aria-live":ae===lr._R.PostContent?"polite":"off"},r.default.createElement(Pr,{className:c()("relative",xe&&"pt-16",xe&&!be&&"tablet:pt-0")},r.default.createElement(Jn,{onPreviousPost:h,onNextPost:v,className:c()(!be&&!xe&&"tablet:pt-0",be?"flex":"flex laptop:hidden",ke,f,xe&&"z-3 w-full bg-theme-bg-secondary border-b border-theme-divider-tertiary px-6 top-0 -ml-8",xe&&nr.Z.fixedPostsNavigation),shouldDisplayTitle:xe,post:a.post,onReadArticle:Ee,onClose:O,isModal:d,additionalInteractionButtonFeature:H,onBookmark:Ne,onShare:Oe}),r.default.createElement("h1",{className:"my-6 font-bold break-words typo-large-title"},a.post.title),a.post.summary&&r.default.createElement(P,{summary:a.post.summary}),r.default.createElement(Yn.R,{tags:a.post.tags||[]}),r.default.createElement(x.Z,{createdAt:a.post.createdAt,readTime:a.post.readTime,className:"mt-4 mb-8",typoClassName:"typo-callout"}),r.default.createElement("a",pr({},we,{className:c()("block overflow-hidden mb-10 rounded-2xl cursor-pointer",nr.Z.clickableImg),style:{maxWidth:"25.625rem"}}),r.default.createElement(j.w,{imgSrc:a.post.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:"https://res.cloudinary.com/daily-now/image/upload/f_auto/v1/placeholders/1"})),(null===(t=a.post)||void 0===t||null===(n=t.toc)||void 0===n?void 0:n.length)>0&&r.default.createElement(vn,{post:a.post,collapsible:!0,className:"flex laptop:hidden mt-2 mb-4"}),r.default.createElement(ht,{post:a.post,onUpvotesClick:e=>$(a.post.id,e)}),r.default.createElement(X,{additionalInteractionButtonFeature:H,onBookmark:Ne,onShare:Oe,post:a.post,postQueryKey:te,onComment:()=>A("comment button"),actionsClassName:"hidden laptop:flex",origin:re}),r.default.createElement(pt,{post:a.post,origin:re,onClick:I,onShare:e=>me(e,a.post),onClickUpvote:Q}),G&&r.default.createElement(T,{onSignUp:!F&&(()=>_("author"))}),r.default.createElement(D,{user:F,onNewComment:()=>A("start discussion button")})),r.default.createElement(Vn,{additionalInteractionButtonFeature:H,onBookmark:Ne,onShare:Oe,onReadArticle:Ee,post:a.post,isNavigationFixed:be&&xe,className:"pb-20",onClose:O,origin:re}),B.modal&&r.default.createElement(wr,{requestQuery:B.requestQuery,isOpen:B.modal,listPlaceholderProps:{placeholderAmount:B.upvotes},onRequestClose:U}),M&&r.default.createElement(xr,pr({isOpen:!!M,onRequestClose:C},M,{onComment:Z})),a&&z&&r.default.createElement(kr,{post:a.post,commentId:z,onRequestClose:()=>R(null)}),le&&r.default.createElement(Or,{isOpen:!!le,post:a.post,origin:re,onRequestClose:ie}),se&&r.default.createElement(Or,{isOpen:!!se,post:a.post,comment:se,origin:re,onRequestClose:de}))}const Ar="JeiCyVkV56dGUpLrhdhZM",Ir=["className","children","onRequestClose","id","isFetchingNextPage","onPreviousPost","onNextPost"];function Zr(){return Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zr.apply(this,arguments)}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zr(e){let t=e.className,n=(e.children,e.onRequestClose),a=e.id,l=e.isFetchingNextPage,u=e.onPreviousPost,f=e.onNextPost,p=Tr(e,Ir);const h=Rr((0,r.useState)("relative"),2),v=h[0],y=h[1],E=(0,r.useContext)(b.ZP).tokenRefreshed;(0,d.W)(),(0,m.e)(p.isOpen);const w=(0,i.useQuery)(["post",a],(()=>s()(`${te.J}/graphql`,g.HW,{id:a})),{enabled:!!a&&E}),x=w.data,k=w.isLoading,O=w.isFetched;return(0,r.useEffect)((()=>{const e=document.getElementById("post-modal");if(!e)return;const t=e.parentElement,n=e=>{e.currentTarget.scrollTop>80?"fixed"!==v&&y("fixed"):"relative"!==v&&y("relative")};return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}),[v]),(0,r.useEffect)((()=>{if(k){var e;const t=document.getElementById("post-modal");if(!t)return;const n=t.parentElement;null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),y("relative")}}),[k]),r.default.createElement(o(),Zr({},p,{portalClassName:Ar,className:c()(t,"post-modal focus:outline-none"),overlayClassName:"post-modal-overlay",id:"post-modal",onRequestClose:n}),r.default.createElement(jr,{position:v,postById:x,onPreviousPost:u,onNextPost:f,className:"post-content",onClose:n,isLoading:k||!O||l,isModal:!0}))}},3830:(e,t,n)=>{n.d(t,{Z:()=>r});const r={markdown:"_2hdl4yb5NZm1y6G1QuSjI0"}}}]);